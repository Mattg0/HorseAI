base:
  active_db: 2years
  rootdir: /Users/mattg0/Docs/HorseAIv2/
blend:
  default_weights:
    rf_weight: 0.9
    tabnet_weight: 0.1
    accuracy: 15.49034175334324
    description: Default optimal weights from automated analysis
  description: Optimal blend weights from automated analysis (2025-11-27)
  dynamic_weights:
  - condition:
      typec: Cross-country
    weights:
      rf_weight: 0.9
      tabnet_weight: 0.1
    accuracy: 47.82608695652174
    description: Cross-country races - 32.3% improvement
  - condition:
      dist_min: 1500
      dist_max: 2000
    weights:
      rf_weight: 0.9
      tabnet_weight: 0.1
    accuracy: 27.61904761904762
    description: Distance 1500-2000m - 12.1% improvement
  - condition:
      partant_max: 8
    weights:
      rf_weight: 1.0
      tabnet_weight: 0.0
    accuracy: 25.217391304347824
    description: "Field size Small (\u22648) - 9.7% improvement"
  - condition:
      typec: Steeple-chase
    weights:
      rf_weight: 0.9
      tabnet_weight: 0.1
    accuracy: 24.503311258278146
    description: Steeple-chase races - 9.0% improvement
  - condition:
      typec: Haies
    weights:
      rf_weight: 0.7
      tabnet_weight: 0.3
    accuracy: 22.413793103448278
    description: Haies races - 6.9% improvement
  - condition:
      typec: Plat
    weights:
      rf_weight: 1.0
      tabnet_weight: 0.0
    accuracy: 21.47093712930012
    description: Plat races - 6.0% improvement
  optimal_mae: 3.5702165332546385
  rf_weight: 0.9
  tabnet_weight: 0.1
  use_dynamic_weights: true
cache:
  base_path: cache
  types:
    features: features.parquet
    historical_data: historical_data.parquet
    models: models.parquet
    predictions: predictions.parquet
    processed_data: processed_data.parquet
  use_cache: true
databases:
- description: Full historical database
  name: full
  path: data/hippique.db
  type: sqlite
- description: Last 2 years of data
  name: 2years
  path: data/hippique2.db
  type: sqlite
- description: Last 5 years of data
  name: 5years
  path: data/hippique5.db
  type: sqlite
- description: Dev DB
  name: dev
  path: data/test_lite.db
  type: sqlite
- dbname: pturf2024
  description: MySQL datasource
  host: localhost
  name: mysql
  password: welcome123!
  type: mysql
  user: turfai
dataset:
  random_state: 42
  test_size: 0.2
  val_size: 0.1
features:
  clean_after_embedding: false
  default_task_type: regression
  embedding_dim: 8
  features_dir: ./data/feature_store
  keep_identifiers: false
legacy_alternative_models:
  performance_thresholds:
    improvement_threshold: 0.05
    mae_threshold: 2.0
    top3_accuracy_threshold: 0.6
  tabnet:
    batch_size: 1024
    epochs: 50
    learning_rate: 0.02
    patience: 10
    verbose: 1
  transformer:
    batch_size: 32
    dropout_rate: 0.2
    early_stopping_patience: 20
    epochs: 100
    hidden_dim: 128
    learning_rate: 0.001
    max_sequence_length: 10
    num_attention_heads: 4
    num_layers: 2
llm_url:
  local: http://localhost:1234
models:
  latest_models:
    rf: 2025-11-13/2years_144333
    rf_quinte: 2025-11-30/15quinte_incremental_155420
    tabnet: 2025-11-13/2years_144333
    tabnet_quinte: 2025-11-13/2years_092954_quinte_tabnet
  model_dir: ./models
