2025-11-10 12:45:10,424 - RaceArchiver - INFO - Logging initialized to logs/race_archiver_20251110.log
2025-11-10 12:45:10,427 - RaceArchiver - INFO - Database structure verified
2025-11-10 12:45:24,022 - RaceArchiver - INFO - Logging initialized to logs/race_archiver_20251110.log
2025-11-10 12:45:24,024 - RaceArchiver - INFO - Database structure verified
2025-11-10 12:45:35,817 - RaceArchiver - INFO - Logging initialized to logs/race_archiver_20251110.log
2025-11-10 12:45:35,819 - RaceArchiver - INFO - Database structure verified
2025-11-10 12:45:36,576 - RaceArchiver - INFO - Logging initialized to logs/race_archiver_20251110.log
2025-11-10 12:45:36,577 - RaceArchiver - INFO - Database structure verified
2025-11-10 12:46:05,827 - RaceArchiver - INFO - Logging initialized to logs/race_archiver_20251110.log
2025-11-10 12:46:05,830 - RaceArchiver - INFO - Database structure verified
2025-11-10 12:46:06,722 - RaceArchiver - INFO - Logging initialized to logs/race_archiver_20251110.log
2025-11-10 12:46:06,724 - RaceArchiver - INFO - Database structure verified
2025-11-10 12:46:13,696 - RaceArchiver - INFO - Logging initialized to logs/race_archiver_20251110.log
2025-11-10 12:46:13,806 - RaceArchiver - INFO - Database structure verified
2025-11-10 12:46:43,700 - RaceArchiver - INFO - Logging initialized to logs/race_archiver_20251110.log
2025-11-10 12:46:43,704 - RaceArchiver - INFO - Database structure verified
2025-11-10 12:47:00,117 - RaceArchiver - INFO - Logging initialized to logs/race_archiver_20251110.log
2025-11-10 12:47:00,118 - RaceArchiver - INFO - Database structure verified
2025-11-10 12:47:13,033 - RaceArchiver - INFO - Logging initialized to logs/race_archiver_20251110.log
2025-11-10 12:47:13,035 - RaceArchiver - INFO - Database structure verified
2025-11-10 12:52:34,753 - race_prediction.quinte_prediction_storage - INFO - Quint√© prediction storage initialized at data/hippique2.db
2025-11-10 12:52:38,559 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE ANALYSIS DEBUG ===
2025-11-10 12:52:38,559 - race_prediction.competitive_field_analyzer - INFO - Analyzing competitive field for race with 16 horses
2025-11-10 12:52:38,559 - race_prediction.competitive_field_analyzer - INFO - Race data shape: (16, 280)
2025-11-10 12:52:38,559 - race_prediction.competitive_field_analyzer - INFO - Available columns: ['id', 'comp', 'jour', 'hippo', 'reun', 'prix', 'prixnom', 'typec', 'partant', 'dist', 'handi', 'groupe', 'quinte', 'natpis', 'meteo', 'corde', 'temperature', 'forceVent', 'directionVent', 'nebulosite', 'prediction_results', 'actual_results', 'created_at', 'updated_at', 'processed_data', 'cheque', 'handi_raw', 'reclam', 'sex', 'tempscourse', 'handicap_level_score', 'cl', 'numero', 'cheval', 'age', 'cotedirect', 'coteprob', 'recence', 'ecar', 'defoeil', 'defoeilPrec', 'musiqueche', 'musiquejoc', 'entraineur', 'coursescheval', 'victoirescheval', 'placescheval', 'dernierealloc', 'derniernbpartants', 'dernieredist', 'derniereplace', 'dernierecote', 'dernierEnt', 'proprietaire', 'poidmont', 'pourcVictJockHippo', 'pourcPlaceJockHippo', 'pourcVictChevalHippo', 'pourcPlaceChevalHippo', 'tempstot', 'vha', 'recordG', 'txreclam', 'dernierTxreclam', 'gainsCarriere', 'gainsAnneeEnCours', 'handicapDistance', 'handicapPoids', 'TxVictCouple', 'nbVictCouple', 'nbPlaceCouple', 'idche', 'idJockey', 'idEntraineur', 'defFirstTime', 'oeilFirstTime', 'oeil', 'dernierOeil', 'ratio_victoires', 'ratio_places', 'gains_par_course', 'efficacite_couple', 'regularite_couple', 'progression_couple', 'perf_cheval_hippo', 'perf_jockey_hippo', 'trainer_victoires', 'trainer_places', 'trainer_courses', 'trainer_winrate', 'trainer_placerate', 'trainer_quality_score', 'trainer_experience_level', 'handicap_poids', 'handicap_dist', 'prec_handicap_poids', 'prec_handicap_dist', 'handicap_poids_change', 'handicap_poids_increased', 'handicap_poids_decreased', 'handicap_dist_change', 'handicap_dist_increased', 'handicap_dist_decreased', 'total_handicap', 'handicap_momentum', 'last_race_position', 'last_race_distance', 'distance_change', 'distance_change_pct', 'distance_increased', 'distance_decreased', 'same_distance', 'corde_change', 'corde_improved', 'corde_worsened', 'last_race_top3', 'last_race_won', 'blinkers_first_time', 'has_blinkers', 'has_standard_blinkers', 'has_australian_blinkers', 'blinkers_added', 'blinkers_removed', 'blinkers_type_changed', 'blinkers_any_change', 'blinkers_high_impact_change', 'shoeing_first_time', 'fully_shod', 'front_shod_only', 'back_shod_only', 'barefoot', 'shoeing_changed', 'barefoot_to_shod', 'shod_to_barefoot', 'major_shoeing_change', 'shoeing_complexity', 'multiple_equipment_changes', 'equipment_momentum_score', 'high_equipment_momentum', 'multiple_first_time_changes', 'equipment_optimization_score', 'career_strike_rate', 'earnings_per_race', 'earnings_trend', 'last_race_position_normalized', 'last_race_odds_normalized', 'last_race_field_size_factor', 'distance_consistency', 'vha_normalized', 'claiming_tax_trend', 'class_stability', 'che_global_avg_pos', 'che_global_recent_perf', 'che_global_consistency', 'che_global_trend', 'che_global_pct_top3', 'che_global_nb_courses', 'che_global_total_races', 'che_global_dnf_rate', 'che_weighted_avg_pos', 'che_weighted_recent_perf', 'che_weighted_consistency', 'che_weighted_pct_top3', 'che_weighted_nb_courses', 'che_weighted_total_races', 'che_weighted_dnf_rate', 'che_weighted_trend', 'che_bytype_avg_pos', 'che_bytype_recent_perf', 'che_bytype_consistency', 'che_bytype_trend', 'che_bytype_pct_top3', 'che_bytype_nb_courses', 'che_bytype_total_races', 'che_bytype_dnf_rate', 'joc_global_avg_pos', 'joc_global_recent_perf', 'joc_global_consistency', 'joc_global_trend', 'joc_global_pct_top3', 'joc_global_nb_courses', 'joc_global_total_races', 'joc_global_dnf_rate', 'joc_weighted_avg_pos', 'joc_weighted_recent_perf', 'joc_weighted_consistency', 'joc_weighted_pct_top3', 'joc_weighted_nb_courses', 'joc_weighted_total_races', 'joc_weighted_dnf_rate', 'joc_weighted_trend', 'joc_bytype_avg_pos', 'joc_bytype_recent_perf', 'joc_bytype_consistency', 'joc_bytype_trend', 'joc_bytype_pct_top3', 'joc_bytype_nb_courses', 'joc_bytype_total_races', 'joc_bytype_dnf_rate', 'che_form_momentum', 'che_improving_form', 'che_declining_form', 'che_high_consistency', 'che_recent_quality', 'che_elite_performer', 'che_regular_placer', 'joc_form_momentum', 'joc_improving_form', 'joc_high_consistency', 'joc_elite_performer', 'synergy_both_improving', 'synergy_both_consistent', 'synergy_both_elite', 'overall_momentum_score', 'high_momentum', 'class_drop_pct', 'purse_per_starter', 'purse_ratio', 'moving_up_in_class', 'class_shock_indicator', 'handicap_level_change', 'time_per_distance', 'time_vs_record', 'pace_rating', 'speed_figure_proxy', 'market_confidence_shift', 'last_race_improvement', 'bounce_risk', 'layoff_distance_interaction', 'trainer_change', 'connection_stability', 'field_size_change', 'distance_comfort', 'competition_level_shift', 'recence_x_class_drop', 'trainer_change_x_recence', 'distance_change_x_recence', 'che_by_type_avg_pos', 'che_by_type_recent_perf', 'che_by_type_consistency', 'che_by_type_trend', 'che_by_type_pct_top3', 'che_by_type_nb_courses', 'che_by_type_total_races', 'che_by_type_dnf_rate', 'joc_by_type_avg_pos', 'joc_by_type_recent_perf', 'joc_by_type_consistency', 'joc_by_type_trend', 'joc_by_type_pct_top3', 'joc_by_type_nb_courses', 'joc_by_type_total_races', 'joc_by_type_dnf_rate', 'quinte_career_starts', 'quinte_win_rate', 'quinte_top5_rate', 'avg_quinte_position', 'days_since_last_quinte', 'quinte_handicap_specialist', 'quinte_conditions_specialist', 'quinte_large_field_ability', 'quinte_track_condition_fit', 'is_handicap_quinte', 'handicap_division', 'purse_level_category', 'field_size_category', 'track_condition_PH', 'track_condition_DUR', 'track_condition_PS', 'track_condition_PSF', 'weather_clear', 'weather_rain', 'weather_cloudy', 'post_position_bias', 'post_position_track_bias', 'raw_tabnet_prediction', 'predicted_position_tabnet', 'raw_rf_prediction', 'predicted_position_rf', 'predicted_position_base']
2025-11-10 12:52:38,560 - race_prediction.competitive_field_analyzer - INFO - === CRITICAL COLUMNS ANALYSIS ===
2025-11-10 12:52:38,560 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ recordG: 16/16 non-null values (100.0%)
2025-11-10 12:52:38,560 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [0.0, 0.0, 0.0]
2025-11-10 12:52:38,560 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ hippo: 16/16 non-null values (100.0%)
2025-11-10 12:52:38,560 - race_prediction.competitive_field_analyzer - INFO -    Sample values: ['Chantilly', 'Chantilly', 'Chantilly']
2025-11-10 12:52:38,560 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ coursescheval: 16/16 non-null values (100.0%)
2025-11-10 12:52:38,560 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [15, 45, 18]
2025-11-10 12:52:38,560 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ victoirescheval: 16/16 non-null values (100.0%)
2025-11-10 12:52:38,560 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [3, 14, 2]
2025-11-10 12:52:38,561 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ placescheval: 16/16 non-null values (100.0%)
2025-11-10 12:52:38,561 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [10, 23, 8]
2025-11-10 12:52:38,561 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ gainsCarriere: 16/16 non-null values (100.0%)
2025-11-10 12:52:38,561 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [9541000, 31493500, 10844400]
2025-11-10 12:52:38,561 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ age: 16/16 non-null values (100.0%)
2025-11-10 12:52:38,561 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [4, 8, 5]
2025-11-10 12:52:38,561 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ derniereplace: 16/16 non-null values (100.0%)
2025-11-10 12:52:38,561 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [13.0, 2.0, 6.0]
2025-11-10 12:52:38,561 - race_prediction.competitive_field_analyzer - INFO - === RACE METADATA ===
2025-11-10 12:52:38,561 - race_prediction.competitive_field_analyzer - INFO - comp: 1621458
2025-11-10 12:52:38,561 - race_prediction.competitive_field_analyzer - INFO - hippo: Chantilly
2025-11-10 12:52:38,561 - race_prediction.competitive_field_analyzer - INFO - dist: 1900
2025-11-10 12:52:38,561 - race_prediction.competitive_field_analyzer - INFO - typec: Plat
2025-11-10 12:52:38,561 - race_prediction.competitive_field_analyzer - INFO - partant: 16
2025-11-10 12:52:38,561 - race_prediction.competitive_field_analyzer - INFO - === SAMPLE RACE DATA ===
2025-11-10 12:52:38,561 - race_prediction.competitive_field_analyzer - INFO - Sample data (columns: ['numero', 'cheval', 'recordG', 'hippo', 'coursescheval']):
2025-11-10 12:52:38,562 - race_prediction.competitive_field_analyzer - INFO -   Horse 0: {'numero': 1, 'cheval': "O'Wood", 'recordG': 0.0, 'hippo': 'Chantilly', 'coursescheval': 15}
2025-11-10 12:52:38,562 - race_prediction.competitive_field_analyzer - INFO -   Horse 1: {'numero': 2, 'cheval': 'Rock Blanc', 'recordG': 0.0, 'hippo': 'Chantilly', 'coursescheval': 45}
2025-11-10 12:52:38,562 - race_prediction.competitive_field_analyzer - INFO -   Horse 2: {'numero': 3, 'cheval': 'Zvaroshka', 'recordG': 0.0, 'hippo': 'Chantilly', 'coursescheval': 18}
2025-11-10 12:52:38,562 - race_prediction.competitive_field_analyzer - INFO - === END COMPETITIVE ANALYSIS DEBUG ===

2025-11-10 12:52:38,562 - race_prediction.competitive_field_analyzer - INFO - === RETRIEVING HISTORICAL DATA ===
2025-11-10 12:52:38,562 - race_prediction.competitive_field_analyzer - INFO - Fetching historical data for 16 horses: [1662842, 1362456, 1570962, 1522211, 1416740, 1654163, 1546787, 1547421, 1409128, 1661687, 1664057, 1651290, 1559430, 1720975, 1523134, 1415638]
2025-11-10 12:52:38,563 - race_prediction.competitive_field_analyzer - INFO - Batch querying historical data for 16 horses: [1662842, 1362456, 1570962, 1522211, 1416740, 1654163, 1546787, 1547421, 1409128, 1661687, 1664057, 1651290, 1559430, 1720975, 1523134, 1415638]
2025-11-10 12:53:05,655 - race_prediction.competitive_field_analyzer - INFO - Batch query completed in 27.09s, found 161 total records
2025-11-10 12:53:05,664 - race_prediction.competitive_field_analyzer - INFO - Batch query retrieved 161 total historical races
2025-11-10 12:53:05,664 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS PER HORSE ===
2025-11-10 12:53:05,664 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1662842: 7 historical races found
2025-11-10 12:53:05,664 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1362456: 8 historical races found
2025-11-10 12:53:05,664 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1570962: 5 historical races found
2025-11-10 12:53:05,664 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1522211: 11 historical races found
2025-11-10 12:53:05,664 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1416740: 14 historical races found
2025-11-10 12:53:05,664 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1654163: 9 historical races found
2025-11-10 12:53:05,664 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1546787: 9 historical races found
2025-11-10 12:53:05,664 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1547421: 14 historical races found
2025-11-10 12:53:05,664 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1409128: 17 historical races found
2025-11-10 12:53:05,664 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1661687: 8 historical races found
2025-11-10 12:53:05,664 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1664057: 5 historical races found
2025-11-10 12:53:05,664 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1651290: 7 historical races found
2025-11-10 12:53:05,665 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1559430: 12 historical races found
2025-11-10 12:53:05,665 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1720975: 15 historical races found
2025-11-10 12:53:05,665 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1523134: 10 historical races found
2025-11-10 12:53:05,665 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1415638: 10 historical races found
2025-11-10 12:53:05,665 - race_prediction.competitive_field_analyzer - INFO - Retrieved 161 total historical races
2025-11-10 12:53:05,665 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS BY HORSE ===
2025-11-10 12:53:05,665 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1662842: 7 historical races
2025-11-10 12:53:05,665 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1362456: 8 historical races
2025-11-10 12:53:05,665 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1570962: 5 historical races
2025-11-10 12:53:05,665 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1522211: 11 historical races
2025-11-10 12:53:05,665 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1416740: 14 historical races
2025-11-10 12:53:05,665 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1654163: 9 historical races
2025-11-10 12:53:05,665 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1546787: 9 historical races
2025-11-10 12:53:05,665 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1547421: 14 historical races
2025-11-10 12:53:05,665 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1409128: 17 historical races
2025-11-10 12:53:05,665 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1661687: 8 historical races
2025-11-10 12:53:05,665 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1664057: 5 historical races
2025-11-10 12:53:05,665 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1651290: 7 historical races
2025-11-10 12:53:05,665 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1559430: 12 historical races
2025-11-10 12:53:05,665 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1720975: 15 historical races
2025-11-10 12:53:05,665 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1523134: 10 historical races
2025-11-10 12:53:05,665 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1415638: 10 historical races
2025-11-10 12:53:05,665 - race_prediction.competitive_field_analyzer - INFO - === END HISTORICAL DATA RETRIEVAL ===

2025-11-10 12:53:05,666 - race_prediction.competitive_field_analyzer - INFO - === EARNINGS QUALITY ANALYSIS ===
2025-11-10 12:53:05,666 - race_prediction.competitive_field_analyzer - INFO - Valid earnings data: 16/16 horses
2025-11-10 12:53:05,666 - race_prediction.competitive_field_analyzer - INFO - Sample earnings per race: ['636,067', '699,856', '602,467']
2025-11-10 12:53:05,666 - race_prediction.competitive_field_analyzer - INFO - Field earnings stats: avg=390,247, max=699,856
2025-11-10 12:53:05,667 - race_prediction.competitive_field_analyzer - INFO - === TRACK SPECIALIZATION ANALYSIS ===
2025-11-10 12:53:05,667 - race_prediction.competitive_field_analyzer - INFO - Horses with reliable venue data (3+ races): 0/16
2025-11-10 12:53:05,670 - race_prediction.competitive_field_analyzer - INFO - === FORM MOMENTUM ANALYSIS ===
2025-11-10 12:53:05,670 - race_prediction.competitive_field_analyzer - INFO - Field avg horse trend: 0.587, recent perf: 6.90
2025-11-10 12:53:05,670 - race_prediction.competitive_field_analyzer - INFO - Field avg jockey trend: -2.909
2025-11-10 12:53:05,670 - race_prediction.competitive_field_analyzer - INFO - Horses with improving form: 4/16
2025-11-10 12:53:05,671 - race_prediction.competitive_field_analyzer - INFO - === HOT CONNECTIONS ANALYSIS ===
2025-11-10 12:53:05,671 - race_prediction.competitive_field_analyzer - INFO - Jockeys with wins today: 0/16
2025-11-10 12:53:05,671 - race_prediction.competitive_field_analyzer - INFO - Trainers with wins today: 0/16
2025-11-10 12:53:05,671 - race_prediction.competitive_field_analyzer - INFO - === DISTANCE COMFORT ANALYSIS ===
2025-11-10 12:53:05,671 - race_prediction.competitive_field_analyzer - INFO - Current race distance: 1900m
2025-11-10 12:53:05,671 - race_prediction.competitive_field_analyzer - INFO - Horses with similar recent distance: 15/16
2025-11-10 12:53:05,672 - race_prediction.competitive_field_analyzer - INFO - === REALISTIC COMPETITIVE SCORING ===
2025-11-10 12:53:05,673 - race_prediction.competitive_field_analyzer - INFO - üìä COMPETITIVE ANALYSIS SUMMARY:
2025-11-10 12:53:05,673 - race_prediction.competitive_field_analyzer - INFO -    Total competitive races: 161
2025-11-10 12:53:05,673 - race_prediction.competitive_field_analyzer - INFO -    Horses with historical data: 16/16
2025-11-10 12:53:05,673 - race_prediction.competitive_field_analyzer - INFO -    Average races per horse: 10.1
2025-11-10 12:53:05,701 - race_prediction.quinte_prediction_storage - INFO - Stored 16 horses for Quint√© race 1621458
2025-11-10 13:08:25,024 - race_prediction.quinte_prediction_storage - INFO - Quint√© prediction storage initialized at data/hippique2.db
2025-11-10 13:08:27,522 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE ANALYSIS DEBUG ===
2025-11-10 13:08:27,522 - race_prediction.competitive_field_analyzer - INFO - Analyzing competitive field for race with 16 horses
2025-11-10 13:08:27,522 - race_prediction.competitive_field_analyzer - INFO - Race data shape: (16, 280)
2025-11-10 13:08:27,522 - race_prediction.competitive_field_analyzer - INFO - Available columns: ['id', 'comp', 'jour', 'hippo', 'reun', 'prix', 'prixnom', 'typec', 'partant', 'dist', 'handi', 'groupe', 'quinte', 'natpis', 'meteo', 'corde', 'temperature', 'forceVent', 'directionVent', 'nebulosite', 'prediction_results', 'actual_results', 'created_at', 'updated_at', 'processed_data', 'cheque', 'handi_raw', 'reclam', 'sex', 'tempscourse', 'handicap_level_score', 'cl', 'numero', 'cheval', 'age', 'cotedirect', 'coteprob', 'recence', 'ecar', 'defoeil', 'defoeilPrec', 'musiqueche', 'musiquejoc', 'entraineur', 'coursescheval', 'victoirescheval', 'placescheval', 'dernierealloc', 'derniernbpartants', 'dernieredist', 'derniereplace', 'dernierecote', 'dernierEnt', 'proprietaire', 'poidmont', 'pourcVictJockHippo', 'pourcPlaceJockHippo', 'pourcVictChevalHippo', 'pourcPlaceChevalHippo', 'tempstot', 'vha', 'recordG', 'txreclam', 'dernierTxreclam', 'gainsCarriere', 'gainsAnneeEnCours', 'handicapDistance', 'handicapPoids', 'TxVictCouple', 'nbVictCouple', 'nbPlaceCouple', 'idche', 'idJockey', 'idEntraineur', 'defFirstTime', 'oeilFirstTime', 'oeil', 'dernierOeil', 'ratio_victoires', 'ratio_places', 'gains_par_course', 'efficacite_couple', 'regularite_couple', 'progression_couple', 'perf_cheval_hippo', 'perf_jockey_hippo', 'trainer_victoires', 'trainer_places', 'trainer_courses', 'trainer_winrate', 'trainer_placerate', 'trainer_quality_score', 'trainer_experience_level', 'handicap_poids', 'handicap_dist', 'prec_handicap_poids', 'prec_handicap_dist', 'handicap_poids_change', 'handicap_poids_increased', 'handicap_poids_decreased', 'handicap_dist_change', 'handicap_dist_increased', 'handicap_dist_decreased', 'total_handicap', 'handicap_momentum', 'last_race_position', 'last_race_distance', 'distance_change', 'distance_change_pct', 'distance_increased', 'distance_decreased', 'same_distance', 'corde_change', 'corde_improved', 'corde_worsened', 'last_race_top3', 'last_race_won', 'blinkers_first_time', 'has_blinkers', 'has_standard_blinkers', 'has_australian_blinkers', 'blinkers_added', 'blinkers_removed', 'blinkers_type_changed', 'blinkers_any_change', 'blinkers_high_impact_change', 'shoeing_first_time', 'fully_shod', 'front_shod_only', 'back_shod_only', 'barefoot', 'shoeing_changed', 'barefoot_to_shod', 'shod_to_barefoot', 'major_shoeing_change', 'shoeing_complexity', 'multiple_equipment_changes', 'equipment_momentum_score', 'high_equipment_momentum', 'multiple_first_time_changes', 'equipment_optimization_score', 'career_strike_rate', 'earnings_per_race', 'earnings_trend', 'last_race_position_normalized', 'last_race_odds_normalized', 'last_race_field_size_factor', 'distance_consistency', 'vha_normalized', 'claiming_tax_trend', 'class_stability', 'che_global_avg_pos', 'che_global_recent_perf', 'che_global_consistency', 'che_global_trend', 'che_global_pct_top3', 'che_global_nb_courses', 'che_global_total_races', 'che_global_dnf_rate', 'che_weighted_avg_pos', 'che_weighted_recent_perf', 'che_weighted_consistency', 'che_weighted_pct_top3', 'che_weighted_nb_courses', 'che_weighted_total_races', 'che_weighted_dnf_rate', 'che_weighted_trend', 'che_bytype_avg_pos', 'che_bytype_recent_perf', 'che_bytype_consistency', 'che_bytype_trend', 'che_bytype_pct_top3', 'che_bytype_nb_courses', 'che_bytype_total_races', 'che_bytype_dnf_rate', 'joc_global_avg_pos', 'joc_global_recent_perf', 'joc_global_consistency', 'joc_global_trend', 'joc_global_pct_top3', 'joc_global_nb_courses', 'joc_global_total_races', 'joc_global_dnf_rate', 'joc_weighted_avg_pos', 'joc_weighted_recent_perf', 'joc_weighted_consistency', 'joc_weighted_pct_top3', 'joc_weighted_nb_courses', 'joc_weighted_total_races', 'joc_weighted_dnf_rate', 'joc_weighted_trend', 'joc_bytype_avg_pos', 'joc_bytype_recent_perf', 'joc_bytype_consistency', 'joc_bytype_trend', 'joc_bytype_pct_top3', 'joc_bytype_nb_courses', 'joc_bytype_total_races', 'joc_bytype_dnf_rate', 'che_form_momentum', 'che_improving_form', 'che_declining_form', 'che_high_consistency', 'che_recent_quality', 'che_elite_performer', 'che_regular_placer', 'joc_form_momentum', 'joc_improving_form', 'joc_high_consistency', 'joc_elite_performer', 'synergy_both_improving', 'synergy_both_consistent', 'synergy_both_elite', 'overall_momentum_score', 'high_momentum', 'class_drop_pct', 'purse_per_starter', 'purse_ratio', 'moving_up_in_class', 'class_shock_indicator', 'handicap_level_change', 'time_per_distance', 'time_vs_record', 'pace_rating', 'speed_figure_proxy', 'market_confidence_shift', 'last_race_improvement', 'bounce_risk', 'layoff_distance_interaction', 'trainer_change', 'connection_stability', 'field_size_change', 'distance_comfort', 'competition_level_shift', 'recence_x_class_drop', 'trainer_change_x_recence', 'distance_change_x_recence', 'che_by_type_avg_pos', 'che_by_type_recent_perf', 'che_by_type_consistency', 'che_by_type_trend', 'che_by_type_pct_top3', 'che_by_type_nb_courses', 'che_by_type_total_races', 'che_by_type_dnf_rate', 'joc_by_type_avg_pos', 'joc_by_type_recent_perf', 'joc_by_type_consistency', 'joc_by_type_trend', 'joc_by_type_pct_top3', 'joc_by_type_nb_courses', 'joc_by_type_total_races', 'joc_by_type_dnf_rate', 'quinte_career_starts', 'quinte_win_rate', 'quinte_top5_rate', 'avg_quinte_position', 'days_since_last_quinte', 'quinte_handicap_specialist', 'quinte_conditions_specialist', 'quinte_large_field_ability', 'quinte_track_condition_fit', 'is_handicap_quinte', 'handicap_division', 'purse_level_category', 'field_size_category', 'track_condition_PH', 'track_condition_DUR', 'track_condition_PS', 'track_condition_PSF', 'weather_clear', 'weather_rain', 'weather_cloudy', 'post_position_bias', 'post_position_track_bias', 'raw_tabnet_prediction', 'predicted_position_tabnet', 'raw_rf_prediction', 'predicted_position_rf', 'predicted_position_base']
2025-11-10 13:08:27,522 - race_prediction.competitive_field_analyzer - INFO - === CRITICAL COLUMNS ANALYSIS ===
2025-11-10 13:08:27,522 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ recordG: 16/16 non-null values (100.0%)
2025-11-10 13:08:27,522 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [0.0, 0.0, 0.0]
2025-11-10 13:08:27,523 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ hippo: 16/16 non-null values (100.0%)
2025-11-10 13:08:27,523 - race_prediction.competitive_field_analyzer - INFO -    Sample values: ['Chantilly', 'Chantilly', 'Chantilly']
2025-11-10 13:08:27,523 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ coursescheval: 16/16 non-null values (100.0%)
2025-11-10 13:08:27,523 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [15, 45, 18]
2025-11-10 13:08:27,523 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ victoirescheval: 16/16 non-null values (100.0%)
2025-11-10 13:08:27,523 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [3, 14, 2]
2025-11-10 13:08:27,523 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ placescheval: 16/16 non-null values (100.0%)
2025-11-10 13:08:27,523 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [10, 23, 8]
2025-11-10 13:08:27,523 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ gainsCarriere: 16/16 non-null values (100.0%)
2025-11-10 13:08:27,523 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [9541000, 31493500, 10844400]
2025-11-10 13:08:27,523 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ age: 16/16 non-null values (100.0%)
2025-11-10 13:08:27,523 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [4, 8, 5]
2025-11-10 13:08:27,523 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ derniereplace: 16/16 non-null values (100.0%)
2025-11-10 13:08:27,523 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [13.0, 2.0, 6.0]
2025-11-10 13:08:27,523 - race_prediction.competitive_field_analyzer - INFO - === RACE METADATA ===
2025-11-10 13:08:27,523 - race_prediction.competitive_field_analyzer - INFO - comp: 1621458
2025-11-10 13:08:27,523 - race_prediction.competitive_field_analyzer - INFO - hippo: Chantilly
2025-11-10 13:08:27,523 - race_prediction.competitive_field_analyzer - INFO - dist: 1900
2025-11-10 13:08:27,523 - race_prediction.competitive_field_analyzer - INFO - typec: Plat
2025-11-10 13:08:27,523 - race_prediction.competitive_field_analyzer - INFO - partant: 16
2025-11-10 13:08:27,523 - race_prediction.competitive_field_analyzer - INFO - === SAMPLE RACE DATA ===
2025-11-10 13:08:27,523 - race_prediction.competitive_field_analyzer - INFO - Sample data (columns: ['numero', 'cheval', 'recordG', 'hippo', 'coursescheval']):
2025-11-10 13:08:27,524 - race_prediction.competitive_field_analyzer - INFO -   Horse 0: {'numero': 1, 'cheval': "O'Wood", 'recordG': 0.0, 'hippo': 'Chantilly', 'coursescheval': 15}
2025-11-10 13:08:27,524 - race_prediction.competitive_field_analyzer - INFO -   Horse 1: {'numero': 2, 'cheval': 'Rock Blanc', 'recordG': 0.0, 'hippo': 'Chantilly', 'coursescheval': 45}
2025-11-10 13:08:27,524 - race_prediction.competitive_field_analyzer - INFO -   Horse 2: {'numero': 3, 'cheval': 'Zvaroshka', 'recordG': 0.0, 'hippo': 'Chantilly', 'coursescheval': 18}
2025-11-10 13:08:27,524 - race_prediction.competitive_field_analyzer - INFO - === END COMPETITIVE ANALYSIS DEBUG ===

2025-11-10 13:08:27,524 - race_prediction.competitive_field_analyzer - INFO - === RETRIEVING HISTORICAL DATA ===
2025-11-10 13:08:27,524 - race_prediction.competitive_field_analyzer - INFO - Fetching historical data for 16 horses: [1662842, 1362456, 1570962, 1522211, 1416740, 1654163, 1546787, 1547421, 1409128, 1661687, 1664057, 1651290, 1559430, 1720975, 1523134, 1415638]
2025-11-10 13:08:27,525 - race_prediction.competitive_field_analyzer - INFO - Batch querying historical data for 16 horses: [1662842, 1362456, 1570962, 1522211, 1416740, 1654163, 1546787, 1547421, 1409128, 1661687, 1664057, 1651290, 1559430, 1720975, 1523134, 1415638]
2025-11-10 13:08:42,686 - race_prediction.competitive_field_analyzer - INFO - Batch query completed in 15.16s, found 161 total records
2025-11-10 13:08:42,694 - race_prediction.competitive_field_analyzer - INFO - Batch query retrieved 161 total historical races
2025-11-10 13:08:42,694 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS PER HORSE ===
2025-11-10 13:08:42,694 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1662842: 7 historical races found
2025-11-10 13:08:42,694 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1362456: 8 historical races found
2025-11-10 13:08:42,694 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1570962: 5 historical races found
2025-11-10 13:08:42,694 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1522211: 11 historical races found
2025-11-10 13:08:42,694 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1416740: 14 historical races found
2025-11-10 13:08:42,694 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1654163: 9 historical races found
2025-11-10 13:08:42,694 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1546787: 9 historical races found
2025-11-10 13:08:42,694 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1547421: 14 historical races found
2025-11-10 13:08:42,694 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1409128: 17 historical races found
2025-11-10 13:08:42,694 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1661687: 8 historical races found
2025-11-10 13:08:42,694 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1664057: 5 historical races found
2025-11-10 13:08:42,694 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1651290: 7 historical races found
2025-11-10 13:08:42,694 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1559430: 12 historical races found
2025-11-10 13:08:42,694 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1720975: 15 historical races found
2025-11-10 13:08:42,694 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1523134: 10 historical races found
2025-11-10 13:08:42,694 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1415638: 10 historical races found
2025-11-10 13:08:42,694 - race_prediction.competitive_field_analyzer - INFO - Retrieved 161 total historical races
2025-11-10 13:08:42,694 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS BY HORSE ===
2025-11-10 13:08:42,694 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1662842: 7 historical races
2025-11-10 13:08:42,694 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1362456: 8 historical races
2025-11-10 13:08:42,694 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1570962: 5 historical races
2025-11-10 13:08:42,695 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1522211: 11 historical races
2025-11-10 13:08:42,695 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1416740: 14 historical races
2025-11-10 13:08:42,695 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1654163: 9 historical races
2025-11-10 13:08:42,695 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1546787: 9 historical races
2025-11-10 13:08:42,695 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1547421: 14 historical races
2025-11-10 13:08:42,695 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1409128: 17 historical races
2025-11-10 13:08:42,695 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1661687: 8 historical races
2025-11-10 13:08:42,695 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1664057: 5 historical races
2025-11-10 13:08:42,696 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1651290: 7 historical races
2025-11-10 13:08:42,696 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1559430: 12 historical races
2025-11-10 13:08:42,696 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1720975: 15 historical races
2025-11-10 13:08:42,696 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1523134: 10 historical races
2025-11-10 13:08:42,696 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1415638: 10 historical races
2025-11-10 13:08:42,696 - race_prediction.competitive_field_analyzer - INFO - === END HISTORICAL DATA RETRIEVAL ===

2025-11-10 13:08:42,696 - race_prediction.competitive_field_analyzer - INFO - === EARNINGS QUALITY ANALYSIS ===
2025-11-10 13:08:42,696 - race_prediction.competitive_field_analyzer - INFO - Valid earnings data: 16/16 horses
2025-11-10 13:08:42,696 - race_prediction.competitive_field_analyzer - INFO - Sample earnings per race: ['636,067', '699,856', '602,467']
2025-11-10 13:08:42,696 - race_prediction.competitive_field_analyzer - INFO - Field earnings stats: avg=390,247, max=699,856
2025-11-10 13:08:42,696 - race_prediction.competitive_field_analyzer - INFO - === TRACK SPECIALIZATION ANALYSIS ===
2025-11-10 13:08:42,697 - race_prediction.competitive_field_analyzer - INFO - Horses with reliable venue data (3+ races): 0/16
2025-11-10 13:08:42,697 - race_prediction.competitive_field_analyzer - INFO - === FORM MOMENTUM ANALYSIS ===
2025-11-10 13:08:42,698 - race_prediction.competitive_field_analyzer - INFO - Field avg horse trend: 0.587, recent perf: 6.90
2025-11-10 13:08:42,698 - race_prediction.competitive_field_analyzer - INFO - Field avg jockey trend: -2.909
2025-11-10 13:08:42,698 - race_prediction.competitive_field_analyzer - INFO - Horses with improving form: 4/16
2025-11-10 13:08:42,698 - race_prediction.competitive_field_analyzer - INFO - === HOT CONNECTIONS ANALYSIS ===
2025-11-10 13:08:42,698 - race_prediction.competitive_field_analyzer - INFO - Jockeys with wins today: 0/16
2025-11-10 13:08:42,698 - race_prediction.competitive_field_analyzer - INFO - Trainers with wins today: 0/16
2025-11-10 13:08:42,698 - race_prediction.competitive_field_analyzer - INFO - === DISTANCE COMFORT ANALYSIS ===
2025-11-10 13:08:42,698 - race_prediction.competitive_field_analyzer - INFO - Current race distance: 1900m
2025-11-10 13:08:42,698 - race_prediction.competitive_field_analyzer - INFO - Horses with similar recent distance: 15/16
2025-11-10 13:08:42,698 - race_prediction.competitive_field_analyzer - INFO - === REALISTIC COMPETITIVE SCORING ===
2025-11-10 13:08:42,699 - race_prediction.competitive_field_analyzer - INFO - üìä COMPETITIVE ANALYSIS SUMMARY:
2025-11-10 13:08:42,699 - race_prediction.competitive_field_analyzer - INFO -    Total competitive races: 161
2025-11-10 13:08:42,699 - race_prediction.competitive_field_analyzer - INFO -    Horses with historical data: 16/16
2025-11-10 13:08:42,699 - race_prediction.competitive_field_analyzer - INFO -    Average races per horse: 10.1
2025-11-10 13:08:42,710 - race_prediction.quinte_prediction_storage - INFO - Stored 16 horses for Quint√© race 1621458
2025-11-10 15:33:39,950 - RaceArchiver - INFO - Logging initialized to logs/race_archiver_20251110.log
2025-11-10 15:33:39,953 - RaceArchiver - INFO - Database structure verified
2025-11-10 15:34:56,684 - RaceArchiver - INFO - Logging initialized to logs/race_archiver_20251110.log
2025-11-10 15:34:56,686 - RaceArchiver - INFO - Database structure verified
2025-11-10 15:35:49,296 - RaceArchiver - INFO - Logging initialized to logs/race_archiver_20251110.log
2025-11-10 15:35:49,299 - RaceArchiver - INFO - Database structure verified
2025-11-10 15:35:56,605 - RaceArchiver - INFO - Logging initialized to logs/race_archiver_20251110.log
2025-11-10 15:35:56,607 - RaceArchiver - INFO - Database structure verified
2025-11-10 15:36:04,118 - RaceArchiver - INFO - Logging initialized to logs/race_archiver_20251110.log
2025-11-10 15:36:04,120 - RaceArchiver - INFO - Database structure verified
2025-11-10 15:36:56,600 - race_prediction.quinte_prediction_storage - INFO - Quint√© prediction storage initialized at data/hippique2.db
2025-11-10 15:36:59,145 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE ANALYSIS DEBUG ===
2025-11-10 15:36:59,145 - race_prediction.competitive_field_analyzer - INFO - Analyzing competitive field for race with 16 horses
2025-11-10 15:36:59,145 - race_prediction.competitive_field_analyzer - INFO - Race data shape: (16, 280)
2025-11-10 15:36:59,145 - race_prediction.competitive_field_analyzer - INFO - Available columns: ['id', 'comp', 'jour', 'hippo', 'reun', 'prix', 'prixnom', 'typec', 'partant', 'dist', 'handi', 'groupe', 'quinte', 'natpis', 'meteo', 'corde', 'temperature', 'forceVent', 'directionVent', 'nebulosite', 'prediction_results', 'actual_results', 'created_at', 'updated_at', 'processed_data', 'cheque', 'handi_raw', 'reclam', 'sex', 'tempscourse', 'handicap_level_score', 'cl', 'numero', 'cheval', 'age', 'cotedirect', 'coteprob', 'recence', 'ecar', 'defoeil', 'defoeilPrec', 'musiqueche', 'musiquejoc', 'entraineur', 'coursescheval', 'victoirescheval', 'placescheval', 'dernierealloc', 'derniernbpartants', 'dernieredist', 'derniereplace', 'dernierecote', 'dernierEnt', 'proprietaire', 'poidmont', 'pourcVictJockHippo', 'pourcPlaceJockHippo', 'pourcVictChevalHippo', 'pourcPlaceChevalHippo', 'tempstot', 'vha', 'recordG', 'txreclam', 'dernierTxreclam', 'gainsCarriere', 'gainsAnneeEnCours', 'handicapDistance', 'handicapPoids', 'TxVictCouple', 'nbVictCouple', 'nbPlaceCouple', 'idche', 'idJockey', 'idEntraineur', 'defFirstTime', 'oeilFirstTime', 'oeil', 'dernierOeil', 'ratio_victoires', 'ratio_places', 'gains_par_course', 'efficacite_couple', 'regularite_couple', 'progression_couple', 'perf_cheval_hippo', 'perf_jockey_hippo', 'trainer_victoires', 'trainer_places', 'trainer_courses', 'trainer_winrate', 'trainer_placerate', 'trainer_quality_score', 'trainer_experience_level', 'handicap_poids', 'handicap_dist', 'prec_handicap_poids', 'prec_handicap_dist', 'handicap_poids_change', 'handicap_poids_increased', 'handicap_poids_decreased', 'handicap_dist_change', 'handicap_dist_increased', 'handicap_dist_decreased', 'total_handicap', 'handicap_momentum', 'last_race_position', 'last_race_distance', 'distance_change', 'distance_change_pct', 'distance_increased', 'distance_decreased', 'same_distance', 'corde_change', 'corde_improved', 'corde_worsened', 'last_race_top3', 'last_race_won', 'blinkers_first_time', 'has_blinkers', 'has_standard_blinkers', 'has_australian_blinkers', 'blinkers_added', 'blinkers_removed', 'blinkers_type_changed', 'blinkers_any_change', 'blinkers_high_impact_change', 'shoeing_first_time', 'fully_shod', 'front_shod_only', 'back_shod_only', 'barefoot', 'shoeing_changed', 'barefoot_to_shod', 'shod_to_barefoot', 'major_shoeing_change', 'shoeing_complexity', 'multiple_equipment_changes', 'equipment_momentum_score', 'high_equipment_momentum', 'multiple_first_time_changes', 'equipment_optimization_score', 'career_strike_rate', 'earnings_per_race', 'earnings_trend', 'last_race_position_normalized', 'last_race_odds_normalized', 'last_race_field_size_factor', 'distance_consistency', 'vha_normalized', 'claiming_tax_trend', 'class_stability', 'che_global_avg_pos', 'che_global_recent_perf', 'che_global_consistency', 'che_global_trend', 'che_global_pct_top3', 'che_global_nb_courses', 'che_global_total_races', 'che_global_dnf_rate', 'che_weighted_avg_pos', 'che_weighted_recent_perf', 'che_weighted_consistency', 'che_weighted_pct_top3', 'che_weighted_nb_courses', 'che_weighted_total_races', 'che_weighted_dnf_rate', 'che_weighted_trend', 'che_bytype_avg_pos', 'che_bytype_recent_perf', 'che_bytype_consistency', 'che_bytype_trend', 'che_bytype_pct_top3', 'che_bytype_nb_courses', 'che_bytype_total_races', 'che_bytype_dnf_rate', 'joc_global_avg_pos', 'joc_global_recent_perf', 'joc_global_consistency', 'joc_global_trend', 'joc_global_pct_top3', 'joc_global_nb_courses', 'joc_global_total_races', 'joc_global_dnf_rate', 'joc_weighted_avg_pos', 'joc_weighted_recent_perf', 'joc_weighted_consistency', 'joc_weighted_pct_top3', 'joc_weighted_nb_courses', 'joc_weighted_total_races', 'joc_weighted_dnf_rate', 'joc_weighted_trend', 'joc_bytype_avg_pos', 'joc_bytype_recent_perf', 'joc_bytype_consistency', 'joc_bytype_trend', 'joc_bytype_pct_top3', 'joc_bytype_nb_courses', 'joc_bytype_total_races', 'joc_bytype_dnf_rate', 'che_form_momentum', 'che_improving_form', 'che_declining_form', 'che_high_consistency', 'che_recent_quality', 'che_elite_performer', 'che_regular_placer', 'joc_form_momentum', 'joc_improving_form', 'joc_high_consistency', 'joc_elite_performer', 'synergy_both_improving', 'synergy_both_consistent', 'synergy_both_elite', 'overall_momentum_score', 'high_momentum', 'class_drop_pct', 'purse_per_starter', 'purse_ratio', 'moving_up_in_class', 'class_shock_indicator', 'handicap_level_change', 'time_per_distance', 'time_vs_record', 'pace_rating', 'speed_figure_proxy', 'market_confidence_shift', 'last_race_improvement', 'bounce_risk', 'layoff_distance_interaction', 'trainer_change', 'connection_stability', 'field_size_change', 'distance_comfort', 'competition_level_shift', 'recence_x_class_drop', 'trainer_change_x_recence', 'distance_change_x_recence', 'che_by_type_avg_pos', 'che_by_type_recent_perf', 'che_by_type_consistency', 'che_by_type_trend', 'che_by_type_pct_top3', 'che_by_type_nb_courses', 'che_by_type_total_races', 'che_by_type_dnf_rate', 'joc_by_type_avg_pos', 'joc_by_type_recent_perf', 'joc_by_type_consistency', 'joc_by_type_trend', 'joc_by_type_pct_top3', 'joc_by_type_nb_courses', 'joc_by_type_total_races', 'joc_by_type_dnf_rate', 'quinte_career_starts', 'quinte_win_rate', 'quinte_top5_rate', 'avg_quinte_position', 'days_since_last_quinte', 'quinte_handicap_specialist', 'quinte_conditions_specialist', 'quinte_large_field_ability', 'quinte_track_condition_fit', 'is_handicap_quinte', 'handicap_division', 'purse_level_category', 'field_size_category', 'track_condition_PH', 'track_condition_DUR', 'track_condition_PS', 'track_condition_PSF', 'weather_clear', 'weather_rain', 'weather_cloudy', 'post_position_bias', 'post_position_track_bias', 'raw_tabnet_prediction', 'predicted_position_tabnet', 'raw_rf_prediction', 'predicted_position_rf', 'predicted_position_base']
2025-11-10 15:36:59,146 - race_prediction.competitive_field_analyzer - INFO - === CRITICAL COLUMNS ANALYSIS ===
2025-11-10 15:36:59,146 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ recordG: 16/16 non-null values (100.0%)
2025-11-10 15:36:59,146 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [0.0, 0.0, 0.0]
2025-11-10 15:36:59,146 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ hippo: 16/16 non-null values (100.0%)
2025-11-10 15:36:59,146 - race_prediction.competitive_field_analyzer - INFO -    Sample values: ['Chantilly', 'Chantilly', 'Chantilly']
2025-11-10 15:36:59,146 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ coursescheval: 16/16 non-null values (100.0%)
2025-11-10 15:36:59,146 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [15, 45, 18]
2025-11-10 15:36:59,146 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ victoirescheval: 16/16 non-null values (100.0%)
2025-11-10 15:36:59,146 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [3, 14, 2]
2025-11-10 15:36:59,146 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ placescheval: 16/16 non-null values (100.0%)
2025-11-10 15:36:59,146 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [10, 23, 8]
2025-11-10 15:36:59,147 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ gainsCarriere: 16/16 non-null values (100.0%)
2025-11-10 15:36:59,147 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [9541000, 31493500, 10844400]
2025-11-10 15:36:59,147 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ age: 16/16 non-null values (100.0%)
2025-11-10 15:36:59,147 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [4, 8, 5]
2025-11-10 15:36:59,147 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ derniereplace: 16/16 non-null values (100.0%)
2025-11-10 15:36:59,147 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [13.0, 2.0, 6.0]
2025-11-10 15:36:59,147 - race_prediction.competitive_field_analyzer - INFO - === RACE METADATA ===
2025-11-10 15:36:59,147 - race_prediction.competitive_field_analyzer - INFO - comp: 1621458
2025-11-10 15:36:59,147 - race_prediction.competitive_field_analyzer - INFO - hippo: Chantilly
2025-11-10 15:36:59,147 - race_prediction.competitive_field_analyzer - INFO - dist: 1900
2025-11-10 15:36:59,147 - race_prediction.competitive_field_analyzer - INFO - typec: Plat
2025-11-10 15:36:59,147 - race_prediction.competitive_field_analyzer - INFO - partant: 16
2025-11-10 15:36:59,147 - race_prediction.competitive_field_analyzer - INFO - === SAMPLE RACE DATA ===
2025-11-10 15:36:59,147 - race_prediction.competitive_field_analyzer - INFO - Sample data (columns: ['numero', 'cheval', 'recordG', 'hippo', 'coursescheval']):
2025-11-10 15:36:59,147 - race_prediction.competitive_field_analyzer - INFO -   Horse 0: {'numero': 1, 'cheval': "O'Wood", 'recordG': 0.0, 'hippo': 'Chantilly', 'coursescheval': 15}
2025-11-10 15:36:59,147 - race_prediction.competitive_field_analyzer - INFO -   Horse 1: {'numero': 2, 'cheval': 'Rock Blanc', 'recordG': 0.0, 'hippo': 'Chantilly', 'coursescheval': 45}
2025-11-10 15:36:59,147 - race_prediction.competitive_field_analyzer - INFO -   Horse 2: {'numero': 3, 'cheval': 'Zvaroshka', 'recordG': 0.0, 'hippo': 'Chantilly', 'coursescheval': 18}
2025-11-10 15:36:59,147 - race_prediction.competitive_field_analyzer - INFO - === END COMPETITIVE ANALYSIS DEBUG ===

2025-11-10 15:36:59,147 - race_prediction.competitive_field_analyzer - INFO - === RETRIEVING HISTORICAL DATA ===
2025-11-10 15:36:59,147 - race_prediction.competitive_field_analyzer - INFO - Fetching historical data for 16 horses: [1662842, 1362456, 1570962, 1522211, 1416740, 1654163, 1546787, 1547421, 1409128, 1661687, 1664057, 1651290, 1559430, 1720975, 1523134, 1415638]
2025-11-10 15:36:59,148 - race_prediction.competitive_field_analyzer - INFO - Batch querying historical data for 16 horses: [1662842, 1362456, 1570962, 1522211, 1416740, 1654163, 1546787, 1547421, 1409128, 1661687, 1664057, 1651290, 1559430, 1720975, 1523134, 1415638]
2025-11-10 15:37:19,803 - race_prediction.competitive_field_analyzer - INFO - Batch query completed in 20.65s, found 161 total records
2025-11-10 15:37:19,810 - race_prediction.competitive_field_analyzer - INFO - Batch query retrieved 161 total historical races
2025-11-10 15:37:19,810 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS PER HORSE ===
2025-11-10 15:37:19,810 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1662842: 7 historical races found
2025-11-10 15:37:19,810 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1362456: 8 historical races found
2025-11-10 15:37:19,810 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1570962: 5 historical races found
2025-11-10 15:37:19,810 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1522211: 11 historical races found
2025-11-10 15:37:19,810 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1416740: 14 historical races found
2025-11-10 15:37:19,810 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1654163: 9 historical races found
2025-11-10 15:37:19,810 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1546787: 9 historical races found
2025-11-10 15:37:19,811 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1547421: 14 historical races found
2025-11-10 15:37:19,811 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1409128: 17 historical races found
2025-11-10 15:37:19,811 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1661687: 8 historical races found
2025-11-10 15:37:19,811 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1664057: 5 historical races found
2025-11-10 15:37:19,811 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1651290: 7 historical races found
2025-11-10 15:37:19,811 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1559430: 12 historical races found
2025-11-10 15:37:19,811 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1720975: 15 historical races found
2025-11-10 15:37:19,811 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1523134: 10 historical races found
2025-11-10 15:37:19,811 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1415638: 10 historical races found
2025-11-10 15:37:19,811 - race_prediction.competitive_field_analyzer - INFO - Retrieved 161 total historical races
2025-11-10 15:37:19,811 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS BY HORSE ===
2025-11-10 15:37:19,811 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1662842: 7 historical races
2025-11-10 15:37:19,811 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1362456: 8 historical races
2025-11-10 15:37:19,811 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1570962: 5 historical races
2025-11-10 15:37:19,811 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1522211: 11 historical races
2025-11-10 15:37:19,811 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1416740: 14 historical races
2025-11-10 15:37:19,811 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1654163: 9 historical races
2025-11-10 15:37:19,811 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1546787: 9 historical races
2025-11-10 15:37:19,811 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1547421: 14 historical races
2025-11-10 15:37:19,811 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1409128: 17 historical races
2025-11-10 15:37:19,811 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1661687: 8 historical races
2025-11-10 15:37:19,812 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1664057: 5 historical races
2025-11-10 15:37:19,812 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1651290: 7 historical races
2025-11-10 15:37:19,812 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1559430: 12 historical races
2025-11-10 15:37:19,812 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1720975: 15 historical races
2025-11-10 15:37:19,812 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1523134: 10 historical races
2025-11-10 15:37:19,812 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1415638: 10 historical races
2025-11-10 15:37:19,812 - race_prediction.competitive_field_analyzer - INFO - === END HISTORICAL DATA RETRIEVAL ===

2025-11-10 15:37:19,812 - race_prediction.competitive_field_analyzer - INFO - === EARNINGS QUALITY ANALYSIS ===
2025-11-10 15:37:19,812 - race_prediction.competitive_field_analyzer - INFO - Valid earnings data: 16/16 horses
2025-11-10 15:37:19,812 - race_prediction.competitive_field_analyzer - INFO - Sample earnings per race: ['636,067', '699,856', '602,467']
2025-11-10 15:37:19,812 - race_prediction.competitive_field_analyzer - INFO - Field earnings stats: avg=390,247, max=699,856
2025-11-10 15:37:19,812 - race_prediction.competitive_field_analyzer - INFO - === TRACK SPECIALIZATION ANALYSIS ===
2025-11-10 15:37:19,812 - race_prediction.competitive_field_analyzer - INFO - Horses with reliable venue data (3+ races): 0/16
2025-11-10 15:37:19,813 - race_prediction.competitive_field_analyzer - INFO - === FORM MOMENTUM ANALYSIS ===
2025-11-10 15:37:19,813 - race_prediction.competitive_field_analyzer - INFO - Field avg horse trend: 0.587, recent perf: 6.90
2025-11-10 15:37:19,813 - race_prediction.competitive_field_analyzer - INFO - Field avg jockey trend: -2.909
2025-11-10 15:37:19,814 - race_prediction.competitive_field_analyzer - INFO - Horses with improving form: 4/16
2025-11-10 15:37:19,814 - race_prediction.competitive_field_analyzer - INFO - === HOT CONNECTIONS ANALYSIS ===
2025-11-10 15:37:19,814 - race_prediction.competitive_field_analyzer - INFO - Jockeys with wins today: 0/16
2025-11-10 15:37:19,814 - race_prediction.competitive_field_analyzer - INFO - Trainers with wins today: 0/16
2025-11-10 15:37:19,814 - race_prediction.competitive_field_analyzer - INFO - === DISTANCE COMFORT ANALYSIS ===
2025-11-10 15:37:19,814 - race_prediction.competitive_field_analyzer - INFO - Current race distance: 1900m
2025-11-10 15:37:19,814 - race_prediction.competitive_field_analyzer - INFO - Horses with similar recent distance: 15/16
2025-11-10 15:37:19,814 - race_prediction.competitive_field_analyzer - INFO - === REALISTIC COMPETITIVE SCORING ===
2025-11-10 15:37:19,815 - race_prediction.competitive_field_analyzer - INFO - üìä COMPETITIVE ANALYSIS SUMMARY:
2025-11-10 15:37:19,815 - race_prediction.competitive_field_analyzer - INFO -    Total competitive races: 161
2025-11-10 15:37:19,815 - race_prediction.competitive_field_analyzer - INFO -    Horses with historical data: 16/16
2025-11-10 15:37:19,815 - race_prediction.competitive_field_analyzer - INFO -    Average races per horse: 10.1
2025-11-10 15:37:19,829 - race_prediction.quinte_prediction_storage - INFO - Stored 16 horses for Quint√© race 1621458
2025-11-10 22:22:35,861 - RaceFetcher - ERROR - ‚ùå API request failed for /jour: HTTPSConnectionPool(host='aspiturf.com', port=443): Max retries exceeded with url: /api/api/jour?uid=EhBCnKDamDfLkYJJjhWLf47xT7j1&jour=2025-11-10 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x3ba1b9610>: Failed to resolve 'aspiturf.com' ([Errno 8] nodename nor servname provided, or not known)"))
2025-11-10 22:22:35,862 - RaceFetcher - ERROR - Error fetching races for 2025-11-10
2025-11-10 22:22:35,862 - RaceFetcher - ERROR - Error in fetch_and_store_daily_races: Failed to fetch races for 2025-11-10
2025-11-10 22:22:35,862 - RaceFetcher - ERROR - Traceback (most recent call last):
  File "/Users/mattg0/Docs/HorseAIv2/core/connectors/api_daily_sync.py", line 673, in fetch_and_store_daily_races
    api_data = self.fetch_races(date)
               ^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/mattg0/Docs/HorseAIv2/core/connectors/api_daily_sync.py", line 286, in fetch_races
    raise Exception(f"Failed to fetch races for {date}")
Exception: Failed to fetch races for 2025-11-10

2025-11-10 23:15:30,955 - race_prediction.quinte_prediction_storage - INFO - Quint√© prediction storage initialized at data/hippique2.db
2025-11-10 23:15:33,198 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE ANALYSIS DEBUG ===
2025-11-10 23:15:33,198 - race_prediction.competitive_field_analyzer - INFO - Analyzing competitive field for race with 16 horses
2025-11-10 23:15:33,198 - race_prediction.competitive_field_analyzer - INFO - Race data shape: (16, 280)
2025-11-10 23:15:33,198 - race_prediction.competitive_field_analyzer - INFO - Available columns: ['id', 'comp', 'jour', 'hippo', 'reun', 'prix', 'prixnom', 'typec', 'partant', 'dist', 'handi', 'groupe', 'quinte', 'natpis', 'meteo', 'corde', 'temperature', 'forceVent', 'directionVent', 'nebulosite', 'prediction_results', 'actual_results', 'created_at', 'updated_at', 'processed_data', 'cheque', 'handi_raw', 'reclam', 'sex', 'tempscourse', 'handicap_level_score', 'cl', 'numero', 'cheval', 'age', 'cotedirect', 'coteprob', 'recence', 'ecar', 'defoeil', 'defoeilPrec', 'musiqueche', 'musiquejoc', 'entraineur', 'coursescheval', 'victoirescheval', 'placescheval', 'dernierealloc', 'derniernbpartants', 'dernieredist', 'derniereplace', 'dernierecote', 'dernierEnt', 'proprietaire', 'poidmont', 'pourcVictJockHippo', 'pourcPlaceJockHippo', 'pourcVictChevalHippo', 'pourcPlaceChevalHippo', 'tempstot', 'vha', 'recordG', 'txreclam', 'dernierTxreclam', 'gainsCarriere', 'gainsAnneeEnCours', 'handicapDistance', 'handicapPoids', 'TxVictCouple', 'nbVictCouple', 'nbPlaceCouple', 'idche', 'idJockey', 'idEntraineur', 'defFirstTime', 'oeilFirstTime', 'oeil', 'dernierOeil', 'ratio_victoires', 'ratio_places', 'gains_par_course', 'efficacite_couple', 'regularite_couple', 'progression_couple', 'perf_cheval_hippo', 'perf_jockey_hippo', 'trainer_victoires', 'trainer_places', 'trainer_courses', 'trainer_winrate', 'trainer_placerate', 'trainer_quality_score', 'trainer_experience_level', 'handicap_poids', 'handicap_dist', 'prec_handicap_poids', 'prec_handicap_dist', 'handicap_poids_change', 'handicap_poids_increased', 'handicap_poids_decreased', 'handicap_dist_change', 'handicap_dist_increased', 'handicap_dist_decreased', 'total_handicap', 'handicap_momentum', 'last_race_position', 'last_race_distance', 'distance_change', 'distance_change_pct', 'distance_increased', 'distance_decreased', 'same_distance', 'corde_change', 'corde_improved', 'corde_worsened', 'last_race_top3', 'last_race_won', 'blinkers_first_time', 'has_blinkers', 'has_standard_blinkers', 'has_australian_blinkers', 'blinkers_added', 'blinkers_removed', 'blinkers_type_changed', 'blinkers_any_change', 'blinkers_high_impact_change', 'shoeing_first_time', 'fully_shod', 'front_shod_only', 'back_shod_only', 'barefoot', 'shoeing_changed', 'barefoot_to_shod', 'shod_to_barefoot', 'major_shoeing_change', 'shoeing_complexity', 'multiple_equipment_changes', 'equipment_momentum_score', 'high_equipment_momentum', 'multiple_first_time_changes', 'equipment_optimization_score', 'career_strike_rate', 'earnings_per_race', 'earnings_trend', 'last_race_position_normalized', 'last_race_odds_normalized', 'last_race_field_size_factor', 'distance_consistency', 'vha_normalized', 'claiming_tax_trend', 'class_stability', 'che_global_avg_pos', 'che_global_recent_perf', 'che_global_consistency', 'che_global_trend', 'che_global_pct_top3', 'che_global_nb_courses', 'che_global_total_races', 'che_global_dnf_rate', 'che_weighted_avg_pos', 'che_weighted_recent_perf', 'che_weighted_consistency', 'che_weighted_pct_top3', 'che_weighted_nb_courses', 'che_weighted_total_races', 'che_weighted_dnf_rate', 'che_weighted_trend', 'che_bytype_avg_pos', 'che_bytype_recent_perf', 'che_bytype_consistency', 'che_bytype_trend', 'che_bytype_pct_top3', 'che_bytype_nb_courses', 'che_bytype_total_races', 'che_bytype_dnf_rate', 'joc_global_avg_pos', 'joc_global_recent_perf', 'joc_global_consistency', 'joc_global_trend', 'joc_global_pct_top3', 'joc_global_nb_courses', 'joc_global_total_races', 'joc_global_dnf_rate', 'joc_weighted_avg_pos', 'joc_weighted_recent_perf', 'joc_weighted_consistency', 'joc_weighted_pct_top3', 'joc_weighted_nb_courses', 'joc_weighted_total_races', 'joc_weighted_dnf_rate', 'joc_weighted_trend', 'joc_bytype_avg_pos', 'joc_bytype_recent_perf', 'joc_bytype_consistency', 'joc_bytype_trend', 'joc_bytype_pct_top3', 'joc_bytype_nb_courses', 'joc_bytype_total_races', 'joc_bytype_dnf_rate', 'che_form_momentum', 'che_improving_form', 'che_declining_form', 'che_high_consistency', 'che_recent_quality', 'che_elite_performer', 'che_regular_placer', 'joc_form_momentum', 'joc_improving_form', 'joc_high_consistency', 'joc_elite_performer', 'synergy_both_improving', 'synergy_both_consistent', 'synergy_both_elite', 'overall_momentum_score', 'high_momentum', 'class_drop_pct', 'purse_per_starter', 'purse_ratio', 'moving_up_in_class', 'class_shock_indicator', 'handicap_level_change', 'time_per_distance', 'time_vs_record', 'pace_rating', 'speed_figure_proxy', 'market_confidence_shift', 'last_race_improvement', 'bounce_risk', 'layoff_distance_interaction', 'trainer_change', 'connection_stability', 'field_size_change', 'distance_comfort', 'competition_level_shift', 'recence_x_class_drop', 'trainer_change_x_recence', 'distance_change_x_recence', 'che_by_type_avg_pos', 'che_by_type_recent_perf', 'che_by_type_consistency', 'che_by_type_trend', 'che_by_type_pct_top3', 'che_by_type_nb_courses', 'che_by_type_total_races', 'che_by_type_dnf_rate', 'joc_by_type_avg_pos', 'joc_by_type_recent_perf', 'joc_by_type_consistency', 'joc_by_type_trend', 'joc_by_type_pct_top3', 'joc_by_type_nb_courses', 'joc_by_type_total_races', 'joc_by_type_dnf_rate', 'quinte_career_starts', 'quinte_win_rate', 'quinte_top5_rate', 'avg_quinte_position', 'days_since_last_quinte', 'quinte_handicap_specialist', 'quinte_conditions_specialist', 'quinte_large_field_ability', 'quinte_track_condition_fit', 'is_handicap_quinte', 'handicap_division', 'purse_level_category', 'field_size_category', 'track_condition_PH', 'track_condition_DUR', 'track_condition_PS', 'track_condition_PSF', 'weather_clear', 'weather_rain', 'weather_cloudy', 'post_position_bias', 'post_position_track_bias', 'raw_tabnet_prediction', 'predicted_position_tabnet', 'raw_rf_prediction', 'predicted_position_rf', 'predicted_position_base']
2025-11-10 23:15:33,198 - race_prediction.competitive_field_analyzer - INFO - === CRITICAL COLUMNS ANALYSIS ===
2025-11-10 23:15:33,198 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ recordG: 16/16 non-null values (100.0%)
2025-11-10 23:15:33,198 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [0.0, 0.0, 0.0]
2025-11-10 23:15:33,198 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ hippo: 16/16 non-null values (100.0%)
2025-11-10 23:15:33,199 - race_prediction.competitive_field_analyzer - INFO -    Sample values: ['Chantilly', 'Chantilly', 'Chantilly']
2025-11-10 23:15:33,199 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ coursescheval: 16/16 non-null values (100.0%)
2025-11-10 23:15:33,199 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [15, 45, 18]
2025-11-10 23:15:33,199 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ victoirescheval: 16/16 non-null values (100.0%)
2025-11-10 23:15:33,199 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [3, 14, 2]
2025-11-10 23:15:33,199 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ placescheval: 16/16 non-null values (100.0%)
2025-11-10 23:15:33,199 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [10, 23, 8]
2025-11-10 23:15:33,199 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ gainsCarriere: 16/16 non-null values (100.0%)
2025-11-10 23:15:33,199 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [9541000, 31493500, 10844400]
2025-11-10 23:15:33,199 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ age: 16/16 non-null values (100.0%)
2025-11-10 23:15:33,199 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [4, 8, 5]
2025-11-10 23:15:33,199 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ derniereplace: 16/16 non-null values (100.0%)
2025-11-10 23:15:33,199 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [13.0, 2.0, 6.0]
2025-11-10 23:15:33,199 - race_prediction.competitive_field_analyzer - INFO - === RACE METADATA ===
2025-11-10 23:15:33,199 - race_prediction.competitive_field_analyzer - INFO - comp: 1621458
2025-11-10 23:15:33,199 - race_prediction.competitive_field_analyzer - INFO - hippo: Chantilly
2025-11-10 23:15:33,199 - race_prediction.competitive_field_analyzer - INFO - dist: 1900
2025-11-10 23:15:33,199 - race_prediction.competitive_field_analyzer - INFO - typec: Plat
2025-11-10 23:15:33,199 - race_prediction.competitive_field_analyzer - INFO - partant: 16
2025-11-10 23:15:33,199 - race_prediction.competitive_field_analyzer - INFO - === SAMPLE RACE DATA ===
2025-11-10 23:15:33,199 - race_prediction.competitive_field_analyzer - INFO - Sample data (columns: ['numero', 'cheval', 'recordG', 'hippo', 'coursescheval']):
2025-11-10 23:15:33,200 - race_prediction.competitive_field_analyzer - INFO -   Horse 0: {'numero': 1, 'cheval': "O'Wood", 'recordG': 0.0, 'hippo': 'Chantilly', 'coursescheval': 15}
2025-11-10 23:15:33,200 - race_prediction.competitive_field_analyzer - INFO -   Horse 1: {'numero': 2, 'cheval': 'Rock Blanc', 'recordG': 0.0, 'hippo': 'Chantilly', 'coursescheval': 45}
2025-11-10 23:15:33,200 - race_prediction.competitive_field_analyzer - INFO -   Horse 2: {'numero': 3, 'cheval': 'Zvaroshka', 'recordG': 0.0, 'hippo': 'Chantilly', 'coursescheval': 18}
2025-11-10 23:15:33,200 - race_prediction.competitive_field_analyzer - INFO - === END COMPETITIVE ANALYSIS DEBUG ===

2025-11-10 23:15:33,200 - race_prediction.competitive_field_analyzer - INFO - === RETRIEVING HISTORICAL DATA ===
2025-11-10 23:15:33,200 - race_prediction.competitive_field_analyzer - INFO - Fetching historical data for 16 horses: [1662842, 1362456, 1570962, 1522211, 1416740, 1654163, 1546787, 1547421, 1409128, 1661687, 1664057, 1651290, 1559430, 1720975, 1523134, 1415638]
2025-11-10 23:15:33,201 - race_prediction.competitive_field_analyzer - INFO - Batch querying historical data for 16 horses: [1662842, 1362456, 1570962, 1522211, 1416740, 1654163, 1546787, 1547421, 1409128, 1661687, 1664057, 1651290, 1559430, 1720975, 1523134, 1415638]
2025-11-10 23:15:55,134 - race_prediction.competitive_field_analyzer - INFO - Batch query completed in 21.93s, found 161 total records
2025-11-10 23:15:55,141 - race_prediction.competitive_field_analyzer - INFO - Batch query retrieved 161 total historical races
2025-11-10 23:15:55,142 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS PER HORSE ===
2025-11-10 23:15:55,142 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1662842: 7 historical races found
2025-11-10 23:15:55,142 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1362456: 8 historical races found
2025-11-10 23:15:55,142 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1570962: 5 historical races found
2025-11-10 23:15:55,142 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1522211: 11 historical races found
2025-11-10 23:15:55,142 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1416740: 14 historical races found
2025-11-10 23:15:55,142 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1654163: 9 historical races found
2025-11-10 23:15:55,142 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1546787: 9 historical races found
2025-11-10 23:15:55,142 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1547421: 14 historical races found
2025-11-10 23:15:55,142 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1409128: 17 historical races found
2025-11-10 23:15:55,142 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1661687: 8 historical races found
2025-11-10 23:15:55,142 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1664057: 5 historical races found
2025-11-10 23:15:55,142 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1651290: 7 historical races found
2025-11-10 23:15:55,142 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1559430: 12 historical races found
2025-11-10 23:15:55,142 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1720975: 15 historical races found
2025-11-10 23:15:55,142 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1523134: 10 historical races found
2025-11-10 23:15:55,142 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1415638: 10 historical races found
2025-11-10 23:15:55,142 - race_prediction.competitive_field_analyzer - INFO - Retrieved 161 total historical races
2025-11-10 23:15:55,142 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS BY HORSE ===
2025-11-10 23:15:55,142 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1662842: 7 historical races
2025-11-10 23:15:55,142 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1362456: 8 historical races
2025-11-10 23:15:55,142 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1570962: 5 historical races
2025-11-10 23:15:55,142 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1522211: 11 historical races
2025-11-10 23:15:55,142 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1416740: 14 historical races
2025-11-10 23:15:55,142 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1654163: 9 historical races
2025-11-10 23:15:55,142 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1546787: 9 historical races
2025-11-10 23:15:55,142 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1547421: 14 historical races
2025-11-10 23:15:55,142 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1409128: 17 historical races
2025-11-10 23:15:55,142 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1661687: 8 historical races
2025-11-10 23:15:55,142 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1664057: 5 historical races
2025-11-10 23:15:55,142 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1651290: 7 historical races
2025-11-10 23:15:55,142 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1559430: 12 historical races
2025-11-10 23:15:55,142 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1720975: 15 historical races
2025-11-10 23:15:55,142 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1523134: 10 historical races
2025-11-10 23:15:55,142 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1415638: 10 historical races
2025-11-10 23:15:55,142 - race_prediction.competitive_field_analyzer - INFO - === END HISTORICAL DATA RETRIEVAL ===

2025-11-10 23:15:55,143 - race_prediction.competitive_field_analyzer - INFO - === EARNINGS QUALITY ANALYSIS ===
2025-11-10 23:15:55,143 - race_prediction.competitive_field_analyzer - INFO - Valid earnings data: 16/16 horses
2025-11-10 23:15:55,143 - race_prediction.competitive_field_analyzer - INFO - Sample earnings per race: ['636,067', '699,856', '602,467']
2025-11-10 23:15:55,143 - race_prediction.competitive_field_analyzer - INFO - Field earnings stats: avg=390,247, max=699,856
2025-11-10 23:15:55,143 - race_prediction.competitive_field_analyzer - INFO - === TRACK SPECIALIZATION ANALYSIS ===
2025-11-10 23:15:55,143 - race_prediction.competitive_field_analyzer - INFO - Horses with reliable venue data (3+ races): 0/16
2025-11-10 23:15:55,145 - race_prediction.competitive_field_analyzer - INFO - === FORM MOMENTUM ANALYSIS ===
2025-11-10 23:15:55,145 - race_prediction.competitive_field_analyzer - INFO - Field avg horse trend: 0.587, recent perf: 6.90
2025-11-10 23:15:55,145 - race_prediction.competitive_field_analyzer - INFO - Field avg jockey trend: -2.909
2025-11-10 23:15:55,145 - race_prediction.competitive_field_analyzer - INFO - Horses with improving form: 4/16
2025-11-10 23:15:55,145 - race_prediction.competitive_field_analyzer - INFO - === HOT CONNECTIONS ANALYSIS ===
2025-11-10 23:15:55,145 - race_prediction.competitive_field_analyzer - INFO - Jockeys with wins today: 0/16
2025-11-10 23:15:55,145 - race_prediction.competitive_field_analyzer - INFO - Trainers with wins today: 0/16
2025-11-10 23:15:55,145 - race_prediction.competitive_field_analyzer - INFO - === DISTANCE COMFORT ANALYSIS ===
2025-11-10 23:15:55,145 - race_prediction.competitive_field_analyzer - INFO - Current race distance: 1900m
2025-11-10 23:15:55,145 - race_prediction.competitive_field_analyzer - INFO - Horses with similar recent distance: 15/16
2025-11-10 23:15:55,145 - race_prediction.competitive_field_analyzer - INFO - === REALISTIC COMPETITIVE SCORING ===
2025-11-10 23:15:55,146 - race_prediction.competitive_field_analyzer - INFO - üìä COMPETITIVE ANALYSIS SUMMARY:
2025-11-10 23:15:55,146 - race_prediction.competitive_field_analyzer - INFO -    Total competitive races: 161
2025-11-10 23:15:55,146 - race_prediction.competitive_field_analyzer - INFO -    Horses with historical data: 16/16
2025-11-10 23:15:55,146 - race_prediction.competitive_field_analyzer - INFO -    Average races per horse: 10.1
2025-11-10 23:15:55,160 - race_prediction.quinte_prediction_storage - INFO - Stored 16 horses for Quint√© race 1621458
2025-11-10 23:15:57,077 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE ANALYSIS DEBUG ===
2025-11-10 23:15:57,077 - race_prediction.competitive_field_analyzer - INFO - Analyzing competitive field for race with 16 horses
2025-11-10 23:15:57,077 - race_prediction.competitive_field_analyzer - INFO - Race data shape: (16, 280)
2025-11-10 23:15:57,077 - race_prediction.competitive_field_analyzer - INFO - Available columns: ['id', 'comp', 'jour', 'hippo', 'reun', 'prix', 'prixnom', 'typec', 'partant', 'dist', 'handi', 'groupe', 'quinte', 'natpis', 'meteo', 'corde', 'temperature', 'forceVent', 'directionVent', 'nebulosite', 'prediction_results', 'actual_results', 'created_at', 'updated_at', 'processed_data', 'cheque', 'handi_raw', 'reclam', 'sex', 'tempscourse', 'handicap_level_score', 'cl', 'numero', 'cheval', 'age', 'cotedirect', 'coteprob', 'recence', 'ecar', 'defoeil', 'defoeilPrec', 'musiqueche', 'musiquejoc', 'entraineur', 'coursescheval', 'victoirescheval', 'placescheval', 'dernierealloc', 'derniernbpartants', 'dernieredist', 'derniereplace', 'dernierecote', 'dernierEnt', 'proprietaire', 'poidmont', 'pourcVictJockHippo', 'pourcPlaceJockHippo', 'pourcVictChevalHippo', 'pourcPlaceChevalHippo', 'tempstot', 'vha', 'recordG', 'txreclam', 'dernierTxreclam', 'gainsCarriere', 'gainsAnneeEnCours', 'handicapDistance', 'handicapPoids', 'TxVictCouple', 'nbVictCouple', 'nbPlaceCouple', 'idche', 'idJockey', 'idEntraineur', 'defFirstTime', 'oeilFirstTime', 'oeil', 'dernierOeil', 'ratio_victoires', 'ratio_places', 'gains_par_course', 'efficacite_couple', 'regularite_couple', 'progression_couple', 'perf_cheval_hippo', 'perf_jockey_hippo', 'trainer_victoires', 'trainer_places', 'trainer_courses', 'trainer_winrate', 'trainer_placerate', 'trainer_quality_score', 'trainer_experience_level', 'handicap_poids', 'handicap_dist', 'prec_handicap_poids', 'prec_handicap_dist', 'handicap_poids_change', 'handicap_poids_increased', 'handicap_poids_decreased', 'handicap_dist_change', 'handicap_dist_increased', 'handicap_dist_decreased', 'total_handicap', 'handicap_momentum', 'last_race_position', 'last_race_distance', 'distance_change', 'distance_change_pct', 'distance_increased', 'distance_decreased', 'same_distance', 'corde_change', 'corde_improved', 'corde_worsened', 'last_race_top3', 'last_race_won', 'blinkers_first_time', 'has_blinkers', 'has_standard_blinkers', 'has_australian_blinkers', 'blinkers_added', 'blinkers_removed', 'blinkers_type_changed', 'blinkers_any_change', 'blinkers_high_impact_change', 'shoeing_first_time', 'fully_shod', 'front_shod_only', 'back_shod_only', 'barefoot', 'shoeing_changed', 'barefoot_to_shod', 'shod_to_barefoot', 'major_shoeing_change', 'shoeing_complexity', 'multiple_equipment_changes', 'equipment_momentum_score', 'high_equipment_momentum', 'multiple_first_time_changes', 'equipment_optimization_score', 'career_strike_rate', 'earnings_per_race', 'earnings_trend', 'last_race_position_normalized', 'last_race_odds_normalized', 'last_race_field_size_factor', 'distance_consistency', 'vha_normalized', 'claiming_tax_trend', 'class_stability', 'che_global_avg_pos', 'che_global_recent_perf', 'che_global_consistency', 'che_global_trend', 'che_global_pct_top3', 'che_global_nb_courses', 'che_global_total_races', 'che_global_dnf_rate', 'che_weighted_avg_pos', 'che_weighted_recent_perf', 'che_weighted_consistency', 'che_weighted_pct_top3', 'che_weighted_nb_courses', 'che_weighted_total_races', 'che_weighted_dnf_rate', 'che_weighted_trend', 'che_bytype_avg_pos', 'che_bytype_recent_perf', 'che_bytype_consistency', 'che_bytype_trend', 'che_bytype_pct_top3', 'che_bytype_nb_courses', 'che_bytype_total_races', 'che_bytype_dnf_rate', 'joc_global_avg_pos', 'joc_global_recent_perf', 'joc_global_consistency', 'joc_global_trend', 'joc_global_pct_top3', 'joc_global_nb_courses', 'joc_global_total_races', 'joc_global_dnf_rate', 'joc_weighted_avg_pos', 'joc_weighted_recent_perf', 'joc_weighted_consistency', 'joc_weighted_pct_top3', 'joc_weighted_nb_courses', 'joc_weighted_total_races', 'joc_weighted_dnf_rate', 'joc_weighted_trend', 'joc_bytype_avg_pos', 'joc_bytype_recent_perf', 'joc_bytype_consistency', 'joc_bytype_trend', 'joc_bytype_pct_top3', 'joc_bytype_nb_courses', 'joc_bytype_total_races', 'joc_bytype_dnf_rate', 'che_form_momentum', 'che_improving_form', 'che_declining_form', 'che_high_consistency', 'che_recent_quality', 'che_elite_performer', 'che_regular_placer', 'joc_form_momentum', 'joc_improving_form', 'joc_high_consistency', 'joc_elite_performer', 'synergy_both_improving', 'synergy_both_consistent', 'synergy_both_elite', 'overall_momentum_score', 'high_momentum', 'class_drop_pct', 'purse_per_starter', 'purse_ratio', 'moving_up_in_class', 'class_shock_indicator', 'handicap_level_change', 'time_per_distance', 'time_vs_record', 'pace_rating', 'speed_figure_proxy', 'market_confidence_shift', 'last_race_improvement', 'bounce_risk', 'layoff_distance_interaction', 'trainer_change', 'connection_stability', 'field_size_change', 'distance_comfort', 'competition_level_shift', 'recence_x_class_drop', 'trainer_change_x_recence', 'distance_change_x_recence', 'che_by_type_avg_pos', 'che_by_type_recent_perf', 'che_by_type_consistency', 'che_by_type_trend', 'che_by_type_pct_top3', 'che_by_type_nb_courses', 'che_by_type_total_races', 'che_by_type_dnf_rate', 'joc_by_type_avg_pos', 'joc_by_type_recent_perf', 'joc_by_type_consistency', 'joc_by_type_trend', 'joc_by_type_pct_top3', 'joc_by_type_nb_courses', 'joc_by_type_total_races', 'joc_by_type_dnf_rate', 'quinte_career_starts', 'quinte_win_rate', 'quinte_top5_rate', 'avg_quinte_position', 'days_since_last_quinte', 'quinte_handicap_specialist', 'quinte_conditions_specialist', 'quinte_large_field_ability', 'quinte_track_condition_fit', 'is_handicap_quinte', 'handicap_division', 'purse_level_category', 'field_size_category', 'track_condition_PH', 'track_condition_DUR', 'track_condition_PS', 'track_condition_PSF', 'weather_clear', 'weather_rain', 'weather_cloudy', 'post_position_bias', 'post_position_track_bias', 'raw_tabnet_prediction', 'predicted_position_tabnet', 'raw_rf_prediction', 'predicted_position_rf', 'predicted_position_base']
2025-11-10 23:15:57,077 - race_prediction.competitive_field_analyzer - INFO - === CRITICAL COLUMNS ANALYSIS ===
2025-11-10 23:15:57,078 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ recordG: 16/16 non-null values (100.0%)
2025-11-10 23:15:57,078 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [0.0, 0.0, 0.0]
2025-11-10 23:15:57,078 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ hippo: 16/16 non-null values (100.0%)
2025-11-10 23:15:57,078 - race_prediction.competitive_field_analyzer - INFO -    Sample values: ['Saint-Cloud', 'Saint-Cloud', 'Saint-Cloud']
2025-11-10 23:15:57,078 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ coursescheval: 16/16 non-null values (100.0%)
2025-11-10 23:15:57,078 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [21, 35, 18]
2025-11-10 23:15:57,078 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ victoirescheval: 16/16 non-null values (100.0%)
2025-11-10 23:15:57,078 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [3, 6, 3]
2025-11-10 23:15:57,078 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ placescheval: 16/16 non-null values (100.0%)
2025-11-10 23:15:57,078 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [8, 22, 7]
2025-11-10 23:15:57,078 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ gainsCarriere: 16/16 non-null values (100.0%)
2025-11-10 23:15:57,078 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [10650100, 23140400, 8457900]
2025-11-10 23:15:57,078 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ age: 16/16 non-null values (100.0%)
2025-11-10 23:15:57,078 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [5, 7, 4]
2025-11-10 23:15:57,078 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ derniereplace: 16/16 non-null values (100.0%)
2025-11-10 23:15:57,078 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [2.0, 5.0, 4.0]
2025-11-10 23:15:57,079 - race_prediction.competitive_field_analyzer - INFO - === RACE METADATA ===
2025-11-10 23:15:57,079 - race_prediction.competitive_field_analyzer - INFO - comp: 1621443
2025-11-10 23:15:57,079 - race_prediction.competitive_field_analyzer - INFO - hippo: Saint-Cloud
2025-11-10 23:15:57,079 - race_prediction.competitive_field_analyzer - INFO - dist: 1600
2025-11-10 23:15:57,079 - race_prediction.competitive_field_analyzer - INFO - typec: Plat
2025-11-10 23:15:57,079 - race_prediction.competitive_field_analyzer - INFO - partant: 16
2025-11-10 23:15:57,079 - race_prediction.competitive_field_analyzer - INFO - === SAMPLE RACE DATA ===
2025-11-10 23:15:57,079 - race_prediction.competitive_field_analyzer - INFO - Sample data (columns: ['numero', 'cheval', 'recordG', 'hippo', 'coursescheval']):
2025-11-10 23:15:57,079 - race_prediction.competitive_field_analyzer - INFO -   Horse 0: {'numero': 1, 'cheval': 'Olympic Message', 'recordG': 0.0, 'hippo': 'Saint-Cloud', 'coursescheval': 21}
2025-11-10 23:15:57,079 - race_prediction.competitive_field_analyzer - INFO -   Horse 1: {'numero': 2, 'cheval': 'Harper', 'recordG': 0.0, 'hippo': 'Saint-Cloud', 'coursescheval': 35}
2025-11-10 23:15:57,079 - race_prediction.competitive_field_analyzer - INFO -   Horse 2: {'numero': 3, 'cheval': 'Divide And Rule', 'recordG': 0.0, 'hippo': 'Saint-Cloud', 'coursescheval': 18}
2025-11-10 23:15:57,079 - race_prediction.competitive_field_analyzer - INFO - === END COMPETITIVE ANALYSIS DEBUG ===

2025-11-10 23:15:57,079 - race_prediction.competitive_field_analyzer - INFO - === RETRIEVING HISTORICAL DATA ===
2025-11-10 23:15:57,079 - race_prediction.competitive_field_analyzer - INFO - Fetching historical data for 16 horses: [1561006, 1408356, 1676665, 1657763, 1523301, 1724362, 1655542, 1654258, 1723957, 1523186, 1572946, 1741661, 1520399, 1653870, 1641065, 1741448]
2025-11-10 23:15:57,080 - race_prediction.competitive_field_analyzer - INFO - Batch querying historical data for 16 horses: [1561006, 1408356, 1676665, 1657763, 1523301, 1724362, 1655542, 1654258, 1723957, 1523186, 1572946, 1741661, 1520399, 1653870, 1641065, 1741448]
2025-11-10 23:16:13,706 - race_prediction.competitive_field_analyzer - INFO - Batch query completed in 16.63s, found 149 total records
2025-11-10 23:16:13,714 - race_prediction.competitive_field_analyzer - INFO - Batch query retrieved 149 total historical races
2025-11-10 23:16:13,715 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS PER HORSE ===
2025-11-10 23:16:13,715 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1561006: 5 historical races found
2025-11-10 23:16:13,715 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1408356: 4 historical races found
2025-11-10 23:16:13,715 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1676665: 9 historical races found
2025-11-10 23:16:13,715 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1657763: 8 historical races found
2025-11-10 23:16:13,715 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1523301: 19 historical races found
2025-11-10 23:16:13,715 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1724362: 12 historical races found
2025-11-10 23:16:13,715 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1655542: 12 historical races found
2025-11-10 23:16:13,715 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1654258: 5 historical races found
2025-11-10 23:16:13,715 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1723957: 11 historical races found
2025-11-10 23:16:13,715 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1523186: 11 historical races found
2025-11-10 23:16:13,715 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1572946: 9 historical races found
2025-11-10 23:16:13,715 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1741661: 7 historical races found
2025-11-10 23:16:13,715 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1520399: 7 historical races found
2025-11-10 23:16:13,715 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1653870: 15 historical races found
2025-11-10 23:16:13,715 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1641065: 12 historical races found
2025-11-10 23:16:13,715 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1741448: 3 historical races found
2025-11-10 23:16:13,715 - race_prediction.competitive_field_analyzer - INFO - Retrieved 149 total historical races
2025-11-10 23:16:13,715 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS BY HORSE ===
2025-11-10 23:16:13,715 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1561006: 5 historical races
2025-11-10 23:16:13,715 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1408356: 4 historical races
2025-11-10 23:16:13,715 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1676665: 9 historical races
2025-11-10 23:16:13,716 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1657763: 8 historical races
2025-11-10 23:16:13,716 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1523301: 19 historical races
2025-11-10 23:16:13,716 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1724362: 12 historical races
2025-11-10 23:16:13,716 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1655542: 12 historical races
2025-11-10 23:16:13,716 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1654258: 5 historical races
2025-11-10 23:16:13,716 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1723957: 11 historical races
2025-11-10 23:16:13,716 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1523186: 11 historical races
2025-11-10 23:16:13,716 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1572946: 9 historical races
2025-11-10 23:16:13,716 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1741661: 7 historical races
2025-11-10 23:16:13,716 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1520399: 7 historical races
2025-11-10 23:16:13,716 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1653870: 15 historical races
2025-11-10 23:16:13,716 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1641065: 12 historical races
2025-11-10 23:16:13,716 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1741448: 3 historical races
2025-11-10 23:16:13,716 - race_prediction.competitive_field_analyzer - INFO - === END HISTORICAL DATA RETRIEVAL ===

2025-11-10 23:16:13,716 - race_prediction.competitive_field_analyzer - INFO - === EARNINGS QUALITY ANALYSIS ===
2025-11-10 23:16:13,716 - race_prediction.competitive_field_analyzer - INFO - Valid earnings data: 16/16 horses
2025-11-10 23:16:13,716 - race_prediction.competitive_field_analyzer - INFO - Sample earnings per race: ['507,148', '661,154', '469,883']
2025-11-10 23:16:13,716 - race_prediction.competitive_field_analyzer - INFO - Field earnings stats: avg=425,329, max=661,154
2025-11-10 23:16:13,716 - race_prediction.competitive_field_analyzer - INFO - === TRACK SPECIALIZATION ANALYSIS ===
2025-11-10 23:16:13,716 - race_prediction.competitive_field_analyzer - INFO - Horses with reliable venue data (3+ races): 0/16
2025-11-10 23:16:13,717 - race_prediction.competitive_field_analyzer - INFO - === FORM MOMENTUM ANALYSIS ===
2025-11-10 23:16:13,717 - race_prediction.competitive_field_analyzer - INFO - Field avg horse trend: 0.564, recent perf: 6.25
2025-11-10 23:16:13,717 - race_prediction.competitive_field_analyzer - INFO - Field avg jockey trend: -1.174
2025-11-10 23:16:13,718 - race_prediction.competitive_field_analyzer - INFO - Horses with improving form: 2/16
2025-11-10 23:16:13,718 - race_prediction.competitive_field_analyzer - INFO - === HOT CONNECTIONS ANALYSIS ===
2025-11-10 23:16:13,718 - race_prediction.competitive_field_analyzer - INFO - Jockeys with wins today: 0/16
2025-11-10 23:16:13,718 - race_prediction.competitive_field_analyzer - INFO - Trainers with wins today: 0/16
2025-11-10 23:16:13,718 - race_prediction.competitive_field_analyzer - INFO - === DISTANCE COMFORT ANALYSIS ===
2025-11-10 23:16:13,718 - race_prediction.competitive_field_analyzer - INFO - Current race distance: 1600m
2025-11-10 23:16:13,718 - race_prediction.competitive_field_analyzer - INFO - Horses with similar recent distance: 14/16
2025-11-10 23:16:13,718 - race_prediction.competitive_field_analyzer - INFO - === REALISTIC COMPETITIVE SCORING ===
2025-11-10 23:16:13,719 - race_prediction.competitive_field_analyzer - INFO - üìä COMPETITIVE ANALYSIS SUMMARY:
2025-11-10 23:16:13,719 - race_prediction.competitive_field_analyzer - INFO -    Total competitive races: 149
2025-11-10 23:16:13,719 - race_prediction.competitive_field_analyzer - INFO -    Horses with historical data: 16/16
2025-11-10 23:16:13,719 - race_prediction.competitive_field_analyzer - INFO -    Average races per horse: 9.3
2025-11-10 23:16:13,727 - race_prediction.quinte_prediction_storage - INFO - Stored 16 horses for Quint√© race 1621443
2025-11-10 23:16:15,513 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE ANALYSIS DEBUG ===
2025-11-10 23:16:15,513 - race_prediction.competitive_field_analyzer - INFO - Analyzing competitive field for race with 13 horses
2025-11-10 23:16:15,513 - race_prediction.competitive_field_analyzer - INFO - Race data shape: (13, 280)
2025-11-10 23:16:15,513 - race_prediction.competitive_field_analyzer - INFO - Available columns: ['id', 'comp', 'jour', 'hippo', 'reun', 'prix', 'prixnom', 'typec', 'partant', 'dist', 'handi', 'groupe', 'quinte', 'natpis', 'meteo', 'corde', 'temperature', 'forceVent', 'directionVent', 'nebulosite', 'prediction_results', 'actual_results', 'created_at', 'updated_at', 'processed_data', 'cheque', 'handi_raw', 'reclam', 'sex', 'tempscourse', 'handicap_level_score', 'cl', 'numero', 'cheval', 'age', 'cotedirect', 'coteprob', 'recence', 'ecar', 'defoeil', 'defoeilPrec', 'musiqueche', 'musiquejoc', 'entraineur', 'coursescheval', 'victoirescheval', 'placescheval', 'dernierealloc', 'derniernbpartants', 'dernieredist', 'derniereplace', 'dernierecote', 'dernierEnt', 'proprietaire', 'poidmont', 'pourcVictJockHippo', 'pourcPlaceJockHippo', 'pourcVictChevalHippo', 'pourcPlaceChevalHippo', 'tempstot', 'vha', 'recordG', 'txreclam', 'dernierTxreclam', 'gainsCarriere', 'gainsAnneeEnCours', 'handicapDistance', 'handicapPoids', 'TxVictCouple', 'nbVictCouple', 'nbPlaceCouple', 'idche', 'idJockey', 'idEntraineur', 'defFirstTime', 'oeilFirstTime', 'oeil', 'dernierOeil', 'ratio_victoires', 'ratio_places', 'gains_par_course', 'efficacite_couple', 'regularite_couple', 'progression_couple', 'perf_cheval_hippo', 'perf_jockey_hippo', 'trainer_victoires', 'trainer_places', 'trainer_courses', 'trainer_winrate', 'trainer_placerate', 'trainer_quality_score', 'trainer_experience_level', 'handicap_poids', 'handicap_dist', 'prec_handicap_poids', 'prec_handicap_dist', 'handicap_poids_change', 'handicap_poids_increased', 'handicap_poids_decreased', 'handicap_dist_change', 'handicap_dist_increased', 'handicap_dist_decreased', 'total_handicap', 'handicap_momentum', 'last_race_position', 'last_race_distance', 'distance_change', 'distance_change_pct', 'distance_increased', 'distance_decreased', 'same_distance', 'corde_change', 'corde_improved', 'corde_worsened', 'last_race_top3', 'last_race_won', 'blinkers_first_time', 'has_blinkers', 'has_standard_blinkers', 'has_australian_blinkers', 'blinkers_added', 'blinkers_removed', 'blinkers_type_changed', 'blinkers_any_change', 'blinkers_high_impact_change', 'shoeing_first_time', 'fully_shod', 'front_shod_only', 'back_shod_only', 'barefoot', 'shoeing_changed', 'barefoot_to_shod', 'shod_to_barefoot', 'major_shoeing_change', 'shoeing_complexity', 'multiple_equipment_changes', 'equipment_momentum_score', 'high_equipment_momentum', 'multiple_first_time_changes', 'equipment_optimization_score', 'career_strike_rate', 'earnings_per_race', 'earnings_trend', 'last_race_position_normalized', 'last_race_odds_normalized', 'last_race_field_size_factor', 'distance_consistency', 'vha_normalized', 'claiming_tax_trend', 'class_stability', 'che_global_avg_pos', 'che_global_recent_perf', 'che_global_consistency', 'che_global_trend', 'che_global_pct_top3', 'che_global_nb_courses', 'che_global_total_races', 'che_global_dnf_rate', 'che_weighted_avg_pos', 'che_weighted_recent_perf', 'che_weighted_consistency', 'che_weighted_pct_top3', 'che_weighted_nb_courses', 'che_weighted_total_races', 'che_weighted_dnf_rate', 'che_weighted_trend', 'che_bytype_avg_pos', 'che_bytype_recent_perf', 'che_bytype_consistency', 'che_bytype_trend', 'che_bytype_pct_top3', 'che_bytype_nb_courses', 'che_bytype_total_races', 'che_bytype_dnf_rate', 'joc_global_avg_pos', 'joc_global_recent_perf', 'joc_global_consistency', 'joc_global_trend', 'joc_global_pct_top3', 'joc_global_nb_courses', 'joc_global_total_races', 'joc_global_dnf_rate', 'joc_weighted_avg_pos', 'joc_weighted_recent_perf', 'joc_weighted_consistency', 'joc_weighted_pct_top3', 'joc_weighted_nb_courses', 'joc_weighted_total_races', 'joc_weighted_dnf_rate', 'joc_weighted_trend', 'joc_bytype_avg_pos', 'joc_bytype_recent_perf', 'joc_bytype_consistency', 'joc_bytype_trend', 'joc_bytype_pct_top3', 'joc_bytype_nb_courses', 'joc_bytype_total_races', 'joc_bytype_dnf_rate', 'che_form_momentum', 'che_improving_form', 'che_declining_form', 'che_high_consistency', 'che_recent_quality', 'che_elite_performer', 'che_regular_placer', 'joc_form_momentum', 'joc_improving_form', 'joc_high_consistency', 'joc_elite_performer', 'synergy_both_improving', 'synergy_both_consistent', 'synergy_both_elite', 'overall_momentum_score', 'high_momentum', 'class_drop_pct', 'purse_per_starter', 'purse_ratio', 'moving_up_in_class', 'class_shock_indicator', 'handicap_level_change', 'time_per_distance', 'time_vs_record', 'pace_rating', 'speed_figure_proxy', 'market_confidence_shift', 'last_race_improvement', 'bounce_risk', 'layoff_distance_interaction', 'trainer_change', 'connection_stability', 'field_size_change', 'distance_comfort', 'competition_level_shift', 'recence_x_class_drop', 'trainer_change_x_recence', 'distance_change_x_recence', 'che_by_type_avg_pos', 'che_by_type_recent_perf', 'che_by_type_consistency', 'che_by_type_trend', 'che_by_type_pct_top3', 'che_by_type_nb_courses', 'che_by_type_total_races', 'che_by_type_dnf_rate', 'joc_by_type_avg_pos', 'joc_by_type_recent_perf', 'joc_by_type_consistency', 'joc_by_type_trend', 'joc_by_type_pct_top3', 'joc_by_type_nb_courses', 'joc_by_type_total_races', 'joc_by_type_dnf_rate', 'quinte_career_starts', 'quinte_win_rate', 'quinte_top5_rate', 'avg_quinte_position', 'days_since_last_quinte', 'quinte_handicap_specialist', 'quinte_conditions_specialist', 'quinte_large_field_ability', 'quinte_track_condition_fit', 'is_handicap_quinte', 'handicap_division', 'purse_level_category', 'field_size_category', 'track_condition_PH', 'track_condition_DUR', 'track_condition_PS', 'track_condition_PSF', 'weather_clear', 'weather_rain', 'weather_cloudy', 'post_position_bias', 'post_position_track_bias', 'raw_tabnet_prediction', 'predicted_position_tabnet', 'raw_rf_prediction', 'predicted_position_rf', 'predicted_position_base']
2025-11-10 23:16:15,513 - race_prediction.competitive_field_analyzer - INFO - === CRITICAL COLUMNS ANALYSIS ===
2025-11-10 23:16:15,514 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ recordG: 13/13 non-null values (100.0%)
2025-11-10 23:16:15,514 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [0.0, 0.0, 0.0]
2025-11-10 23:16:15,514 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ hippo: 13/13 non-null values (100.0%)
2025-11-10 23:16:15,514 - race_prediction.competitive_field_analyzer - INFO -    Sample values: ['Paris-Vincennes', 'Paris-Vincennes', 'Paris-Vincennes']
2025-11-10 23:16:15,514 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ coursescheval: 13/13 non-null values (100.0%)
2025-11-10 23:16:15,514 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [56, 42, 82]
2025-11-10 23:16:15,514 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ victoirescheval: 13/13 non-null values (100.0%)
2025-11-10 23:16:15,514 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [8, 11, 10]
2025-11-10 23:16:15,514 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ placescheval: 13/13 non-null values (100.0%)
2025-11-10 23:16:15,514 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [18, 19, 33]
2025-11-10 23:16:15,514 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ gainsCarriere: 13/13 non-null values (100.0%)
2025-11-10 23:16:15,514 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [27138000, 27381500, 30011500]
2025-11-10 23:16:15,514 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ age: 13/13 non-null values (100.0%)
2025-11-10 23:16:15,514 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [7, 6, 8]
2025-11-10 23:16:15,514 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ derniereplace: 13/13 non-null values (100.0%)
2025-11-10 23:16:15,514 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [7.0, 4.0, 6.0]
2025-11-10 23:16:15,514 - race_prediction.competitive_field_analyzer - INFO - === RACE METADATA ===
2025-11-10 23:16:15,514 - race_prediction.competitive_field_analyzer - INFO - comp: 1619992
2025-11-10 23:16:15,514 - race_prediction.competitive_field_analyzer - INFO - hippo: Paris-Vincennes
2025-11-10 23:16:15,514 - race_prediction.competitive_field_analyzer - INFO - dist: 2700
2025-11-10 23:16:15,514 - race_prediction.competitive_field_analyzer - INFO - typec: Attel√©
2025-11-10 23:16:15,515 - race_prediction.competitive_field_analyzer - INFO - partant: 13
2025-11-10 23:16:15,515 - race_prediction.competitive_field_analyzer - INFO - === SAMPLE RACE DATA ===
2025-11-10 23:16:15,515 - race_prediction.competitive_field_analyzer - INFO - Sample data (columns: ['numero', 'cheval', 'recordG', 'hippo', 'coursescheval']):
2025-11-10 23:16:15,515 - race_prediction.competitive_field_analyzer - INFO -   Horse 0: {'numero': 1, 'cheval': 'Ivanof', 'recordG': 0.0, 'hippo': 'Paris-Vincennes', 'coursescheval': 56}
2025-11-10 23:16:15,515 - race_prediction.competitive_field_analyzer - INFO -   Horse 1: {'numero': 2, 'cheval': 'Jappeloup Turgot', 'recordG': 0.0, 'hippo': 'Paris-Vincennes', 'coursescheval': 42}
2025-11-10 23:16:15,515 - race_prediction.competitive_field_analyzer - INFO -   Horse 2: {'numero': 3, 'cheval': 'Himberland', 'recordG': 0.0, 'hippo': 'Paris-Vincennes', 'coursescheval': 82}
2025-11-10 23:16:15,515 - race_prediction.competitive_field_analyzer - INFO - === END COMPETITIVE ANALYSIS DEBUG ===

2025-11-10 23:16:15,515 - race_prediction.competitive_field_analyzer - INFO - === RETRIEVING HISTORICAL DATA ===
2025-11-10 23:16:15,515 - race_prediction.competitive_field_analyzer - INFO - Fetching historical data for 13 horses: [1474742, 1520426, 1389845, 1485998, 1430681, 1385711, 1431509, 1499311, 1403418, 1444935, 1534739, 1492670, 1498657]
2025-11-10 23:16:15,516 - race_prediction.competitive_field_analyzer - INFO - Batch querying historical data for 13 horses: [1474742, 1520426, 1389845, 1485998, 1430681, 1385711, 1431509, 1499311, 1403418, 1444935, 1534739, 1492670, 1498657]
2025-11-10 23:16:32,198 - race_prediction.competitive_field_analyzer - INFO - Batch query completed in 16.68s, found 158 total records
2025-11-10 23:16:32,206 - race_prediction.competitive_field_analyzer - INFO - Batch query retrieved 158 total historical races
2025-11-10 23:16:32,206 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS PER HORSE ===
2025-11-10 23:16:32,206 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1474742: 15 historical races found
2025-11-10 23:16:32,206 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1520426: 13 historical races found
2025-11-10 23:16:32,206 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1389845: 18 historical races found
2025-11-10 23:16:32,206 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1485998: 7 historical races found
2025-11-10 23:16:32,206 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1430681: 12 historical races found
2025-11-10 23:16:32,206 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1385711: 15 historical races found
2025-11-10 23:16:32,206 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1431509: 13 historical races found
2025-11-10 23:16:32,206 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1499311: 11 historical races found
2025-11-10 23:16:32,206 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1403418: 13 historical races found
2025-11-10 23:16:32,206 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1444935: 9 historical races found
2025-11-10 23:16:32,206 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1534739: 9 historical races found
2025-11-10 23:16:32,206 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1492670: 14 historical races found
2025-11-10 23:16:32,206 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1498657: 9 historical races found
2025-11-10 23:16:32,206 - race_prediction.competitive_field_analyzer - INFO - Retrieved 158 total historical races
2025-11-10 23:16:32,206 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS BY HORSE ===
2025-11-10 23:16:32,206 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1474742: 15 historical races
2025-11-10 23:16:32,206 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1520426: 13 historical races
2025-11-10 23:16:32,206 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1389845: 18 historical races
2025-11-10 23:16:32,206 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1485998: 7 historical races
2025-11-10 23:16:32,206 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1430681: 12 historical races
2025-11-10 23:16:32,206 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1385711: 15 historical races
2025-11-10 23:16:32,206 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1431509: 13 historical races
2025-11-10 23:16:32,206 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1499311: 11 historical races
2025-11-10 23:16:32,206 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1403418: 13 historical races
2025-11-10 23:16:32,206 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1444935: 9 historical races
2025-11-10 23:16:32,206 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1534739: 9 historical races
2025-11-10 23:16:32,206 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1492670: 14 historical races
2025-11-10 23:16:32,206 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1498657: 9 historical races
2025-11-10 23:16:32,206 - race_prediction.competitive_field_analyzer - INFO - === END HISTORICAL DATA RETRIEVAL ===

2025-11-10 23:16:32,207 - race_prediction.competitive_field_analyzer - INFO - === EARNINGS QUALITY ANALYSIS ===
2025-11-10 23:16:32,207 - race_prediction.competitive_field_analyzer - INFO - Valid earnings data: 13/13 horses
2025-11-10 23:16:32,207 - race_prediction.competitive_field_analyzer - INFO - Sample earnings per race: ['484,607', '651,940', '365,994']
2025-11-10 23:16:32,207 - race_prediction.competitive_field_analyzer - INFO - Field earnings stats: avg=601,427, max=951,944
2025-11-10 23:16:32,207 - race_prediction.competitive_field_analyzer - INFO - === TRACK SPECIALIZATION ANALYSIS ===
2025-11-10 23:16:32,207 - race_prediction.competitive_field_analyzer - INFO - Horses with reliable venue data (3+ races): 0/13
2025-11-10 23:16:32,208 - race_prediction.competitive_field_analyzer - INFO - === FORM MOMENTUM ANALYSIS ===
2025-11-10 23:16:32,208 - race_prediction.competitive_field_analyzer - INFO - Field avg horse trend: 1.174, recent perf: 6.46
2025-11-10 23:16:32,208 - race_prediction.competitive_field_analyzer - INFO - Field avg jockey trend: 0.347
2025-11-10 23:16:32,208 - race_prediction.competitive_field_analyzer - INFO - Horses with improving form: 4/13
2025-11-10 23:16:32,208 - race_prediction.competitive_field_analyzer - INFO - === HOT CONNECTIONS ANALYSIS ===
2025-11-10 23:16:32,208 - race_prediction.competitive_field_analyzer - INFO - Jockeys with wins today: 0/13
2025-11-10 23:16:32,208 - race_prediction.competitive_field_analyzer - INFO - Trainers with wins today: 0/13
2025-11-10 23:16:32,209 - race_prediction.competitive_field_analyzer - INFO - === DISTANCE COMFORT ANALYSIS ===
2025-11-10 23:16:32,209 - race_prediction.competitive_field_analyzer - INFO - Current race distance: 2700m
2025-11-10 23:16:32,209 - race_prediction.competitive_field_analyzer - INFO - Horses with similar recent distance: 8/13
2025-11-10 23:16:32,209 - race_prediction.competitive_field_analyzer - INFO - === REALISTIC COMPETITIVE SCORING ===
2025-11-10 23:16:32,209 - race_prediction.competitive_field_analyzer - INFO - üìä COMPETITIVE ANALYSIS SUMMARY:
2025-11-10 23:16:32,209 - race_prediction.competitive_field_analyzer - INFO -    Total competitive races: 158
2025-11-10 23:16:32,209 - race_prediction.competitive_field_analyzer - INFO -    Horses with historical data: 13/13
2025-11-10 23:16:32,209 - race_prediction.competitive_field_analyzer - INFO -    Average races per horse: 12.2
2025-11-10 23:16:32,218 - race_prediction.quinte_prediction_storage - INFO - Stored 13 horses for Quint√© race 1619992
2025-11-10 23:16:34,494 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE ANALYSIS DEBUG ===
2025-11-10 23:16:34,495 - race_prediction.competitive_field_analyzer - INFO - Analyzing competitive field for race with 16 horses
2025-11-10 23:16:34,495 - race_prediction.competitive_field_analyzer - INFO - Race data shape: (16, 280)
2025-11-10 23:16:34,495 - race_prediction.competitive_field_analyzer - INFO - Available columns: ['id', 'comp', 'jour', 'hippo', 'reun', 'prix', 'prixnom', 'typec', 'partant', 'dist', 'handi', 'groupe', 'quinte', 'natpis', 'meteo', 'corde', 'temperature', 'forceVent', 'directionVent', 'nebulosite', 'prediction_results', 'actual_results', 'created_at', 'updated_at', 'processed_data', 'cheque', 'handi_raw', 'reclam', 'sex', 'tempscourse', 'handicap_level_score', 'cl', 'numero', 'cheval', 'age', 'cotedirect', 'coteprob', 'recence', 'ecar', 'defoeil', 'defoeilPrec', 'musiqueche', 'musiquejoc', 'entraineur', 'coursescheval', 'victoirescheval', 'placescheval', 'dernierealloc', 'derniernbpartants', 'dernieredist', 'derniereplace', 'dernierecote', 'dernierEnt', 'proprietaire', 'poidmont', 'pourcVictJockHippo', 'pourcPlaceJockHippo', 'pourcVictChevalHippo', 'pourcPlaceChevalHippo', 'tempstot', 'vha', 'recordG', 'txreclam', 'dernierTxreclam', 'gainsCarriere', 'gainsAnneeEnCours', 'handicapDistance', 'handicapPoids', 'TxVictCouple', 'nbVictCouple', 'nbPlaceCouple', 'idche', 'idJockey', 'idEntraineur', 'defFirstTime', 'oeilFirstTime', 'oeil', 'dernierOeil', 'ratio_victoires', 'ratio_places', 'gains_par_course', 'efficacite_couple', 'regularite_couple', 'progression_couple', 'perf_cheval_hippo', 'perf_jockey_hippo', 'trainer_victoires', 'trainer_places', 'trainer_courses', 'trainer_winrate', 'trainer_placerate', 'trainer_quality_score', 'trainer_experience_level', 'handicap_poids', 'handicap_dist', 'prec_handicap_poids', 'prec_handicap_dist', 'handicap_poids_change', 'handicap_poids_increased', 'handicap_poids_decreased', 'handicap_dist_change', 'handicap_dist_increased', 'handicap_dist_decreased', 'total_handicap', 'handicap_momentum', 'last_race_position', 'last_race_distance', 'distance_change', 'distance_change_pct', 'distance_increased', 'distance_decreased', 'same_distance', 'corde_change', 'corde_improved', 'corde_worsened', 'last_race_top3', 'last_race_won', 'blinkers_first_time', 'has_blinkers', 'has_standard_blinkers', 'has_australian_blinkers', 'blinkers_added', 'blinkers_removed', 'blinkers_type_changed', 'blinkers_any_change', 'blinkers_high_impact_change', 'shoeing_first_time', 'fully_shod', 'front_shod_only', 'back_shod_only', 'barefoot', 'shoeing_changed', 'barefoot_to_shod', 'shod_to_barefoot', 'major_shoeing_change', 'shoeing_complexity', 'multiple_equipment_changes', 'equipment_momentum_score', 'high_equipment_momentum', 'multiple_first_time_changes', 'equipment_optimization_score', 'career_strike_rate', 'earnings_per_race', 'earnings_trend', 'last_race_position_normalized', 'last_race_odds_normalized', 'last_race_field_size_factor', 'distance_consistency', 'vha_normalized', 'claiming_tax_trend', 'class_stability', 'che_global_avg_pos', 'che_global_recent_perf', 'che_global_consistency', 'che_global_trend', 'che_global_pct_top3', 'che_global_nb_courses', 'che_global_total_races', 'che_global_dnf_rate', 'che_weighted_avg_pos', 'che_weighted_recent_perf', 'che_weighted_consistency', 'che_weighted_pct_top3', 'che_weighted_nb_courses', 'che_weighted_total_races', 'che_weighted_dnf_rate', 'che_weighted_trend', 'che_bytype_avg_pos', 'che_bytype_recent_perf', 'che_bytype_consistency', 'che_bytype_trend', 'che_bytype_pct_top3', 'che_bytype_nb_courses', 'che_bytype_total_races', 'che_bytype_dnf_rate', 'joc_global_avg_pos', 'joc_global_recent_perf', 'joc_global_consistency', 'joc_global_trend', 'joc_global_pct_top3', 'joc_global_nb_courses', 'joc_global_total_races', 'joc_global_dnf_rate', 'joc_weighted_avg_pos', 'joc_weighted_recent_perf', 'joc_weighted_consistency', 'joc_weighted_pct_top3', 'joc_weighted_nb_courses', 'joc_weighted_total_races', 'joc_weighted_dnf_rate', 'joc_weighted_trend', 'joc_bytype_avg_pos', 'joc_bytype_recent_perf', 'joc_bytype_consistency', 'joc_bytype_trend', 'joc_bytype_pct_top3', 'joc_bytype_nb_courses', 'joc_bytype_total_races', 'joc_bytype_dnf_rate', 'che_form_momentum', 'che_improving_form', 'che_declining_form', 'che_high_consistency', 'che_recent_quality', 'che_elite_performer', 'che_regular_placer', 'joc_form_momentum', 'joc_improving_form', 'joc_high_consistency', 'joc_elite_performer', 'synergy_both_improving', 'synergy_both_consistent', 'synergy_both_elite', 'overall_momentum_score', 'high_momentum', 'class_drop_pct', 'purse_per_starter', 'purse_ratio', 'moving_up_in_class', 'class_shock_indicator', 'handicap_level_change', 'time_per_distance', 'time_vs_record', 'pace_rating', 'speed_figure_proxy', 'market_confidence_shift', 'last_race_improvement', 'bounce_risk', 'layoff_distance_interaction', 'trainer_change', 'connection_stability', 'field_size_change', 'distance_comfort', 'competition_level_shift', 'recence_x_class_drop', 'trainer_change_x_recence', 'distance_change_x_recence', 'che_by_type_avg_pos', 'che_by_type_recent_perf', 'che_by_type_consistency', 'che_by_type_trend', 'che_by_type_pct_top3', 'che_by_type_nb_courses', 'che_by_type_total_races', 'che_by_type_dnf_rate', 'joc_by_type_avg_pos', 'joc_by_type_recent_perf', 'joc_by_type_consistency', 'joc_by_type_trend', 'joc_by_type_pct_top3', 'joc_by_type_nb_courses', 'joc_by_type_total_races', 'joc_by_type_dnf_rate', 'quinte_career_starts', 'quinte_win_rate', 'quinte_top5_rate', 'avg_quinte_position', 'days_since_last_quinte', 'quinte_handicap_specialist', 'quinte_conditions_specialist', 'quinte_large_field_ability', 'quinte_track_condition_fit', 'is_handicap_quinte', 'handicap_division', 'purse_level_category', 'field_size_category', 'track_condition_PH', 'track_condition_DUR', 'track_condition_PS', 'track_condition_PSF', 'weather_clear', 'weather_rain', 'weather_cloudy', 'post_position_bias', 'post_position_track_bias', 'raw_tabnet_prediction', 'predicted_position_tabnet', 'raw_rf_prediction', 'predicted_position_rf', 'predicted_position_base']
2025-11-10 23:16:34,495 - race_prediction.competitive_field_analyzer - INFO - === CRITICAL COLUMNS ANALYSIS ===
2025-11-10 23:16:34,495 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ recordG: 16/16 non-null values (100.0%)
2025-11-10 23:16:34,495 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [0.0, 0.0, 0.0]
2025-11-10 23:16:34,495 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ hippo: 16/16 non-null values (100.0%)
2025-11-10 23:16:34,496 - race_prediction.competitive_field_analyzer - INFO -    Sample values: ['Paris-Vincennes', 'Paris-Vincennes', 'Paris-Vincennes']
2025-11-10 23:16:34,496 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ coursescheval: 16/16 non-null values (100.0%)
2025-11-10 23:16:34,496 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [26, 17, 21]
2025-11-10 23:16:34,496 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ victoirescheval: 16/16 non-null values (100.0%)
2025-11-10 23:16:34,496 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [4, 5, 5]
2025-11-10 23:16:34,496 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ placescheval: 16/16 non-null values (100.0%)
2025-11-10 23:16:34,496 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [8, 9, 7]
2025-11-10 23:16:34,496 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ gainsCarriere: 16/16 non-null values (100.0%)
2025-11-10 23:16:34,496 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [7921000, 9031000, 11717500]
2025-11-10 23:16:34,497 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ age: 16/16 non-null values (100.0%)
2025-11-10 23:16:34,497 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [5, 5, 5]
2025-11-10 23:16:34,497 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ derniereplace: 16/16 non-null values (100.0%)
2025-11-10 23:16:34,497 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [5.0, 7.0, 15.0]
2025-11-10 23:16:34,497 - race_prediction.competitive_field_analyzer - INFO - === RACE METADATA ===
2025-11-10 23:16:34,497 - race_prediction.competitive_field_analyzer - INFO - comp: 1619965
2025-11-10 23:16:34,497 - race_prediction.competitive_field_analyzer - INFO - hippo: Paris-Vincennes
2025-11-10 23:16:34,497 - race_prediction.competitive_field_analyzer - INFO - dist: 2700
2025-11-10 23:16:34,497 - race_prediction.competitive_field_analyzer - INFO - typec: Attel√©
2025-11-10 23:16:34,497 - race_prediction.competitive_field_analyzer - INFO - partant: 16
2025-11-10 23:16:34,497 - race_prediction.competitive_field_analyzer - INFO - === SAMPLE RACE DATA ===
2025-11-10 23:16:34,497 - race_prediction.competitive_field_analyzer - INFO - Sample data (columns: ['numero', 'cheval', 'recordG', 'hippo', 'coursescheval']):
2025-11-10 23:16:34,498 - race_prediction.competitive_field_analyzer - INFO -   Horse 0: {'numero': 1, 'cheval': 'Kingston de Blary', 'recordG': 0.0, 'hippo': 'Paris-Vincennes', 'coursescheval': 26}
2025-11-10 23:16:34,498 - race_prediction.competitive_field_analyzer - INFO -   Horse 1: {'numero': 2, 'cheval': 'Kamour', 'recordG': 0.0, 'hippo': 'Paris-Vincennes', 'coursescheval': 17}
2025-11-10 23:16:34,498 - race_prediction.competitive_field_analyzer - INFO -   Horse 2: {'numero': 3, 'cheval': 'King Georges', 'recordG': 0.0, 'hippo': 'Paris-Vincennes', 'coursescheval': 21}
2025-11-10 23:16:34,498 - race_prediction.competitive_field_analyzer - INFO - === END COMPETITIVE ANALYSIS DEBUG ===

2025-11-10 23:16:34,498 - race_prediction.competitive_field_analyzer - INFO - === RETRIEVING HISTORICAL DATA ===
2025-11-10 23:16:34,498 - race_prediction.competitive_field_analyzer - INFO - Fetching historical data for 16 horses: [1575813, 1663009, 1576834, 1656229, 1572477, 1660540, 1576402, 1561752, 1582067, 1575455, 1563340, 1581994, 1560715, 1590089, 1587413, 1555299]
2025-11-10 23:16:34,499 - race_prediction.competitive_field_analyzer - INFO - Batch querying historical data for 16 horses: [1575813, 1663009, 1576834, 1656229, 1572477, 1660540, 1576402, 1561752, 1582067, 1575455, 1563340, 1581994, 1560715, 1590089, 1587413, 1555299]
2025-11-10 23:16:54,182 - race_prediction.competitive_field_analyzer - INFO - Batch query completed in 19.68s, found 154 total records
2025-11-10 23:16:54,189 - race_prediction.competitive_field_analyzer - INFO - Batch query retrieved 154 total historical races
2025-11-10 23:16:54,189 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS PER HORSE ===
2025-11-10 23:16:54,189 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1575813: 9 historical races found
2025-11-10 23:16:54,189 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1663009: 5 historical races found
2025-11-10 23:16:54,189 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1576834: 7 historical races found
2025-11-10 23:16:54,189 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1656229: 11 historical races found
2025-11-10 23:16:54,189 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1572477: 14 historical races found
2025-11-10 23:16:54,189 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1660540: 13 historical races found
2025-11-10 23:16:54,189 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1576402: 11 historical races found
2025-11-10 23:16:54,189 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1561752: 7 historical races found
2025-11-10 23:16:54,189 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1582067: 5 historical races found
2025-11-10 23:16:54,189 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1575455: 13 historical races found
2025-11-10 23:16:54,189 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1563340: 8 historical races found
2025-11-10 23:16:54,189 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1581994: 13 historical races found
2025-11-10 23:16:54,189 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1560715: 7 historical races found
2025-11-10 23:16:54,189 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1590089: 13 historical races found
2025-11-10 23:16:54,189 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1587413: 5 historical races found
2025-11-10 23:16:54,189 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1555299: 13 historical races found
2025-11-10 23:16:54,189 - race_prediction.competitive_field_analyzer - INFO - Retrieved 154 total historical races
2025-11-10 23:16:54,189 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS BY HORSE ===
2025-11-10 23:16:54,189 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1575813: 9 historical races
2025-11-10 23:16:54,189 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1663009: 5 historical races
2025-11-10 23:16:54,189 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1576834: 7 historical races
2025-11-10 23:16:54,189 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1656229: 11 historical races
2025-11-10 23:16:54,189 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1572477: 14 historical races
2025-11-10 23:16:54,189 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1660540: 13 historical races
2025-11-10 23:16:54,189 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1576402: 11 historical races
2025-11-10 23:16:54,189 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1561752: 7 historical races
2025-11-10 23:16:54,189 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1582067: 5 historical races
2025-11-10 23:16:54,189 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1575455: 13 historical races
2025-11-10 23:16:54,189 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1563340: 8 historical races
2025-11-10 23:16:54,189 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1581994: 13 historical races
2025-11-10 23:16:54,189 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1560715: 7 historical races
2025-11-10 23:16:54,189 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1590089: 13 historical races
2025-11-10 23:16:54,189 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1587413: 5 historical races
2025-11-10 23:16:54,189 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1555299: 13 historical races
2025-11-10 23:16:54,189 - race_prediction.competitive_field_analyzer - INFO - === END HISTORICAL DATA RETRIEVAL ===

2025-11-10 23:16:54,189 - race_prediction.competitive_field_analyzer - INFO - === EARNINGS QUALITY ANALYSIS ===
2025-11-10 23:16:54,189 - race_prediction.competitive_field_analyzer - INFO - Valid earnings data: 16/16 horses
2025-11-10 23:16:54,190 - race_prediction.competitive_field_analyzer - INFO - Sample earnings per race: ['304,654', '531,235', '557,976']
2025-11-10 23:16:54,190 - race_prediction.competitive_field_analyzer - INFO - Field earnings stats: avg=584,061, max=1,084,062
2025-11-10 23:16:54,190 - race_prediction.competitive_field_analyzer - INFO - === TRACK SPECIALIZATION ANALYSIS ===
2025-11-10 23:16:54,190 - race_prediction.competitive_field_analyzer - INFO - Horses with reliable venue data (3+ races): 0/16
2025-11-10 23:16:54,191 - race_prediction.competitive_field_analyzer - INFO - === FORM MOMENTUM ANALYSIS ===
2025-11-10 23:16:54,191 - race_prediction.competitive_field_analyzer - INFO - Field avg horse trend: 1.984, recent perf: 6.90
2025-11-10 23:16:54,191 - race_prediction.competitive_field_analyzer - INFO - Field avg jockey trend: -0.236
2025-11-10 23:16:54,191 - race_prediction.competitive_field_analyzer - INFO - Horses with improving form: 3/16
2025-11-10 23:16:54,191 - race_prediction.competitive_field_analyzer - INFO - === HOT CONNECTIONS ANALYSIS ===
2025-11-10 23:16:54,191 - race_prediction.competitive_field_analyzer - INFO - Jockeys with wins today: 0/16
2025-11-10 23:16:54,191 - race_prediction.competitive_field_analyzer - INFO - Trainers with wins today: 0/16
2025-11-10 23:16:54,192 - race_prediction.competitive_field_analyzer - INFO - === DISTANCE COMFORT ANALYSIS ===
2025-11-10 23:16:54,192 - race_prediction.competitive_field_analyzer - INFO - Current race distance: 2700m
2025-11-10 23:16:54,192 - race_prediction.competitive_field_analyzer - INFO - Horses with similar recent distance: 10/16
2025-11-10 23:16:54,192 - race_prediction.competitive_field_analyzer - INFO - === REALISTIC COMPETITIVE SCORING ===
2025-11-10 23:16:54,192 - race_prediction.competitive_field_analyzer - INFO - üìä COMPETITIVE ANALYSIS SUMMARY:
2025-11-10 23:16:54,192 - race_prediction.competitive_field_analyzer - INFO -    Total competitive races: 154
2025-11-10 23:16:54,192 - race_prediction.competitive_field_analyzer - INFO -    Horses with historical data: 16/16
2025-11-10 23:16:54,192 - race_prediction.competitive_field_analyzer - INFO -    Average races per horse: 9.6
2025-11-10 23:16:54,199 - race_prediction.quinte_prediction_storage - INFO - Stored 16 horses for Quint√© race 1619965
2025-11-10 23:16:56,180 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE ANALYSIS DEBUG ===
2025-11-10 23:16:56,180 - race_prediction.competitive_field_analyzer - INFO - Analyzing competitive field for race with 14 horses
2025-11-10 23:16:56,181 - race_prediction.competitive_field_analyzer - INFO - Race data shape: (14, 280)
2025-11-10 23:16:56,181 - race_prediction.competitive_field_analyzer - INFO - Available columns: ['id', 'comp', 'jour', 'hippo', 'reun', 'prix', 'prixnom', 'typec', 'partant', 'dist', 'handi', 'groupe', 'quinte', 'natpis', 'meteo', 'corde', 'temperature', 'forceVent', 'directionVent', 'nebulosite', 'prediction_results', 'actual_results', 'created_at', 'updated_at', 'processed_data', 'cheque', 'handi_raw', 'reclam', 'sex', 'tempscourse', 'handicap_level_score', 'cl', 'numero', 'cheval', 'age', 'cotedirect', 'coteprob', 'recence', 'ecar', 'defoeil', 'defoeilPrec', 'musiqueche', 'musiquejoc', 'entraineur', 'coursescheval', 'victoirescheval', 'placescheval', 'dernierealloc', 'derniernbpartants', 'dernieredist', 'derniereplace', 'dernierecote', 'dernierEnt', 'proprietaire', 'poidmont', 'pourcVictJockHippo', 'pourcPlaceJockHippo', 'pourcVictChevalHippo', 'pourcPlaceChevalHippo', 'tempstot', 'vha', 'recordG', 'txreclam', 'dernierTxreclam', 'gainsCarriere', 'gainsAnneeEnCours', 'handicapDistance', 'handicapPoids', 'TxVictCouple', 'nbVictCouple', 'nbPlaceCouple', 'idche', 'idJockey', 'idEntraineur', 'defFirstTime', 'oeilFirstTime', 'oeil', 'dernierOeil', 'ratio_victoires', 'ratio_places', 'gains_par_course', 'efficacite_couple', 'regularite_couple', 'progression_couple', 'perf_cheval_hippo', 'perf_jockey_hippo', 'trainer_victoires', 'trainer_places', 'trainer_courses', 'trainer_winrate', 'trainer_placerate', 'trainer_quality_score', 'trainer_experience_level', 'handicap_poids', 'handicap_dist', 'prec_handicap_poids', 'prec_handicap_dist', 'handicap_poids_change', 'handicap_poids_increased', 'handicap_poids_decreased', 'handicap_dist_change', 'handicap_dist_increased', 'handicap_dist_decreased', 'total_handicap', 'handicap_momentum', 'last_race_position', 'last_race_distance', 'distance_change', 'distance_change_pct', 'distance_increased', 'distance_decreased', 'same_distance', 'corde_change', 'corde_improved', 'corde_worsened', 'last_race_top3', 'last_race_won', 'blinkers_first_time', 'has_blinkers', 'has_standard_blinkers', 'has_australian_blinkers', 'blinkers_added', 'blinkers_removed', 'blinkers_type_changed', 'blinkers_any_change', 'blinkers_high_impact_change', 'shoeing_first_time', 'fully_shod', 'front_shod_only', 'back_shod_only', 'barefoot', 'shoeing_changed', 'barefoot_to_shod', 'shod_to_barefoot', 'major_shoeing_change', 'shoeing_complexity', 'multiple_equipment_changes', 'equipment_momentum_score', 'high_equipment_momentum', 'multiple_first_time_changes', 'equipment_optimization_score', 'career_strike_rate', 'earnings_per_race', 'earnings_trend', 'last_race_position_normalized', 'last_race_odds_normalized', 'last_race_field_size_factor', 'distance_consistency', 'vha_normalized', 'claiming_tax_trend', 'class_stability', 'che_global_avg_pos', 'che_global_recent_perf', 'che_global_consistency', 'che_global_trend', 'che_global_pct_top3', 'che_global_nb_courses', 'che_global_total_races', 'che_global_dnf_rate', 'che_weighted_avg_pos', 'che_weighted_recent_perf', 'che_weighted_consistency', 'che_weighted_pct_top3', 'che_weighted_nb_courses', 'che_weighted_total_races', 'che_weighted_dnf_rate', 'che_weighted_trend', 'che_bytype_avg_pos', 'che_bytype_recent_perf', 'che_bytype_consistency', 'che_bytype_trend', 'che_bytype_pct_top3', 'che_bytype_nb_courses', 'che_bytype_total_races', 'che_bytype_dnf_rate', 'joc_global_avg_pos', 'joc_global_recent_perf', 'joc_global_consistency', 'joc_global_trend', 'joc_global_pct_top3', 'joc_global_nb_courses', 'joc_global_total_races', 'joc_global_dnf_rate', 'joc_weighted_avg_pos', 'joc_weighted_recent_perf', 'joc_weighted_consistency', 'joc_weighted_pct_top3', 'joc_weighted_nb_courses', 'joc_weighted_total_races', 'joc_weighted_dnf_rate', 'joc_weighted_trend', 'joc_bytype_avg_pos', 'joc_bytype_recent_perf', 'joc_bytype_consistency', 'joc_bytype_trend', 'joc_bytype_pct_top3', 'joc_bytype_nb_courses', 'joc_bytype_total_races', 'joc_bytype_dnf_rate', 'che_form_momentum', 'che_improving_form', 'che_declining_form', 'che_high_consistency', 'che_recent_quality', 'che_elite_performer', 'che_regular_placer', 'joc_form_momentum', 'joc_improving_form', 'joc_high_consistency', 'joc_elite_performer', 'synergy_both_improving', 'synergy_both_consistent', 'synergy_both_elite', 'overall_momentum_score', 'high_momentum', 'class_drop_pct', 'purse_per_starter', 'purse_ratio', 'moving_up_in_class', 'class_shock_indicator', 'handicap_level_change', 'time_per_distance', 'time_vs_record', 'pace_rating', 'speed_figure_proxy', 'market_confidence_shift', 'last_race_improvement', 'bounce_risk', 'layoff_distance_interaction', 'trainer_change', 'connection_stability', 'field_size_change', 'distance_comfort', 'competition_level_shift', 'recence_x_class_drop', 'trainer_change_x_recence', 'distance_change_x_recence', 'che_by_type_avg_pos', 'che_by_type_recent_perf', 'che_by_type_consistency', 'che_by_type_trend', 'che_by_type_pct_top3', 'che_by_type_nb_courses', 'che_by_type_total_races', 'che_by_type_dnf_rate', 'joc_by_type_avg_pos', 'joc_by_type_recent_perf', 'joc_by_type_consistency', 'joc_by_type_trend', 'joc_by_type_pct_top3', 'joc_by_type_nb_courses', 'joc_by_type_total_races', 'joc_by_type_dnf_rate', 'quinte_career_starts', 'quinte_win_rate', 'quinte_top5_rate', 'avg_quinte_position', 'days_since_last_quinte', 'quinte_handicap_specialist', 'quinte_conditions_specialist', 'quinte_large_field_ability', 'quinte_track_condition_fit', 'is_handicap_quinte', 'handicap_division', 'purse_level_category', 'field_size_category', 'track_condition_PH', 'track_condition_DUR', 'track_condition_PS', 'track_condition_PSF', 'weather_clear', 'weather_rain', 'weather_cloudy', 'post_position_bias', 'post_position_track_bias', 'raw_tabnet_prediction', 'predicted_position_tabnet', 'raw_rf_prediction', 'predicted_position_rf', 'predicted_position_base']
2025-11-10 23:16:56,181 - race_prediction.competitive_field_analyzer - INFO - === CRITICAL COLUMNS ANALYSIS ===
2025-11-10 23:16:56,181 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ recordG: 14/14 non-null values (100.0%)
2025-11-10 23:16:56,181 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [0.0, 0.0, 0.0]
2025-11-10 23:16:56,181 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ hippo: 14/14 non-null values (100.0%)
2025-11-10 23:16:56,181 - race_prediction.competitive_field_analyzer - INFO -    Sample values: ['Paris-Vincennes', 'Paris-Vincennes', 'Paris-Vincennes']
2025-11-10 23:16:56,182 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ coursescheval: 14/14 non-null values (100.0%)
2025-11-10 23:16:56,182 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [32, 33, 13]
2025-11-10 23:16:56,182 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ victoirescheval: 14/14 non-null values (100.0%)
2025-11-10 23:16:56,182 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [8, 4, 2]
2025-11-10 23:16:56,182 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ placescheval: 14/14 non-null values (100.0%)
2025-11-10 23:16:56,182 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [13, 12, 7]
2025-11-10 23:16:56,182 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ gainsCarriere: 14/14 non-null values (100.0%)
2025-11-10 23:16:56,182 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [42628000, 30300500, 59663300]
2025-11-10 23:16:56,182 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ age: 14/14 non-null values (100.0%)
2025-11-10 23:16:56,182 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [5, 4, 5]
2025-11-10 23:16:56,182 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ derniereplace: 14/14 non-null values (100.0%)
2025-11-10 23:16:56,182 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [15.0, 4.0, 6.0]
2025-11-10 23:16:56,182 - race_prediction.competitive_field_analyzer - INFO - === RACE METADATA ===
2025-11-10 23:16:56,182 - race_prediction.competitive_field_analyzer - INFO - comp: 1618804
2025-11-10 23:16:56,182 - race_prediction.competitive_field_analyzer - INFO - hippo: Paris-Vincennes
2025-11-10 23:16:56,182 - race_prediction.competitive_field_analyzer - INFO - dist: 2100
2025-11-10 23:16:56,182 - race_prediction.competitive_field_analyzer - INFO - typec: Attel√©
2025-11-10 23:16:56,182 - race_prediction.competitive_field_analyzer - INFO - partant: 14
2025-11-10 23:16:56,182 - race_prediction.competitive_field_analyzer - INFO - === SAMPLE RACE DATA ===
2025-11-10 23:16:56,182 - race_prediction.competitive_field_analyzer - INFO - Sample data (columns: ['numero', 'cheval', 'recordG', 'hippo', 'coursescheval']):
2025-11-10 23:16:56,183 - race_prediction.competitive_field_analyzer - INFO -   Horse 0: {'numero': 1, 'cheval': 'Kokote', 'recordG': 0.0, 'hippo': 'Paris-Vincennes', 'coursescheval': 32}
2025-11-10 23:16:56,183 - race_prediction.competitive_field_analyzer - INFO -   Horse 1: {'numero': 2, 'cheval': 'Learn To Fly', 'recordG': 0.0, 'hippo': 'Paris-Vincennes', 'coursescheval': 33}
2025-11-10 23:16:56,183 - race_prediction.competitive_field_analyzer - INFO -   Horse 2: {'numero': 3, 'cheval': 'East Asia', 'recordG': 0.0, 'hippo': 'Paris-Vincennes', 'coursescheval': 13}
2025-11-10 23:16:56,183 - race_prediction.competitive_field_analyzer - INFO - === END COMPETITIVE ANALYSIS DEBUG ===

2025-11-10 23:16:56,183 - race_prediction.competitive_field_analyzer - INFO - === RETRIEVING HISTORICAL DATA ===
2025-11-10 23:16:56,183 - race_prediction.competitive_field_analyzer - INFO - Fetching historical data for 14 horses: [1576750, 1665539, 1578262, 1553537, 1585391, 1565653, 1666500, 1553531, 1688648, 1661600, 1578244, 1571244, 1561739, 1562064]
2025-11-10 23:16:56,184 - race_prediction.competitive_field_analyzer - INFO - Batch querying historical data for 14 horses: [1576750, 1665539, 1578262, 1553537, 1585391, 1565653, 1666500, 1553531, 1688648, 1661600, 1578244, 1571244, 1561739, 1562064]
2025-11-10 23:17:13,015 - race_prediction.competitive_field_analyzer - INFO - Batch query completed in 16.83s, found 118 total records
2025-11-10 23:17:13,021 - race_prediction.competitive_field_analyzer - INFO - Batch query retrieved 118 total historical races
2025-11-10 23:17:13,021 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS PER HORSE ===
2025-11-10 23:17:13,021 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1576750: 11 historical races found
2025-11-10 23:17:13,021 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1665539: 14 historical races found
2025-11-10 23:17:13,021 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1578262: 5 historical races found
2025-11-10 23:17:13,021 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1553537: 10 historical races found
2025-11-10 23:17:13,021 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1585391: 5 historical races found
2025-11-10 23:17:13,021 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1565653: 13 historical races found
2025-11-10 23:17:13,021 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1666500: 7 historical races found
2025-11-10 23:17:13,021 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1553531: 12 historical races found
2025-11-10 23:17:13,021 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1688648: 4 historical races found
2025-11-10 23:17:13,021 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1661600: 7 historical races found
2025-11-10 23:17:13,021 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1578244: 4 historical races found
2025-11-10 23:17:13,021 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1571244: 4 historical races found
2025-11-10 23:17:13,021 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1561739: 9 historical races found
2025-11-10 23:17:13,021 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1562064: 13 historical races found
2025-11-10 23:17:13,021 - race_prediction.competitive_field_analyzer - INFO - Retrieved 118 total historical races
2025-11-10 23:17:13,021 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS BY HORSE ===
2025-11-10 23:17:13,021 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1576750: 11 historical races
2025-11-10 23:17:13,021 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1665539: 14 historical races
2025-11-10 23:17:13,021 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1578262: 5 historical races
2025-11-10 23:17:13,021 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1553537: 10 historical races
2025-11-10 23:17:13,021 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1585391: 5 historical races
2025-11-10 23:17:13,021 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1565653: 13 historical races
2025-11-10 23:17:13,021 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1666500: 7 historical races
2025-11-10 23:17:13,021 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1553531: 12 historical races
2025-11-10 23:17:13,021 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1688648: 4 historical races
2025-11-10 23:17:13,021 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1661600: 7 historical races
2025-11-10 23:17:13,021 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1578244: 4 historical races
2025-11-10 23:17:13,021 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1571244: 4 historical races
2025-11-10 23:17:13,021 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1561739: 9 historical races
2025-11-10 23:17:13,021 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1562064: 13 historical races
2025-11-10 23:17:13,021 - race_prediction.competitive_field_analyzer - INFO - === END HISTORICAL DATA RETRIEVAL ===

2025-11-10 23:17:13,021 - race_prediction.competitive_field_analyzer - INFO - === EARNINGS QUALITY ANALYSIS ===
2025-11-10 23:17:13,021 - race_prediction.competitive_field_analyzer - INFO - Valid earnings data: 14/14 horses
2025-11-10 23:17:13,021 - race_prediction.competitive_field_analyzer - INFO - Sample earnings per race: ['1,332,125', '918,197', '4,589,485']
2025-11-10 23:17:13,022 - race_prediction.competitive_field_analyzer - INFO - Field earnings stats: avg=2,560,695, max=12,615,550
2025-11-10 23:17:13,022 - race_prediction.competitive_field_analyzer - INFO - === TRACK SPECIALIZATION ANALYSIS ===
2025-11-10 23:17:13,022 - race_prediction.competitive_field_analyzer - INFO - Horses with reliable venue data (3+ races): 0/14
2025-11-10 23:17:13,023 - race_prediction.competitive_field_analyzer - INFO - === FORM MOMENTUM ANALYSIS ===
2025-11-10 23:17:13,023 - race_prediction.competitive_field_analyzer - INFO - Field avg horse trend: 1.845, recent perf: 6.52
2025-11-10 23:17:13,023 - race_prediction.competitive_field_analyzer - INFO - Field avg jockey trend: -1.451
2025-11-10 23:17:13,023 - race_prediction.competitive_field_analyzer - INFO - Horses with improving form: 5/14
2025-11-10 23:17:13,023 - race_prediction.competitive_field_analyzer - INFO - === HOT CONNECTIONS ANALYSIS ===
2025-11-10 23:17:13,023 - race_prediction.competitive_field_analyzer - INFO - Jockeys with wins today: 0/14
2025-11-10 23:17:13,023 - race_prediction.competitive_field_analyzer - INFO - Trainers with wins today: 0/14
2025-11-10 23:17:13,023 - race_prediction.competitive_field_analyzer - INFO - === DISTANCE COMFORT ANALYSIS ===
2025-11-10 23:17:13,023 - race_prediction.competitive_field_analyzer - INFO - Current race distance: 2100m
2025-11-10 23:17:13,023 - race_prediction.competitive_field_analyzer - INFO - Horses with similar recent distance: 3/14
2025-11-10 23:17:13,023 - race_prediction.competitive_field_analyzer - INFO - === REALISTIC COMPETITIVE SCORING ===
2025-11-10 23:17:13,024 - race_prediction.competitive_field_analyzer - INFO - üìä COMPETITIVE ANALYSIS SUMMARY:
2025-11-10 23:17:13,024 - race_prediction.competitive_field_analyzer - INFO -    Total competitive races: 118
2025-11-10 23:17:13,024 - race_prediction.competitive_field_analyzer - INFO -    Horses with historical data: 14/14
2025-11-10 23:17:13,024 - race_prediction.competitive_field_analyzer - INFO -    Average races per horse: 8.4
2025-11-10 23:17:13,032 - race_prediction.quinte_prediction_storage - INFO - Stored 14 horses for Quint√© race 1618804
2025-11-10 23:17:14,877 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE ANALYSIS DEBUG ===
2025-11-10 23:17:14,877 - race_prediction.competitive_field_analyzer - INFO - Analyzing competitive field for race with 16 horses
2025-11-10 23:17:14,877 - race_prediction.competitive_field_analyzer - INFO - Race data shape: (16, 280)
2025-11-10 23:17:14,877 - race_prediction.competitive_field_analyzer - INFO - Available columns: ['id', 'comp', 'jour', 'hippo', 'reun', 'prix', 'prixnom', 'typec', 'partant', 'dist', 'handi', 'groupe', 'quinte', 'natpis', 'meteo', 'corde', 'temperature', 'forceVent', 'directionVent', 'nebulosite', 'prediction_results', 'actual_results', 'created_at', 'updated_at', 'processed_data', 'cheque', 'handi_raw', 'reclam', 'sex', 'tempscourse', 'handicap_level_score', 'cl', 'numero', 'cheval', 'age', 'cotedirect', 'coteprob', 'recence', 'ecar', 'defoeil', 'defoeilPrec', 'musiqueche', 'musiquejoc', 'entraineur', 'coursescheval', 'victoirescheval', 'placescheval', 'dernierealloc', 'derniernbpartants', 'dernieredist', 'derniereplace', 'dernierecote', 'dernierEnt', 'proprietaire', 'poidmont', 'pourcVictJockHippo', 'pourcPlaceJockHippo', 'pourcVictChevalHippo', 'pourcPlaceChevalHippo', 'tempstot', 'vha', 'recordG', 'txreclam', 'dernierTxreclam', 'gainsCarriere', 'gainsAnneeEnCours', 'handicapDistance', 'handicapPoids', 'TxVictCouple', 'nbVictCouple', 'nbPlaceCouple', 'idche', 'idJockey', 'idEntraineur', 'defFirstTime', 'oeilFirstTime', 'oeil', 'dernierOeil', 'ratio_victoires', 'ratio_places', 'gains_par_course', 'efficacite_couple', 'regularite_couple', 'progression_couple', 'perf_cheval_hippo', 'perf_jockey_hippo', 'trainer_victoires', 'trainer_places', 'trainer_courses', 'trainer_winrate', 'trainer_placerate', 'trainer_quality_score', 'trainer_experience_level', 'handicap_poids', 'handicap_dist', 'prec_handicap_poids', 'prec_handicap_dist', 'handicap_poids_change', 'handicap_poids_increased', 'handicap_poids_decreased', 'handicap_dist_change', 'handicap_dist_increased', 'handicap_dist_decreased', 'total_handicap', 'handicap_momentum', 'last_race_position', 'last_race_distance', 'distance_change', 'distance_change_pct', 'distance_increased', 'distance_decreased', 'same_distance', 'corde_change', 'corde_improved', 'corde_worsened', 'last_race_top3', 'last_race_won', 'blinkers_first_time', 'has_blinkers', 'has_standard_blinkers', 'has_australian_blinkers', 'blinkers_added', 'blinkers_removed', 'blinkers_type_changed', 'blinkers_any_change', 'blinkers_high_impact_change', 'shoeing_first_time', 'fully_shod', 'front_shod_only', 'back_shod_only', 'barefoot', 'shoeing_changed', 'barefoot_to_shod', 'shod_to_barefoot', 'major_shoeing_change', 'shoeing_complexity', 'multiple_equipment_changes', 'equipment_momentum_score', 'high_equipment_momentum', 'multiple_first_time_changes', 'equipment_optimization_score', 'career_strike_rate', 'earnings_per_race', 'earnings_trend', 'last_race_position_normalized', 'last_race_odds_normalized', 'last_race_field_size_factor', 'distance_consistency', 'vha_normalized', 'claiming_tax_trend', 'class_stability', 'che_global_avg_pos', 'che_global_recent_perf', 'che_global_consistency', 'che_global_trend', 'che_global_pct_top3', 'che_global_nb_courses', 'che_global_total_races', 'che_global_dnf_rate', 'che_weighted_avg_pos', 'che_weighted_recent_perf', 'che_weighted_consistency', 'che_weighted_pct_top3', 'che_weighted_nb_courses', 'che_weighted_total_races', 'che_weighted_dnf_rate', 'che_weighted_trend', 'che_bytype_avg_pos', 'che_bytype_recent_perf', 'che_bytype_consistency', 'che_bytype_trend', 'che_bytype_pct_top3', 'che_bytype_nb_courses', 'che_bytype_total_races', 'che_bytype_dnf_rate', 'joc_global_avg_pos', 'joc_global_recent_perf', 'joc_global_consistency', 'joc_global_trend', 'joc_global_pct_top3', 'joc_global_nb_courses', 'joc_global_total_races', 'joc_global_dnf_rate', 'joc_weighted_avg_pos', 'joc_weighted_recent_perf', 'joc_weighted_consistency', 'joc_weighted_pct_top3', 'joc_weighted_nb_courses', 'joc_weighted_total_races', 'joc_weighted_dnf_rate', 'joc_weighted_trend', 'joc_bytype_avg_pos', 'joc_bytype_recent_perf', 'joc_bytype_consistency', 'joc_bytype_trend', 'joc_bytype_pct_top3', 'joc_bytype_nb_courses', 'joc_bytype_total_races', 'joc_bytype_dnf_rate', 'che_form_momentum', 'che_improving_form', 'che_declining_form', 'che_high_consistency', 'che_recent_quality', 'che_elite_performer', 'che_regular_placer', 'joc_form_momentum', 'joc_improving_form', 'joc_high_consistency', 'joc_elite_performer', 'synergy_both_improving', 'synergy_both_consistent', 'synergy_both_elite', 'overall_momentum_score', 'high_momentum', 'class_drop_pct', 'purse_per_starter', 'purse_ratio', 'moving_up_in_class', 'class_shock_indicator', 'handicap_level_change', 'time_per_distance', 'time_vs_record', 'pace_rating', 'speed_figure_proxy', 'market_confidence_shift', 'last_race_improvement', 'bounce_risk', 'layoff_distance_interaction', 'trainer_change', 'connection_stability', 'field_size_change', 'distance_comfort', 'competition_level_shift', 'recence_x_class_drop', 'trainer_change_x_recence', 'distance_change_x_recence', 'che_by_type_avg_pos', 'che_by_type_recent_perf', 'che_by_type_consistency', 'che_by_type_trend', 'che_by_type_pct_top3', 'che_by_type_nb_courses', 'che_by_type_total_races', 'che_by_type_dnf_rate', 'joc_by_type_avg_pos', 'joc_by_type_recent_perf', 'joc_by_type_consistency', 'joc_by_type_trend', 'joc_by_type_pct_top3', 'joc_by_type_nb_courses', 'joc_by_type_total_races', 'joc_by_type_dnf_rate', 'quinte_career_starts', 'quinte_win_rate', 'quinte_top5_rate', 'avg_quinte_position', 'days_since_last_quinte', 'quinte_handicap_specialist', 'quinte_conditions_specialist', 'quinte_large_field_ability', 'quinte_track_condition_fit', 'is_handicap_quinte', 'handicap_division', 'purse_level_category', 'field_size_category', 'track_condition_PH', 'track_condition_DUR', 'track_condition_PS', 'track_condition_PSF', 'weather_clear', 'weather_rain', 'weather_cloudy', 'post_position_bias', 'post_position_track_bias', 'raw_tabnet_prediction', 'predicted_position_tabnet', 'raw_rf_prediction', 'predicted_position_rf', 'predicted_position_base']
2025-11-10 23:17:14,878 - race_prediction.competitive_field_analyzer - INFO - === CRITICAL COLUMNS ANALYSIS ===
2025-11-10 23:17:14,878 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ recordG: 16/16 non-null values (100.0%)
2025-11-10 23:17:14,878 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [0.0, 0.0, 0.0]
2025-11-10 23:17:14,878 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ hippo: 16/16 non-null values (100.0%)
2025-11-10 23:17:14,878 - race_prediction.competitive_field_analyzer - INFO -    Sample values: ['Nantes', 'Nantes', 'Nantes']
2025-11-10 23:17:14,878 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ coursescheval: 16/16 non-null values (100.0%)
2025-11-10 23:17:14,878 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [48, 57, 40]
2025-11-10 23:17:14,878 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ victoirescheval: 16/16 non-null values (100.0%)
2025-11-10 23:17:14,878 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [8, 17, 7]
2025-11-10 23:17:14,878 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ placescheval: 16/16 non-null values (100.0%)
2025-11-10 23:17:14,878 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [21, 28, 18]
2025-11-10 23:17:14,878 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ gainsCarriere: 16/16 non-null values (100.0%)
2025-11-10 23:17:14,878 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [27407000, 27703500, 28295000]
2025-11-10 23:17:14,879 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ age: 16/16 non-null values (100.0%)
2025-11-10 23:17:14,879 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [7, 8, 6]
2025-11-10 23:17:14,879 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ derniereplace: 16/16 non-null values (100.0%)
2025-11-10 23:17:14,879 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [7.0, 1.0, 10.0]
2025-11-10 23:17:14,879 - race_prediction.competitive_field_analyzer - INFO - === RACE METADATA ===
2025-11-10 23:17:14,879 - race_prediction.competitive_field_analyzer - INFO - comp: 1619950
2025-11-10 23:17:14,879 - race_prediction.competitive_field_analyzer - INFO - hippo: Nantes
2025-11-10 23:17:14,879 - race_prediction.competitive_field_analyzer - INFO - dist: 3000
2025-11-10 23:17:14,879 - race_prediction.competitive_field_analyzer - INFO - typec: Attel√©
2025-11-10 23:17:14,879 - race_prediction.competitive_field_analyzer - INFO - partant: 16
2025-11-10 23:17:14,879 - race_prediction.competitive_field_analyzer - INFO - === SAMPLE RACE DATA ===
2025-11-10 23:17:14,879 - race_prediction.competitive_field_analyzer - INFO - Sample data (columns: ['numero', 'cheval', 'recordG', 'hippo', 'coursescheval']):
2025-11-10 23:17:14,879 - race_prediction.competitive_field_analyzer - INFO -   Horse 0: {'numero': 1, 'cheval': 'Idylle Express', 'recordG': 0.0, 'hippo': 'Nantes', 'coursescheval': 48}
2025-11-10 23:17:14,879 - race_prediction.competitive_field_analyzer - INFO -   Horse 1: {'numero': 2, 'cheval': 'Hiwi Rocq', 'recordG': 0.0, 'hippo': 'Nantes', 'coursescheval': 57}
2025-11-10 23:17:14,879 - race_prediction.competitive_field_analyzer - INFO -   Horse 2: {'numero': 3, 'cheval': 'Jongleuse de Lune', 'recordG': 0.0, 'hippo': 'Nantes', 'coursescheval': 40}
2025-11-10 23:17:14,879 - race_prediction.competitive_field_analyzer - INFO - === END COMPETITIVE ANALYSIS DEBUG ===

2025-11-10 23:17:14,879 - race_prediction.competitive_field_analyzer - INFO - === RETRIEVING HISTORICAL DATA ===
2025-11-10 23:17:14,879 - race_prediction.competitive_field_analyzer - INFO - Fetching historical data for 16 horses: [1491747, 1389850, 1515214, 1438306, 1387981, 1553530, 1380598, 1519607, 1460254, 1382982, 1497360, 1382150, 1556553, 1434377, 1468153, 1574234]
2025-11-10 23:17:14,880 - race_prediction.competitive_field_analyzer - INFO - Batch querying historical data for 16 horses: [1491747, 1389850, 1515214, 1438306, 1387981, 1553530, 1380598, 1519607, 1460254, 1382982, 1497360, 1382150, 1556553, 1434377, 1468153, 1574234]
2025-11-10 23:17:32,804 - race_prediction.competitive_field_analyzer - INFO - Batch query completed in 17.92s, found 200 total records
2025-11-10 23:17:32,812 - race_prediction.competitive_field_analyzer - INFO - Batch query retrieved 200 total historical races
2025-11-10 23:17:32,813 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS PER HORSE ===
2025-11-10 23:17:32,813 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1491747: 11 historical races found
2025-11-10 23:17:32,813 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1389850: 4 historical races found
2025-11-10 23:17:32,813 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1515214: 15 historical races found
2025-11-10 23:17:32,813 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1438306: 8 historical races found
2025-11-10 23:17:32,813 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1387981: 9 historical races found
2025-11-10 23:17:32,813 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1553530: 13 historical races found
2025-11-10 23:17:32,813 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1380598: 16 historical races found
2025-11-10 23:17:32,813 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1519607: 19 historical races found
2025-11-10 23:17:32,813 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1460254: 8 historical races found
2025-11-10 23:17:32,813 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1382982: 16 historical races found
2025-11-10 23:17:32,813 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1497360: 16 historical races found
2025-11-10 23:17:32,813 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1382150: 15 historical races found
2025-11-10 23:17:32,813 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1556553: 6 historical races found
2025-11-10 23:17:32,813 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1434377: 20 historical races found
2025-11-10 23:17:32,813 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1468153: 11 historical races found
2025-11-10 23:17:32,813 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1574234: 13 historical races found
2025-11-10 23:17:32,813 - race_prediction.competitive_field_analyzer - INFO - Retrieved 200 total historical races
2025-11-10 23:17:32,813 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS BY HORSE ===
2025-11-10 23:17:32,813 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1491747: 11 historical races
2025-11-10 23:17:32,813 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1389850: 4 historical races
2025-11-10 23:17:32,813 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1515214: 15 historical races
2025-11-10 23:17:32,813 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1438306: 8 historical races
2025-11-10 23:17:32,813 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1387981: 9 historical races
2025-11-10 23:17:32,813 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1553530: 13 historical races
2025-11-10 23:17:32,813 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1380598: 16 historical races
2025-11-10 23:17:32,813 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1519607: 19 historical races
2025-11-10 23:17:32,813 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1460254: 8 historical races
2025-11-10 23:17:32,813 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1382982: 16 historical races
2025-11-10 23:17:32,813 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1497360: 16 historical races
2025-11-10 23:17:32,813 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1382150: 15 historical races
2025-11-10 23:17:32,813 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1556553: 6 historical races
2025-11-10 23:17:32,813 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1434377: 20 historical races
2025-11-10 23:17:32,813 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1468153: 11 historical races
2025-11-10 23:17:32,813 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1574234: 13 historical races
2025-11-10 23:17:32,813 - race_prediction.competitive_field_analyzer - INFO - === END HISTORICAL DATA RETRIEVAL ===

2025-11-10 23:17:32,814 - race_prediction.competitive_field_analyzer - INFO - === EARNINGS QUALITY ANALYSIS ===
2025-11-10 23:17:32,814 - race_prediction.competitive_field_analyzer - INFO - Valid earnings data: 16/16 horses
2025-11-10 23:17:32,814 - race_prediction.competitive_field_analyzer - INFO - Sample earnings per race: ['570,979', '486,026', '707,375']
2025-11-10 23:17:32,814 - race_prediction.competitive_field_analyzer - INFO - Field earnings stats: avg=815,220, max=2,183,902
2025-11-10 23:17:32,814 - race_prediction.competitive_field_analyzer - INFO - === TRACK SPECIALIZATION ANALYSIS ===
2025-11-10 23:17:32,814 - race_prediction.competitive_field_analyzer - INFO - Horses with reliable venue data (3+ races): 0/16
2025-11-10 23:17:32,815 - race_prediction.competitive_field_analyzer - INFO - === FORM MOMENTUM ANALYSIS ===
2025-11-10 23:17:32,815 - race_prediction.competitive_field_analyzer - INFO - Field avg horse trend: -2.065, recent perf: 6.77
2025-11-10 23:17:32,815 - race_prediction.competitive_field_analyzer - INFO - Field avg jockey trend: -1.440
2025-11-10 23:17:32,816 - race_prediction.competitive_field_analyzer - INFO - Horses with improving form: 1/16
2025-11-10 23:17:32,816 - race_prediction.competitive_field_analyzer - INFO - === HOT CONNECTIONS ANALYSIS ===
2025-11-10 23:17:32,816 - race_prediction.competitive_field_analyzer - INFO - Jockeys with wins today: 0/16
2025-11-10 23:17:32,816 - race_prediction.competitive_field_analyzer - INFO - Trainers with wins today: 0/16
2025-11-10 23:17:32,816 - race_prediction.competitive_field_analyzer - INFO - === DISTANCE COMFORT ANALYSIS ===
2025-11-10 23:17:32,816 - race_prediction.competitive_field_analyzer - INFO - Current race distance: 3000m
2025-11-10 23:17:32,816 - race_prediction.competitive_field_analyzer - INFO - Horses with similar recent distance: 10/16
2025-11-10 23:17:32,816 - race_prediction.competitive_field_analyzer - INFO - === REALISTIC COMPETITIVE SCORING ===
2025-11-10 23:17:32,817 - race_prediction.competitive_field_analyzer - INFO - üìä COMPETITIVE ANALYSIS SUMMARY:
2025-11-10 23:17:32,817 - race_prediction.competitive_field_analyzer - INFO -    Total competitive races: 200
2025-11-10 23:17:32,817 - race_prediction.competitive_field_analyzer - INFO -    Horses with historical data: 16/16
2025-11-10 23:17:32,817 - race_prediction.competitive_field_analyzer - INFO -    Average races per horse: 12.5
2025-11-10 23:17:32,826 - race_prediction.quinte_prediction_storage - INFO - Stored 16 horses for Quint√© race 1619950
2025-11-10 23:17:34,879 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE ANALYSIS DEBUG ===
2025-11-10 23:17:34,879 - race_prediction.competitive_field_analyzer - INFO - Analyzing competitive field for race with 16 horses
2025-11-10 23:17:34,880 - race_prediction.competitive_field_analyzer - INFO - Race data shape: (16, 280)
2025-11-10 23:17:34,880 - race_prediction.competitive_field_analyzer - INFO - Available columns: ['id', 'comp', 'jour', 'hippo', 'reun', 'prix', 'prixnom', 'typec', 'partant', 'dist', 'handi', 'groupe', 'quinte', 'natpis', 'meteo', 'corde', 'temperature', 'forceVent', 'directionVent', 'nebulosite', 'prediction_results', 'actual_results', 'created_at', 'updated_at', 'processed_data', 'cheque', 'handi_raw', 'reclam', 'sex', 'tempscourse', 'handicap_level_score', 'cl', 'numero', 'cheval', 'age', 'cotedirect', 'coteprob', 'recence', 'ecar', 'defoeil', 'defoeilPrec', 'musiqueche', 'musiquejoc', 'entraineur', 'coursescheval', 'victoirescheval', 'placescheval', 'dernierealloc', 'derniernbpartants', 'dernieredist', 'derniereplace', 'dernierecote', 'dernierEnt', 'proprietaire', 'poidmont', 'pourcVictJockHippo', 'pourcPlaceJockHippo', 'pourcVictChevalHippo', 'pourcPlaceChevalHippo', 'tempstot', 'vha', 'recordG', 'txreclam', 'dernierTxreclam', 'gainsCarriere', 'gainsAnneeEnCours', 'handicapDistance', 'handicapPoids', 'TxVictCouple', 'nbVictCouple', 'nbPlaceCouple', 'idche', 'idJockey', 'idEntraineur', 'defFirstTime', 'oeilFirstTime', 'oeil', 'dernierOeil', 'ratio_victoires', 'ratio_places', 'gains_par_course', 'efficacite_couple', 'regularite_couple', 'progression_couple', 'perf_cheval_hippo', 'perf_jockey_hippo', 'trainer_victoires', 'trainer_places', 'trainer_courses', 'trainer_winrate', 'trainer_placerate', 'trainer_quality_score', 'trainer_experience_level', 'handicap_poids', 'handicap_dist', 'prec_handicap_poids', 'prec_handicap_dist', 'handicap_poids_change', 'handicap_poids_increased', 'handicap_poids_decreased', 'handicap_dist_change', 'handicap_dist_increased', 'handicap_dist_decreased', 'total_handicap', 'handicap_momentum', 'last_race_position', 'last_race_distance', 'distance_change', 'distance_change_pct', 'distance_increased', 'distance_decreased', 'same_distance', 'corde_change', 'corde_improved', 'corde_worsened', 'last_race_top3', 'last_race_won', 'blinkers_first_time', 'has_blinkers', 'has_standard_blinkers', 'has_australian_blinkers', 'blinkers_added', 'blinkers_removed', 'blinkers_type_changed', 'blinkers_any_change', 'blinkers_high_impact_change', 'shoeing_first_time', 'fully_shod', 'front_shod_only', 'back_shod_only', 'barefoot', 'shoeing_changed', 'barefoot_to_shod', 'shod_to_barefoot', 'major_shoeing_change', 'shoeing_complexity', 'multiple_equipment_changes', 'equipment_momentum_score', 'high_equipment_momentum', 'multiple_first_time_changes', 'equipment_optimization_score', 'career_strike_rate', 'earnings_per_race', 'earnings_trend', 'last_race_position_normalized', 'last_race_odds_normalized', 'last_race_field_size_factor', 'distance_consistency', 'vha_normalized', 'claiming_tax_trend', 'class_stability', 'che_global_avg_pos', 'che_global_recent_perf', 'che_global_consistency', 'che_global_trend', 'che_global_pct_top3', 'che_global_nb_courses', 'che_global_total_races', 'che_global_dnf_rate', 'che_weighted_avg_pos', 'che_weighted_recent_perf', 'che_weighted_consistency', 'che_weighted_pct_top3', 'che_weighted_nb_courses', 'che_weighted_total_races', 'che_weighted_dnf_rate', 'che_weighted_trend', 'che_bytype_avg_pos', 'che_bytype_recent_perf', 'che_bytype_consistency', 'che_bytype_trend', 'che_bytype_pct_top3', 'che_bytype_nb_courses', 'che_bytype_total_races', 'che_bytype_dnf_rate', 'joc_global_avg_pos', 'joc_global_recent_perf', 'joc_global_consistency', 'joc_global_trend', 'joc_global_pct_top3', 'joc_global_nb_courses', 'joc_global_total_races', 'joc_global_dnf_rate', 'joc_weighted_avg_pos', 'joc_weighted_recent_perf', 'joc_weighted_consistency', 'joc_weighted_pct_top3', 'joc_weighted_nb_courses', 'joc_weighted_total_races', 'joc_weighted_dnf_rate', 'joc_weighted_trend', 'joc_bytype_avg_pos', 'joc_bytype_recent_perf', 'joc_bytype_consistency', 'joc_bytype_trend', 'joc_bytype_pct_top3', 'joc_bytype_nb_courses', 'joc_bytype_total_races', 'joc_bytype_dnf_rate', 'che_form_momentum', 'che_improving_form', 'che_declining_form', 'che_high_consistency', 'che_recent_quality', 'che_elite_performer', 'che_regular_placer', 'joc_form_momentum', 'joc_improving_form', 'joc_high_consistency', 'joc_elite_performer', 'synergy_both_improving', 'synergy_both_consistent', 'synergy_both_elite', 'overall_momentum_score', 'high_momentum', 'class_drop_pct', 'purse_per_starter', 'purse_ratio', 'moving_up_in_class', 'class_shock_indicator', 'handicap_level_change', 'time_per_distance', 'time_vs_record', 'pace_rating', 'speed_figure_proxy', 'market_confidence_shift', 'last_race_improvement', 'bounce_risk', 'layoff_distance_interaction', 'trainer_change', 'connection_stability', 'field_size_change', 'distance_comfort', 'competition_level_shift', 'recence_x_class_drop', 'trainer_change_x_recence', 'distance_change_x_recence', 'che_by_type_avg_pos', 'che_by_type_recent_perf', 'che_by_type_consistency', 'che_by_type_trend', 'che_by_type_pct_top3', 'che_by_type_nb_courses', 'che_by_type_total_races', 'che_by_type_dnf_rate', 'joc_by_type_avg_pos', 'joc_by_type_recent_perf', 'joc_by_type_consistency', 'joc_by_type_trend', 'joc_by_type_pct_top3', 'joc_by_type_nb_courses', 'joc_by_type_total_races', 'joc_by_type_dnf_rate', 'quinte_career_starts', 'quinte_win_rate', 'quinte_top5_rate', 'avg_quinte_position', 'days_since_last_quinte', 'quinte_handicap_specialist', 'quinte_conditions_specialist', 'quinte_large_field_ability', 'quinte_track_condition_fit', 'is_handicap_quinte', 'handicap_division', 'purse_level_category', 'field_size_category', 'track_condition_PH', 'track_condition_DUR', 'track_condition_PS', 'track_condition_PSF', 'weather_clear', 'weather_rain', 'weather_cloudy', 'post_position_bias', 'post_position_track_bias', 'raw_tabnet_prediction', 'predicted_position_tabnet', 'raw_rf_prediction', 'predicted_position_rf', 'predicted_position_base']
2025-11-10 23:17:34,880 - race_prediction.competitive_field_analyzer - INFO - === CRITICAL COLUMNS ANALYSIS ===
2025-11-10 23:17:34,880 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ recordG: 16/16 non-null values (100.0%)
2025-11-10 23:17:34,880 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [0.0, 0.0, 0.0]
2025-11-10 23:17:34,880 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ hippo: 16/16 non-null values (100.0%)
2025-11-10 23:17:34,880 - race_prediction.competitive_field_analyzer - INFO -    Sample values: ['Paris-Vincennes', 'Paris-Vincennes', 'Paris-Vincennes']
2025-11-10 23:17:34,880 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ coursescheval: 16/16 non-null values (100.0%)
2025-11-10 23:17:34,880 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [25, 22, 40]
2025-11-10 23:17:34,880 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ victoirescheval: 16/16 non-null values (100.0%)
2025-11-10 23:17:34,880 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [5, 3, 3]
2025-11-10 23:17:34,880 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ placescheval: 16/16 non-null values (100.0%)
2025-11-10 23:17:34,881 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [9, 7, 9]
2025-11-10 23:17:34,881 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ gainsCarriere: 16/16 non-null values (100.0%)
2025-11-10 23:17:34,881 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [8792000, 8806000, 8993000]
2025-11-10 23:17:34,881 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ age: 16/16 non-null values (100.0%)
2025-11-10 23:17:34,881 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [5, 5, 5]
2025-11-10 23:17:34,881 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ derniereplace: 16/16 non-null values (100.0%)
2025-11-10 23:17:34,881 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [9.0, 7.0, 15.0]
2025-11-10 23:17:34,881 - race_prediction.competitive_field_analyzer - INFO - === RACE METADATA ===
2025-11-10 23:17:34,881 - race_prediction.competitive_field_analyzer - INFO - comp: 1618791
2025-11-10 23:17:34,881 - race_prediction.competitive_field_analyzer - INFO - hippo: Paris-Vincennes
2025-11-10 23:17:34,881 - race_prediction.competitive_field_analyzer - INFO - dist: 2700
2025-11-10 23:17:34,881 - race_prediction.competitive_field_analyzer - INFO - typec: Attel√©
2025-11-10 23:17:34,881 - race_prediction.competitive_field_analyzer - INFO - partant: 16
2025-11-10 23:17:34,881 - race_prediction.competitive_field_analyzer - INFO - === SAMPLE RACE DATA ===
2025-11-10 23:17:34,881 - race_prediction.competitive_field_analyzer - INFO - Sample data (columns: ['numero', 'cheval', 'recordG', 'hippo', 'coursescheval']):
2025-11-10 23:17:34,881 - race_prediction.competitive_field_analyzer - INFO -   Horse 0: {'numero': 1, 'cheval': "Karvina d'Ela", 'recordG': 0.0, 'hippo': 'Paris-Vincennes', 'coursescheval': 25}
2025-11-10 23:17:34,881 - race_prediction.competitive_field_analyzer - INFO -   Horse 1: {'numero': 2, 'cheval': 'Koh Samui', 'recordG': 0.0, 'hippo': 'Paris-Vincennes', 'coursescheval': 22}
2025-11-10 23:17:34,881 - race_prediction.competitive_field_analyzer - INFO -   Horse 2: {'numero': 3, 'cheval': 'Kelle Class', 'recordG': 0.0, 'hippo': 'Paris-Vincennes', 'coursescheval': 40}
2025-11-10 23:17:34,881 - race_prediction.competitive_field_analyzer - INFO - === END COMPETITIVE ANALYSIS DEBUG ===

2025-11-10 23:17:34,881 - race_prediction.competitive_field_analyzer - INFO - === RETRIEVING HISTORICAL DATA ===
2025-11-10 23:17:34,882 - race_prediction.competitive_field_analyzer - INFO - Fetching historical data for 16 horses: [1580126, 1575520, 1566866, 1572457, 1565635, 1583971, 1552861, 1657540, 1557734, 1581928, 1660138, 1580185, 1584739, 1558628, 1552859, 1575465]
2025-11-10 23:17:34,883 - race_prediction.competitive_field_analyzer - INFO - Batch querying historical data for 16 horses: [1580126, 1575520, 1566866, 1572457, 1565635, 1583971, 1552861, 1657540, 1557734, 1581928, 1660138, 1580185, 1584739, 1558628, 1552859, 1575465]
2025-11-10 23:17:52,417 - race_prediction.competitive_field_analyzer - INFO - Batch query completed in 17.53s, found 181 total records
2025-11-10 23:17:52,425 - race_prediction.competitive_field_analyzer - INFO - Batch query retrieved 181 total historical races
2025-11-10 23:17:52,425 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS PER HORSE ===
2025-11-10 23:17:52,425 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1580126: 9 historical races found
2025-11-10 23:17:52,425 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1575520: 10 historical races found
2025-11-10 23:17:52,425 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1566866: 14 historical races found
2025-11-10 23:17:52,425 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1572457: 15 historical races found
2025-11-10 23:17:52,425 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1565635: 7 historical races found
2025-11-10 23:17:52,425 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1583971: 9 historical races found
2025-11-10 23:17:52,425 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1552861: 14 historical races found
2025-11-10 23:17:52,425 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1657540: 8 historical races found
2025-11-10 23:17:52,425 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1557734: 12 historical races found
2025-11-10 23:17:52,425 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1581928: 17 historical races found
2025-11-10 23:17:52,425 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1660138: 10 historical races found
2025-11-10 23:17:52,425 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1580185: 12 historical races found
2025-11-10 23:17:52,425 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1584739: 9 historical races found
2025-11-10 23:17:52,425 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1558628: 9 historical races found
2025-11-10 23:17:52,425 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1552859: 12 historical races found
2025-11-10 23:17:52,425 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1575465: 14 historical races found
2025-11-10 23:17:52,425 - race_prediction.competitive_field_analyzer - INFO - Retrieved 181 total historical races
2025-11-10 23:17:52,425 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS BY HORSE ===
2025-11-10 23:17:52,425 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1580126: 9 historical races
2025-11-10 23:17:52,425 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1575520: 10 historical races
2025-11-10 23:17:52,425 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1566866: 14 historical races
2025-11-10 23:17:52,425 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1572457: 15 historical races
2025-11-10 23:17:52,425 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1565635: 7 historical races
2025-11-10 23:17:52,425 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1583971: 9 historical races
2025-11-10 23:17:52,425 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1552861: 14 historical races
2025-11-10 23:17:52,425 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1657540: 8 historical races
2025-11-10 23:17:52,425 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1557734: 12 historical races
2025-11-10 23:17:52,425 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1581928: 17 historical races
2025-11-10 23:17:52,425 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1660138: 10 historical races
2025-11-10 23:17:52,425 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1580185: 12 historical races
2025-11-10 23:17:52,425 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1584739: 9 historical races
2025-11-10 23:17:52,425 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1558628: 9 historical races
2025-11-10 23:17:52,425 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1552859: 12 historical races
2025-11-10 23:17:52,425 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1575465: 14 historical races
2025-11-10 23:17:52,426 - race_prediction.competitive_field_analyzer - INFO - === END HISTORICAL DATA RETRIEVAL ===

2025-11-10 23:17:52,426 - race_prediction.competitive_field_analyzer - INFO - === EARNINGS QUALITY ANALYSIS ===
2025-11-10 23:17:52,426 - race_prediction.competitive_field_analyzer - INFO - Valid earnings data: 16/16 horses
2025-11-10 23:17:52,426 - race_prediction.competitive_field_analyzer - INFO - Sample earnings per race: ['351,680', '400,273', '224,825']
2025-11-10 23:17:52,426 - race_prediction.competitive_field_analyzer - INFO - Field earnings stats: avg=368,848, max=666,214
2025-11-10 23:17:52,426 - race_prediction.competitive_field_analyzer - INFO - === TRACK SPECIALIZATION ANALYSIS ===
2025-11-10 23:17:52,426 - race_prediction.competitive_field_analyzer - INFO - Horses with reliable venue data (3+ races): 0/16
2025-11-10 23:17:52,427 - race_prediction.competitive_field_analyzer - INFO - === FORM MOMENTUM ANALYSIS ===
2025-11-10 23:17:52,427 - race_prediction.competitive_field_analyzer - INFO - Field avg horse trend: 0.689, recent perf: 7.75
2025-11-10 23:17:52,427 - race_prediction.competitive_field_analyzer - INFO - Field avg jockey trend: -0.681
2025-11-10 23:17:52,427 - race_prediction.competitive_field_analyzer - INFO - Horses with improving form: 4/16
2025-11-10 23:17:52,427 - race_prediction.competitive_field_analyzer - INFO - === HOT CONNECTIONS ANALYSIS ===
2025-11-10 23:17:52,427 - race_prediction.competitive_field_analyzer - INFO - Jockeys with wins today: 0/16
2025-11-10 23:17:52,427 - race_prediction.competitive_field_analyzer - INFO - Trainers with wins today: 0/16
2025-11-10 23:17:52,428 - race_prediction.competitive_field_analyzer - INFO - === DISTANCE COMFORT ANALYSIS ===
2025-11-10 23:17:52,428 - race_prediction.competitive_field_analyzer - INFO - Current race distance: 2700m
2025-11-10 23:17:52,428 - race_prediction.competitive_field_analyzer - INFO - Horses with similar recent distance: 13/16
2025-11-10 23:17:52,428 - race_prediction.competitive_field_analyzer - INFO - === REALISTIC COMPETITIVE SCORING ===
2025-11-10 23:17:52,428 - race_prediction.competitive_field_analyzer - INFO - üìä COMPETITIVE ANALYSIS SUMMARY:
2025-11-10 23:17:52,428 - race_prediction.competitive_field_analyzer - INFO -    Total competitive races: 181
2025-11-10 23:17:52,429 - race_prediction.competitive_field_analyzer - INFO -    Horses with historical data: 16/16
2025-11-10 23:17:52,429 - race_prediction.competitive_field_analyzer - INFO -    Average races per horse: 11.3
2025-11-10 23:17:52,436 - race_prediction.quinte_prediction_storage - INFO - Stored 16 horses for Quint√© race 1618791
2025-11-10 23:17:54,236 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE ANALYSIS DEBUG ===
2025-11-10 23:17:54,236 - race_prediction.competitive_field_analyzer - INFO - Analyzing competitive field for race with 14 horses
2025-11-10 23:17:54,236 - race_prediction.competitive_field_analyzer - INFO - Race data shape: (14, 280)
2025-11-10 23:17:54,236 - race_prediction.competitive_field_analyzer - INFO - Available columns: ['id', 'comp', 'jour', 'hippo', 'reun', 'prix', 'prixnom', 'typec', 'partant', 'dist', 'handi', 'groupe', 'quinte', 'natpis', 'meteo', 'corde', 'temperature', 'forceVent', 'directionVent', 'nebulosite', 'prediction_results', 'actual_results', 'created_at', 'updated_at', 'processed_data', 'cheque', 'handi_raw', 'reclam', 'sex', 'tempscourse', 'handicap_level_score', 'cl', 'numero', 'cheval', 'age', 'cotedirect', 'coteprob', 'recence', 'ecar', 'defoeil', 'defoeilPrec', 'musiqueche', 'musiquejoc', 'entraineur', 'coursescheval', 'victoirescheval', 'placescheval', 'dernierealloc', 'derniernbpartants', 'dernieredist', 'derniereplace', 'dernierecote', 'dernierEnt', 'proprietaire', 'poidmont', 'pourcVictJockHippo', 'pourcPlaceJockHippo', 'pourcVictChevalHippo', 'pourcPlaceChevalHippo', 'tempstot', 'vha', 'recordG', 'txreclam', 'dernierTxreclam', 'gainsCarriere', 'gainsAnneeEnCours', 'handicapDistance', 'handicapPoids', 'TxVictCouple', 'nbVictCouple', 'nbPlaceCouple', 'idche', 'idJockey', 'idEntraineur', 'defFirstTime', 'oeilFirstTime', 'oeil', 'dernierOeil', 'ratio_victoires', 'ratio_places', 'gains_par_course', 'efficacite_couple', 'regularite_couple', 'progression_couple', 'perf_cheval_hippo', 'perf_jockey_hippo', 'trainer_victoires', 'trainer_places', 'trainer_courses', 'trainer_winrate', 'trainer_placerate', 'trainer_quality_score', 'trainer_experience_level', 'handicap_poids', 'handicap_dist', 'prec_handicap_poids', 'prec_handicap_dist', 'handicap_poids_change', 'handicap_poids_increased', 'handicap_poids_decreased', 'handicap_dist_change', 'handicap_dist_increased', 'handicap_dist_decreased', 'total_handicap', 'handicap_momentum', 'last_race_position', 'last_race_distance', 'distance_change', 'distance_change_pct', 'distance_increased', 'distance_decreased', 'same_distance', 'corde_change', 'corde_improved', 'corde_worsened', 'last_race_top3', 'last_race_won', 'blinkers_first_time', 'has_blinkers', 'has_standard_blinkers', 'has_australian_blinkers', 'blinkers_added', 'blinkers_removed', 'blinkers_type_changed', 'blinkers_any_change', 'blinkers_high_impact_change', 'shoeing_first_time', 'fully_shod', 'front_shod_only', 'back_shod_only', 'barefoot', 'shoeing_changed', 'barefoot_to_shod', 'shod_to_barefoot', 'major_shoeing_change', 'shoeing_complexity', 'multiple_equipment_changes', 'equipment_momentum_score', 'high_equipment_momentum', 'multiple_first_time_changes', 'equipment_optimization_score', 'career_strike_rate', 'earnings_per_race', 'earnings_trend', 'last_race_position_normalized', 'last_race_odds_normalized', 'last_race_field_size_factor', 'distance_consistency', 'vha_normalized', 'claiming_tax_trend', 'class_stability', 'che_global_avg_pos', 'che_global_recent_perf', 'che_global_consistency', 'che_global_trend', 'che_global_pct_top3', 'che_global_nb_courses', 'che_global_total_races', 'che_global_dnf_rate', 'che_weighted_avg_pos', 'che_weighted_recent_perf', 'che_weighted_consistency', 'che_weighted_pct_top3', 'che_weighted_nb_courses', 'che_weighted_total_races', 'che_weighted_dnf_rate', 'che_weighted_trend', 'che_bytype_avg_pos', 'che_bytype_recent_perf', 'che_bytype_consistency', 'che_bytype_trend', 'che_bytype_pct_top3', 'che_bytype_nb_courses', 'che_bytype_total_races', 'che_bytype_dnf_rate', 'joc_global_avg_pos', 'joc_global_recent_perf', 'joc_global_consistency', 'joc_global_trend', 'joc_global_pct_top3', 'joc_global_nb_courses', 'joc_global_total_races', 'joc_global_dnf_rate', 'joc_weighted_avg_pos', 'joc_weighted_recent_perf', 'joc_weighted_consistency', 'joc_weighted_pct_top3', 'joc_weighted_nb_courses', 'joc_weighted_total_races', 'joc_weighted_dnf_rate', 'joc_weighted_trend', 'joc_bytype_avg_pos', 'joc_bytype_recent_perf', 'joc_bytype_consistency', 'joc_bytype_trend', 'joc_bytype_pct_top3', 'joc_bytype_nb_courses', 'joc_bytype_total_races', 'joc_bytype_dnf_rate', 'che_form_momentum', 'che_improving_form', 'che_declining_form', 'che_high_consistency', 'che_recent_quality', 'che_elite_performer', 'che_regular_placer', 'joc_form_momentum', 'joc_improving_form', 'joc_high_consistency', 'joc_elite_performer', 'synergy_both_improving', 'synergy_both_consistent', 'synergy_both_elite', 'overall_momentum_score', 'high_momentum', 'class_drop_pct', 'purse_per_starter', 'purse_ratio', 'moving_up_in_class', 'class_shock_indicator', 'handicap_level_change', 'time_per_distance', 'time_vs_record', 'pace_rating', 'speed_figure_proxy', 'market_confidence_shift', 'last_race_improvement', 'bounce_risk', 'layoff_distance_interaction', 'trainer_change', 'connection_stability', 'field_size_change', 'distance_comfort', 'competition_level_shift', 'recence_x_class_drop', 'trainer_change_x_recence', 'distance_change_x_recence', 'che_by_type_avg_pos', 'che_by_type_recent_perf', 'che_by_type_consistency', 'che_by_type_trend', 'che_by_type_pct_top3', 'che_by_type_nb_courses', 'che_by_type_total_races', 'che_by_type_dnf_rate', 'joc_by_type_avg_pos', 'joc_by_type_recent_perf', 'joc_by_type_consistency', 'joc_by_type_trend', 'joc_by_type_pct_top3', 'joc_by_type_nb_courses', 'joc_by_type_total_races', 'joc_by_type_dnf_rate', 'quinte_career_starts', 'quinte_win_rate', 'quinte_top5_rate', 'avg_quinte_position', 'days_since_last_quinte', 'quinte_handicap_specialist', 'quinte_conditions_specialist', 'quinte_large_field_ability', 'quinte_track_condition_fit', 'is_handicap_quinte', 'handicap_division', 'purse_level_category', 'field_size_category', 'track_condition_PH', 'track_condition_DUR', 'track_condition_PS', 'track_condition_PSF', 'weather_clear', 'weather_rain', 'weather_cloudy', 'post_position_bias', 'post_position_track_bias', 'raw_tabnet_prediction', 'predicted_position_tabnet', 'raw_rf_prediction', 'predicted_position_rf', 'predicted_position_base']
2025-11-10 23:17:54,237 - race_prediction.competitive_field_analyzer - INFO - === CRITICAL COLUMNS ANALYSIS ===
2025-11-10 23:17:54,237 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ recordG: 14/14 non-null values (100.0%)
2025-11-10 23:17:54,237 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [0.0, 0.0, 0.0]
2025-11-10 23:17:54,237 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ hippo: 14/14 non-null values (100.0%)
2025-11-10 23:17:54,237 - race_prediction.competitive_field_analyzer - INFO -    Sample values: ['Beaumont-de-Lomagne', 'Beaumont-de-Lomagne', 'Beaumont-de-Lomagne']
2025-11-10 23:17:54,237 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ coursescheval: 14/14 non-null values (100.0%)
2025-11-10 23:17:54,237 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [28, 38, 44]
2025-11-10 23:17:54,237 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ victoirescheval: 14/14 non-null values (100.0%)
2025-11-10 23:17:54,237 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [9, 7, 5]
2025-11-10 23:17:54,237 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ placescheval: 14/14 non-null values (100.0%)
2025-11-10 23:17:54,237 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [16, 21, 15]
2025-11-10 23:17:54,237 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ gainsCarriere: 14/14 non-null values (100.0%)
2025-11-10 23:17:54,237 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [21669500, 20948000, 21108000]
2025-11-10 23:17:54,237 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ age: 14/14 non-null values (100.0%)
2025-11-10 23:17:54,237 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [6, 6, 7]
2025-11-10 23:17:54,237 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ derniereplace: 14/14 non-null values (100.0%)
2025-11-10 23:17:54,238 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [3, 1, 5]
2025-11-10 23:17:54,238 - race_prediction.competitive_field_analyzer - INFO - === RACE METADATA ===
2025-11-10 23:17:54,238 - race_prediction.competitive_field_analyzer - INFO - comp: 1615378
2025-11-10 23:17:54,238 - race_prediction.competitive_field_analyzer - INFO - hippo: Beaumont-de-Lomagne
2025-11-10 23:17:54,238 - race_prediction.competitive_field_analyzer - INFO - dist: 2400
2025-11-10 23:17:54,238 - race_prediction.competitive_field_analyzer - INFO - typec: Attel√©
2025-11-10 23:17:54,238 - race_prediction.competitive_field_analyzer - INFO - partant: 14
2025-11-10 23:17:54,238 - race_prediction.competitive_field_analyzer - INFO - === SAMPLE RACE DATA ===
2025-11-10 23:17:54,238 - race_prediction.competitive_field_analyzer - INFO - Sample data (columns: ['numero', 'cheval', 'recordG', 'hippo', 'coursescheval']):
2025-11-10 23:17:54,238 - race_prediction.competitive_field_analyzer - INFO -   Horse 0: {'numero': 1, 'cheval': 'Joyce Delto', 'recordG': 0.0, 'hippo': 'Beaumont-de-Lomagne', 'coursescheval': 28}
2025-11-10 23:17:54,238 - race_prediction.competitive_field_analyzer - INFO -   Horse 1: {'numero': 2, 'cheval': 'Jojo Toons', 'recordG': 0.0, 'hippo': 'Beaumont-de-Lomagne', 'coursescheval': 38}
2025-11-10 23:17:54,238 - race_prediction.competitive_field_analyzer - INFO -   Horse 2: {'numero': 3, 'cheval': 'Ivrig Viking', 'recordG': 0.0, 'hippo': 'Beaumont-de-Lomagne', 'coursescheval': 44}
2025-11-10 23:17:54,238 - race_prediction.competitive_field_analyzer - INFO - === END COMPETITIVE ANALYSIS DEBUG ===

2025-11-10 23:17:54,238 - race_prediction.competitive_field_analyzer - INFO - === RETRIEVING HISTORICAL DATA ===
2025-11-10 23:17:54,238 - race_prediction.competitive_field_analyzer - INFO - Fetching historical data for 14 horses: [1521761, 1557632, 1463210, 1521583, 1571199, 1430643, 1389154, 1430819, 1515024, 1526420, 1335733, 1403264, 1510772, 1513940]
2025-11-10 23:17:54,239 - race_prediction.competitive_field_analyzer - INFO - Batch querying historical data for 14 horses: [1521761, 1557632, 1463210, 1521583, 1571199, 1430643, 1389154, 1430819, 1515024, 1526420, 1335733, 1403264, 1510772, 1513940]
2025-11-10 23:18:10,387 - race_prediction.competitive_field_analyzer - INFO - Batch query completed in 16.15s, found 179 total records
2025-11-10 23:18:10,395 - race_prediction.competitive_field_analyzer - INFO - Batch query retrieved 179 total historical races
2025-11-10 23:18:10,395 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS PER HORSE ===
2025-11-10 23:18:10,395 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1521761: 11 historical races found
2025-11-10 23:18:10,395 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1557632: 15 historical races found
2025-11-10 23:18:10,395 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1463210: 7 historical races found
2025-11-10 23:18:10,395 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1521583: 11 historical races found
2025-11-10 23:18:10,395 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1571199: 15 historical races found
2025-11-10 23:18:10,396 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1430643: 20 historical races found
2025-11-10 23:18:10,396 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1389154: 9 historical races found
2025-11-10 23:18:10,396 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1430819: 13 historical races found
2025-11-10 23:18:10,396 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1515024: 6 historical races found
2025-11-10 23:18:10,396 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1526420: 12 historical races found
2025-11-10 23:18:10,396 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1335733: 19 historical races found
2025-11-10 23:18:10,396 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1403264: 10 historical races found
2025-11-10 23:18:10,396 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1510772: 18 historical races found
2025-11-10 23:18:10,396 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1513940: 13 historical races found
2025-11-10 23:18:10,396 - race_prediction.competitive_field_analyzer - INFO - Retrieved 179 total historical races
2025-11-10 23:18:10,396 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS BY HORSE ===
2025-11-10 23:18:10,396 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1521761: 11 historical races
2025-11-10 23:18:10,396 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1557632: 15 historical races
2025-11-10 23:18:10,396 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1463210: 7 historical races
2025-11-10 23:18:10,396 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1521583: 11 historical races
2025-11-10 23:18:10,396 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1571199: 15 historical races
2025-11-10 23:18:10,396 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1430643: 20 historical races
2025-11-10 23:18:10,396 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1389154: 9 historical races
2025-11-10 23:18:10,396 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1430819: 13 historical races
2025-11-10 23:18:10,396 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1515024: 6 historical races
2025-11-10 23:18:10,396 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1526420: 12 historical races
2025-11-10 23:18:10,396 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1335733: 19 historical races
2025-11-10 23:18:10,396 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1403264: 10 historical races
2025-11-10 23:18:10,396 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1510772: 18 historical races
2025-11-10 23:18:10,397 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1513940: 13 historical races
2025-11-10 23:18:10,397 - race_prediction.competitive_field_analyzer - INFO - === END HISTORICAL DATA RETRIEVAL ===

2025-11-10 23:18:10,397 - race_prediction.competitive_field_analyzer - INFO - === EARNINGS QUALITY ANALYSIS ===
2025-11-10 23:18:10,397 - race_prediction.competitive_field_analyzer - INFO - Valid earnings data: 14/14 horses
2025-11-10 23:18:10,397 - race_prediction.competitive_field_analyzer - INFO - Sample earnings per race: ['773,911', '551,263', '479,727']
2025-11-10 23:18:10,397 - race_prediction.competitive_field_analyzer - INFO - Field earnings stats: avg=449,186, max=773,911
2025-11-10 23:18:10,397 - race_prediction.competitive_field_analyzer - INFO - === TRACK SPECIALIZATION ANALYSIS ===
2025-11-10 23:18:10,397 - race_prediction.competitive_field_analyzer - INFO - Horses with reliable venue data (3+ races): 0/14
2025-11-10 23:18:10,398 - race_prediction.competitive_field_analyzer - INFO - === FORM MOMENTUM ANALYSIS ===
2025-11-10 23:18:10,398 - race_prediction.competitive_field_analyzer - INFO - Field avg horse trend: 2.359, recent perf: 5.81
2025-11-10 23:18:10,398 - race_prediction.competitive_field_analyzer - INFO - Field avg jockey trend: 0.306
2025-11-10 23:18:10,398 - race_prediction.competitive_field_analyzer - INFO - Horses with improving form: 3/14
2025-11-10 23:18:10,399 - race_prediction.competitive_field_analyzer - INFO - === HOT CONNECTIONS ANALYSIS ===
2025-11-10 23:18:10,399 - race_prediction.competitive_field_analyzer - INFO - Jockeys with wins today: 0/14
2025-11-10 23:18:10,399 - race_prediction.competitive_field_analyzer - INFO - Trainers with wins today: 0/14
2025-11-10 23:18:10,399 - race_prediction.competitive_field_analyzer - INFO - === DISTANCE COMFORT ANALYSIS ===
2025-11-10 23:18:10,399 - race_prediction.competitive_field_analyzer - INFO - Current race distance: 2400m
2025-11-10 23:18:10,399 - race_prediction.competitive_field_analyzer - INFO - Horses with similar recent distance: 4/14
2025-11-10 23:18:10,399 - race_prediction.competitive_field_analyzer - INFO - === REALISTIC COMPETITIVE SCORING ===
2025-11-10 23:18:10,399 - race_prediction.competitive_field_analyzer - INFO - üìä COMPETITIVE ANALYSIS SUMMARY:
2025-11-10 23:18:10,399 - race_prediction.competitive_field_analyzer - INFO -    Total competitive races: 179
2025-11-10 23:18:10,399 - race_prediction.competitive_field_analyzer - INFO -    Horses with historical data: 14/14
2025-11-10 23:18:10,399 - race_prediction.competitive_field_analyzer - INFO -    Average races per horse: 12.8
2025-11-10 23:18:10,409 - race_prediction.quinte_prediction_storage - INFO - Stored 14 horses for Quint√© race 1615378
2025-11-10 23:18:12,270 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE ANALYSIS DEBUG ===
2025-11-10 23:18:12,271 - race_prediction.competitive_field_analyzer - INFO - Analyzing competitive field for race with 16 horses
2025-11-10 23:18:12,271 - race_prediction.competitive_field_analyzer - INFO - Race data shape: (16, 280)
2025-11-10 23:18:12,271 - race_prediction.competitive_field_analyzer - INFO - Available columns: ['id', 'comp', 'jour', 'hippo', 'reun', 'prix', 'prixnom', 'typec', 'partant', 'dist', 'handi', 'groupe', 'quinte', 'natpis', 'meteo', 'corde', 'temperature', 'forceVent', 'directionVent', 'nebulosite', 'prediction_results', 'actual_results', 'created_at', 'updated_at', 'processed_data', 'cheque', 'handi_raw', 'reclam', 'sex', 'tempscourse', 'handicap_level_score', 'cl', 'numero', 'cheval', 'age', 'cotedirect', 'coteprob', 'recence', 'ecar', 'defoeil', 'defoeilPrec', 'musiqueche', 'musiquejoc', 'entraineur', 'coursescheval', 'victoirescheval', 'placescheval', 'dernierealloc', 'derniernbpartants', 'dernieredist', 'derniereplace', 'dernierecote', 'dernierEnt', 'proprietaire', 'poidmont', 'pourcVictJockHippo', 'pourcPlaceJockHippo', 'pourcVictChevalHippo', 'pourcPlaceChevalHippo', 'tempstot', 'vha', 'recordG', 'txreclam', 'dernierTxreclam', 'gainsCarriere', 'gainsAnneeEnCours', 'handicapDistance', 'handicapPoids', 'TxVictCouple', 'nbVictCouple', 'nbPlaceCouple', 'idche', 'idJockey', 'idEntraineur', 'defFirstTime', 'oeilFirstTime', 'oeil', 'dernierOeil', 'ratio_victoires', 'ratio_places', 'gains_par_course', 'efficacite_couple', 'regularite_couple', 'progression_couple', 'perf_cheval_hippo', 'perf_jockey_hippo', 'trainer_victoires', 'trainer_places', 'trainer_courses', 'trainer_winrate', 'trainer_placerate', 'trainer_quality_score', 'trainer_experience_level', 'handicap_poids', 'handicap_dist', 'prec_handicap_poids', 'prec_handicap_dist', 'handicap_poids_change', 'handicap_poids_increased', 'handicap_poids_decreased', 'handicap_dist_change', 'handicap_dist_increased', 'handicap_dist_decreased', 'total_handicap', 'handicap_momentum', 'last_race_position', 'last_race_distance', 'distance_change', 'distance_change_pct', 'distance_increased', 'distance_decreased', 'same_distance', 'corde_change', 'corde_improved', 'corde_worsened', 'last_race_top3', 'last_race_won', 'blinkers_first_time', 'has_blinkers', 'has_standard_blinkers', 'has_australian_blinkers', 'blinkers_added', 'blinkers_removed', 'blinkers_type_changed', 'blinkers_any_change', 'blinkers_high_impact_change', 'shoeing_first_time', 'fully_shod', 'front_shod_only', 'back_shod_only', 'barefoot', 'shoeing_changed', 'barefoot_to_shod', 'shod_to_barefoot', 'major_shoeing_change', 'shoeing_complexity', 'multiple_equipment_changes', 'equipment_momentum_score', 'high_equipment_momentum', 'multiple_first_time_changes', 'equipment_optimization_score', 'career_strike_rate', 'earnings_per_race', 'earnings_trend', 'last_race_position_normalized', 'last_race_odds_normalized', 'last_race_field_size_factor', 'distance_consistency', 'vha_normalized', 'claiming_tax_trend', 'class_stability', 'che_global_avg_pos', 'che_global_recent_perf', 'che_global_consistency', 'che_global_trend', 'che_global_pct_top3', 'che_global_nb_courses', 'che_global_total_races', 'che_global_dnf_rate', 'che_weighted_avg_pos', 'che_weighted_recent_perf', 'che_weighted_consistency', 'che_weighted_pct_top3', 'che_weighted_nb_courses', 'che_weighted_total_races', 'che_weighted_dnf_rate', 'che_weighted_trend', 'che_bytype_avg_pos', 'che_bytype_recent_perf', 'che_bytype_consistency', 'che_bytype_trend', 'che_bytype_pct_top3', 'che_bytype_nb_courses', 'che_bytype_total_races', 'che_bytype_dnf_rate', 'joc_global_avg_pos', 'joc_global_recent_perf', 'joc_global_consistency', 'joc_global_trend', 'joc_global_pct_top3', 'joc_global_nb_courses', 'joc_global_total_races', 'joc_global_dnf_rate', 'joc_weighted_avg_pos', 'joc_weighted_recent_perf', 'joc_weighted_consistency', 'joc_weighted_pct_top3', 'joc_weighted_nb_courses', 'joc_weighted_total_races', 'joc_weighted_dnf_rate', 'joc_weighted_trend', 'joc_bytype_avg_pos', 'joc_bytype_recent_perf', 'joc_bytype_consistency', 'joc_bytype_trend', 'joc_bytype_pct_top3', 'joc_bytype_nb_courses', 'joc_bytype_total_races', 'joc_bytype_dnf_rate', 'che_form_momentum', 'che_improving_form', 'che_declining_form', 'che_high_consistency', 'che_recent_quality', 'che_elite_performer', 'che_regular_placer', 'joc_form_momentum', 'joc_improving_form', 'joc_high_consistency', 'joc_elite_performer', 'synergy_both_improving', 'synergy_both_consistent', 'synergy_both_elite', 'overall_momentum_score', 'high_momentum', 'class_drop_pct', 'purse_per_starter', 'purse_ratio', 'moving_up_in_class', 'class_shock_indicator', 'handicap_level_change', 'time_per_distance', 'time_vs_record', 'pace_rating', 'speed_figure_proxy', 'market_confidence_shift', 'last_race_improvement', 'bounce_risk', 'layoff_distance_interaction', 'trainer_change', 'connection_stability', 'field_size_change', 'distance_comfort', 'competition_level_shift', 'recence_x_class_drop', 'trainer_change_x_recence', 'distance_change_x_recence', 'che_by_type_avg_pos', 'che_by_type_recent_perf', 'che_by_type_consistency', 'che_by_type_trend', 'che_by_type_pct_top3', 'che_by_type_nb_courses', 'che_by_type_total_races', 'che_by_type_dnf_rate', 'joc_by_type_avg_pos', 'joc_by_type_recent_perf', 'joc_by_type_consistency', 'joc_by_type_trend', 'joc_by_type_pct_top3', 'joc_by_type_nb_courses', 'joc_by_type_total_races', 'joc_by_type_dnf_rate', 'quinte_career_starts', 'quinte_win_rate', 'quinte_top5_rate', 'avg_quinte_position', 'days_since_last_quinte', 'quinte_handicap_specialist', 'quinte_conditions_specialist', 'quinte_large_field_ability', 'quinte_track_condition_fit', 'is_handicap_quinte', 'handicap_division', 'purse_level_category', 'field_size_category', 'track_condition_PH', 'track_condition_DUR', 'track_condition_PS', 'track_condition_PSF', 'weather_clear', 'weather_rain', 'weather_cloudy', 'post_position_bias', 'post_position_track_bias', 'raw_tabnet_prediction', 'predicted_position_tabnet', 'raw_rf_prediction', 'predicted_position_rf', 'predicted_position_base']
2025-11-10 23:18:12,271 - race_prediction.competitive_field_analyzer - INFO - === CRITICAL COLUMNS ANALYSIS ===
2025-11-10 23:18:12,271 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ recordG: 16/16 non-null values (100.0%)
2025-11-10 23:18:12,271 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [0.0, 0.0, 0.0]
2025-11-10 23:18:12,272 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ hippo: 16/16 non-null values (100.0%)
2025-11-10 23:18:12,272 - race_prediction.competitive_field_analyzer - INFO -    Sample values: ['Deauville', 'Deauville', 'Deauville']
2025-11-10 23:18:12,272 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ coursescheval: 16/16 non-null values (100.0%)
2025-11-10 23:18:12,272 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [25, 9, 17]
2025-11-10 23:18:12,272 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ victoirescheval: 16/16 non-null values (100.0%)
2025-11-10 23:18:12,272 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [7, 3, 2]
2025-11-10 23:18:12,272 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ placescheval: 16/16 non-null values (100.0%)
2025-11-10 23:18:12,272 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [12, 4, 8]
2025-11-10 23:18:12,272 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ gainsCarriere: 16/16 non-null values (100.0%)
2025-11-10 23:18:12,272 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [15966500, 4109200, 10717200]
2025-11-10 23:18:12,272 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ age: 16/16 non-null values (100.0%)
2025-11-10 23:18:12,272 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [8, 4, 5]
2025-11-10 23:18:12,272 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ derniereplace: 16/16 non-null values (100.0%)
2025-11-10 23:18:12,273 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [8, 6, 6]
2025-11-10 23:18:12,273 - race_prediction.competitive_field_analyzer - INFO - === RACE METADATA ===
2025-11-10 23:18:12,273 - race_prediction.competitive_field_analyzer - INFO - comp: 1607304
2025-11-10 23:18:12,273 - race_prediction.competitive_field_analyzer - INFO - hippo: Deauville
2025-11-10 23:18:12,273 - race_prediction.competitive_field_analyzer - INFO - dist: 1900
2025-11-10 23:18:12,273 - race_prediction.competitive_field_analyzer - INFO - typec: Plat
2025-11-10 23:18:12,273 - race_prediction.competitive_field_analyzer - INFO - partant: 16
2025-11-10 23:18:12,273 - race_prediction.competitive_field_analyzer - INFO - === SAMPLE RACE DATA ===
2025-11-10 23:18:12,273 - race_prediction.competitive_field_analyzer - INFO - Sample data (columns: ['numero', 'cheval', 'recordG', 'hippo', 'coursescheval']):
2025-11-10 23:18:12,273 - race_prediction.competitive_field_analyzer - INFO -   Horse 0: {'numero': 1, 'cheval': 'Kahuna', 'recordG': 0.0, 'hippo': 'Deauville', 'coursescheval': 25}
2025-11-10 23:18:12,273 - race_prediction.competitive_field_analyzer - INFO -   Horse 1: {'numero': 2, 'cheval': 'Prince des Villes', 'recordG': 0.0, 'hippo': 'Deauville', 'coursescheval': 9}
2025-11-10 23:18:12,273 - race_prediction.competitive_field_analyzer - INFO -   Horse 2: {'numero': 3, 'cheval': 'Zvaroshka', 'recordG': 0.0, 'hippo': 'Deauville', 'coursescheval': 17}
2025-11-10 23:18:12,273 - race_prediction.competitive_field_analyzer - INFO - === END COMPETITIVE ANALYSIS DEBUG ===

2025-11-10 23:18:12,274 - race_prediction.competitive_field_analyzer - INFO - === RETRIEVING HISTORICAL DATA ===
2025-11-10 23:18:12,274 - race_prediction.competitive_field_analyzer - INFO - Fetching historical data for 16 horses: [1361490, 1653818, 1570962, 1416740, 1559477, 1523271, 1649377, 1520399, 1553763, 1655545, 1661687, 1572948, 1654163, 1409128, 1696582, 1651290]
2025-11-10 23:18:12,275 - race_prediction.competitive_field_analyzer - INFO - Batch querying historical data for 16 horses: [1361490, 1653818, 1570962, 1416740, 1559477, 1523271, 1649377, 1520399, 1553763, 1655545, 1661687, 1572948, 1654163, 1409128, 1696582, 1651290]
2025-11-10 23:18:28,758 - race_prediction.competitive_field_analyzer - INFO - Batch query completed in 16.48s, found 143 total records
2025-11-10 23:18:28,765 - race_prediction.competitive_field_analyzer - INFO - Batch query retrieved 143 total historical races
2025-11-10 23:18:28,765 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS PER HORSE ===
2025-11-10 23:18:28,765 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1361490: 7 historical races found
2025-11-10 23:18:28,765 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1653818: 6 historical races found
2025-11-10 23:18:28,765 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1570962: 5 historical races found
2025-11-10 23:18:28,765 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1416740: 14 historical races found
2025-11-10 23:18:28,765 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1559477: 4 historical races found
2025-11-10 23:18:28,765 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1523271: 14 historical races found
2025-11-10 23:18:28,765 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1649377: 12 historical races found
2025-11-10 23:18:28,765 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1520399: 7 historical races found
2025-11-10 23:18:28,765 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1553763: 9 historical races found
2025-11-10 23:18:28,765 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1655545: 7 historical races found
2025-11-10 23:18:28,765 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1661687: 8 historical races found
2025-11-10 23:18:28,765 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1572948: 8 historical races found
2025-11-10 23:18:28,765 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1654163: 9 historical races found
2025-11-10 23:18:28,765 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1409128: 17 historical races found
2025-11-10 23:18:28,765 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1696582: 9 historical races found
2025-11-10 23:18:28,765 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1651290: 7 historical races found
2025-11-10 23:18:28,765 - race_prediction.competitive_field_analyzer - INFO - Retrieved 143 total historical races
2025-11-10 23:18:28,765 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS BY HORSE ===
2025-11-10 23:18:28,765 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1361490: 7 historical races
2025-11-10 23:18:28,765 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1653818: 6 historical races
2025-11-10 23:18:28,765 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1570962: 5 historical races
2025-11-10 23:18:28,765 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1416740: 14 historical races
2025-11-10 23:18:28,765 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1559477: 4 historical races
2025-11-10 23:18:28,765 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1523271: 14 historical races
2025-11-10 23:18:28,765 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1649377: 12 historical races
2025-11-10 23:18:28,766 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1520399: 7 historical races
2025-11-10 23:18:28,766 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1553763: 9 historical races
2025-11-10 23:18:28,766 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1655545: 7 historical races
2025-11-10 23:18:28,766 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1661687: 8 historical races
2025-11-10 23:18:28,766 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1572948: 8 historical races
2025-11-10 23:18:28,766 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1654163: 9 historical races
2025-11-10 23:18:28,766 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1409128: 17 historical races
2025-11-10 23:18:28,766 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1696582: 9 historical races
2025-11-10 23:18:28,766 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1651290: 7 historical races
2025-11-10 23:18:28,766 - race_prediction.competitive_field_analyzer - INFO - === END HISTORICAL DATA RETRIEVAL ===

2025-11-10 23:18:28,766 - race_prediction.competitive_field_analyzer - INFO - === EARNINGS QUALITY ANALYSIS ===
2025-11-10 23:18:28,766 - race_prediction.competitive_field_analyzer - INFO - Valid earnings data: 16/16 horses
2025-11-10 23:18:28,766 - race_prediction.competitive_field_analyzer - INFO - Sample earnings per race: ['638,660', '456,578', '630,424']
2025-11-10 23:18:28,766 - race_prediction.competitive_field_analyzer - INFO - Field earnings stats: avg=407,481, max=638,660
2025-11-10 23:18:28,766 - race_prediction.competitive_field_analyzer - INFO - === TRACK SPECIALIZATION ANALYSIS ===
2025-11-10 23:18:28,766 - race_prediction.competitive_field_analyzer - INFO - Horses with reliable venue data (3+ races): 0/16
2025-11-10 23:18:28,767 - race_prediction.competitive_field_analyzer - INFO - === FORM MOMENTUM ANALYSIS ===
2025-11-10 23:18:28,767 - race_prediction.competitive_field_analyzer - INFO - Field avg horse trend: -1.788, recent perf: 8.44
2025-11-10 23:18:28,767 - race_prediction.competitive_field_analyzer - INFO - Field avg jockey trend: -2.168
2025-11-10 23:18:28,767 - race_prediction.competitive_field_analyzer - INFO - Horses with improving form: 4/16
2025-11-10 23:18:28,768 - race_prediction.competitive_field_analyzer - INFO - === HOT CONNECTIONS ANALYSIS ===
2025-11-10 23:18:28,768 - race_prediction.competitive_field_analyzer - INFO - Jockeys with wins today: 0/16
2025-11-10 23:18:28,768 - race_prediction.competitive_field_analyzer - INFO - Trainers with wins today: 0/16
2025-11-10 23:18:28,768 - race_prediction.competitive_field_analyzer - INFO - === DISTANCE COMFORT ANALYSIS ===
2025-11-10 23:18:28,768 - race_prediction.competitive_field_analyzer - INFO - Current race distance: 1900m
2025-11-10 23:18:28,768 - race_prediction.competitive_field_analyzer - INFO - Horses with similar recent distance: 11/16
2025-11-10 23:18:28,768 - race_prediction.competitive_field_analyzer - INFO - === REALISTIC COMPETITIVE SCORING ===
2025-11-10 23:18:28,769 - race_prediction.competitive_field_analyzer - INFO - üìä COMPETITIVE ANALYSIS SUMMARY:
2025-11-10 23:18:28,769 - race_prediction.competitive_field_analyzer - INFO -    Total competitive races: 143
2025-11-10 23:18:28,769 - race_prediction.competitive_field_analyzer - INFO -    Horses with historical data: 16/16
2025-11-10 23:18:28,769 - race_prediction.competitive_field_analyzer - INFO -    Average races per horse: 8.9
2025-11-10 23:18:28,777 - race_prediction.quinte_prediction_storage - INFO - Stored 16 horses for Quint√© race 1607304
2025-11-10 23:18:30,813 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE ANALYSIS DEBUG ===
2025-11-10 23:18:30,813 - race_prediction.competitive_field_analyzer - INFO - Analyzing competitive field for race with 16 horses
2025-11-10 23:18:30,813 - race_prediction.competitive_field_analyzer - INFO - Race data shape: (16, 280)
2025-11-10 23:18:30,813 - race_prediction.competitive_field_analyzer - INFO - Available columns: ['id', 'comp', 'jour', 'hippo', 'reun', 'prix', 'prixnom', 'typec', 'partant', 'dist', 'handi', 'groupe', 'quinte', 'natpis', 'meteo', 'corde', 'temperature', 'forceVent', 'directionVent', 'nebulosite', 'prediction_results', 'actual_results', 'created_at', 'updated_at', 'processed_data', 'cheque', 'handi_raw', 'reclam', 'sex', 'tempscourse', 'handicap_level_score', 'cl', 'numero', 'cheval', 'age', 'cotedirect', 'coteprob', 'recence', 'ecar', 'defoeil', 'defoeilPrec', 'musiqueche', 'musiquejoc', 'entraineur', 'coursescheval', 'victoirescheval', 'placescheval', 'dernierealloc', 'derniernbpartants', 'dernieredist', 'derniereplace', 'dernierecote', 'dernierEnt', 'proprietaire', 'poidmont', 'pourcVictJockHippo', 'pourcPlaceJockHippo', 'pourcVictChevalHippo', 'pourcPlaceChevalHippo', 'tempstot', 'vha', 'recordG', 'txreclam', 'dernierTxreclam', 'gainsCarriere', 'gainsAnneeEnCours', 'handicapDistance', 'handicapPoids', 'TxVictCouple', 'nbVictCouple', 'nbPlaceCouple', 'idche', 'idJockey', 'idEntraineur', 'defFirstTime', 'oeilFirstTime', 'oeil', 'dernierOeil', 'ratio_victoires', 'ratio_places', 'gains_par_course', 'efficacite_couple', 'regularite_couple', 'progression_couple', 'perf_cheval_hippo', 'perf_jockey_hippo', 'trainer_victoires', 'trainer_places', 'trainer_courses', 'trainer_winrate', 'trainer_placerate', 'trainer_quality_score', 'trainer_experience_level', 'handicap_poids', 'handicap_dist', 'prec_handicap_poids', 'prec_handicap_dist', 'handicap_poids_change', 'handicap_poids_increased', 'handicap_poids_decreased', 'handicap_dist_change', 'handicap_dist_increased', 'handicap_dist_decreased', 'total_handicap', 'handicap_momentum', 'last_race_position', 'last_race_distance', 'distance_change', 'distance_change_pct', 'distance_increased', 'distance_decreased', 'same_distance', 'corde_change', 'corde_improved', 'corde_worsened', 'last_race_top3', 'last_race_won', 'blinkers_first_time', 'has_blinkers', 'has_standard_blinkers', 'has_australian_blinkers', 'blinkers_added', 'blinkers_removed', 'blinkers_type_changed', 'blinkers_any_change', 'blinkers_high_impact_change', 'shoeing_first_time', 'fully_shod', 'front_shod_only', 'back_shod_only', 'barefoot', 'shoeing_changed', 'barefoot_to_shod', 'shod_to_barefoot', 'major_shoeing_change', 'shoeing_complexity', 'multiple_equipment_changes', 'equipment_momentum_score', 'high_equipment_momentum', 'multiple_first_time_changes', 'equipment_optimization_score', 'career_strike_rate', 'earnings_per_race', 'earnings_trend', 'last_race_position_normalized', 'last_race_odds_normalized', 'last_race_field_size_factor', 'distance_consistency', 'vha_normalized', 'claiming_tax_trend', 'class_stability', 'che_global_avg_pos', 'che_global_recent_perf', 'che_global_consistency', 'che_global_trend', 'che_global_pct_top3', 'che_global_nb_courses', 'che_global_total_races', 'che_global_dnf_rate', 'che_weighted_avg_pos', 'che_weighted_recent_perf', 'che_weighted_consistency', 'che_weighted_pct_top3', 'che_weighted_nb_courses', 'che_weighted_total_races', 'che_weighted_dnf_rate', 'che_weighted_trend', 'che_bytype_avg_pos', 'che_bytype_recent_perf', 'che_bytype_consistency', 'che_bytype_trend', 'che_bytype_pct_top3', 'che_bytype_nb_courses', 'che_bytype_total_races', 'che_bytype_dnf_rate', 'joc_global_avg_pos', 'joc_global_recent_perf', 'joc_global_consistency', 'joc_global_trend', 'joc_global_pct_top3', 'joc_global_nb_courses', 'joc_global_total_races', 'joc_global_dnf_rate', 'joc_weighted_avg_pos', 'joc_weighted_recent_perf', 'joc_weighted_consistency', 'joc_weighted_pct_top3', 'joc_weighted_nb_courses', 'joc_weighted_total_races', 'joc_weighted_dnf_rate', 'joc_weighted_trend', 'joc_bytype_avg_pos', 'joc_bytype_recent_perf', 'joc_bytype_consistency', 'joc_bytype_trend', 'joc_bytype_pct_top3', 'joc_bytype_nb_courses', 'joc_bytype_total_races', 'joc_bytype_dnf_rate', 'che_form_momentum', 'che_improving_form', 'che_declining_form', 'che_high_consistency', 'che_recent_quality', 'che_elite_performer', 'che_regular_placer', 'joc_form_momentum', 'joc_improving_form', 'joc_high_consistency', 'joc_elite_performer', 'synergy_both_improving', 'synergy_both_consistent', 'synergy_both_elite', 'overall_momentum_score', 'high_momentum', 'class_drop_pct', 'purse_per_starter', 'purse_ratio', 'moving_up_in_class', 'class_shock_indicator', 'handicap_level_change', 'time_per_distance', 'time_vs_record', 'pace_rating', 'speed_figure_proxy', 'market_confidence_shift', 'last_race_improvement', 'bounce_risk', 'layoff_distance_interaction', 'trainer_change', 'connection_stability', 'field_size_change', 'distance_comfort', 'competition_level_shift', 'recence_x_class_drop', 'trainer_change_x_recence', 'distance_change_x_recence', 'che_by_type_avg_pos', 'che_by_type_recent_perf', 'che_by_type_consistency', 'che_by_type_trend', 'che_by_type_pct_top3', 'che_by_type_nb_courses', 'che_by_type_total_races', 'che_by_type_dnf_rate', 'joc_by_type_avg_pos', 'joc_by_type_recent_perf', 'joc_by_type_consistency', 'joc_by_type_trend', 'joc_by_type_pct_top3', 'joc_by_type_nb_courses', 'joc_by_type_total_races', 'joc_by_type_dnf_rate', 'quinte_career_starts', 'quinte_win_rate', 'quinte_top5_rate', 'avg_quinte_position', 'days_since_last_quinte', 'quinte_handicap_specialist', 'quinte_conditions_specialist', 'quinte_large_field_ability', 'quinte_track_condition_fit', 'is_handicap_quinte', 'handicap_division', 'purse_level_category', 'field_size_category', 'track_condition_PH', 'track_condition_DUR', 'track_condition_PS', 'track_condition_PSF', 'weather_clear', 'weather_rain', 'weather_cloudy', 'post_position_bias', 'post_position_track_bias', 'raw_tabnet_prediction', 'predicted_position_tabnet', 'raw_rf_prediction', 'predicted_position_rf', 'predicted_position_base']
2025-11-10 23:18:30,814 - race_prediction.competitive_field_analyzer - INFO - === CRITICAL COLUMNS ANALYSIS ===
2025-11-10 23:18:30,814 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ recordG: 16/16 non-null values (100.0%)
2025-11-10 23:18:30,814 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [0.0, 0.0, 0.0]
2025-11-10 23:18:30,814 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ hippo: 16/16 non-null values (100.0%)
2025-11-10 23:18:30,814 - race_prediction.competitive_field_analyzer - INFO -    Sample values: ['Enghien', 'Enghien', 'Enghien']
2025-11-10 23:18:30,814 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ coursescheval: 16/16 non-null values (100.0%)
2025-11-10 23:18:30,814 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [47, 73, 62]
2025-11-10 23:18:30,814 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ victoirescheval: 16/16 non-null values (100.0%)
2025-11-10 23:18:30,814 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [4, 4, 0]
2025-11-10 23:18:30,814 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ placescheval: 16/16 non-null values (100.0%)
2025-11-10 23:18:30,814 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [11, 8, 12]
2025-11-10 23:18:30,814 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ gainsCarriere: 16/16 non-null values (100.0%)
2025-11-10 23:18:30,814 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [6988500, 7042000, 7062500]
2025-11-10 23:18:30,814 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ age: 16/16 non-null values (100.0%)
2025-11-10 23:18:30,814 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [6, 7, 6]
2025-11-10 23:18:30,815 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ derniereplace: 16/16 non-null values (100.0%)
2025-11-10 23:18:30,815 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [15.0, 15.0, 8.0]
2025-11-10 23:18:30,815 - race_prediction.competitive_field_analyzer - INFO - === RACE METADATA ===
2025-11-10 23:18:30,815 - race_prediction.competitive_field_analyzer - INFO - comp: 1613016
2025-11-10 23:18:30,815 - race_prediction.competitive_field_analyzer - INFO - hippo: Enghien
2025-11-10 23:18:30,815 - race_prediction.competitive_field_analyzer - INFO - dist: 2875
2025-11-10 23:18:30,815 - race_prediction.competitive_field_analyzer - INFO - typec: Attel√©
2025-11-10 23:18:30,815 - race_prediction.competitive_field_analyzer - INFO - partant: 16
2025-11-10 23:18:30,815 - race_prediction.competitive_field_analyzer - INFO - === SAMPLE RACE DATA ===
2025-11-10 23:18:30,815 - race_prediction.competitive_field_analyzer - INFO - Sample data (columns: ['numero', 'cheval', 'recordG', 'hippo', 'coursescheval']):
2025-11-10 23:18:30,815 - race_prediction.competitive_field_analyzer - INFO -   Horse 0: {'numero': 1, 'cheval': 'Jaguar de Rozevic', 'recordG': 0.0, 'hippo': 'Enghien', 'coursescheval': 47}
2025-11-10 23:18:30,815 - race_prediction.competitive_field_analyzer - INFO -   Horse 1: {'numero': 2, 'cheval': "Id√©ale d'Arcey", 'recordG': 0.0, 'hippo': 'Enghien', 'coursescheval': 73}
2025-11-10 23:18:30,815 - race_prediction.competitive_field_analyzer - INFO -   Horse 2: {'numero': 3, 'cheval': 'Jackson Hill', 'recordG': 0.0, 'hippo': 'Enghien', 'coursescheval': 62}
2025-11-10 23:18:30,815 - race_prediction.competitive_field_analyzer - INFO - === END COMPETITIVE ANALYSIS DEBUG ===

2025-11-10 23:18:30,815 - race_prediction.competitive_field_analyzer - INFO - === RETRIEVING HISTORICAL DATA ===
2025-11-10 23:18:30,815 - race_prediction.competitive_field_analyzer - INFO - Fetching historical data for 16 horses: [1543005, 1445416, 1516162, 1519564, 1643171, 1548033, 1520947, 1549672, 1517913, 1474737, 1527398, 1534198, 1528809, 1576404, 1535030, 1522817]
2025-11-10 23:18:30,816 - race_prediction.competitive_field_analyzer - INFO - Batch querying historical data for 16 horses: [1543005, 1445416, 1516162, 1519564, 1643171, 1548033, 1520947, 1549672, 1517913, 1474737, 1527398, 1534198, 1528809, 1576404, 1535030, 1522817]
2025-11-10 23:18:47,018 - race_prediction.competitive_field_analyzer - INFO - Batch query completed in 16.20s, found 219 total records
2025-11-10 23:18:47,026 - race_prediction.competitive_field_analyzer - INFO - Batch query retrieved 219 total historical races
2025-11-10 23:18:47,026 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS PER HORSE ===
2025-11-10 23:18:47,026 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1543005: 17 historical races found
2025-11-10 23:18:47,026 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1445416: 12 historical races found
2025-11-10 23:18:47,026 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1516162: 17 historical races found
2025-11-10 23:18:47,026 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1519564: 7 historical races found
2025-11-10 23:18:47,026 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1643171: 17 historical races found
2025-11-10 23:18:47,026 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1548033: 14 historical races found
2025-11-10 23:18:47,026 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1520947: 14 historical races found
2025-11-10 23:18:47,027 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1549672: 16 historical races found
2025-11-10 23:18:47,027 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1517913: 14 historical races found
2025-11-10 23:18:47,027 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1474737: 15 historical races found
2025-11-10 23:18:47,027 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1527398: 14 historical races found
2025-11-10 23:18:47,027 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1534198: 14 historical races found
2025-11-10 23:18:47,027 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1528809: 17 historical races found
2025-11-10 23:18:47,027 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1576404: 10 historical races found
2025-11-10 23:18:47,027 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1535030: 6 historical races found
2025-11-10 23:18:47,027 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1522817: 15 historical races found
2025-11-10 23:18:47,027 - race_prediction.competitive_field_analyzer - INFO - Retrieved 219 total historical races
2025-11-10 23:18:47,027 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS BY HORSE ===
2025-11-10 23:18:47,027 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1543005: 17 historical races
2025-11-10 23:18:47,027 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1445416: 12 historical races
2025-11-10 23:18:47,027 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1516162: 17 historical races
2025-11-10 23:18:47,027 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1519564: 7 historical races
2025-11-10 23:18:47,027 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1643171: 17 historical races
2025-11-10 23:18:47,027 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1548033: 14 historical races
2025-11-10 23:18:47,027 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1520947: 14 historical races
2025-11-10 23:18:47,027 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1549672: 16 historical races
2025-11-10 23:18:47,027 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1517913: 14 historical races
2025-11-10 23:18:47,027 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1474737: 15 historical races
2025-11-10 23:18:47,027 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1527398: 14 historical races
2025-11-10 23:18:47,027 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1534198: 14 historical races
2025-11-10 23:18:47,027 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1528809: 17 historical races
2025-11-10 23:18:47,027 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1576404: 10 historical races
2025-11-10 23:18:47,027 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1535030: 6 historical races
2025-11-10 23:18:47,027 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1522817: 15 historical races
2025-11-10 23:18:47,027 - race_prediction.competitive_field_analyzer - INFO - === END HISTORICAL DATA RETRIEVAL ===

2025-11-10 23:18:47,028 - race_prediction.competitive_field_analyzer - INFO - === EARNINGS QUALITY ANALYSIS ===
2025-11-10 23:18:47,028 - race_prediction.competitive_field_analyzer - INFO - Valid earnings data: 16/16 horses
2025-11-10 23:18:47,028 - race_prediction.competitive_field_analyzer - INFO - Sample earnings per race: ['148,691', '96,466', '113,911']
2025-11-10 23:18:47,028 - race_prediction.competitive_field_analyzer - INFO - Field earnings stats: avg=225,864, max=462,926
2025-11-10 23:18:47,028 - race_prediction.competitive_field_analyzer - INFO - === TRACK SPECIALIZATION ANALYSIS ===
2025-11-10 23:18:47,028 - race_prediction.competitive_field_analyzer - INFO - Horses with reliable venue data (3+ races): 0/16
2025-11-10 23:18:47,029 - race_prediction.competitive_field_analyzer - INFO - === FORM MOMENTUM ANALYSIS ===
2025-11-10 23:18:47,029 - race_prediction.competitive_field_analyzer - INFO - Field avg horse trend: 0.697, recent perf: 6.17
2025-11-10 23:18:47,029 - race_prediction.competitive_field_analyzer - INFO - Field avg jockey trend: -2.352
2025-11-10 23:18:47,029 - race_prediction.competitive_field_analyzer - INFO - Horses with improving form: 4/16
2025-11-10 23:18:47,029 - race_prediction.competitive_field_analyzer - INFO - === HOT CONNECTIONS ANALYSIS ===
2025-11-10 23:18:47,029 - race_prediction.competitive_field_analyzer - INFO - Jockeys with wins today: 0/16
2025-11-10 23:18:47,029 - race_prediction.competitive_field_analyzer - INFO - Trainers with wins today: 0/16
2025-11-10 23:18:47,030 - race_prediction.competitive_field_analyzer - INFO - === DISTANCE COMFORT ANALYSIS ===
2025-11-10 23:18:47,030 - race_prediction.competitive_field_analyzer - INFO - Current race distance: 2875m
2025-11-10 23:18:47,030 - race_prediction.competitive_field_analyzer - INFO - Horses with similar recent distance: 11/16
2025-11-10 23:18:47,030 - race_prediction.competitive_field_analyzer - INFO - === REALISTIC COMPETITIVE SCORING ===
2025-11-10 23:18:47,030 - race_prediction.competitive_field_analyzer - INFO - üìä COMPETITIVE ANALYSIS SUMMARY:
2025-11-10 23:18:47,030 - race_prediction.competitive_field_analyzer - INFO -    Total competitive races: 219
2025-11-10 23:18:47,030 - race_prediction.competitive_field_analyzer - INFO -    Horses with historical data: 16/16
2025-11-10 23:18:47,030 - race_prediction.competitive_field_analyzer - INFO -    Average races per horse: 13.7
2025-11-10 23:18:47,039 - race_prediction.quinte_prediction_storage - INFO - Stored 16 horses for Quint√© race 1613016
2025-11-10 23:18:48,896 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE ANALYSIS DEBUG ===
2025-11-10 23:18:48,896 - race_prediction.competitive_field_analyzer - INFO - Analyzing competitive field for race with 14 horses
2025-11-10 23:18:48,896 - race_prediction.competitive_field_analyzer - INFO - Race data shape: (14, 278)
2025-11-10 23:18:48,896 - race_prediction.competitive_field_analyzer - INFO - Available columns: ['id', 'comp', 'jour', 'hippo', 'reun', 'prix', 'prixnom', 'typec', 'partant', 'dist', 'handi', 'groupe', 'quinte', 'natpis', 'meteo', 'corde', 'temperature', 'forceVent', 'directionVent', 'nebulosite', 'prediction_results', 'actual_results', 'created_at', 'updated_at', 'processed_data', 'cheque', 'handi_raw', 'reclam', 'sex', 'tempscourse', 'handicap_level_score', 'cl', 'numero', 'cheval', 'age', 'cotedirect', 'coteprob', 'recence', 'ecar', 'defoeil', 'defoeilPrec', 'musiqueche', 'musiquejoc', 'entraineur', 'coursescheval', 'victoirescheval', 'placescheval', 'dernierealloc', 'derniernbpartants', 'dernieredist', 'derniereplace', 'dernierecote', 'dernierEnt', 'proprietaire', 'poidmont', 'pourcVictJockHippo', 'pourcPlaceJockHippo', 'pourcVictChevalHippo', 'pourcPlaceChevalHippo', 'tempstot', 'vha', 'recordG', 'txreclam', 'dernierTxreclam', 'gainsCarriere', 'gainsAnneeEnCours', 'handicapDistance', 'handicapPoids', 'TxVictCouple', 'nbVictCouple', 'nbPlaceCouple', 'idche', 'idJockey', 'idEntraineur', 'defFirstTime', 'oeilFirstTime', 'oeil', 'dernierOeil', 'ratio_victoires', 'ratio_places', 'gains_par_course', 'efficacite_couple', 'regularite_couple', 'progression_couple', 'perf_cheval_hippo', 'perf_jockey_hippo', 'blinkers_first_time', 'has_blinkers', 'has_standard_blinkers', 'has_australian_blinkers', 'blinkers_added', 'blinkers_removed', 'blinkers_type_changed', 'blinkers_any_change', 'blinkers_high_impact_change', 'shoeing_first_time', 'fully_shod', 'front_shod_only', 'back_shod_only', 'barefoot', 'shoeing_changed', 'barefoot_to_shod', 'shod_to_barefoot', 'major_shoeing_change', 'shoeing_complexity', 'multiple_equipment_changes', 'equipment_momentum_score', 'high_equipment_momentum', 'multiple_first_time_changes', 'equipment_optimization_score', 'career_strike_rate', 'earnings_per_race', 'earnings_trend', 'last_race_position_normalized', 'last_race_odds_normalized', 'last_race_field_size_factor', 'distance_consistency', 'vha_normalized', 'claiming_tax_trend', 'class_stability', 'che_global_avg_pos', 'che_global_recent_perf', 'che_global_consistency', 'che_global_trend', 'che_global_pct_top3', 'che_global_nb_courses', 'che_global_total_races', 'che_global_dnf_rate', 'che_weighted_avg_pos', 'che_weighted_recent_perf', 'che_weighted_consistency', 'che_weighted_pct_top3', 'che_weighted_nb_courses', 'che_weighted_total_races', 'che_weighted_dnf_rate', 'che_weighted_trend', 'che_bytype_avg_pos', 'che_bytype_recent_perf', 'che_bytype_consistency', 'che_bytype_trend', 'che_bytype_pct_top3', 'che_bytype_nb_courses', 'che_bytype_dnf_rate', 'joc_global_avg_pos', 'joc_global_recent_perf', 'joc_global_consistency', 'joc_global_trend', 'joc_global_pct_top3', 'joc_global_nb_courses', 'joc_global_total_races', 'joc_global_dnf_rate', 'joc_weighted_avg_pos', 'joc_weighted_recent_perf', 'joc_weighted_consistency', 'joc_weighted_pct_top3', 'joc_weighted_nb_courses', 'joc_weighted_total_races', 'joc_weighted_dnf_rate', 'joc_weighted_trend', 'joc_bytype_avg_pos', 'joc_bytype_recent_perf', 'joc_bytype_consistency', 'joc_bytype_trend', 'joc_bytype_pct_top3', 'joc_bytype_nb_courses', 'joc_bytype_dnf_rate', 'class_drop_pct', 'purse_per_starter', 'purse_ratio', 'moving_up_in_class', 'class_shock_indicator', 'handicap_level_change', 'time_per_distance', 'time_vs_record', 'pace_rating', 'speed_figure_proxy', 'market_confidence_shift', 'last_race_improvement', 'bounce_risk', 'layoff_distance_interaction', 'trainer_change', 'connection_stability', 'field_size_change', 'distance_comfort', 'competition_level_shift', 'recence_x_class_drop', 'trainer_change_x_recence', 'distance_change_x_recence', 'che_by_type_avg_pos', 'che_by_type_recent_perf', 'che_by_type_consistency', 'che_by_type_trend', 'che_by_type_pct_top3', 'che_by_type_nb_courses', 'che_by_type_dnf_rate', 'joc_by_type_avg_pos', 'joc_by_type_recent_perf', 'joc_by_type_consistency', 'joc_by_type_trend', 'joc_by_type_pct_top3', 'joc_by_type_nb_courses', 'joc_by_type_dnf_rate', 'trainer_victoires', 'trainer_places', 'trainer_courses', 'trainer_winrate', 'trainer_placerate', 'trainer_quality_score', 'trainer_experience_level', 'handicap_poids', 'handicap_dist', 'prec_handicap_poids', 'prec_handicap_dist', 'handicap_poids_change', 'handicap_poids_increased', 'handicap_poids_decreased', 'handicap_dist_change', 'handicap_dist_increased', 'handicap_dist_decreased', 'total_handicap', 'handicap_momentum', 'last_race_position', 'last_race_distance', 'distance_change', 'distance_change_pct', 'distance_increased', 'distance_decreased', 'same_distance', 'corde_change', 'corde_improved', 'corde_worsened', 'last_race_top3', 'last_race_won', 'che_bytype_total_races', 'joc_bytype_total_races', 'che_form_momentum', 'che_improving_form', 'che_declining_form', 'che_high_consistency', 'che_recent_quality', 'che_elite_performer', 'che_regular_placer', 'joc_form_momentum', 'joc_improving_form', 'joc_high_consistency', 'joc_elite_performer', 'synergy_both_improving', 'synergy_both_consistent', 'synergy_both_elite', 'overall_momentum_score', 'high_momentum', 'quinte_career_starts', 'quinte_win_rate', 'quinte_top5_rate', 'avg_quinte_position', 'days_since_last_quinte', 'quinte_handicap_specialist', 'quinte_conditions_specialist', 'quinte_large_field_ability', 'quinte_track_condition_fit', 'is_handicap_quinte', 'handicap_division', 'purse_level_category', 'field_size_category', 'track_condition_PH', 'track_condition_DUR', 'track_condition_PS', 'track_condition_PSF', 'weather_clear', 'weather_rain', 'weather_cloudy', 'post_position_bias', 'post_position_track_bias', 'raw_tabnet_prediction', 'predicted_position_tabnet', 'raw_rf_prediction', 'predicted_position_rf', 'predicted_position_base']
2025-11-10 23:18:48,897 - race_prediction.competitive_field_analyzer - INFO - === CRITICAL COLUMNS ANALYSIS ===
2025-11-10 23:18:48,897 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ recordG: 14/14 non-null values (100.0%)
2025-11-10 23:18:48,897 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [0.0, 0.0, 0.0]
2025-11-10 23:18:48,897 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ hippo: 14/14 non-null values (100.0%)
2025-11-10 23:18:48,897 - race_prediction.competitive_field_analyzer - INFO -    Sample values: ['Enghien', 'Enghien', 'Enghien']
2025-11-10 23:18:48,898 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ coursescheval: 14/14 non-null values (100.0%)
2025-11-10 23:18:48,898 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [54, 56, 60]
2025-11-10 23:18:48,898 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ victoirescheval: 14/14 non-null values (100.0%)
2025-11-10 23:18:48,898 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [5, 8, 8]
2025-11-10 23:18:48,898 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ placescheval: 14/14 non-null values (100.0%)
2025-11-10 23:18:48,898 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [13, 15, 20]
2025-11-10 23:18:48,898 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ gainsCarriere: 14/14 non-null values (100.0%)
2025-11-10 23:18:48,898 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [10604400, 11160000, 11434000]
2025-11-10 23:18:48,898 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ age: 14/14 non-null values (100.0%)
2025-11-10 23:18:48,898 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [7, 7, 7]
2025-11-10 23:18:48,898 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ derniereplace: 14/14 non-null values (100.0%)
2025-11-10 23:18:48,898 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [3.0, 5.0, 2.0]
2025-11-10 23:18:48,898 - race_prediction.competitive_field_analyzer - INFO - === RACE METADATA ===
2025-11-10 23:18:48,898 - race_prediction.competitive_field_analyzer - INFO - comp: 1612996
2025-11-10 23:18:48,898 - race_prediction.competitive_field_analyzer - INFO - hippo: Enghien
2025-11-10 23:18:48,898 - race_prediction.competitive_field_analyzer - INFO - dist: 2875
2025-11-10 23:18:48,898 - race_prediction.competitive_field_analyzer - INFO - typec: Attel√©
2025-11-10 23:18:48,898 - race_prediction.competitive_field_analyzer - INFO - partant: 14
2025-11-10 23:18:48,899 - race_prediction.competitive_field_analyzer - INFO - === SAMPLE RACE DATA ===
2025-11-10 23:18:48,899 - race_prediction.competitive_field_analyzer - INFO - Sample data (columns: ['numero', 'cheval', 'recordG', 'hippo', 'coursescheval']):
2025-11-10 23:18:48,899 - race_prediction.competitive_field_analyzer - INFO -   Horse 0: {'numero': 1, 'cheval': 'Ivon de la Monerie', 'recordG': 0.0, 'hippo': 'Enghien', 'coursescheval': 54}
2025-11-10 23:18:48,899 - race_prediction.competitive_field_analyzer - INFO -   Horse 1: {'numero': 2, 'cheval': 'Issi Top', 'recordG': 0.0, 'hippo': 'Enghien', 'coursescheval': 56}
2025-11-10 23:18:48,899 - race_prediction.competitive_field_analyzer - INFO -   Horse 2: {'numero': 3, 'cheval': 'Indigo du Perche', 'recordG': 0.0, 'hippo': 'Enghien', 'coursescheval': 60}
2025-11-10 23:18:48,899 - race_prediction.competitive_field_analyzer - INFO - === END COMPETITIVE ANALYSIS DEBUG ===

2025-11-10 23:18:48,900 - race_prediction.competitive_field_analyzer - INFO - === RETRIEVING HISTORICAL DATA ===
2025-11-10 23:18:48,900 - race_prediction.competitive_field_analyzer - INFO - Fetching historical data for 14 horses: [1495111, 1456976, 1431146, 1432334, 1382940, 1472472, 1469007, 1446131, 1383552, 1520911, 1239944, 1377688, 1457376, 1471736]
2025-11-10 23:18:48,901 - race_prediction.competitive_field_analyzer - INFO - Batch querying historical data for 14 horses: [1495111, 1456976, 1431146, 1432334, 1382940, 1472472, 1469007, 1446131, 1383552, 1520911, 1239944, 1377688, 1457376, 1471736]
2025-11-10 23:19:05,232 - race_prediction.competitive_field_analyzer - INFO - Batch query completed in 16.33s, found 206 total records
2025-11-10 23:19:05,240 - race_prediction.competitive_field_analyzer - INFO - Batch query retrieved 206 total historical races
2025-11-10 23:19:05,241 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS PER HORSE ===
2025-11-10 23:19:05,241 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1495111: 10 historical races found
2025-11-10 23:19:05,241 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1456976: 13 historical races found
2025-11-10 23:19:05,241 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1431146: 17 historical races found
2025-11-10 23:19:05,241 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1432334: 18 historical races found
2025-11-10 23:19:05,241 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1382940: 16 historical races found
2025-11-10 23:19:05,241 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1472472: 7 historical races found
2025-11-10 23:19:05,241 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1469007: 14 historical races found
2025-11-10 23:19:05,241 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1446131: 13 historical races found
2025-11-10 23:19:05,241 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1383552: 15 historical races found
2025-11-10 23:19:05,241 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1520911: 19 historical races found
2025-11-10 23:19:05,241 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1239944: 18 historical races found
2025-11-10 23:19:05,241 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1377688: 16 historical races found
2025-11-10 23:19:05,241 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1457376: 12 historical races found
2025-11-10 23:19:05,241 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1471736: 18 historical races found
2025-11-10 23:19:05,241 - race_prediction.competitive_field_analyzer - INFO - Retrieved 206 total historical races
2025-11-10 23:19:05,241 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS BY HORSE ===
2025-11-10 23:19:05,241 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1495111: 10 historical races
2025-11-10 23:19:05,241 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1456976: 13 historical races
2025-11-10 23:19:05,241 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1431146: 17 historical races
2025-11-10 23:19:05,241 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1432334: 18 historical races
2025-11-10 23:19:05,241 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1382940: 16 historical races
2025-11-10 23:19:05,241 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1472472: 7 historical races
2025-11-10 23:19:05,241 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1469007: 14 historical races
2025-11-10 23:19:05,241 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1446131: 13 historical races
2025-11-10 23:19:05,241 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1383552: 15 historical races
2025-11-10 23:19:05,241 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1520911: 19 historical races
2025-11-10 23:19:05,241 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1239944: 18 historical races
2025-11-10 23:19:05,241 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1377688: 16 historical races
2025-11-10 23:19:05,241 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1457376: 12 historical races
2025-11-10 23:19:05,241 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1471736: 18 historical races
2025-11-10 23:19:05,242 - race_prediction.competitive_field_analyzer - INFO - === END HISTORICAL DATA RETRIEVAL ===

2025-11-10 23:19:05,242 - race_prediction.competitive_field_analyzer - INFO - === EARNINGS QUALITY ANALYSIS ===
2025-11-10 23:19:05,242 - race_prediction.competitive_field_analyzer - INFO - Valid earnings data: 14/14 horses
2025-11-10 23:19:05,242 - race_prediction.competitive_field_analyzer - INFO - Sample earnings per race: ['196,378', '199,286', '190,567']
2025-11-10 23:19:05,242 - race_prediction.competitive_field_analyzer - INFO - Field earnings stats: avg=239,818, max=391,656
2025-11-10 23:19:05,242 - race_prediction.competitive_field_analyzer - INFO - === TRACK SPECIALIZATION ANALYSIS ===
2025-11-10 23:19:05,242 - race_prediction.competitive_field_analyzer - INFO - Horses with reliable venue data (3+ races): 0/14
2025-11-10 23:19:05,243 - race_prediction.competitive_field_analyzer - INFO - === FORM MOMENTUM ANALYSIS ===
2025-11-10 23:19:05,243 - race_prediction.competitive_field_analyzer - INFO - Field avg horse trend: 3.993, recent perf: 7.69
2025-11-10 23:19:05,243 - race_prediction.competitive_field_analyzer - INFO - Field avg jockey trend: 0.039
2025-11-10 23:19:05,243 - race_prediction.competitive_field_analyzer - INFO - Horses with improving form: 4/14
2025-11-10 23:19:05,243 - race_prediction.competitive_field_analyzer - INFO - === HOT CONNECTIONS ANALYSIS ===
2025-11-10 23:19:05,243 - race_prediction.competitive_field_analyzer - INFO - Jockeys with wins today: 0/14
2025-11-10 23:19:05,243 - race_prediction.competitive_field_analyzer - INFO - Trainers with wins today: 0/14
2025-11-10 23:19:05,244 - race_prediction.competitive_field_analyzer - INFO - === DISTANCE COMFORT ANALYSIS ===
2025-11-10 23:19:05,244 - race_prediction.competitive_field_analyzer - INFO - Current race distance: 2875m
2025-11-10 23:19:05,244 - race_prediction.competitive_field_analyzer - INFO - Horses with similar recent distance: 9/14
2025-11-10 23:19:05,244 - race_prediction.competitive_field_analyzer - INFO - === REALISTIC COMPETITIVE SCORING ===
2025-11-10 23:19:05,244 - race_prediction.competitive_field_analyzer - INFO - üìä COMPETITIVE ANALYSIS SUMMARY:
2025-11-10 23:19:05,244 - race_prediction.competitive_field_analyzer - INFO -    Total competitive races: 206
2025-11-10 23:19:05,244 - race_prediction.competitive_field_analyzer - INFO -    Horses with historical data: 14/14
2025-11-10 23:19:05,244 - race_prediction.competitive_field_analyzer - INFO -    Average races per horse: 14.7
2025-11-10 23:19:05,252 - race_prediction.quinte_prediction_storage - INFO - Stored 14 horses for Quint√© race 1612996
2025-11-10 23:19:07,165 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE ANALYSIS DEBUG ===
2025-11-10 23:19:07,165 - race_prediction.competitive_field_analyzer - INFO - Analyzing competitive field for race with 18 horses
2025-11-10 23:19:07,165 - race_prediction.competitive_field_analyzer - INFO - Race data shape: (18, 278)
2025-11-10 23:19:07,165 - race_prediction.competitive_field_analyzer - INFO - Available columns: ['id', 'comp', 'jour', 'hippo', 'reun', 'prix', 'prixnom', 'typec', 'partant', 'dist', 'handi', 'groupe', 'quinte', 'natpis', 'meteo', 'corde', 'temperature', 'forceVent', 'directionVent', 'nebulosite', 'prediction_results', 'actual_results', 'created_at', 'updated_at', 'processed_data', 'cheque', 'handi_raw', 'reclam', 'sex', 'tempscourse', 'handicap_level_score', 'cl', 'numero', 'cheval', 'age', 'cotedirect', 'coteprob', 'recence', 'ecar', 'defoeil', 'defoeilPrec', 'musiqueche', 'musiquejoc', 'entraineur', 'coursescheval', 'victoirescheval', 'placescheval', 'dernierealloc', 'derniernbpartants', 'dernieredist', 'derniereplace', 'dernierecote', 'dernierEnt', 'proprietaire', 'poidmont', 'pourcVictJockHippo', 'pourcPlaceJockHippo', 'pourcVictChevalHippo', 'pourcPlaceChevalHippo', 'tempstot', 'vha', 'recordG', 'txreclam', 'dernierTxreclam', 'gainsCarriere', 'gainsAnneeEnCours', 'handicapDistance', 'handicapPoids', 'TxVictCouple', 'nbVictCouple', 'nbPlaceCouple', 'idche', 'idJockey', 'idEntraineur', 'defFirstTime', 'oeilFirstTime', 'oeil', 'dernierOeil', 'ratio_victoires', 'ratio_places', 'gains_par_course', 'efficacite_couple', 'regularite_couple', 'progression_couple', 'perf_cheval_hippo', 'perf_jockey_hippo', 'blinkers_first_time', 'has_blinkers', 'has_standard_blinkers', 'has_australian_blinkers', 'blinkers_added', 'blinkers_removed', 'blinkers_type_changed', 'blinkers_any_change', 'blinkers_high_impact_change', 'shoeing_first_time', 'fully_shod', 'front_shod_only', 'back_shod_only', 'barefoot', 'shoeing_changed', 'barefoot_to_shod', 'shod_to_barefoot', 'major_shoeing_change', 'shoeing_complexity', 'multiple_equipment_changes', 'equipment_momentum_score', 'high_equipment_momentum', 'multiple_first_time_changes', 'equipment_optimization_score', 'career_strike_rate', 'earnings_per_race', 'earnings_trend', 'last_race_position_normalized', 'last_race_odds_normalized', 'last_race_field_size_factor', 'distance_consistency', 'vha_normalized', 'claiming_tax_trend', 'class_stability', 'che_global_avg_pos', 'che_global_recent_perf', 'che_global_consistency', 'che_global_trend', 'che_global_pct_top3', 'che_global_nb_courses', 'che_global_total_races', 'che_global_dnf_rate', 'che_weighted_avg_pos', 'che_weighted_recent_perf', 'che_weighted_consistency', 'che_weighted_pct_top3', 'che_weighted_nb_courses', 'che_weighted_total_races', 'che_weighted_dnf_rate', 'che_weighted_trend', 'che_bytype_avg_pos', 'che_bytype_recent_perf', 'che_bytype_consistency', 'che_bytype_trend', 'che_bytype_pct_top3', 'che_bytype_nb_courses', 'che_bytype_dnf_rate', 'joc_global_avg_pos', 'joc_global_recent_perf', 'joc_global_consistency', 'joc_global_trend', 'joc_global_pct_top3', 'joc_global_nb_courses', 'joc_global_total_races', 'joc_global_dnf_rate', 'joc_weighted_avg_pos', 'joc_weighted_recent_perf', 'joc_weighted_consistency', 'joc_weighted_pct_top3', 'joc_weighted_nb_courses', 'joc_weighted_total_races', 'joc_weighted_dnf_rate', 'joc_weighted_trend', 'joc_bytype_avg_pos', 'joc_bytype_recent_perf', 'joc_bytype_consistency', 'joc_bytype_trend', 'joc_bytype_pct_top3', 'joc_bytype_nb_courses', 'joc_bytype_dnf_rate', 'class_drop_pct', 'purse_per_starter', 'purse_ratio', 'moving_up_in_class', 'class_shock_indicator', 'handicap_level_change', 'time_per_distance', 'time_vs_record', 'pace_rating', 'speed_figure_proxy', 'market_confidence_shift', 'last_race_improvement', 'bounce_risk', 'layoff_distance_interaction', 'trainer_change', 'connection_stability', 'field_size_change', 'distance_comfort', 'competition_level_shift', 'recence_x_class_drop', 'trainer_change_x_recence', 'distance_change_x_recence', 'che_by_type_avg_pos', 'che_by_type_recent_perf', 'che_by_type_consistency', 'che_by_type_trend', 'che_by_type_pct_top3', 'che_by_type_nb_courses', 'che_by_type_dnf_rate', 'joc_by_type_avg_pos', 'joc_by_type_recent_perf', 'joc_by_type_consistency', 'joc_by_type_trend', 'joc_by_type_pct_top3', 'joc_by_type_nb_courses', 'joc_by_type_dnf_rate', 'trainer_victoires', 'trainer_places', 'trainer_courses', 'trainer_winrate', 'trainer_placerate', 'trainer_quality_score', 'trainer_experience_level', 'handicap_poids', 'handicap_dist', 'prec_handicap_poids', 'prec_handicap_dist', 'handicap_poids_change', 'handicap_poids_increased', 'handicap_poids_decreased', 'handicap_dist_change', 'handicap_dist_increased', 'handicap_dist_decreased', 'total_handicap', 'handicap_momentum', 'last_race_position', 'last_race_distance', 'distance_change', 'distance_change_pct', 'distance_increased', 'distance_decreased', 'same_distance', 'corde_change', 'corde_improved', 'corde_worsened', 'last_race_top3', 'last_race_won', 'che_bytype_total_races', 'joc_bytype_total_races', 'che_form_momentum', 'che_improving_form', 'che_declining_form', 'che_high_consistency', 'che_recent_quality', 'che_elite_performer', 'che_regular_placer', 'joc_form_momentum', 'joc_improving_form', 'joc_high_consistency', 'joc_elite_performer', 'synergy_both_improving', 'synergy_both_consistent', 'synergy_both_elite', 'overall_momentum_score', 'high_momentum', 'quinte_career_starts', 'quinte_win_rate', 'quinte_top5_rate', 'avg_quinte_position', 'days_since_last_quinte', 'quinte_handicap_specialist', 'quinte_conditions_specialist', 'quinte_large_field_ability', 'quinte_track_condition_fit', 'is_handicap_quinte', 'handicap_division', 'purse_level_category', 'field_size_category', 'track_condition_PH', 'track_condition_DUR', 'track_condition_PS', 'track_condition_PSF', 'weather_clear', 'weather_rain', 'weather_cloudy', 'post_position_bias', 'post_position_track_bias', 'raw_tabnet_prediction', 'predicted_position_tabnet', 'raw_rf_prediction', 'predicted_position_rf', 'predicted_position_base']
2025-11-10 23:19:07,165 - race_prediction.competitive_field_analyzer - INFO - === CRITICAL COLUMNS ANALYSIS ===
2025-11-10 23:19:07,165 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ recordG: 18/18 non-null values (100.0%)
2025-11-10 23:19:07,165 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [0.0, 0.0, 0.0]
2025-11-10 23:19:07,165 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ hippo: 18/18 non-null values (100.0%)
2025-11-10 23:19:07,165 - race_prediction.competitive_field_analyzer - INFO -    Sample values: ['ParisLongchamp', 'ParisLongchamp', 'ParisLongchamp']
2025-11-10 23:19:07,165 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ coursescheval: 18/18 non-null values (100.0%)
2025-11-10 23:19:07,165 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [18, 10, 11]
2025-11-10 23:19:07,165 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ victoirescheval: 18/18 non-null values (100.0%)
2025-11-10 23:19:07,166 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [7, 3, 6]
2025-11-10 23:19:07,166 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ placescheval: 18/18 non-null values (100.0%)
2025-11-10 23:19:07,166 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [13, 6, 8]
2025-11-10 23:19:07,166 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ gainsCarriere: 18/18 non-null values (100.0%)
2025-11-10 23:19:07,166 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [271473900, 75932400, 21585000]
2025-11-10 23:19:07,166 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ age: 18/18 non-null values (100.0%)
2025-11-10 23:19:07,166 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [6, 5, 4]
2025-11-10 23:19:07,166 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ derniereplace: 18/18 non-null values (100.0%)
2025-11-10 23:19:07,166 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [1, 5, 6]
2025-11-10 23:19:07,166 - race_prediction.competitive_field_analyzer - INFO - === RACE METADATA ===
2025-11-10 23:19:07,166 - race_prediction.competitive_field_analyzer - INFO - comp: 1592537
2025-11-10 23:19:07,166 - race_prediction.competitive_field_analyzer - INFO - hippo: ParisLongchamp
2025-11-10 23:19:07,166 - race_prediction.competitive_field_analyzer - INFO - dist: 2400
2025-11-10 23:19:07,166 - race_prediction.competitive_field_analyzer - INFO - typec: Plat
2025-11-10 23:19:07,166 - race_prediction.competitive_field_analyzer - INFO - partant: 18
2025-11-10 23:19:07,166 - race_prediction.competitive_field_analyzer - INFO - === SAMPLE RACE DATA ===
2025-11-10 23:19:07,166 - race_prediction.competitive_field_analyzer - INFO - Sample data (columns: ['numero', 'cheval', 'recordG', 'hippo', 'coursescheval']):
2025-11-10 23:19:07,166 - race_prediction.competitive_field_analyzer - INFO -   Horse 0: {'numero': 1, 'cheval': 'Giavellotto', 'recordG': 0.0, 'hippo': 'ParisLongchamp', 'coursescheval': 18}
2025-11-10 23:19:07,166 - race_prediction.competitive_field_analyzer - INFO -   Horse 1: {'numero': 2, 'cheval': 'White Birch', 'recordG': 0.0, 'hippo': 'ParisLongchamp', 'coursescheval': 10}
2025-11-10 23:19:07,166 - race_prediction.competitive_field_analyzer - INFO -   Horse 2: {'numero': 3, 'cheval': 'Arrow Eagle', 'recordG': 0.0, 'hippo': 'ParisLongchamp', 'coursescheval': 11}
2025-11-10 23:19:07,166 - race_prediction.competitive_field_analyzer - INFO - === END COMPETITIVE ANALYSIS DEBUG ===

2025-11-10 23:19:07,167 - race_prediction.competitive_field_analyzer - INFO - === RETRIEVING HISTORICAL DATA ===
2025-11-10 23:19:07,167 - race_prediction.competitive_field_analyzer - INFO - Fetching historical data for 18 horses: [1535382, 1584656, 1654418, 1654324, 1667455, 1723503, 1725716, 1559787, 1695821, 1654205, 1741434, 1741620, 1734424, 1713366, 1759442, 1759443, 1730327, 1720861]
2025-11-10 23:19:07,168 - race_prediction.competitive_field_analyzer - INFO - Batch querying historical data for 18 horses: [1535382, 1584656, 1654418, 1654324, 1667455, 1723503, 1725716, 1559787, 1695821, 1654205, 1741434, 1741620, 1734424, 1713366, 1759442, 1759443, 1730327, 1720861]
2025-11-10 23:19:23,340 - race_prediction.competitive_field_analyzer - INFO - Batch query completed in 16.17s, found 87 total records
2025-11-10 23:19:23,345 - race_prediction.competitive_field_analyzer - INFO - Batch query retrieved 87 total historical races
2025-11-10 23:19:23,345 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS PER HORSE ===
2025-11-10 23:19:23,345 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1535382: 5 historical races found
2025-11-10 23:19:23,345 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1584656: 4 historical races found
2025-11-10 23:19:23,345 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1654418: 7 historical races found
2025-11-10 23:19:23,345 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1654324: 5 historical races found
2025-11-10 23:19:23,345 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1667455: 5 historical races found
2025-11-10 23:19:23,345 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1723503: 3 historical races found
2025-11-10 23:19:23,345 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1725716: 2 historical races found
2025-11-10 23:19:23,346 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1559787: 4 historical races found
2025-11-10 23:19:23,346 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1695821: 5 historical races found
2025-11-10 23:19:23,346 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1654205: 5 historical races found
2025-11-10 23:19:23,346 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1741434: 7 historical races found
2025-11-10 23:19:23,346 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1741620: 7 historical races found
2025-11-10 23:19:23,346 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1734424: 9 historical races found
2025-11-10 23:19:23,346 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1713366: 6 historical races found
2025-11-10 23:19:23,346 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1759442: 2 historical races found
2025-11-10 23:19:23,346 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1759443: 2 historical races found
2025-11-10 23:19:23,346 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1730327: 4 historical races found
2025-11-10 23:19:23,346 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1720861: 5 historical races found
2025-11-10 23:19:23,346 - race_prediction.competitive_field_analyzer - INFO - Retrieved 87 total historical races
2025-11-10 23:19:23,346 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS BY HORSE ===
2025-11-10 23:19:23,346 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1535382: 5 historical races
2025-11-10 23:19:23,346 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1584656: 4 historical races
2025-11-10 23:19:23,346 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1654418: 7 historical races
2025-11-10 23:19:23,346 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1654324: 5 historical races
2025-11-10 23:19:23,346 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1667455: 5 historical races
2025-11-10 23:19:23,346 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1723503: 3 historical races
2025-11-10 23:19:23,346 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1725716: 2 historical races
2025-11-10 23:19:23,346 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1559787: 4 historical races
2025-11-10 23:19:23,346 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1695821: 5 historical races
2025-11-10 23:19:23,346 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1654205: 5 historical races
2025-11-10 23:19:23,346 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1741434: 7 historical races
2025-11-10 23:19:23,346 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1741620: 7 historical races
2025-11-10 23:19:23,346 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1734424: 9 historical races
2025-11-10 23:19:23,346 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1713366: 6 historical races
2025-11-10 23:19:23,347 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1759442: 2 historical races
2025-11-10 23:19:23,347 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1759443: 2 historical races
2025-11-10 23:19:23,347 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1730327: 4 historical races
2025-11-10 23:19:23,347 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1720861: 5 historical races
2025-11-10 23:19:23,347 - race_prediction.competitive_field_analyzer - INFO - === END HISTORICAL DATA RETRIEVAL ===

2025-11-10 23:19:23,347 - race_prediction.competitive_field_analyzer - INFO - === EARNINGS QUALITY ANALYSIS ===
2025-11-10 23:19:23,347 - race_prediction.competitive_field_analyzer - INFO - Valid earnings data: 18/18 horses
2025-11-10 23:19:23,347 - race_prediction.competitive_field_analyzer - INFO - Sample earnings per race: ['15,081,883', '7,593,240', '1,962,273']
2025-11-10 23:19:23,348 - race_prediction.competitive_field_analyzer - INFO - Field earnings stats: avg=35,832,643, max=333,227,300
2025-11-10 23:19:23,348 - race_prediction.competitive_field_analyzer - INFO - === TRACK SPECIALIZATION ANALYSIS ===
2025-11-10 23:19:23,348 - race_prediction.competitive_field_analyzer - INFO - Horses with reliable venue data (3+ races): 0/18
2025-11-10 23:19:23,349 - race_prediction.competitive_field_analyzer - INFO - === FORM MOMENTUM ANALYSIS ===
2025-11-10 23:19:23,349 - race_prediction.competitive_field_analyzer - INFO - Field avg horse trend: -2.711, recent perf: 3.85
2025-11-10 23:19:23,349 - race_prediction.competitive_field_analyzer - INFO - Field avg jockey trend: 0.968
2025-11-10 23:19:23,349 - race_prediction.competitive_field_analyzer - INFO - Horses with improving form: 1/18
2025-11-10 23:19:23,349 - race_prediction.competitive_field_analyzer - INFO - === HOT CONNECTIONS ANALYSIS ===
2025-11-10 23:19:23,349 - race_prediction.competitive_field_analyzer - INFO - Jockeys with wins today: 0/18
2025-11-10 23:19:23,349 - race_prediction.competitive_field_analyzer - INFO - Trainers with wins today: 0/18
2025-11-10 23:19:23,350 - race_prediction.competitive_field_analyzer - INFO - === DISTANCE COMFORT ANALYSIS ===
2025-11-10 23:19:23,350 - race_prediction.competitive_field_analyzer - INFO - Current race distance: 2400m
2025-11-10 23:19:23,350 - race_prediction.competitive_field_analyzer - INFO - Horses with similar recent distance: 12/18
2025-11-10 23:19:23,350 - race_prediction.competitive_field_analyzer - INFO - === REALISTIC COMPETITIVE SCORING ===
2025-11-10 23:19:23,350 - race_prediction.competitive_field_analyzer - INFO - üìä COMPETITIVE ANALYSIS SUMMARY:
2025-11-10 23:19:23,350 - race_prediction.competitive_field_analyzer - INFO -    Total competitive races: 87
2025-11-10 23:19:23,350 - race_prediction.competitive_field_analyzer - INFO -    Horses with historical data: 18/18
2025-11-10 23:19:23,350 - race_prediction.competitive_field_analyzer - INFO -    Average races per horse: 4.8
2025-11-10 23:19:23,361 - race_prediction.quinte_prediction_storage - INFO - Stored 18 horses for Quint√© race 1592537
2025-11-10 23:19:25,299 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE ANALYSIS DEBUG ===
2025-11-10 23:19:25,300 - race_prediction.competitive_field_analyzer - INFO - Analyzing competitive field for race with 18 horses
2025-11-10 23:19:25,300 - race_prediction.competitive_field_analyzer - INFO - Race data shape: (18, 278)
2025-11-10 23:19:25,300 - race_prediction.competitive_field_analyzer - INFO - Available columns: ['id', 'comp', 'jour', 'hippo', 'reun', 'prix', 'prixnom', 'typec', 'partant', 'dist', 'handi', 'groupe', 'quinte', 'natpis', 'meteo', 'corde', 'temperature', 'forceVent', 'directionVent', 'nebulosite', 'prediction_results', 'actual_results', 'created_at', 'updated_at', 'processed_data', 'cheque', 'handi_raw', 'reclam', 'sex', 'tempscourse', 'handicap_level_score', 'cl', 'numero', 'cheval', 'age', 'cotedirect', 'coteprob', 'recence', 'ecar', 'defoeil', 'defoeilPrec', 'musiqueche', 'musiquejoc', 'entraineur', 'coursescheval', 'victoirescheval', 'placescheval', 'dernierealloc', 'derniernbpartants', 'dernieredist', 'derniereplace', 'dernierecote', 'dernierEnt', 'proprietaire', 'poidmont', 'pourcVictJockHippo', 'pourcPlaceJockHippo', 'pourcVictChevalHippo', 'pourcPlaceChevalHippo', 'tempstot', 'vha', 'recordG', 'txreclam', 'dernierTxreclam', 'gainsCarriere', 'gainsAnneeEnCours', 'handicapDistance', 'handicapPoids', 'TxVictCouple', 'nbVictCouple', 'nbPlaceCouple', 'idche', 'idJockey', 'idEntraineur', 'defFirstTime', 'oeilFirstTime', 'oeil', 'dernierOeil', 'ratio_victoires', 'ratio_places', 'gains_par_course', 'efficacite_couple', 'regularite_couple', 'progression_couple', 'perf_cheval_hippo', 'perf_jockey_hippo', 'blinkers_first_time', 'has_blinkers', 'has_standard_blinkers', 'has_australian_blinkers', 'blinkers_added', 'blinkers_removed', 'blinkers_type_changed', 'blinkers_any_change', 'blinkers_high_impact_change', 'shoeing_first_time', 'fully_shod', 'front_shod_only', 'back_shod_only', 'barefoot', 'shoeing_changed', 'barefoot_to_shod', 'shod_to_barefoot', 'major_shoeing_change', 'shoeing_complexity', 'multiple_equipment_changes', 'equipment_momentum_score', 'high_equipment_momentum', 'multiple_first_time_changes', 'equipment_optimization_score', 'career_strike_rate', 'earnings_per_race', 'earnings_trend', 'last_race_position_normalized', 'last_race_odds_normalized', 'last_race_field_size_factor', 'distance_consistency', 'vha_normalized', 'claiming_tax_trend', 'class_stability', 'che_global_avg_pos', 'che_global_recent_perf', 'che_global_consistency', 'che_global_trend', 'che_global_pct_top3', 'che_global_nb_courses', 'che_global_total_races', 'che_global_dnf_rate', 'che_weighted_avg_pos', 'che_weighted_recent_perf', 'che_weighted_consistency', 'che_weighted_pct_top3', 'che_weighted_nb_courses', 'che_weighted_total_races', 'che_weighted_dnf_rate', 'che_weighted_trend', 'che_bytype_avg_pos', 'che_bytype_recent_perf', 'che_bytype_consistency', 'che_bytype_trend', 'che_bytype_pct_top3', 'che_bytype_nb_courses', 'che_bytype_dnf_rate', 'joc_global_avg_pos', 'joc_global_recent_perf', 'joc_global_consistency', 'joc_global_trend', 'joc_global_pct_top3', 'joc_global_nb_courses', 'joc_global_total_races', 'joc_global_dnf_rate', 'joc_weighted_avg_pos', 'joc_weighted_recent_perf', 'joc_weighted_consistency', 'joc_weighted_pct_top3', 'joc_weighted_nb_courses', 'joc_weighted_total_races', 'joc_weighted_dnf_rate', 'joc_weighted_trend', 'joc_bytype_avg_pos', 'joc_bytype_recent_perf', 'joc_bytype_consistency', 'joc_bytype_trend', 'joc_bytype_pct_top3', 'joc_bytype_nb_courses', 'joc_bytype_dnf_rate', 'class_drop_pct', 'purse_per_starter', 'purse_ratio', 'moving_up_in_class', 'class_shock_indicator', 'handicap_level_change', 'time_per_distance', 'time_vs_record', 'pace_rating', 'speed_figure_proxy', 'market_confidence_shift', 'last_race_improvement', 'bounce_risk', 'layoff_distance_interaction', 'trainer_change', 'connection_stability', 'field_size_change', 'distance_comfort', 'competition_level_shift', 'recence_x_class_drop', 'trainer_change_x_recence', 'distance_change_x_recence', 'che_by_type_avg_pos', 'che_by_type_recent_perf', 'che_by_type_consistency', 'che_by_type_trend', 'che_by_type_pct_top3', 'che_by_type_nb_courses', 'che_by_type_dnf_rate', 'joc_by_type_avg_pos', 'joc_by_type_recent_perf', 'joc_by_type_consistency', 'joc_by_type_trend', 'joc_by_type_pct_top3', 'joc_by_type_nb_courses', 'joc_by_type_dnf_rate', 'trainer_victoires', 'trainer_places', 'trainer_courses', 'trainer_winrate', 'trainer_placerate', 'trainer_quality_score', 'trainer_experience_level', 'handicap_poids', 'handicap_dist', 'prec_handicap_poids', 'prec_handicap_dist', 'handicap_poids_change', 'handicap_poids_increased', 'handicap_poids_decreased', 'handicap_dist_change', 'handicap_dist_increased', 'handicap_dist_decreased', 'total_handicap', 'handicap_momentum', 'last_race_position', 'last_race_distance', 'distance_change', 'distance_change_pct', 'distance_increased', 'distance_decreased', 'same_distance', 'corde_change', 'corde_improved', 'corde_worsened', 'last_race_top3', 'last_race_won', 'che_bytype_total_races', 'joc_bytype_total_races', 'che_form_momentum', 'che_improving_form', 'che_declining_form', 'che_high_consistency', 'che_recent_quality', 'che_elite_performer', 'che_regular_placer', 'joc_form_momentum', 'joc_improving_form', 'joc_high_consistency', 'joc_elite_performer', 'synergy_both_improving', 'synergy_both_consistent', 'synergy_both_elite', 'overall_momentum_score', 'high_momentum', 'quinte_career_starts', 'quinte_win_rate', 'quinte_top5_rate', 'avg_quinte_position', 'days_since_last_quinte', 'quinte_handicap_specialist', 'quinte_conditions_specialist', 'quinte_large_field_ability', 'quinte_track_condition_fit', 'is_handicap_quinte', 'handicap_division', 'purse_level_category', 'field_size_category', 'track_condition_PH', 'track_condition_DUR', 'track_condition_PS', 'track_condition_PSF', 'weather_clear', 'weather_rain', 'weather_cloudy', 'post_position_bias', 'post_position_track_bias', 'raw_tabnet_prediction', 'predicted_position_tabnet', 'raw_rf_prediction', 'predicted_position_rf', 'predicted_position_base']
2025-11-10 23:19:25,300 - race_prediction.competitive_field_analyzer - INFO - === CRITICAL COLUMNS ANALYSIS ===
2025-11-10 23:19:25,300 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ recordG: 18/18 non-null values (100.0%)
2025-11-10 23:19:25,301 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [0.0, 0.0, 0.0]
2025-11-10 23:19:25,301 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ hippo: 18/18 non-null values (100.0%)
2025-11-10 23:19:25,301 - race_prediction.competitive_field_analyzer - INFO -    Sample values: ['ParisLongchamp', 'ParisLongchamp', 'ParisLongchamp']
2025-11-10 23:19:25,301 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ coursescheval: 18/18 non-null values (100.0%)
2025-11-10 23:19:25,301 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [36, 15, 16]
2025-11-10 23:19:25,301 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ victoirescheval: 18/18 non-null values (100.0%)
2025-11-10 23:19:25,301 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [8, 2, 2]
2025-11-10 23:19:25,301 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ placescheval: 18/18 non-null values (100.0%)
2025-11-10 23:19:25,301 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [18, 5, 7]
2025-11-10 23:19:25,301 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ gainsCarriere: 18/18 non-null values (100.0%)
2025-11-10 23:19:25,301 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [22119200, 7281000, 10064000]
2025-11-10 23:19:25,301 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ age: 18/18 non-null values (100.0%)
2025-11-10 23:19:25,301 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [7, 4, 4]
2025-11-10 23:19:25,301 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ derniereplace: 18/18 non-null values (100.0%)
2025-11-10 23:19:25,301 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [6, 16, 6]
2025-11-10 23:19:25,301 - race_prediction.competitive_field_analyzer - INFO - === RACE METADATA ===
2025-11-10 23:19:25,301 - race_prediction.competitive_field_analyzer - INFO - comp: 1606916
2025-11-10 23:19:25,301 - race_prediction.competitive_field_analyzer - INFO - hippo: ParisLongchamp
2025-11-10 23:19:25,301 - race_prediction.competitive_field_analyzer - INFO - dist: 1600
2025-11-10 23:19:25,301 - race_prediction.competitive_field_analyzer - INFO - typec: Plat
2025-11-10 23:19:25,301 - race_prediction.competitive_field_analyzer - INFO - partant: 18
2025-11-10 23:19:25,301 - race_prediction.competitive_field_analyzer - INFO - === SAMPLE RACE DATA ===
2025-11-10 23:19:25,301 - race_prediction.competitive_field_analyzer - INFO - Sample data (columns: ['numero', 'cheval', 'recordG', 'hippo', 'coursescheval']):
2025-11-10 23:19:25,302 - race_prediction.competitive_field_analyzer - INFO -   Horse 0: {'numero': 1, 'cheval': 'Bullace', 'recordG': 0.0, 'hippo': 'ParisLongchamp', 'coursescheval': 36}
2025-11-10 23:19:25,302 - race_prediction.competitive_field_analyzer - INFO -   Horse 1: {'numero': 2, 'cheval': 'Babakool', 'recordG': 0.0, 'hippo': 'ParisLongchamp', 'coursescheval': 15}
2025-11-10 23:19:25,302 - race_prediction.competitive_field_analyzer - INFO -   Horse 2: {'numero': 3, 'cheval': 'Lucky Wine', 'recordG': 0.0, 'hippo': 'ParisLongchamp', 'coursescheval': 16}
2025-11-10 23:19:25,302 - race_prediction.competitive_field_analyzer - INFO - === END COMPETITIVE ANALYSIS DEBUG ===

2025-11-10 23:19:25,302 - race_prediction.competitive_field_analyzer - INFO - === RETRIEVING HISTORICAL DATA ===
2025-11-10 23:19:25,302 - race_prediction.competitive_field_analyzer - INFO - Fetching historical data for 18 horses: [1461543, 1654085, 1654601, 1716658, 1545829, 1654567, 1408356, 1651292, 1732313, 1657763, 1554365, 1653870, 1666989, 1559222, 1654258, 1652349, 1654449, 1447790]
2025-11-10 23:19:25,303 - race_prediction.competitive_field_analyzer - INFO - Batch querying historical data for 18 horses: [1461543, 1654085, 1654601, 1716658, 1545829, 1654567, 1408356, 1651292, 1732313, 1657763, 1554365, 1653870, 1666989, 1559222, 1654258, 1652349, 1654449, 1447790]
2025-11-10 23:19:41,998 - race_prediction.competitive_field_analyzer - INFO - Batch query completed in 16.69s, found 162 total records
2025-11-10 23:19:42,005 - race_prediction.competitive_field_analyzer - INFO - Batch query retrieved 162 total historical races
2025-11-10 23:19:42,005 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS PER HORSE ===
2025-11-10 23:19:42,005 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1461543: 7 historical races found
2025-11-10 23:19:42,005 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1654085: 6 historical races found
2025-11-10 23:19:42,005 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1654601: 8 historical races found
2025-11-10 23:19:42,005 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1716658: 9 historical races found
2025-11-10 23:19:42,005 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1545829: 19 historical races found
2025-11-10 23:19:42,005 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1654567: 9 historical races found
2025-11-10 23:19:42,005 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1408356: 4 historical races found
2025-11-10 23:19:42,005 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1651292: 10 historical races found
2025-11-10 23:19:42,005 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1732313: 6 historical races found
2025-11-10 23:19:42,005 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1657763: 8 historical races found
2025-11-10 23:19:42,006 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1554365: 12 historical races found
2025-11-10 23:19:42,006 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1653870: 15 historical races found
2025-11-10 23:19:42,006 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1666989: 5 historical races found
2025-11-10 23:19:42,006 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1559222: 9 historical races found
2025-11-10 23:19:42,006 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1654258: 5 historical races found
2025-11-10 23:19:42,006 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1652349: 7 historical races found
2025-11-10 23:19:42,006 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1654449: 7 historical races found
2025-11-10 23:19:42,006 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1447790: 16 historical races found
2025-11-10 23:19:42,006 - race_prediction.competitive_field_analyzer - INFO - Retrieved 162 total historical races
2025-11-10 23:19:42,006 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS BY HORSE ===
2025-11-10 23:19:42,006 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1461543: 7 historical races
2025-11-10 23:19:42,006 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1654085: 6 historical races
2025-11-10 23:19:42,006 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1654601: 8 historical races
2025-11-10 23:19:42,006 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1716658: 9 historical races
2025-11-10 23:19:42,006 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1545829: 19 historical races
2025-11-10 23:19:42,006 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1654567: 9 historical races
2025-11-10 23:19:42,006 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1408356: 4 historical races
2025-11-10 23:19:42,006 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1651292: 10 historical races
2025-11-10 23:19:42,006 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1732313: 6 historical races
2025-11-10 23:19:42,006 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1657763: 8 historical races
2025-11-10 23:19:42,006 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1554365: 12 historical races
2025-11-10 23:19:42,006 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1653870: 15 historical races
2025-11-10 23:19:42,006 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1666989: 5 historical races
2025-11-10 23:19:42,006 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1559222: 9 historical races
2025-11-10 23:19:42,006 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1654258: 5 historical races
2025-11-10 23:19:42,006 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1652349: 7 historical races
2025-11-10 23:19:42,006 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1654449: 7 historical races
2025-11-10 23:19:42,006 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1447790: 16 historical races
2025-11-10 23:19:42,006 - race_prediction.competitive_field_analyzer - INFO - === END HISTORICAL DATA RETRIEVAL ===

2025-11-10 23:19:42,007 - race_prediction.competitive_field_analyzer - INFO - === EARNINGS QUALITY ANALYSIS ===
2025-11-10 23:19:42,007 - race_prediction.competitive_field_analyzer - INFO - Valid earnings data: 18/18 horses
2025-11-10 23:19:42,007 - race_prediction.competitive_field_analyzer - INFO - Sample earnings per race: ['614,422', '485,400', '629,000']
2025-11-10 23:19:42,007 - race_prediction.competitive_field_analyzer - INFO - Field earnings stats: avg=505,803, max=1,118,623
2025-11-10 23:19:42,007 - race_prediction.competitive_field_analyzer - INFO - === TRACK SPECIALIZATION ANALYSIS ===
2025-11-10 23:19:42,007 - race_prediction.competitive_field_analyzer - INFO - Horses with reliable venue data (3+ races): 0/18
2025-11-10 23:19:42,008 - race_prediction.competitive_field_analyzer - INFO - === FORM MOMENTUM ANALYSIS ===
2025-11-10 23:19:42,008 - race_prediction.competitive_field_analyzer - INFO - Field avg horse trend: -2.368, recent perf: 6.96
2025-11-10 23:19:42,008 - race_prediction.competitive_field_analyzer - INFO - Field avg jockey trend: -2.390
2025-11-10 23:19:42,008 - race_prediction.competitive_field_analyzer - INFO - Horses with improving form: 3/18
2025-11-10 23:19:42,009 - race_prediction.competitive_field_analyzer - INFO - === HOT CONNECTIONS ANALYSIS ===
2025-11-10 23:19:42,009 - race_prediction.competitive_field_analyzer - INFO - Jockeys with wins today: 0/18
2025-11-10 23:19:42,009 - race_prediction.competitive_field_analyzer - INFO - Trainers with wins today: 0/18
2025-11-10 23:19:42,009 - race_prediction.competitive_field_analyzer - INFO - === DISTANCE COMFORT ANALYSIS ===
2025-11-10 23:19:42,009 - race_prediction.competitive_field_analyzer - INFO - Current race distance: 1600m
2025-11-10 23:19:42,009 - race_prediction.competitive_field_analyzer - INFO - Horses with similar recent distance: 17/18
2025-11-10 23:19:42,009 - race_prediction.competitive_field_analyzer - INFO - === REALISTIC COMPETITIVE SCORING ===
2025-11-10 23:19:42,010 - race_prediction.competitive_field_analyzer - INFO - üìä COMPETITIVE ANALYSIS SUMMARY:
2025-11-10 23:19:42,010 - race_prediction.competitive_field_analyzer - INFO -    Total competitive races: 162
2025-11-10 23:19:42,010 - race_prediction.competitive_field_analyzer - INFO -    Horses with historical data: 18/18
2025-11-10 23:19:42,010 - race_prediction.competitive_field_analyzer - INFO -    Average races per horse: 9.0
2025-11-10 23:19:42,020 - race_prediction.quinte_prediction_storage - INFO - Stored 18 horses for Quint√© race 1606916
2025-11-10 23:19:43,916 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE ANALYSIS DEBUG ===
2025-11-10 23:19:43,917 - race_prediction.competitive_field_analyzer - INFO - Analyzing competitive field for race with 16 horses
2025-11-10 23:19:43,917 - race_prediction.competitive_field_analyzer - INFO - Race data shape: (16, 278)
2025-11-10 23:19:43,917 - race_prediction.competitive_field_analyzer - INFO - Available columns: ['id', 'comp', 'jour', 'hippo', 'reun', 'prix', 'prixnom', 'typec', 'partant', 'dist', 'handi', 'groupe', 'quinte', 'natpis', 'meteo', 'corde', 'temperature', 'forceVent', 'directionVent', 'nebulosite', 'prediction_results', 'actual_results', 'created_at', 'updated_at', 'processed_data', 'cheque', 'handi_raw', 'reclam', 'sex', 'tempscourse', 'handicap_level_score', 'cl', 'numero', 'cheval', 'age', 'cotedirect', 'coteprob', 'recence', 'ecar', 'defoeil', 'defoeilPrec', 'musiqueche', 'musiquejoc', 'entraineur', 'coursescheval', 'victoirescheval', 'placescheval', 'dernierealloc', 'derniernbpartants', 'dernieredist', 'derniereplace', 'dernierecote', 'dernierEnt', 'proprietaire', 'poidmont', 'pourcVictJockHippo', 'pourcPlaceJockHippo', 'pourcVictChevalHippo', 'pourcPlaceChevalHippo', 'tempstot', 'vha', 'recordG', 'txreclam', 'dernierTxreclam', 'gainsCarriere', 'gainsAnneeEnCours', 'handicapDistance', 'handicapPoids', 'TxVictCouple', 'nbVictCouple', 'nbPlaceCouple', 'idche', 'idJockey', 'idEntraineur', 'defFirstTime', 'oeilFirstTime', 'oeil', 'dernierOeil', 'ratio_victoires', 'ratio_places', 'gains_par_course', 'efficacite_couple', 'regularite_couple', 'progression_couple', 'perf_cheval_hippo', 'perf_jockey_hippo', 'blinkers_first_time', 'has_blinkers', 'has_standard_blinkers', 'has_australian_blinkers', 'blinkers_added', 'blinkers_removed', 'blinkers_type_changed', 'blinkers_any_change', 'blinkers_high_impact_change', 'shoeing_first_time', 'fully_shod', 'front_shod_only', 'back_shod_only', 'barefoot', 'shoeing_changed', 'barefoot_to_shod', 'shod_to_barefoot', 'major_shoeing_change', 'shoeing_complexity', 'multiple_equipment_changes', 'equipment_momentum_score', 'high_equipment_momentum', 'multiple_first_time_changes', 'equipment_optimization_score', 'career_strike_rate', 'earnings_per_race', 'earnings_trend', 'last_race_position_normalized', 'last_race_odds_normalized', 'last_race_field_size_factor', 'distance_consistency', 'vha_normalized', 'claiming_tax_trend', 'class_stability', 'che_global_avg_pos', 'che_global_recent_perf', 'che_global_consistency', 'che_global_trend', 'che_global_pct_top3', 'che_global_nb_courses', 'che_global_total_races', 'che_global_dnf_rate', 'che_weighted_avg_pos', 'che_weighted_recent_perf', 'che_weighted_consistency', 'che_weighted_pct_top3', 'che_weighted_nb_courses', 'che_weighted_total_races', 'che_weighted_dnf_rate', 'che_weighted_trend', 'che_bytype_avg_pos', 'che_bytype_recent_perf', 'che_bytype_consistency', 'che_bytype_trend', 'che_bytype_pct_top3', 'che_bytype_nb_courses', 'che_bytype_dnf_rate', 'joc_global_avg_pos', 'joc_global_recent_perf', 'joc_global_consistency', 'joc_global_trend', 'joc_global_pct_top3', 'joc_global_nb_courses', 'joc_global_total_races', 'joc_global_dnf_rate', 'joc_weighted_avg_pos', 'joc_weighted_recent_perf', 'joc_weighted_consistency', 'joc_weighted_pct_top3', 'joc_weighted_nb_courses', 'joc_weighted_total_races', 'joc_weighted_dnf_rate', 'joc_weighted_trend', 'joc_bytype_avg_pos', 'joc_bytype_recent_perf', 'joc_bytype_consistency', 'joc_bytype_trend', 'joc_bytype_pct_top3', 'joc_bytype_nb_courses', 'joc_bytype_dnf_rate', 'class_drop_pct', 'purse_per_starter', 'purse_ratio', 'moving_up_in_class', 'class_shock_indicator', 'handicap_level_change', 'time_per_distance', 'time_vs_record', 'pace_rating', 'speed_figure_proxy', 'market_confidence_shift', 'last_race_improvement', 'bounce_risk', 'layoff_distance_interaction', 'trainer_change', 'connection_stability', 'field_size_change', 'distance_comfort', 'competition_level_shift', 'recence_x_class_drop', 'trainer_change_x_recence', 'distance_change_x_recence', 'che_by_type_avg_pos', 'che_by_type_recent_perf', 'che_by_type_consistency', 'che_by_type_trend', 'che_by_type_pct_top3', 'che_by_type_nb_courses', 'che_by_type_dnf_rate', 'joc_by_type_avg_pos', 'joc_by_type_recent_perf', 'joc_by_type_consistency', 'joc_by_type_trend', 'joc_by_type_pct_top3', 'joc_by_type_nb_courses', 'joc_by_type_dnf_rate', 'trainer_victoires', 'trainer_places', 'trainer_courses', 'trainer_winrate', 'trainer_placerate', 'trainer_quality_score', 'trainer_experience_level', 'handicap_poids', 'handicap_dist', 'prec_handicap_poids', 'prec_handicap_dist', 'handicap_poids_change', 'handicap_poids_increased', 'handicap_poids_decreased', 'handicap_dist_change', 'handicap_dist_increased', 'handicap_dist_decreased', 'total_handicap', 'handicap_momentum', 'last_race_position', 'last_race_distance', 'distance_change', 'distance_change_pct', 'distance_increased', 'distance_decreased', 'same_distance', 'corde_change', 'corde_improved', 'corde_worsened', 'last_race_top3', 'last_race_won', 'che_bytype_total_races', 'joc_bytype_total_races', 'che_form_momentum', 'che_improving_form', 'che_declining_form', 'che_high_consistency', 'che_recent_quality', 'che_elite_performer', 'che_regular_placer', 'joc_form_momentum', 'joc_improving_form', 'joc_high_consistency', 'joc_elite_performer', 'synergy_both_improving', 'synergy_both_consistent', 'synergy_both_elite', 'overall_momentum_score', 'high_momentum', 'quinte_career_starts', 'quinte_win_rate', 'quinte_top5_rate', 'avg_quinte_position', 'days_since_last_quinte', 'quinte_handicap_specialist', 'quinte_conditions_specialist', 'quinte_large_field_ability', 'quinte_track_condition_fit', 'is_handicap_quinte', 'handicap_division', 'purse_level_category', 'field_size_category', 'track_condition_PH', 'track_condition_DUR', 'track_condition_PS', 'track_condition_PSF', 'weather_clear', 'weather_rain', 'weather_cloudy', 'post_position_bias', 'post_position_track_bias', 'raw_tabnet_prediction', 'predicted_position_tabnet', 'raw_rf_prediction', 'predicted_position_rf', 'predicted_position_base']
2025-11-10 23:19:43,917 - race_prediction.competitive_field_analyzer - INFO - === CRITICAL COLUMNS ANALYSIS ===
2025-11-10 23:19:43,918 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ recordG: 16/16 non-null values (100.0%)
2025-11-10 23:19:43,918 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [0.0, 0.0, 0.0]
2025-11-10 23:19:43,918 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ hippo: 16/16 non-null values (100.0%)
2025-11-10 23:19:43,918 - race_prediction.competitive_field_analyzer - INFO -    Sample values: ['Paris-Vincennes', 'Paris-Vincennes', 'Paris-Vincennes']
2025-11-10 23:19:43,918 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ coursescheval: 16/16 non-null values (100.0%)
2025-11-10 23:19:43,918 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [38, 61, 52]
2025-11-10 23:19:43,918 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ victoirescheval: 16/16 non-null values (100.0%)
2025-11-10 23:19:43,918 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [9, 11, 8]
2025-11-10 23:19:43,918 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ placescheval: 16/16 non-null values (100.0%)
2025-11-10 23:19:43,918 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [13, 21, 18]
2025-11-10 23:19:43,919 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ gainsCarriere: 16/16 non-null values (100.0%)
2025-11-10 23:19:43,919 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [16694000, 16736500, 16906000]
2025-11-10 23:19:43,919 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ age: 16/16 non-null values (100.0%)
2025-11-10 23:19:43,919 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [7, 7, 7]
2025-11-10 23:19:43,919 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ derniereplace: 16/16 non-null values (100.0%)
2025-11-10 23:19:43,919 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [1.0, 1.0, 6.0]
2025-11-10 23:19:43,919 - race_prediction.competitive_field_analyzer - INFO - === RACE METADATA ===
2025-11-10 23:19:43,919 - race_prediction.competitive_field_analyzer - INFO - comp: 1612854
2025-11-10 23:19:43,919 - race_prediction.competitive_field_analyzer - INFO - hippo: Paris-Vincennes
2025-11-10 23:19:43,919 - race_prediction.competitive_field_analyzer - INFO - dist: 2700
2025-11-10 23:19:43,919 - race_prediction.competitive_field_analyzer - INFO - typec: Attel√©
2025-11-10 23:19:43,919 - race_prediction.competitive_field_analyzer - INFO - partant: 16
2025-11-10 23:19:43,919 - race_prediction.competitive_field_analyzer - INFO - === SAMPLE RACE DATA ===
2025-11-10 23:19:43,919 - race_prediction.competitive_field_analyzer - INFO - Sample data (columns: ['numero', 'cheval', 'recordG', 'hippo', 'coursescheval']):
2025-11-10 23:19:43,919 - race_prediction.competitive_field_analyzer - INFO -   Horse 0: {'numero': 1, 'cheval': "Indice d'Argent", 'recordG': 0.0, 'hippo': 'Paris-Vincennes', 'coursescheval': 38}
2025-11-10 23:19:43,920 - race_prediction.competitive_field_analyzer - INFO -   Horse 1: {'numero': 2, 'cheval': 'Ir√©no des Plaines', 'recordG': 0.0, 'hippo': 'Paris-Vincennes', 'coursescheval': 61}
2025-11-10 23:19:43,920 - race_prediction.competitive_field_analyzer - INFO -   Horse 2: {'numero': 3, 'cheval': 'If You Can', 'recordG': 0.0, 'hippo': 'Paris-Vincennes', 'coursescheval': 52}
2025-11-10 23:19:43,920 - race_prediction.competitive_field_analyzer - INFO - === END COMPETITIVE ANALYSIS DEBUG ===

2025-11-10 23:19:43,920 - race_prediction.competitive_field_analyzer - INFO - === RETRIEVING HISTORICAL DATA ===
2025-11-10 23:19:43,920 - race_prediction.competitive_field_analyzer - INFO - Fetching historical data for 16 horses: [1469575, 1464524, 1498043, 1496260, 1430653, 1496957, 1466667, 1501881, 1490569, 1460578, 1505177, 1473111, 1438275, 1514018, 1460581, 1490567]
2025-11-10 23:19:43,921 - race_prediction.competitive_field_analyzer - INFO - Batch querying historical data for 16 horses: [1469575, 1464524, 1498043, 1496260, 1430653, 1496957, 1466667, 1501881, 1490569, 1460578, 1505177, 1473111, 1438275, 1514018, 1460581, 1490567]
2025-11-10 23:20:00,319 - race_prediction.competitive_field_analyzer - INFO - Batch query completed in 16.40s, found 218 total records
2025-11-10 23:20:00,328 - race_prediction.competitive_field_analyzer - INFO - Batch query retrieved 218 total historical races
2025-11-10 23:20:00,328 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS PER HORSE ===
2025-11-10 23:20:00,328 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1469575: 16 historical races found
2025-11-10 23:20:00,328 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1464524: 11 historical races found
2025-11-10 23:20:00,328 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1498043: 11 historical races found
2025-11-10 23:20:00,328 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1496260: 12 historical races found
2025-11-10 23:20:00,328 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1430653: 10 historical races found
2025-11-10 23:20:00,328 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1496957: 15 historical races found
2025-11-10 23:20:00,328 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1466667: 9 historical races found
2025-11-10 23:20:00,328 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1501881: 17 historical races found
2025-11-10 23:20:00,328 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1490569: 16 historical races found
2025-11-10 23:20:00,328 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1460578: 12 historical races found
2025-11-10 23:20:00,328 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1505177: 14 historical races found
2025-11-10 23:20:00,328 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1473111: 15 historical races found
2025-11-10 23:20:00,328 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1438275: 18 historical races found
2025-11-10 23:20:00,328 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1514018: 11 historical races found
2025-11-10 23:20:00,328 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1460581: 13 historical races found
2025-11-10 23:20:00,328 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1490567: 18 historical races found
2025-11-10 23:20:00,328 - race_prediction.competitive_field_analyzer - INFO - Retrieved 218 total historical races
2025-11-10 23:20:00,328 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS BY HORSE ===
2025-11-10 23:20:00,328 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1469575: 16 historical races
2025-11-10 23:20:00,329 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1464524: 11 historical races
2025-11-10 23:20:00,329 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1498043: 11 historical races
2025-11-10 23:20:00,329 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1496260: 12 historical races
2025-11-10 23:20:00,329 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1430653: 10 historical races
2025-11-10 23:20:00,329 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1496957: 15 historical races
2025-11-10 23:20:00,329 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1466667: 9 historical races
2025-11-10 23:20:00,329 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1501881: 17 historical races
2025-11-10 23:20:00,329 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1490569: 16 historical races
2025-11-10 23:20:00,329 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1460578: 12 historical races
2025-11-10 23:20:00,329 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1505177: 14 historical races
2025-11-10 23:20:00,329 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1473111: 15 historical races
2025-11-10 23:20:00,329 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1438275: 18 historical races
2025-11-10 23:20:00,329 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1514018: 11 historical races
2025-11-10 23:20:00,329 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1460581: 13 historical races
2025-11-10 23:20:00,329 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1490567: 18 historical races
2025-11-10 23:20:00,329 - race_prediction.competitive_field_analyzer - INFO - === END HISTORICAL DATA RETRIEVAL ===

2025-11-10 23:20:00,329 - race_prediction.competitive_field_analyzer - INFO - === EARNINGS QUALITY ANALYSIS ===
2025-11-10 23:20:00,329 - race_prediction.competitive_field_analyzer - INFO - Valid earnings data: 16/16 horses
2025-11-10 23:20:00,330 - race_prediction.competitive_field_analyzer - INFO - Sample earnings per race: ['439,316', '274,369', '325,115']
2025-11-10 23:20:00,330 - race_prediction.competitive_field_analyzer - INFO - Field earnings stats: avg=325,571, max=547,141
2025-11-10 23:20:00,330 - race_prediction.competitive_field_analyzer - INFO - === TRACK SPECIALIZATION ANALYSIS ===
2025-11-10 23:20:00,330 - race_prediction.competitive_field_analyzer - INFO - Horses with reliable venue data (3+ races): 0/16
2025-11-10 23:20:00,331 - race_prediction.competitive_field_analyzer - INFO - === FORM MOMENTUM ANALYSIS ===
2025-11-10 23:20:00,331 - race_prediction.competitive_field_analyzer - INFO - Field avg horse trend: 1.443, recent perf: 7.08
2025-11-10 23:20:00,331 - race_prediction.competitive_field_analyzer - INFO - Field avg jockey trend: -0.128
2025-11-10 23:20:00,331 - race_prediction.competitive_field_analyzer - INFO - Horses with improving form: 5/16
2025-11-10 23:20:00,331 - race_prediction.competitive_field_analyzer - INFO - === HOT CONNECTIONS ANALYSIS ===
2025-11-10 23:20:00,331 - race_prediction.competitive_field_analyzer - INFO - Jockeys with wins today: 0/16
2025-11-10 23:20:00,331 - race_prediction.competitive_field_analyzer - INFO - Trainers with wins today: 0/16
2025-11-10 23:20:00,332 - race_prediction.competitive_field_analyzer - INFO - === DISTANCE COMFORT ANALYSIS ===
2025-11-10 23:20:00,332 - race_prediction.competitive_field_analyzer - INFO - Current race distance: 2700m
2025-11-10 23:20:00,332 - race_prediction.competitive_field_analyzer - INFO - Horses with similar recent distance: 11/16
2025-11-10 23:20:00,332 - race_prediction.competitive_field_analyzer - INFO - === REALISTIC COMPETITIVE SCORING ===
2025-11-10 23:20:00,332 - race_prediction.competitive_field_analyzer - INFO - üìä COMPETITIVE ANALYSIS SUMMARY:
2025-11-10 23:20:00,332 - race_prediction.competitive_field_analyzer - INFO -    Total competitive races: 218
2025-11-10 23:20:00,332 - race_prediction.competitive_field_analyzer - INFO -    Horses with historical data: 16/16
2025-11-10 23:20:00,332 - race_prediction.competitive_field_analyzer - INFO -    Average races per horse: 13.6
2025-11-10 23:20:00,341 - race_prediction.quinte_prediction_storage - INFO - Stored 16 horses for Quint√© race 1612854
2025-11-10 23:20:02,236 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE ANALYSIS DEBUG ===
2025-11-10 23:20:02,236 - race_prediction.competitive_field_analyzer - INFO - Analyzing competitive field for race with 18 horses
2025-11-10 23:20:02,236 - race_prediction.competitive_field_analyzer - INFO - Race data shape: (18, 278)
2025-11-10 23:20:02,236 - race_prediction.competitive_field_analyzer - INFO - Available columns: ['id', 'comp', 'jour', 'hippo', 'reun', 'prix', 'prixnom', 'typec', 'partant', 'dist', 'handi', 'groupe', 'quinte', 'natpis', 'meteo', 'corde', 'temperature', 'forceVent', 'directionVent', 'nebulosite', 'prediction_results', 'actual_results', 'created_at', 'updated_at', 'processed_data', 'cheque', 'handi_raw', 'reclam', 'sex', 'tempscourse', 'handicap_level_score', 'cl', 'numero', 'cheval', 'age', 'cotedirect', 'coteprob', 'recence', 'ecar', 'defoeil', 'defoeilPrec', 'musiqueche', 'musiquejoc', 'entraineur', 'coursescheval', 'victoirescheval', 'placescheval', 'dernierealloc', 'derniernbpartants', 'dernieredist', 'derniereplace', 'dernierecote', 'dernierEnt', 'proprietaire', 'poidmont', 'pourcVictJockHippo', 'pourcPlaceJockHippo', 'pourcVictChevalHippo', 'pourcPlaceChevalHippo', 'tempstot', 'vha', 'recordG', 'txreclam', 'dernierTxreclam', 'gainsCarriere', 'gainsAnneeEnCours', 'handicapDistance', 'handicapPoids', 'TxVictCouple', 'nbVictCouple', 'nbPlaceCouple', 'idche', 'idJockey', 'idEntraineur', 'defFirstTime', 'oeilFirstTime', 'oeil', 'dernierOeil', 'ratio_victoires', 'ratio_places', 'gains_par_course', 'efficacite_couple', 'regularite_couple', 'progression_couple', 'perf_cheval_hippo', 'perf_jockey_hippo', 'blinkers_first_time', 'has_blinkers', 'has_standard_blinkers', 'has_australian_blinkers', 'blinkers_added', 'blinkers_removed', 'blinkers_type_changed', 'blinkers_any_change', 'blinkers_high_impact_change', 'shoeing_first_time', 'fully_shod', 'front_shod_only', 'back_shod_only', 'barefoot', 'shoeing_changed', 'barefoot_to_shod', 'shod_to_barefoot', 'major_shoeing_change', 'shoeing_complexity', 'multiple_equipment_changes', 'equipment_momentum_score', 'high_equipment_momentum', 'multiple_first_time_changes', 'equipment_optimization_score', 'career_strike_rate', 'earnings_per_race', 'earnings_trend', 'last_race_position_normalized', 'last_race_odds_normalized', 'last_race_field_size_factor', 'distance_consistency', 'vha_normalized', 'claiming_tax_trend', 'class_stability', 'che_global_avg_pos', 'che_global_recent_perf', 'che_global_consistency', 'che_global_trend', 'che_global_pct_top3', 'che_global_nb_courses', 'che_global_total_races', 'che_global_dnf_rate', 'che_weighted_avg_pos', 'che_weighted_recent_perf', 'che_weighted_consistency', 'che_weighted_pct_top3', 'che_weighted_nb_courses', 'che_weighted_total_races', 'che_weighted_dnf_rate', 'che_weighted_trend', 'che_bytype_avg_pos', 'che_bytype_recent_perf', 'che_bytype_consistency', 'che_bytype_trend', 'che_bytype_pct_top3', 'che_bytype_nb_courses', 'che_bytype_dnf_rate', 'joc_global_avg_pos', 'joc_global_recent_perf', 'joc_global_consistency', 'joc_global_trend', 'joc_global_pct_top3', 'joc_global_nb_courses', 'joc_global_total_races', 'joc_global_dnf_rate', 'joc_weighted_avg_pos', 'joc_weighted_recent_perf', 'joc_weighted_consistency', 'joc_weighted_pct_top3', 'joc_weighted_nb_courses', 'joc_weighted_total_races', 'joc_weighted_dnf_rate', 'joc_weighted_trend', 'joc_bytype_avg_pos', 'joc_bytype_recent_perf', 'joc_bytype_consistency', 'joc_bytype_trend', 'joc_bytype_pct_top3', 'joc_bytype_nb_courses', 'joc_bytype_dnf_rate', 'class_drop_pct', 'purse_per_starter', 'purse_ratio', 'moving_up_in_class', 'class_shock_indicator', 'handicap_level_change', 'time_per_distance', 'time_vs_record', 'pace_rating', 'speed_figure_proxy', 'market_confidence_shift', 'last_race_improvement', 'bounce_risk', 'layoff_distance_interaction', 'trainer_change', 'connection_stability', 'field_size_change', 'distance_comfort', 'competition_level_shift', 'recence_x_class_drop', 'trainer_change_x_recence', 'distance_change_x_recence', 'che_by_type_avg_pos', 'che_by_type_recent_perf', 'che_by_type_consistency', 'che_by_type_trend', 'che_by_type_pct_top3', 'che_by_type_nb_courses', 'che_by_type_dnf_rate', 'joc_by_type_avg_pos', 'joc_by_type_recent_perf', 'joc_by_type_consistency', 'joc_by_type_trend', 'joc_by_type_pct_top3', 'joc_by_type_nb_courses', 'joc_by_type_dnf_rate', 'trainer_victoires', 'trainer_places', 'trainer_courses', 'trainer_winrate', 'trainer_placerate', 'trainer_quality_score', 'trainer_experience_level', 'handicap_poids', 'handicap_dist', 'prec_handicap_poids', 'prec_handicap_dist', 'handicap_poids_change', 'handicap_poids_increased', 'handicap_poids_decreased', 'handicap_dist_change', 'handicap_dist_increased', 'handicap_dist_decreased', 'total_handicap', 'handicap_momentum', 'last_race_position', 'last_race_distance', 'distance_change', 'distance_change_pct', 'distance_increased', 'distance_decreased', 'same_distance', 'corde_change', 'corde_improved', 'corde_worsened', 'last_race_top3', 'last_race_won', 'che_bytype_total_races', 'joc_bytype_total_races', 'che_form_momentum', 'che_improving_form', 'che_declining_form', 'che_high_consistency', 'che_recent_quality', 'che_elite_performer', 'che_regular_placer', 'joc_form_momentum', 'joc_improving_form', 'joc_high_consistency', 'joc_elite_performer', 'synergy_both_improving', 'synergy_both_consistent', 'synergy_both_elite', 'overall_momentum_score', 'high_momentum', 'quinte_career_starts', 'quinte_win_rate', 'quinte_top5_rate', 'avg_quinte_position', 'days_since_last_quinte', 'quinte_handicap_specialist', 'quinte_conditions_specialist', 'quinte_large_field_ability', 'quinte_track_condition_fit', 'is_handicap_quinte', 'handicap_division', 'purse_level_category', 'field_size_category', 'track_condition_PH', 'track_condition_DUR', 'track_condition_PS', 'track_condition_PSF', 'weather_clear', 'weather_rain', 'weather_cloudy', 'post_position_bias', 'post_position_track_bias', 'raw_tabnet_prediction', 'predicted_position_tabnet', 'raw_rf_prediction', 'predicted_position_rf', 'predicted_position_base']
2025-11-10 23:20:02,236 - race_prediction.competitive_field_analyzer - INFO - === CRITICAL COLUMNS ANALYSIS ===
2025-11-10 23:20:02,236 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ recordG: 18/18 non-null values (100.0%)
2025-11-10 23:20:02,237 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [0.0, 0.0, 0.0]
2025-11-10 23:20:02,237 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ hippo: 18/18 non-null values (100.0%)
2025-11-10 23:20:02,237 - race_prediction.competitive_field_analyzer - INFO -    Sample values: ['Compi√®gne', 'Compi√®gne', 'Compi√®gne']
2025-11-10 23:20:02,237 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ coursescheval: 18/18 non-null values (100.0%)
2025-11-10 23:20:02,237 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [8, 22, 18]
2025-11-10 23:20:02,237 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ victoirescheval: 18/18 non-null values (100.0%)
2025-11-10 23:20:02,237 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [3, 5, 3]
2025-11-10 23:20:02,237 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ placescheval: 18/18 non-null values (100.0%)
2025-11-10 23:20:02,237 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [6, 11, 8]
2025-11-10 23:20:02,237 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ gainsCarriere: 18/18 non-null values (100.0%)
2025-11-10 23:20:02,237 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [12974000, 16849000, 9182500]
2025-11-10 23:20:02,237 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ age: 18/18 non-null values (100.0%)
2025-11-10 23:20:02,237 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [5, 5, 5]
2025-11-10 23:20:02,237 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ derniereplace: 18/18 non-null values (100.0%)
2025-11-10 23:20:02,237 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [1.0, 10.0, 7.0]
2025-11-10 23:20:02,237 - race_prediction.competitive_field_analyzer - INFO - === RACE METADATA ===
2025-11-10 23:20:02,237 - race_prediction.competitive_field_analyzer - INFO - comp: 1606886
2025-11-10 23:20:02,237 - race_prediction.competitive_field_analyzer - INFO - hippo: Compi√®gne
2025-11-10 23:20:02,237 - race_prediction.competitive_field_analyzer - INFO - dist: 3600
2025-11-10 23:20:02,237 - race_prediction.competitive_field_analyzer - INFO - typec: Haies
2025-11-10 23:20:02,237 - race_prediction.competitive_field_analyzer - INFO - partant: 18
2025-11-10 23:20:02,237 - race_prediction.competitive_field_analyzer - INFO - === SAMPLE RACE DATA ===
2025-11-10 23:20:02,238 - race_prediction.competitive_field_analyzer - INFO - Sample data (columns: ['numero', 'cheval', 'recordG', 'hippo', 'coursescheval']):
2025-11-10 23:20:02,238 - race_prediction.competitive_field_analyzer - INFO -   Horse 0: {'numero': 1, 'cheval': 'La D√©lirante', 'recordG': 0.0, 'hippo': 'Compi√®gne', 'coursescheval': 8}
2025-11-10 23:20:02,238 - race_prediction.competitive_field_analyzer - INFO -   Horse 1: {'numero': 2, 'cheval': 'Earl of Shannon', 'recordG': 0.0, 'hippo': 'Compi√®gne', 'coursescheval': 22}
2025-11-10 23:20:02,238 - race_prediction.competitive_field_analyzer - INFO -   Horse 2: {'numero': 3, 'cheval': 'Kingpark', 'recordG': 0.0, 'hippo': 'Compi√®gne', 'coursescheval': 18}
2025-11-10 23:20:02,238 - race_prediction.competitive_field_analyzer - INFO - === END COMPETITIVE ANALYSIS DEBUG ===

2025-11-10 23:20:02,238 - race_prediction.competitive_field_analyzer - INFO - === RETRIEVING HISTORICAL DATA ===
2025-11-10 23:20:02,238 - race_prediction.competitive_field_analyzer - INFO - Fetching historical data for 18 horses: [1706616, 1652488, 1650846, 1643070, 1641019, 1648763, 1652502, 1676002, 1669182, 1684532, 1648781, 1646967, 1579591, 1559768, 1670805, 1559916, 1688194, 1642250]
2025-11-10 23:20:02,239 - race_prediction.competitive_field_analyzer - INFO - Batch querying historical data for 18 horses: [1706616, 1652488, 1650846, 1643070, 1641019, 1648763, 1652502, 1676002, 1669182, 1684532, 1648781, 1646967, 1579591, 1559768, 1670805, 1559916, 1688194, 1642250]
2025-11-10 23:20:18,667 - race_prediction.competitive_field_analyzer - INFO - Batch query completed in 16.43s, found 135 total records
2025-11-10 23:20:18,674 - race_prediction.competitive_field_analyzer - INFO - Batch query retrieved 135 total historical races
2025-11-10 23:20:18,674 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS PER HORSE ===
2025-11-10 23:20:18,674 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1706616: 5 historical races found
2025-11-10 23:20:18,674 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1652488: 8 historical races found
2025-11-10 23:20:18,674 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1650846: 8 historical races found
2025-11-10 23:20:18,674 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1643070: 8 historical races found
2025-11-10 23:20:18,674 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1641019: 8 historical races found
2025-11-10 23:20:18,674 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1648763: 4 historical races found
2025-11-10 23:20:18,674 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1652502: 8 historical races found
2025-11-10 23:20:18,674 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1676002: 9 historical races found
2025-11-10 23:20:18,674 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1669182: 10 historical races found
2025-11-10 23:20:18,674 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1684532: 5 historical races found
2025-11-10 23:20:18,674 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1648781: 6 historical races found
2025-11-10 23:20:18,674 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1646967: 7 historical races found
2025-11-10 23:20:18,674 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1579591: 6 historical races found
2025-11-10 23:20:18,674 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1559768: 8 historical races found
2025-11-10 23:20:18,674 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1670805: 5 historical races found
2025-11-10 23:20:18,674 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1559916: 8 historical races found
2025-11-10 23:20:18,674 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1688194: 11 historical races found
2025-11-10 23:20:18,674 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1642250: 11 historical races found
2025-11-10 23:20:18,674 - race_prediction.competitive_field_analyzer - INFO - Retrieved 135 total historical races
2025-11-10 23:20:18,674 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS BY HORSE ===
2025-11-10 23:20:18,674 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1706616: 5 historical races
2025-11-10 23:20:18,674 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1652488: 8 historical races
2025-11-10 23:20:18,674 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1650846: 8 historical races
2025-11-10 23:20:18,674 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1643070: 8 historical races
2025-11-10 23:20:18,674 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1641019: 8 historical races
2025-11-10 23:20:18,674 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1648763: 4 historical races
2025-11-10 23:20:18,674 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1652502: 8 historical races
2025-11-10 23:20:18,674 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1676002: 9 historical races
2025-11-10 23:20:18,674 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1669182: 10 historical races
2025-11-10 23:20:18,674 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1684532: 5 historical races
2025-11-10 23:20:18,674 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1648781: 6 historical races
2025-11-10 23:20:18,675 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1646967: 7 historical races
2025-11-10 23:20:18,675 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1579591: 6 historical races
2025-11-10 23:20:18,675 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1559768: 8 historical races
2025-11-10 23:20:18,675 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1670805: 5 historical races
2025-11-10 23:20:18,675 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1559916: 8 historical races
2025-11-10 23:20:18,675 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1688194: 11 historical races
2025-11-10 23:20:18,675 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1642250: 11 historical races
2025-11-10 23:20:18,675 - race_prediction.competitive_field_analyzer - INFO - === END HISTORICAL DATA RETRIEVAL ===

2025-11-10 23:20:18,675 - race_prediction.competitive_field_analyzer - INFO - === EARNINGS QUALITY ANALYSIS ===
2025-11-10 23:20:18,675 - race_prediction.competitive_field_analyzer - INFO - Valid earnings data: 18/18 horses
2025-11-10 23:20:18,675 - race_prediction.competitive_field_analyzer - INFO - Sample earnings per race: ['1,621,750', '765,864', '510,139']
2025-11-10 23:20:18,675 - race_prediction.competitive_field_analyzer - INFO - Field earnings stats: avg=605,134, max=1,621,750
2025-11-10 23:20:18,676 - race_prediction.competitive_field_analyzer - INFO - === TRACK SPECIALIZATION ANALYSIS ===
2025-11-10 23:20:18,676 - race_prediction.competitive_field_analyzer - INFO - Horses with reliable venue data (3+ races): 0/18
2025-11-10 23:20:18,677 - race_prediction.competitive_field_analyzer - INFO - === FORM MOMENTUM ANALYSIS ===
2025-11-10 23:20:18,677 - race_prediction.competitive_field_analyzer - INFO - Field avg horse trend: -2.452, recent perf: 5.78
2025-11-10 23:20:18,677 - race_prediction.competitive_field_analyzer - INFO - Field avg jockey trend: -0.062
2025-11-10 23:20:18,677 - race_prediction.competitive_field_analyzer - INFO - Horses with improving form: 1/18
2025-11-10 23:20:18,678 - race_prediction.competitive_field_analyzer - INFO - === HOT CONNECTIONS ANALYSIS ===
2025-11-10 23:20:18,678 - race_prediction.competitive_field_analyzer - INFO - Jockeys with wins today: 0/18
2025-11-10 23:20:18,678 - race_prediction.competitive_field_analyzer - INFO - Trainers with wins today: 0/18
2025-11-10 23:20:18,678 - race_prediction.competitive_field_analyzer - INFO - === DISTANCE COMFORT ANALYSIS ===
2025-11-10 23:20:18,678 - race_prediction.competitive_field_analyzer - INFO - Current race distance: 3600m
2025-11-10 23:20:18,678 - race_prediction.competitive_field_analyzer - INFO - Horses with similar recent distance: 15/18
2025-11-10 23:20:18,678 - race_prediction.competitive_field_analyzer - INFO - === REALISTIC COMPETITIVE SCORING ===
2025-11-10 23:20:18,678 - race_prediction.competitive_field_analyzer - INFO - üìä COMPETITIVE ANALYSIS SUMMARY:
2025-11-10 23:20:18,678 - race_prediction.competitive_field_analyzer - INFO -    Total competitive races: 135
2025-11-10 23:20:18,678 - race_prediction.competitive_field_analyzer - INFO -    Horses with historical data: 18/18
2025-11-10 23:20:18,678 - race_prediction.competitive_field_analyzer - INFO -    Average races per horse: 7.5
2025-11-10 23:20:18,687 - race_prediction.quinte_prediction_storage - INFO - Stored 18 horses for Quint√© race 1606886
2025-11-10 23:20:20,560 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE ANALYSIS DEBUG ===
2025-11-10 23:20:20,560 - race_prediction.competitive_field_analyzer - INFO - Analyzing competitive field for race with 16 horses
2025-11-10 23:20:20,560 - race_prediction.competitive_field_analyzer - INFO - Race data shape: (16, 278)
2025-11-10 23:20:20,560 - race_prediction.competitive_field_analyzer - INFO - Available columns: ['id', 'comp', 'jour', 'hippo', 'reun', 'prix', 'prixnom', 'typec', 'partant', 'dist', 'handi', 'groupe', 'quinte', 'natpis', 'meteo', 'corde', 'temperature', 'forceVent', 'directionVent', 'nebulosite', 'prediction_results', 'actual_results', 'created_at', 'updated_at', 'processed_data', 'cheque', 'handi_raw', 'reclam', 'sex', 'tempscourse', 'handicap_level_score', 'cl', 'numero', 'cheval', 'age', 'cotedirect', 'coteprob', 'recence', 'ecar', 'defoeil', 'defoeilPrec', 'musiqueche', 'musiquejoc', 'entraineur', 'coursescheval', 'victoirescheval', 'placescheval', 'dernierealloc', 'derniernbpartants', 'dernieredist', 'derniereplace', 'dernierecote', 'dernierEnt', 'proprietaire', 'poidmont', 'pourcVictJockHippo', 'pourcPlaceJockHippo', 'pourcVictChevalHippo', 'pourcPlaceChevalHippo', 'tempstot', 'vha', 'recordG', 'txreclam', 'dernierTxreclam', 'gainsCarriere', 'gainsAnneeEnCours', 'handicapDistance', 'handicapPoids', 'TxVictCouple', 'nbVictCouple', 'nbPlaceCouple', 'idche', 'idJockey', 'idEntraineur', 'defFirstTime', 'oeilFirstTime', 'oeil', 'dernierOeil', 'ratio_victoires', 'ratio_places', 'gains_par_course', 'efficacite_couple', 'regularite_couple', 'progression_couple', 'perf_cheval_hippo', 'perf_jockey_hippo', 'blinkers_first_time', 'has_blinkers', 'has_standard_blinkers', 'has_australian_blinkers', 'blinkers_added', 'blinkers_removed', 'blinkers_type_changed', 'blinkers_any_change', 'blinkers_high_impact_change', 'shoeing_first_time', 'fully_shod', 'front_shod_only', 'back_shod_only', 'barefoot', 'shoeing_changed', 'barefoot_to_shod', 'shod_to_barefoot', 'major_shoeing_change', 'shoeing_complexity', 'multiple_equipment_changes', 'equipment_momentum_score', 'high_equipment_momentum', 'multiple_first_time_changes', 'equipment_optimization_score', 'career_strike_rate', 'earnings_per_race', 'earnings_trend', 'last_race_position_normalized', 'last_race_odds_normalized', 'last_race_field_size_factor', 'distance_consistency', 'vha_normalized', 'claiming_tax_trend', 'class_stability', 'che_global_avg_pos', 'che_global_recent_perf', 'che_global_consistency', 'che_global_trend', 'che_global_pct_top3', 'che_global_nb_courses', 'che_global_total_races', 'che_global_dnf_rate', 'che_weighted_avg_pos', 'che_weighted_recent_perf', 'che_weighted_consistency', 'che_weighted_pct_top3', 'che_weighted_nb_courses', 'che_weighted_total_races', 'che_weighted_dnf_rate', 'che_weighted_trend', 'che_bytype_avg_pos', 'che_bytype_recent_perf', 'che_bytype_consistency', 'che_bytype_trend', 'che_bytype_pct_top3', 'che_bytype_nb_courses', 'che_bytype_dnf_rate', 'joc_global_avg_pos', 'joc_global_recent_perf', 'joc_global_consistency', 'joc_global_trend', 'joc_global_pct_top3', 'joc_global_nb_courses', 'joc_global_total_races', 'joc_global_dnf_rate', 'joc_weighted_avg_pos', 'joc_weighted_recent_perf', 'joc_weighted_consistency', 'joc_weighted_pct_top3', 'joc_weighted_nb_courses', 'joc_weighted_total_races', 'joc_weighted_dnf_rate', 'joc_weighted_trend', 'joc_bytype_avg_pos', 'joc_bytype_recent_perf', 'joc_bytype_consistency', 'joc_bytype_trend', 'joc_bytype_pct_top3', 'joc_bytype_nb_courses', 'joc_bytype_dnf_rate', 'class_drop_pct', 'purse_per_starter', 'purse_ratio', 'moving_up_in_class', 'class_shock_indicator', 'handicap_level_change', 'time_per_distance', 'time_vs_record', 'pace_rating', 'speed_figure_proxy', 'market_confidence_shift', 'last_race_improvement', 'bounce_risk', 'layoff_distance_interaction', 'trainer_change', 'connection_stability', 'field_size_change', 'distance_comfort', 'competition_level_shift', 'recence_x_class_drop', 'trainer_change_x_recence', 'distance_change_x_recence', 'che_by_type_avg_pos', 'che_by_type_recent_perf', 'che_by_type_consistency', 'che_by_type_trend', 'che_by_type_pct_top3', 'che_by_type_nb_courses', 'che_by_type_dnf_rate', 'joc_by_type_avg_pos', 'joc_by_type_recent_perf', 'joc_by_type_consistency', 'joc_by_type_trend', 'joc_by_type_pct_top3', 'joc_by_type_nb_courses', 'joc_by_type_dnf_rate', 'trainer_victoires', 'trainer_places', 'trainer_courses', 'trainer_winrate', 'trainer_placerate', 'trainer_quality_score', 'trainer_experience_level', 'handicap_poids', 'handicap_dist', 'prec_handicap_poids', 'prec_handicap_dist', 'handicap_poids_change', 'handicap_poids_increased', 'handicap_poids_decreased', 'handicap_dist_change', 'handicap_dist_increased', 'handicap_dist_decreased', 'total_handicap', 'handicap_momentum', 'last_race_position', 'last_race_distance', 'distance_change', 'distance_change_pct', 'distance_increased', 'distance_decreased', 'same_distance', 'corde_change', 'corde_improved', 'corde_worsened', 'last_race_top3', 'last_race_won', 'che_bytype_total_races', 'joc_bytype_total_races', 'che_form_momentum', 'che_improving_form', 'che_declining_form', 'che_high_consistency', 'che_recent_quality', 'che_elite_performer', 'che_regular_placer', 'joc_form_momentum', 'joc_improving_form', 'joc_high_consistency', 'joc_elite_performer', 'synergy_both_improving', 'synergy_both_consistent', 'synergy_both_elite', 'overall_momentum_score', 'high_momentum', 'quinte_career_starts', 'quinte_win_rate', 'quinte_top5_rate', 'avg_quinte_position', 'days_since_last_quinte', 'quinte_handicap_specialist', 'quinte_conditions_specialist', 'quinte_large_field_ability', 'quinte_track_condition_fit', 'is_handicap_quinte', 'handicap_division', 'purse_level_category', 'field_size_category', 'track_condition_PH', 'track_condition_DUR', 'track_condition_PS', 'track_condition_PSF', 'weather_clear', 'weather_rain', 'weather_cloudy', 'post_position_bias', 'post_position_track_bias', 'raw_tabnet_prediction', 'predicted_position_tabnet', 'raw_rf_prediction', 'predicted_position_rf', 'predicted_position_base']
2025-11-10 23:20:20,561 - race_prediction.competitive_field_analyzer - INFO - === CRITICAL COLUMNS ANALYSIS ===
2025-11-10 23:20:20,561 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ recordG: 16/16 non-null values (100.0%)
2025-11-10 23:20:20,561 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [0.0, 0.0, 0.0]
2025-11-10 23:20:20,561 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ hippo: 16/16 non-null values (100.0%)
2025-11-10 23:20:20,561 - race_prediction.competitive_field_analyzer - INFO -    Sample values: ['Chantilly', 'Chantilly', 'Chantilly']
2025-11-10 23:20:20,562 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ coursescheval: 16/16 non-null values (100.0%)
2025-11-10 23:20:20,562 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [16, 9, 11]
2025-11-10 23:20:20,562 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ victoirescheval: 16/16 non-null values (100.0%)
2025-11-10 23:20:20,562 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [2, 2, 2]
2025-11-10 23:20:20,562 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ placescheval: 16/16 non-null values (100.0%)
2025-11-10 23:20:20,562 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [9, 5, 5]
2025-11-10 23:20:20,562 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ gainsCarriere: 16/16 non-null values (100.0%)
2025-11-10 23:20:20,562 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [8639200, 3460000, 5448200]
2025-11-10 23:20:20,562 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ age: 16/16 non-null values (100.0%)
2025-11-10 23:20:20,562 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [3, 3, 3]
2025-11-10 23:20:20,562 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ derniereplace: 16/16 non-null values (100.0%)
2025-11-10 23:20:20,562 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [1, 8, 13]
2025-11-10 23:20:20,562 - race_prediction.competitive_field_analyzer - INFO - === RACE METADATA ===
2025-11-10 23:20:20,562 - race_prediction.competitive_field_analyzer - INFO - comp: 1606844
2025-11-10 23:20:20,562 - race_prediction.competitive_field_analyzer - INFO - hippo: Chantilly
2025-11-10 23:20:20,562 - race_prediction.competitive_field_analyzer - INFO - dist: 1600
2025-11-10 23:20:20,562 - race_prediction.competitive_field_analyzer - INFO - typec: Plat
2025-11-10 23:20:20,562 - race_prediction.competitive_field_analyzer - INFO - partant: 16
2025-11-10 23:20:20,562 - race_prediction.competitive_field_analyzer - INFO - === SAMPLE RACE DATA ===
2025-11-10 23:20:20,562 - race_prediction.competitive_field_analyzer - INFO - Sample data (columns: ['numero', 'cheval', 'recordG', 'hippo', 'coursescheval']):
2025-11-10 23:20:20,563 - race_prediction.competitive_field_analyzer - INFO -   Horse 0: {'numero': 1, 'cheval': 'El Pequenio', 'recordG': 0.0, 'hippo': 'Chantilly', 'coursescheval': 16}
2025-11-10 23:20:20,563 - race_prediction.competitive_field_analyzer - INFO -   Horse 1: {'numero': 2, 'cheval': 'Lakota Beau', 'recordG': 0.0, 'hippo': 'Chantilly', 'coursescheval': 9}
2025-11-10 23:20:20,563 - race_prediction.competitive_field_analyzer - INFO -   Horse 2: {'numero': 3, 'cheval': 'Acto', 'recordG': 0.0, 'hippo': 'Chantilly', 'coursescheval': 11}
2025-11-10 23:20:20,563 - race_prediction.competitive_field_analyzer - INFO - === END COMPETITIVE ANALYSIS DEBUG ===

2025-11-10 23:20:20,563 - race_prediction.competitive_field_analyzer - INFO - === RETRIEVING HISTORICAL DATA ===
2025-11-10 23:20:20,563 - race_prediction.competitive_field_analyzer - INFO - Fetching historical data for 16 horses: [1718695, 1714596, 1723957, 1728965, 1734355, 1751977, 1741661, 1717206, 1722576, 1720035, 1717191, 1722582, 1723132, 1704246, 1717205, 1740052]
2025-11-10 23:20:20,564 - race_prediction.competitive_field_analyzer - INFO - Batch querying historical data for 16 horses: [1718695, 1714596, 1723957, 1728965, 1734355, 1751977, 1741661, 1717206, 1722576, 1720035, 1717191, 1722582, 1723132, 1704246, 1717205, 1740052]
2025-11-10 23:20:37,094 - race_prediction.competitive_field_analyzer - INFO - Batch query completed in 16.53s, found 149 total records
2025-11-10 23:20:37,101 - race_prediction.competitive_field_analyzer - INFO - Batch query retrieved 149 total historical races
2025-11-10 23:20:37,101 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS PER HORSE ===
2025-11-10 23:20:37,101 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1718695: 13 historical races found
2025-11-10 23:20:37,101 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1714596: 9 historical races found
2025-11-10 23:20:37,101 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1723957: 11 historical races found
2025-11-10 23:20:37,101 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1728965: 9 historical races found
2025-11-10 23:20:37,101 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1734355: 6 historical races found
2025-11-10 23:20:37,101 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1751977: 7 historical races found
2025-11-10 23:20:37,101 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1741661: 7 historical races found
2025-11-10 23:20:37,101 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1717206: 4 historical races found
2025-11-10 23:20:37,101 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1722576: 10 historical races found
2025-11-10 23:20:37,101 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1720035: 11 historical races found
2025-11-10 23:20:37,101 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1717191: 7 historical races found
2025-11-10 23:20:37,101 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1722582: 10 historical races found
2025-11-10 23:20:37,102 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1723132: 8 historical races found
2025-11-10 23:20:37,102 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1704246: 16 historical races found
2025-11-10 23:20:37,102 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1717205: 12 historical races found
2025-11-10 23:20:37,102 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1740052: 9 historical races found
2025-11-10 23:20:37,102 - race_prediction.competitive_field_analyzer - INFO - Retrieved 149 total historical races
2025-11-10 23:20:37,102 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS BY HORSE ===
2025-11-10 23:20:37,102 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1718695: 13 historical races
2025-11-10 23:20:37,102 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1714596: 9 historical races
2025-11-10 23:20:37,102 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1723957: 11 historical races
2025-11-10 23:20:37,102 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1728965: 9 historical races
2025-11-10 23:20:37,102 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1734355: 6 historical races
2025-11-10 23:20:37,102 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1751977: 7 historical races
2025-11-10 23:20:37,102 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1741661: 7 historical races
2025-11-10 23:20:37,102 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1717206: 4 historical races
2025-11-10 23:20:37,102 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1722576: 10 historical races
2025-11-10 23:20:37,102 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1720035: 11 historical races
2025-11-10 23:20:37,102 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1717191: 7 historical races
2025-11-10 23:20:37,102 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1722582: 10 historical races
2025-11-10 23:20:37,102 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1723132: 8 historical races
2025-11-10 23:20:37,102 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1704246: 16 historical races
2025-11-10 23:20:37,102 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1717205: 12 historical races
2025-11-10 23:20:37,102 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1740052: 9 historical races
2025-11-10 23:20:37,102 - race_prediction.competitive_field_analyzer - INFO - === END HISTORICAL DATA RETRIEVAL ===

2025-11-10 23:20:37,102 - race_prediction.competitive_field_analyzer - INFO - === EARNINGS QUALITY ANALYSIS ===
2025-11-10 23:20:37,102 - race_prediction.competitive_field_analyzer - INFO - Valid earnings data: 16/16 horses
2025-11-10 23:20:37,102 - race_prediction.competitive_field_analyzer - INFO - Sample earnings per race: ['539,950', '384,444', '495,291']
2025-11-10 23:20:37,102 - race_prediction.competitive_field_analyzer - INFO - Field earnings stats: avg=388,785, max=539,950
2025-11-10 23:20:37,103 - race_prediction.competitive_field_analyzer - INFO - === TRACK SPECIALIZATION ANALYSIS ===
2025-11-10 23:20:37,103 - race_prediction.competitive_field_analyzer - INFO - Horses with reliable venue data (3+ races): 0/16
2025-11-10 23:20:37,104 - race_prediction.competitive_field_analyzer - INFO - === FORM MOMENTUM ANALYSIS ===
2025-11-10 23:20:37,104 - race_prediction.competitive_field_analyzer - INFO - Field avg horse trend: -0.493, recent perf: 7.17
2025-11-10 23:20:37,104 - race_prediction.competitive_field_analyzer - INFO - Field avg jockey trend: -0.763
2025-11-10 23:20:37,104 - race_prediction.competitive_field_analyzer - INFO - Horses with improving form: 2/16
2025-11-10 23:20:37,104 - race_prediction.competitive_field_analyzer - INFO - === HOT CONNECTIONS ANALYSIS ===
2025-11-10 23:20:37,104 - race_prediction.competitive_field_analyzer - INFO - Jockeys with wins today: 0/16
2025-11-10 23:20:37,104 - race_prediction.competitive_field_analyzer - INFO - Trainers with wins today: 0/16
2025-11-10 23:20:37,104 - race_prediction.competitive_field_analyzer - INFO - === DISTANCE COMFORT ANALYSIS ===
2025-11-10 23:20:37,104 - race_prediction.competitive_field_analyzer - INFO - Current race distance: 1600m
2025-11-10 23:20:37,104 - race_prediction.competitive_field_analyzer - INFO - Horses with similar recent distance: 14/16
2025-11-10 23:20:37,104 - race_prediction.competitive_field_analyzer - INFO - === REALISTIC COMPETITIVE SCORING ===
2025-11-10 23:20:37,105 - race_prediction.competitive_field_analyzer - INFO - üìä COMPETITIVE ANALYSIS SUMMARY:
2025-11-10 23:20:37,105 - race_prediction.competitive_field_analyzer - INFO -    Total competitive races: 149
2025-11-10 23:20:37,109 - race_prediction.competitive_field_analyzer - INFO -    Horses with historical data: 16/16
2025-11-10 23:20:37,109 - race_prediction.competitive_field_analyzer - INFO -    Average races per horse: 9.3
2025-11-10 23:20:37,118 - race_prediction.quinte_prediction_storage - INFO - Stored 16 horses for Quint√© race 1606844
2025-11-10 23:20:39,047 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE ANALYSIS DEBUG ===
2025-11-10 23:20:39,047 - race_prediction.competitive_field_analyzer - INFO - Analyzing competitive field for race with 13 horses
2025-11-10 23:20:39,047 - race_prediction.competitive_field_analyzer - INFO - Race data shape: (13, 278)
2025-11-10 23:20:39,047 - race_prediction.competitive_field_analyzer - INFO - Available columns: ['id', 'comp', 'jour', 'hippo', 'reun', 'prix', 'prixnom', 'typec', 'partant', 'dist', 'handi', 'groupe', 'quinte', 'natpis', 'meteo', 'corde', 'temperature', 'forceVent', 'directionVent', 'nebulosite', 'prediction_results', 'actual_results', 'created_at', 'updated_at', 'processed_data', 'cheque', 'handi_raw', 'reclam', 'sex', 'tempscourse', 'handicap_level_score', 'cl', 'numero', 'cheval', 'age', 'cotedirect', 'coteprob', 'recence', 'ecar', 'defoeil', 'defoeilPrec', 'musiqueche', 'musiquejoc', 'entraineur', 'coursescheval', 'victoirescheval', 'placescheval', 'dernierealloc', 'derniernbpartants', 'dernieredist', 'derniereplace', 'dernierecote', 'dernierEnt', 'proprietaire', 'poidmont', 'pourcVictJockHippo', 'pourcPlaceJockHippo', 'pourcVictChevalHippo', 'pourcPlaceChevalHippo', 'tempstot', 'vha', 'recordG', 'txreclam', 'dernierTxreclam', 'gainsCarriere', 'gainsAnneeEnCours', 'handicapDistance', 'handicapPoids', 'TxVictCouple', 'nbVictCouple', 'nbPlaceCouple', 'idche', 'idJockey', 'idEntraineur', 'defFirstTime', 'oeilFirstTime', 'oeil', 'dernierOeil', 'ratio_victoires', 'ratio_places', 'gains_par_course', 'efficacite_couple', 'regularite_couple', 'progression_couple', 'perf_cheval_hippo', 'perf_jockey_hippo', 'blinkers_first_time', 'has_blinkers', 'has_standard_blinkers', 'has_australian_blinkers', 'blinkers_added', 'blinkers_removed', 'blinkers_type_changed', 'blinkers_any_change', 'blinkers_high_impact_change', 'shoeing_first_time', 'fully_shod', 'front_shod_only', 'back_shod_only', 'barefoot', 'shoeing_changed', 'barefoot_to_shod', 'shod_to_barefoot', 'major_shoeing_change', 'shoeing_complexity', 'multiple_equipment_changes', 'equipment_momentum_score', 'high_equipment_momentum', 'multiple_first_time_changes', 'equipment_optimization_score', 'career_strike_rate', 'earnings_per_race', 'earnings_trend', 'last_race_position_normalized', 'last_race_odds_normalized', 'last_race_field_size_factor', 'distance_consistency', 'vha_normalized', 'claiming_tax_trend', 'class_stability', 'che_global_avg_pos', 'che_global_recent_perf', 'che_global_consistency', 'che_global_trend', 'che_global_pct_top3', 'che_global_nb_courses', 'che_global_total_races', 'che_global_dnf_rate', 'che_weighted_avg_pos', 'che_weighted_recent_perf', 'che_weighted_consistency', 'che_weighted_pct_top3', 'che_weighted_nb_courses', 'che_weighted_total_races', 'che_weighted_dnf_rate', 'che_weighted_trend', 'che_bytype_avg_pos', 'che_bytype_recent_perf', 'che_bytype_consistency', 'che_bytype_trend', 'che_bytype_pct_top3', 'che_bytype_nb_courses', 'che_bytype_dnf_rate', 'joc_global_avg_pos', 'joc_global_recent_perf', 'joc_global_consistency', 'joc_global_trend', 'joc_global_pct_top3', 'joc_global_nb_courses', 'joc_global_total_races', 'joc_global_dnf_rate', 'joc_weighted_avg_pos', 'joc_weighted_recent_perf', 'joc_weighted_consistency', 'joc_weighted_pct_top3', 'joc_weighted_nb_courses', 'joc_weighted_total_races', 'joc_weighted_dnf_rate', 'joc_weighted_trend', 'joc_bytype_avg_pos', 'joc_bytype_recent_perf', 'joc_bytype_consistency', 'joc_bytype_trend', 'joc_bytype_pct_top3', 'joc_bytype_nb_courses', 'joc_bytype_dnf_rate', 'class_drop_pct', 'purse_per_starter', 'purse_ratio', 'moving_up_in_class', 'class_shock_indicator', 'handicap_level_change', 'time_per_distance', 'time_vs_record', 'pace_rating', 'speed_figure_proxy', 'market_confidence_shift', 'last_race_improvement', 'bounce_risk', 'layoff_distance_interaction', 'trainer_change', 'connection_stability', 'field_size_change', 'distance_comfort', 'competition_level_shift', 'recence_x_class_drop', 'trainer_change_x_recence', 'distance_change_x_recence', 'che_by_type_avg_pos', 'che_by_type_recent_perf', 'che_by_type_consistency', 'che_by_type_trend', 'che_by_type_pct_top3', 'che_by_type_nb_courses', 'che_by_type_dnf_rate', 'joc_by_type_avg_pos', 'joc_by_type_recent_perf', 'joc_by_type_consistency', 'joc_by_type_trend', 'joc_by_type_pct_top3', 'joc_by_type_nb_courses', 'joc_by_type_dnf_rate', 'trainer_victoires', 'trainer_places', 'trainer_courses', 'trainer_winrate', 'trainer_placerate', 'trainer_quality_score', 'trainer_experience_level', 'handicap_poids', 'handicap_dist', 'prec_handicap_poids', 'prec_handicap_dist', 'handicap_poids_change', 'handicap_poids_increased', 'handicap_poids_decreased', 'handicap_dist_change', 'handicap_dist_increased', 'handicap_dist_decreased', 'total_handicap', 'handicap_momentum', 'last_race_position', 'last_race_distance', 'distance_change', 'distance_change_pct', 'distance_increased', 'distance_decreased', 'same_distance', 'corde_change', 'corde_improved', 'corde_worsened', 'last_race_top3', 'last_race_won', 'che_bytype_total_races', 'joc_bytype_total_races', 'che_form_momentum', 'che_improving_form', 'che_declining_form', 'che_high_consistency', 'che_recent_quality', 'che_elite_performer', 'che_regular_placer', 'joc_form_momentum', 'joc_improving_form', 'joc_high_consistency', 'joc_elite_performer', 'synergy_both_improving', 'synergy_both_consistent', 'synergy_both_elite', 'overall_momentum_score', 'high_momentum', 'quinte_career_starts', 'quinte_win_rate', 'quinte_top5_rate', 'avg_quinte_position', 'days_since_last_quinte', 'quinte_handicap_specialist', 'quinte_conditions_specialist', 'quinte_large_field_ability', 'quinte_track_condition_fit', 'is_handicap_quinte', 'handicap_division', 'purse_level_category', 'field_size_category', 'track_condition_PH', 'track_condition_DUR', 'track_condition_PS', 'track_condition_PSF', 'weather_clear', 'weather_rain', 'weather_cloudy', 'post_position_bias', 'post_position_track_bias', 'raw_tabnet_prediction', 'predicted_position_tabnet', 'raw_rf_prediction', 'predicted_position_rf', 'predicted_position_base']
2025-11-10 23:20:39,047 - race_prediction.competitive_field_analyzer - INFO - === CRITICAL COLUMNS ANALYSIS ===
2025-11-10 23:20:39,048 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ recordG: 13/13 non-null values (100.0%)
2025-11-10 23:20:39,048 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [0.0, 0.0, 0.0]
2025-11-10 23:20:39,048 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ hippo: 13/13 non-null values (100.0%)
2025-11-10 23:20:39,048 - race_prediction.competitive_field_analyzer - INFO -    Sample values: ['Enghien', 'Enghien', 'Enghien']
2025-11-10 23:20:39,048 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ coursescheval: 13/13 non-null values (100.0%)
2025-11-10 23:20:39,048 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [55, 70, 91]
2025-11-10 23:20:39,048 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ victoirescheval: 13/13 non-null values (100.0%)
2025-11-10 23:20:39,048 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [3, 11, 10]
2025-11-10 23:20:39,048 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ placescheval: 13/13 non-null values (100.0%)
2025-11-10 23:20:39,048 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [18, 23, 37]
2025-11-10 23:20:39,048 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ gainsCarriere: 13/13 non-null values (100.0%)
2025-11-10 23:20:39,048 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [22045000, 22801000, 22384000]
2025-11-10 23:20:39,048 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ age: 13/13 non-null values (100.0%)
2025-11-10 23:20:39,049 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [7, 9, 9]
2025-11-10 23:20:39,049 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ derniereplace: 13/13 non-null values (100.0%)
2025-11-10 23:20:39,049 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [13.0, 15.0, 2.0]
2025-11-10 23:20:39,049 - race_prediction.competitive_field_analyzer - INFO - === RACE METADATA ===
2025-11-10 23:20:39,049 - race_prediction.competitive_field_analyzer - INFO - comp: 1611878
2025-11-10 23:20:39,049 - race_prediction.competitive_field_analyzer - INFO - hippo: Enghien
2025-11-10 23:20:39,049 - race_prediction.competitive_field_analyzer - INFO - dist: 2150
2025-11-10 23:20:39,049 - race_prediction.competitive_field_analyzer - INFO - typec: Attel√©
2025-11-10 23:20:39,049 - race_prediction.competitive_field_analyzer - INFO - partant: 13
2025-11-10 23:20:39,049 - race_prediction.competitive_field_analyzer - INFO - === SAMPLE RACE DATA ===
2025-11-10 23:20:39,049 - race_prediction.competitive_field_analyzer - INFO - Sample data (columns: ['numero', 'cheval', 'recordG', 'hippo', 'coursescheval']):
2025-11-10 23:20:39,049 - race_prediction.competitive_field_analyzer - INFO -   Horse 0: {'numero': 1, 'cheval': 'Instructor', 'recordG': 0.0, 'hippo': 'Enghien', 'coursescheval': 55}
2025-11-10 23:20:39,049 - race_prediction.competitive_field_analyzer - INFO -   Horse 1: {'numero': 2, 'cheval': 'Gourou', 'recordG': 0.0, 'hippo': 'Enghien', 'coursescheval': 70}
2025-11-10 23:20:39,049 - race_prediction.competitive_field_analyzer - INFO -   Horse 2: {'numero': 3, 'cheval': 'Gucci de Barb', 'recordG': 0.0, 'hippo': 'Enghien', 'coursescheval': 91}
2025-11-10 23:20:39,049 - race_prediction.competitive_field_analyzer - INFO - === END COMPETITIVE ANALYSIS DEBUG ===

2025-11-10 23:20:39,049 - race_prediction.competitive_field_analyzer - INFO - === RETRIEVING HISTORICAL DATA ===
2025-11-10 23:20:39,050 - race_prediction.competitive_field_analyzer - INFO - Fetching historical data for 13 horses: [1437359, 1377688, 1349896, 1495175, 1430252, 1449411, 1291128, 1345326, 1461235, 1268908, 1476208, 1379064, 1471729]
2025-11-10 23:20:39,051 - race_prediction.competitive_field_analyzer - INFO - Batch querying historical data for 13 horses: [1437359, 1377688, 1349896, 1495175, 1430252, 1449411, 1291128, 1345326, 1461235, 1268908, 1476208, 1379064, 1471729]
2025-11-10 23:20:55,275 - race_prediction.competitive_field_analyzer - INFO - Batch query completed in 16.22s, found 189 total records
2025-11-10 23:20:55,283 - race_prediction.competitive_field_analyzer - INFO - Batch query retrieved 189 total historical races
2025-11-10 23:20:55,283 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS PER HORSE ===
2025-11-10 23:20:55,283 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1437359: 19 historical races found
2025-11-10 23:20:55,283 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1377688: 16 historical races found
2025-11-10 23:20:55,283 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1349896: 14 historical races found
2025-11-10 23:20:55,283 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1495175: 14 historical races found
2025-11-10 23:20:55,283 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1430252: 13 historical races found
2025-11-10 23:20:55,283 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1449411: 16 historical races found
2025-11-10 23:20:55,283 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1291128: 20 historical races found
2025-11-10 23:20:55,284 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1345326: 12 historical races found
2025-11-10 23:20:55,284 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1461235: 13 historical races found
2025-11-10 23:20:55,284 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1268908: 10 historical races found
2025-11-10 23:20:55,284 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1476208: 12 historical races found
2025-11-10 23:20:55,284 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1379064: 12 historical races found
2025-11-10 23:20:55,284 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1471729: 18 historical races found
2025-11-10 23:20:55,284 - race_prediction.competitive_field_analyzer - INFO - Retrieved 189 total historical races
2025-11-10 23:20:55,284 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS BY HORSE ===
2025-11-10 23:20:55,284 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1437359: 19 historical races
2025-11-10 23:20:55,284 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1377688: 16 historical races
2025-11-10 23:20:55,284 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1349896: 14 historical races
2025-11-10 23:20:55,284 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1495175: 14 historical races
2025-11-10 23:20:55,284 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1430252: 13 historical races
2025-11-10 23:20:55,284 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1449411: 16 historical races
2025-11-10 23:20:55,284 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1291128: 20 historical races
2025-11-10 23:20:55,284 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1345326: 12 historical races
2025-11-10 23:20:55,284 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1461235: 13 historical races
2025-11-10 23:20:55,284 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1268908: 10 historical races
2025-11-10 23:20:55,284 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1476208: 12 historical races
2025-11-10 23:20:55,284 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1379064: 12 historical races
2025-11-10 23:20:55,284 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1471729: 18 historical races
2025-11-10 23:20:55,284 - race_prediction.competitive_field_analyzer - INFO - === END HISTORICAL DATA RETRIEVAL ===

2025-11-10 23:20:55,284 - race_prediction.competitive_field_analyzer - INFO - === EARNINGS QUALITY ANALYSIS ===
2025-11-10 23:20:55,284 - race_prediction.competitive_field_analyzer - INFO - Valid earnings data: 13/13 horses
2025-11-10 23:20:55,284 - race_prediction.competitive_field_analyzer - INFO - Sample earnings per race: ['400,818', '325,729', '245,978']
2025-11-10 23:20:55,284 - race_prediction.competitive_field_analyzer - INFO - Field earnings stats: avg=303,182, max=400,818
2025-11-10 23:20:55,285 - race_prediction.competitive_field_analyzer - INFO - === TRACK SPECIALIZATION ANALYSIS ===
2025-11-10 23:20:55,285 - race_prediction.competitive_field_analyzer - INFO - Horses with reliable venue data (3+ races): 0/13
2025-11-10 23:20:55,285 - race_prediction.competitive_field_analyzer - INFO - === FORM MOMENTUM ANALYSIS ===
2025-11-10 23:20:55,286 - race_prediction.competitive_field_analyzer - INFO - Field avg horse trend: 1.930, recent perf: 7.31
2025-11-10 23:20:55,286 - race_prediction.competitive_field_analyzer - INFO - Field avg jockey trend: 0.123
2025-11-10 23:20:55,286 - race_prediction.competitive_field_analyzer - INFO - Horses with improving form: 3/13
2025-11-10 23:20:55,286 - race_prediction.competitive_field_analyzer - INFO - === HOT CONNECTIONS ANALYSIS ===
2025-11-10 23:20:55,286 - race_prediction.competitive_field_analyzer - INFO - Jockeys with wins today: 0/13
2025-11-10 23:20:55,286 - race_prediction.competitive_field_analyzer - INFO - Trainers with wins today: 0/13
2025-11-10 23:20:55,286 - race_prediction.competitive_field_analyzer - INFO - === DISTANCE COMFORT ANALYSIS ===
2025-11-10 23:20:55,286 - race_prediction.competitive_field_analyzer - INFO - Current race distance: 2150m
2025-11-10 23:20:55,286 - race_prediction.competitive_field_analyzer - INFO - Horses with similar recent distance: 1/13
2025-11-10 23:20:55,286 - race_prediction.competitive_field_analyzer - INFO - === REALISTIC COMPETITIVE SCORING ===
2025-11-10 23:20:55,287 - race_prediction.competitive_field_analyzer - INFO - üìä COMPETITIVE ANALYSIS SUMMARY:
2025-11-10 23:20:55,287 - race_prediction.competitive_field_analyzer - INFO -    Total competitive races: 189
2025-11-10 23:20:55,287 - race_prediction.competitive_field_analyzer - INFO -    Horses with historical data: 13/13
2025-11-10 23:20:55,287 - race_prediction.competitive_field_analyzer - INFO -    Average races per horse: 14.5
2025-11-10 23:20:55,295 - race_prediction.quinte_prediction_storage - INFO - Stored 13 horses for Quint√© race 1611878
2025-11-10 23:20:57,133 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE ANALYSIS DEBUG ===
2025-11-10 23:20:57,134 - race_prediction.competitive_field_analyzer - INFO - Analyzing competitive field for race with 16 horses
2025-11-10 23:20:57,134 - race_prediction.competitive_field_analyzer - INFO - Race data shape: (16, 278)
2025-11-10 23:20:57,134 - race_prediction.competitive_field_analyzer - INFO - Available columns: ['id', 'comp', 'jour', 'hippo', 'reun', 'prix', 'prixnom', 'typec', 'partant', 'dist', 'handi', 'groupe', 'quinte', 'natpis', 'meteo', 'corde', 'temperature', 'forceVent', 'directionVent', 'nebulosite', 'prediction_results', 'actual_results', 'created_at', 'updated_at', 'processed_data', 'cheque', 'handi_raw', 'reclam', 'sex', 'tempscourse', 'handicap_level_score', 'cl', 'numero', 'cheval', 'age', 'cotedirect', 'coteprob', 'recence', 'ecar', 'defoeil', 'defoeilPrec', 'musiqueche', 'musiquejoc', 'entraineur', 'coursescheval', 'victoirescheval', 'placescheval', 'dernierealloc', 'derniernbpartants', 'dernieredist', 'derniereplace', 'dernierecote', 'dernierEnt', 'proprietaire', 'poidmont', 'pourcVictJockHippo', 'pourcPlaceJockHippo', 'pourcVictChevalHippo', 'pourcPlaceChevalHippo', 'tempstot', 'vha', 'recordG', 'txreclam', 'dernierTxreclam', 'gainsCarriere', 'gainsAnneeEnCours', 'handicapDistance', 'handicapPoids', 'TxVictCouple', 'nbVictCouple', 'nbPlaceCouple', 'idche', 'idJockey', 'idEntraineur', 'defFirstTime', 'oeilFirstTime', 'oeil', 'dernierOeil', 'ratio_victoires', 'ratio_places', 'gains_par_course', 'efficacite_couple', 'regularite_couple', 'progression_couple', 'perf_cheval_hippo', 'perf_jockey_hippo', 'blinkers_first_time', 'has_blinkers', 'has_standard_blinkers', 'has_australian_blinkers', 'blinkers_added', 'blinkers_removed', 'blinkers_type_changed', 'blinkers_any_change', 'blinkers_high_impact_change', 'shoeing_first_time', 'fully_shod', 'front_shod_only', 'back_shod_only', 'barefoot', 'shoeing_changed', 'barefoot_to_shod', 'shod_to_barefoot', 'major_shoeing_change', 'shoeing_complexity', 'multiple_equipment_changes', 'equipment_momentum_score', 'high_equipment_momentum', 'multiple_first_time_changes', 'equipment_optimization_score', 'career_strike_rate', 'earnings_per_race', 'earnings_trend', 'last_race_position_normalized', 'last_race_odds_normalized', 'last_race_field_size_factor', 'distance_consistency', 'vha_normalized', 'claiming_tax_trend', 'class_stability', 'che_global_avg_pos', 'che_global_recent_perf', 'che_global_consistency', 'che_global_trend', 'che_global_pct_top3', 'che_global_nb_courses', 'che_global_total_races', 'che_global_dnf_rate', 'che_weighted_avg_pos', 'che_weighted_recent_perf', 'che_weighted_consistency', 'che_weighted_pct_top3', 'che_weighted_nb_courses', 'che_weighted_total_races', 'che_weighted_dnf_rate', 'che_weighted_trend', 'che_bytype_avg_pos', 'che_bytype_recent_perf', 'che_bytype_consistency', 'che_bytype_trend', 'che_bytype_pct_top3', 'che_bytype_nb_courses', 'che_bytype_dnf_rate', 'joc_global_avg_pos', 'joc_global_recent_perf', 'joc_global_consistency', 'joc_global_trend', 'joc_global_pct_top3', 'joc_global_nb_courses', 'joc_global_total_races', 'joc_global_dnf_rate', 'joc_weighted_avg_pos', 'joc_weighted_recent_perf', 'joc_weighted_consistency', 'joc_weighted_pct_top3', 'joc_weighted_nb_courses', 'joc_weighted_total_races', 'joc_weighted_dnf_rate', 'joc_weighted_trend', 'joc_bytype_avg_pos', 'joc_bytype_recent_perf', 'joc_bytype_consistency', 'joc_bytype_trend', 'joc_bytype_pct_top3', 'joc_bytype_nb_courses', 'joc_bytype_dnf_rate', 'class_drop_pct', 'purse_per_starter', 'purse_ratio', 'moving_up_in_class', 'class_shock_indicator', 'handicap_level_change', 'time_per_distance', 'time_vs_record', 'pace_rating', 'speed_figure_proxy', 'market_confidence_shift', 'last_race_improvement', 'bounce_risk', 'layoff_distance_interaction', 'trainer_change', 'connection_stability', 'field_size_change', 'distance_comfort', 'competition_level_shift', 'recence_x_class_drop', 'trainer_change_x_recence', 'distance_change_x_recence', 'che_by_type_avg_pos', 'che_by_type_recent_perf', 'che_by_type_consistency', 'che_by_type_trend', 'che_by_type_pct_top3', 'che_by_type_nb_courses', 'che_by_type_dnf_rate', 'joc_by_type_avg_pos', 'joc_by_type_recent_perf', 'joc_by_type_consistency', 'joc_by_type_trend', 'joc_by_type_pct_top3', 'joc_by_type_nb_courses', 'joc_by_type_dnf_rate', 'trainer_victoires', 'trainer_places', 'trainer_courses', 'trainer_winrate', 'trainer_placerate', 'trainer_quality_score', 'trainer_experience_level', 'handicap_poids', 'handicap_dist', 'prec_handicap_poids', 'prec_handicap_dist', 'handicap_poids_change', 'handicap_poids_increased', 'handicap_poids_decreased', 'handicap_dist_change', 'handicap_dist_increased', 'handicap_dist_decreased', 'total_handicap', 'handicap_momentum', 'last_race_position', 'last_race_distance', 'distance_change', 'distance_change_pct', 'distance_increased', 'distance_decreased', 'same_distance', 'corde_change', 'corde_improved', 'corde_worsened', 'last_race_top3', 'last_race_won', 'che_bytype_total_races', 'joc_bytype_total_races', 'che_form_momentum', 'che_improving_form', 'che_declining_form', 'che_high_consistency', 'che_recent_quality', 'che_elite_performer', 'che_regular_placer', 'joc_form_momentum', 'joc_improving_form', 'joc_high_consistency', 'joc_elite_performer', 'synergy_both_improving', 'synergy_both_consistent', 'synergy_both_elite', 'overall_momentum_score', 'high_momentum', 'quinte_career_starts', 'quinte_win_rate', 'quinte_top5_rate', 'avg_quinte_position', 'days_since_last_quinte', 'quinte_handicap_specialist', 'quinte_conditions_specialist', 'quinte_large_field_ability', 'quinte_track_condition_fit', 'is_handicap_quinte', 'handicap_division', 'purse_level_category', 'field_size_category', 'track_condition_PH', 'track_condition_DUR', 'track_condition_PS', 'track_condition_PSF', 'weather_clear', 'weather_rain', 'weather_cloudy', 'post_position_bias', 'post_position_track_bias', 'raw_tabnet_prediction', 'predicted_position_tabnet', 'raw_rf_prediction', 'predicted_position_rf', 'predicted_position_base']
2025-11-10 23:20:57,134 - race_prediction.competitive_field_analyzer - INFO - === CRITICAL COLUMNS ANALYSIS ===
2025-11-10 23:20:57,135 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ recordG: 16/16 non-null values (100.0%)
2025-11-10 23:20:57,135 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [0.0, 0.0, 0.0]
2025-11-10 23:20:57,135 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ hippo: 16/16 non-null values (100.0%)
2025-11-10 23:20:57,135 - race_prediction.competitive_field_analyzer - INFO -    Sample values: ['Paris-Vincennes', 'Paris-Vincennes', 'Paris-Vincennes']
2025-11-10 23:20:57,135 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ coursescheval: 16/16 non-null values (100.0%)
2025-11-10 23:20:57,135 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [51, 54, 58]
2025-11-10 23:20:57,135 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ victoirescheval: 16/16 non-null values (100.0%)
2025-11-10 23:20:57,135 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [7, 15, 12]
2025-11-10 23:20:57,135 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ placescheval: 16/16 non-null values (100.0%)
2025-11-10 23:20:57,135 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [23, 31, 20]
2025-11-10 23:20:57,135 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ gainsCarriere: 16/16 non-null values (100.0%)
2025-11-10 23:20:57,135 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [15164200, 15887000, 17290000]
2025-11-10 23:20:57,135 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ age: 16/16 non-null values (100.0%)
2025-11-10 23:20:57,135 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [8, 8, 8]
2025-11-10 23:20:57,135 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ derniereplace: 16/16 non-null values (100.0%)
2025-11-10 23:20:57,136 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [10.0, 1.0, 8.0]
2025-11-10 23:20:57,136 - race_prediction.competitive_field_analyzer - INFO - === RACE METADATA ===
2025-11-10 23:20:57,136 - race_prediction.competitive_field_analyzer - INFO - comp: 1611846
2025-11-10 23:20:57,136 - race_prediction.competitive_field_analyzer - INFO - hippo: Paris-Vincennes
2025-11-10 23:20:57,136 - race_prediction.competitive_field_analyzer - INFO - dist: 2850
2025-11-10 23:20:57,136 - race_prediction.competitive_field_analyzer - INFO - typec: Attel√©
2025-11-10 23:20:57,136 - race_prediction.competitive_field_analyzer - INFO - partant: 16
2025-11-10 23:20:57,136 - race_prediction.competitive_field_analyzer - INFO - === SAMPLE RACE DATA ===
2025-11-10 23:20:57,136 - race_prediction.competitive_field_analyzer - INFO - Sample data (columns: ['numero', 'cheval', 'recordG', 'hippo', 'coursescheval']):
2025-11-10 23:20:57,136 - race_prediction.competitive_field_analyzer - INFO -   Horse 0: {'numero': 1, 'cheval': 'Hand Full', 'recordG': 0.0, 'hippo': 'Paris-Vincennes', 'coursescheval': 51}
2025-11-10 23:20:57,136 - race_prediction.competitive_field_analyzer - INFO -   Horse 1: {'numero': 2, 'cheval': 'Neo Turbo', 'recordG': 0.0, 'hippo': 'Paris-Vincennes', 'coursescheval': 54}
2025-11-10 23:20:57,136 - race_prediction.competitive_field_analyzer - INFO -   Horse 2: {'numero': 3, 'cheval': 'Hibiscus de Latom', 'recordG': 0.0, 'hippo': 'Paris-Vincennes', 'coursescheval': 58}
2025-11-10 23:20:57,136 - race_prediction.competitive_field_analyzer - INFO - === END COMPETITIVE ANALYSIS DEBUG ===

2025-11-10 23:20:57,136 - race_prediction.competitive_field_analyzer - INFO - === RETRIEVING HISTORICAL DATA ===
2025-11-10 23:20:57,136 - race_prediction.competitive_field_analyzer - INFO - Fetching historical data for 16 horses: [1406634, 1438113, 1430278, 1430596, 1430400, 1407560, 1433341, 1415077, 1381857, 1403008, 1388158, 1458863, 1384898, 1381710, 1379073, 1403037]
2025-11-10 23:20:57,137 - race_prediction.competitive_field_analyzer - INFO - Batch querying historical data for 16 horses: [1406634, 1438113, 1430278, 1430596, 1430400, 1407560, 1433341, 1415077, 1381857, 1403008, 1388158, 1458863, 1384898, 1381710, 1379073, 1403037]
2025-11-10 23:21:13,120 - race_prediction.competitive_field_analyzer - INFO - Batch query completed in 15.98s, found 214 total records
2025-11-10 23:21:13,128 - race_prediction.competitive_field_analyzer - INFO - Batch query retrieved 214 total historical races
2025-11-10 23:21:13,128 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS PER HORSE ===
2025-11-10 23:21:13,128 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1406634: 9 historical races found
2025-11-10 23:21:13,128 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1438113: 14 historical races found
2025-11-10 23:21:13,128 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1430278: 10 historical races found
2025-11-10 23:21:13,128 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1430596: 11 historical races found
2025-11-10 23:21:13,128 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1430400: 14 historical races found
2025-11-10 23:21:13,128 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1407560: 19 historical races found
2025-11-10 23:21:13,128 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1433341: 6 historical races found
2025-11-10 23:21:13,128 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1415077: 15 historical races found
2025-11-10 23:21:13,128 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1381857: 12 historical races found
2025-11-10 23:21:13,128 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1403008: 18 historical races found
2025-11-10 23:21:13,128 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1388158: 18 historical races found
2025-11-10 23:21:13,128 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1458863: 4 historical races found
2025-11-10 23:21:13,128 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1384898: 20 historical races found
2025-11-10 23:21:13,128 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1381710: 13 historical races found
2025-11-10 23:21:13,128 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1379073: 14 historical races found
2025-11-10 23:21:13,128 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1403037: 17 historical races found
2025-11-10 23:21:13,128 - race_prediction.competitive_field_analyzer - INFO - Retrieved 214 total historical races
2025-11-10 23:21:13,128 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS BY HORSE ===
2025-11-10 23:21:13,128 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1406634: 9 historical races
2025-11-10 23:21:13,128 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1438113: 14 historical races
2025-11-10 23:21:13,128 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1430278: 10 historical races
2025-11-10 23:21:13,128 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1430596: 11 historical races
2025-11-10 23:21:13,128 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1430400: 14 historical races
2025-11-10 23:21:13,129 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1407560: 19 historical races
2025-11-10 23:21:13,129 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1433341: 6 historical races
2025-11-10 23:21:13,129 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1415077: 15 historical races
2025-11-10 23:21:13,129 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1381857: 12 historical races
2025-11-10 23:21:13,129 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1403008: 18 historical races
2025-11-10 23:21:13,129 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1388158: 18 historical races
2025-11-10 23:21:13,129 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1458863: 4 historical races
2025-11-10 23:21:13,129 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1384898: 20 historical races
2025-11-10 23:21:13,129 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1381710: 13 historical races
2025-11-10 23:21:13,129 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1379073: 14 historical races
2025-11-10 23:21:13,129 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1403037: 17 historical races
2025-11-10 23:21:13,129 - race_prediction.competitive_field_analyzer - INFO - === END HISTORICAL DATA RETRIEVAL ===

2025-11-10 23:21:13,129 - race_prediction.competitive_field_analyzer - INFO - === EARNINGS QUALITY ANALYSIS ===
2025-11-10 23:21:13,129 - race_prediction.competitive_field_analyzer - INFO - Valid earnings data: 16/16 horses
2025-11-10 23:21:13,129 - race_prediction.competitive_field_analyzer - INFO - Sample earnings per race: ['297,337', '294,204', '298,103']
2025-11-10 23:21:13,129 - race_prediction.competitive_field_analyzer - INFO - Field earnings stats: avg=275,228, max=426,686
2025-11-10 23:21:13,130 - race_prediction.competitive_field_analyzer - INFO - === TRACK SPECIALIZATION ANALYSIS ===
2025-11-10 23:21:13,130 - race_prediction.competitive_field_analyzer - INFO - Horses with reliable venue data (3+ races): 0/16
2025-11-10 23:21:13,130 - race_prediction.competitive_field_analyzer - INFO - === FORM MOMENTUM ANALYSIS ===
2025-11-10 23:21:13,130 - race_prediction.competitive_field_analyzer - INFO - Field avg horse trend: 1.045, recent perf: 6.87
2025-11-10 23:21:13,131 - race_prediction.competitive_field_analyzer - INFO - Field avg jockey trend: -0.771
2025-11-10 23:21:13,131 - race_prediction.competitive_field_analyzer - INFO - Horses with improving form: 4/16
2025-11-10 23:21:13,131 - race_prediction.competitive_field_analyzer - INFO - === HOT CONNECTIONS ANALYSIS ===
2025-11-10 23:21:13,131 - race_prediction.competitive_field_analyzer - INFO - Jockeys with wins today: 0/16
2025-11-10 23:21:13,131 - race_prediction.competitive_field_analyzer - INFO - Trainers with wins today: 0/16
2025-11-10 23:21:13,131 - race_prediction.competitive_field_analyzer - INFO - === DISTANCE COMFORT ANALYSIS ===
2025-11-10 23:21:13,131 - race_prediction.competitive_field_analyzer - INFO - Current race distance: 2850m
2025-11-10 23:21:13,131 - race_prediction.competitive_field_analyzer - INFO - Horses with similar recent distance: 3/16
2025-11-10 23:21:13,131 - race_prediction.competitive_field_analyzer - INFO - === REALISTIC COMPETITIVE SCORING ===
2025-11-10 23:21:13,132 - race_prediction.competitive_field_analyzer - INFO - üìä COMPETITIVE ANALYSIS SUMMARY:
2025-11-10 23:21:13,132 - race_prediction.competitive_field_analyzer - INFO -    Total competitive races: 214
2025-11-10 23:21:13,132 - race_prediction.competitive_field_analyzer - INFO -    Horses with historical data: 16/16
2025-11-10 23:21:13,132 - race_prediction.competitive_field_analyzer - INFO -    Average races per horse: 13.4
2025-11-10 23:21:13,140 - race_prediction.quinte_prediction_storage - INFO - Stored 16 horses for Quint√© race 1611846
2025-11-10 23:21:15,079 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE ANALYSIS DEBUG ===
2025-11-10 23:21:15,079 - race_prediction.competitive_field_analyzer - INFO - Analyzing competitive field for race with 16 horses
2025-11-10 23:21:15,079 - race_prediction.competitive_field_analyzer - INFO - Race data shape: (16, 278)
2025-11-10 23:21:15,079 - race_prediction.competitive_field_analyzer - INFO - Available columns: ['id', 'comp', 'jour', 'hippo', 'reun', 'prix', 'prixnom', 'typec', 'partant', 'dist', 'handi', 'groupe', 'quinte', 'natpis', 'meteo', 'corde', 'temperature', 'forceVent', 'directionVent', 'nebulosite', 'prediction_results', 'actual_results', 'created_at', 'updated_at', 'processed_data', 'cheque', 'handi_raw', 'reclam', 'sex', 'tempscourse', 'handicap_level_score', 'cl', 'numero', 'cheval', 'age', 'cotedirect', 'coteprob', 'recence', 'ecar', 'defoeil', 'defoeilPrec', 'musiqueche', 'musiquejoc', 'entraineur', 'coursescheval', 'victoirescheval', 'placescheval', 'dernierealloc', 'derniernbpartants', 'dernieredist', 'derniereplace', 'dernierecote', 'dernierEnt', 'proprietaire', 'poidmont', 'pourcVictJockHippo', 'pourcPlaceJockHippo', 'pourcVictChevalHippo', 'pourcPlaceChevalHippo', 'tempstot', 'vha', 'recordG', 'txreclam', 'dernierTxreclam', 'gainsCarriere', 'gainsAnneeEnCours', 'handicapDistance', 'handicapPoids', 'TxVictCouple', 'nbVictCouple', 'nbPlaceCouple', 'idche', 'idJockey', 'idEntraineur', 'defFirstTime', 'oeilFirstTime', 'oeil', 'dernierOeil', 'ratio_victoires', 'ratio_places', 'gains_par_course', 'efficacite_couple', 'regularite_couple', 'progression_couple', 'perf_cheval_hippo', 'perf_jockey_hippo', 'blinkers_first_time', 'has_blinkers', 'has_standard_blinkers', 'has_australian_blinkers', 'blinkers_added', 'blinkers_removed', 'blinkers_type_changed', 'blinkers_any_change', 'blinkers_high_impact_change', 'shoeing_first_time', 'fully_shod', 'front_shod_only', 'back_shod_only', 'barefoot', 'shoeing_changed', 'barefoot_to_shod', 'shod_to_barefoot', 'major_shoeing_change', 'shoeing_complexity', 'multiple_equipment_changes', 'equipment_momentum_score', 'high_equipment_momentum', 'multiple_first_time_changes', 'equipment_optimization_score', 'career_strike_rate', 'earnings_per_race', 'earnings_trend', 'last_race_position_normalized', 'last_race_odds_normalized', 'last_race_field_size_factor', 'distance_consistency', 'vha_normalized', 'claiming_tax_trend', 'class_stability', 'che_global_avg_pos', 'che_global_recent_perf', 'che_global_consistency', 'che_global_trend', 'che_global_pct_top3', 'che_global_nb_courses', 'che_global_total_races', 'che_global_dnf_rate', 'che_weighted_avg_pos', 'che_weighted_recent_perf', 'che_weighted_consistency', 'che_weighted_pct_top3', 'che_weighted_nb_courses', 'che_weighted_total_races', 'che_weighted_dnf_rate', 'che_weighted_trend', 'che_bytype_avg_pos', 'che_bytype_recent_perf', 'che_bytype_consistency', 'che_bytype_trend', 'che_bytype_pct_top3', 'che_bytype_nb_courses', 'che_bytype_dnf_rate', 'joc_global_avg_pos', 'joc_global_recent_perf', 'joc_global_consistency', 'joc_global_trend', 'joc_global_pct_top3', 'joc_global_nb_courses', 'joc_global_total_races', 'joc_global_dnf_rate', 'joc_weighted_avg_pos', 'joc_weighted_recent_perf', 'joc_weighted_consistency', 'joc_weighted_pct_top3', 'joc_weighted_nb_courses', 'joc_weighted_total_races', 'joc_weighted_dnf_rate', 'joc_weighted_trend', 'joc_bytype_avg_pos', 'joc_bytype_recent_perf', 'joc_bytype_consistency', 'joc_bytype_trend', 'joc_bytype_pct_top3', 'joc_bytype_nb_courses', 'joc_bytype_dnf_rate', 'class_drop_pct', 'purse_per_starter', 'purse_ratio', 'moving_up_in_class', 'class_shock_indicator', 'handicap_level_change', 'time_per_distance', 'time_vs_record', 'pace_rating', 'speed_figure_proxy', 'market_confidence_shift', 'last_race_improvement', 'bounce_risk', 'layoff_distance_interaction', 'trainer_change', 'connection_stability', 'field_size_change', 'distance_comfort', 'competition_level_shift', 'recence_x_class_drop', 'trainer_change_x_recence', 'distance_change_x_recence', 'che_by_type_avg_pos', 'che_by_type_recent_perf', 'che_by_type_consistency', 'che_by_type_trend', 'che_by_type_pct_top3', 'che_by_type_nb_courses', 'che_by_type_dnf_rate', 'joc_by_type_avg_pos', 'joc_by_type_recent_perf', 'joc_by_type_consistency', 'joc_by_type_trend', 'joc_by_type_pct_top3', 'joc_by_type_nb_courses', 'joc_by_type_dnf_rate', 'trainer_victoires', 'trainer_places', 'trainer_courses', 'trainer_winrate', 'trainer_placerate', 'trainer_quality_score', 'trainer_experience_level', 'handicap_poids', 'handicap_dist', 'prec_handicap_poids', 'prec_handicap_dist', 'handicap_poids_change', 'handicap_poids_increased', 'handicap_poids_decreased', 'handicap_dist_change', 'handicap_dist_increased', 'handicap_dist_decreased', 'total_handicap', 'handicap_momentum', 'last_race_position', 'last_race_distance', 'distance_change', 'distance_change_pct', 'distance_increased', 'distance_decreased', 'same_distance', 'corde_change', 'corde_improved', 'corde_worsened', 'last_race_top3', 'last_race_won', 'che_bytype_total_races', 'joc_bytype_total_races', 'che_form_momentum', 'che_improving_form', 'che_declining_form', 'che_high_consistency', 'che_recent_quality', 'che_elite_performer', 'che_regular_placer', 'joc_form_momentum', 'joc_improving_form', 'joc_high_consistency', 'joc_elite_performer', 'synergy_both_improving', 'synergy_both_consistent', 'synergy_both_elite', 'overall_momentum_score', 'high_momentum', 'quinte_career_starts', 'quinte_win_rate', 'quinte_top5_rate', 'avg_quinte_position', 'days_since_last_quinte', 'quinte_handicap_specialist', 'quinte_conditions_specialist', 'quinte_large_field_ability', 'quinte_track_condition_fit', 'is_handicap_quinte', 'handicap_division', 'purse_level_category', 'field_size_category', 'track_condition_PH', 'track_condition_DUR', 'track_condition_PS', 'track_condition_PSF', 'weather_clear', 'weather_rain', 'weather_cloudy', 'post_position_bias', 'post_position_track_bias', 'raw_tabnet_prediction', 'predicted_position_tabnet', 'raw_rf_prediction', 'predicted_position_rf', 'predicted_position_base']
2025-11-10 23:21:15,080 - race_prediction.competitive_field_analyzer - INFO - === CRITICAL COLUMNS ANALYSIS ===
2025-11-10 23:21:15,080 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ recordG: 16/16 non-null values (100.0%)
2025-11-10 23:21:15,080 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [0.0, 0.0, 0.0]
2025-11-10 23:21:15,080 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ hippo: 16/16 non-null values (100.0%)
2025-11-10 23:21:15,080 - race_prediction.competitive_field_analyzer - INFO -    Sample values: ['Auteuil', 'Auteuil', 'Auteuil']
2025-11-10 23:21:15,080 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ coursescheval: 16/16 non-null values (100.0%)
2025-11-10 23:21:15,080 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [48, 18, 25]
2025-11-10 23:21:15,080 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ victoirescheval: 16/16 non-null values (100.0%)
2025-11-10 23:21:15,080 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [7, 4, 4]
2025-11-10 23:21:15,081 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ placescheval: 16/16 non-null values (100.0%)
2025-11-10 23:21:15,081 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [14, 14, 12]
2025-11-10 23:21:15,081 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ gainsCarriere: 16/16 non-null values (100.0%)
2025-11-10 23:21:15,081 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [26344200, 28553300, 17633500]
2025-11-10 23:21:15,081 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ age: 16/16 non-null values (100.0%)
2025-11-10 23:21:15,081 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [8, 8, 9]
2025-11-10 23:21:15,081 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ derniereplace: 16/16 non-null values (100.0%)
2025-11-10 23:21:15,081 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [1, 9, 2]
2025-11-10 23:21:15,081 - race_prediction.competitive_field_analyzer - INFO - === RACE METADATA ===
2025-11-10 23:21:15,081 - race_prediction.competitive_field_analyzer - INFO - comp: 1606724
2025-11-10 23:21:15,081 - race_prediction.competitive_field_analyzer - INFO - hippo: Auteuil
2025-11-10 23:21:15,081 - race_prediction.competitive_field_analyzer - INFO - dist: 3900
2025-11-10 23:21:15,081 - race_prediction.competitive_field_analyzer - INFO - typec: Haies
2025-11-10 23:21:15,081 - race_prediction.competitive_field_analyzer - INFO - partant: 16
2025-11-10 23:21:15,081 - race_prediction.competitive_field_analyzer - INFO - === SAMPLE RACE DATA ===
2025-11-10 23:21:15,081 - race_prediction.competitive_field_analyzer - INFO - Sample data (columns: ['numero', 'cheval', 'recordG', 'hippo', 'coursescheval']):
2025-11-10 23:21:15,089 - race_prediction.competitive_field_analyzer - INFO -   Horse 0: {'numero': 1, 'cheval': 'Hamandio', 'recordG': 0.0, 'hippo': 'Auteuil', 'coursescheval': 48}
2025-11-10 23:21:15,089 - race_prediction.competitive_field_analyzer - INFO -   Horse 1: {'numero': 2, 'cheval': 'New President', 'recordG': 0.0, 'hippo': 'Auteuil', 'coursescheval': 18}
2025-11-10 23:21:15,089 - race_prediction.competitive_field_analyzer - INFO -   Horse 2: {'numero': 3, 'cheval': 'Grand Art', 'recordG': 0.0, 'hippo': 'Auteuil', 'coursescheval': 25}
2025-11-10 23:21:15,089 - race_prediction.competitive_field_analyzer - INFO - === END COMPETITIVE ANALYSIS DEBUG ===

2025-11-10 23:21:15,089 - race_prediction.competitive_field_analyzer - INFO - === RETRIEVING HISTORICAL DATA ===
2025-11-10 23:21:15,089 - race_prediction.competitive_field_analyzer - INFO - Fetching historical data for 16 horses: [1398661, 1412451, 1350182, 1400556, 1536715, 1545660, 1415630, 1397720, 1511839, 1537402, 1476552, 1524729, 1533867, 1575110, 1658661, 1536636]
2025-11-10 23:21:15,090 - race_prediction.competitive_field_analyzer - INFO - Batch querying historical data for 16 horses: [1398661, 1412451, 1350182, 1400556, 1536715, 1545660, 1415630, 1397720, 1511839, 1537402, 1476552, 1524729, 1533867, 1575110, 1658661, 1536636]
2025-11-10 23:21:31,096 - race_prediction.competitive_field_analyzer - INFO - Batch query completed in 16.01s, found 119 total records
2025-11-10 23:21:31,102 - race_prediction.competitive_field_analyzer - INFO - Batch query retrieved 119 total historical races
2025-11-10 23:21:31,102 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS PER HORSE ===
2025-11-10 23:21:31,102 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1398661: 11 historical races found
2025-11-10 23:21:31,102 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1412451: 8 historical races found
2025-11-10 23:21:31,102 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1350182: 5 historical races found
2025-11-10 23:21:31,102 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1400556: 7 historical races found
2025-11-10 23:21:31,102 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1536715: 12 historical races found
2025-11-10 23:21:31,102 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1545660: 6 historical races found
2025-11-10 23:21:31,102 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1415630: 6 historical races found
2025-11-10 23:21:31,102 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1397720: 10 historical races found
2025-11-10 23:21:31,102 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1511839: 7 historical races found
2025-11-10 23:21:31,102 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1537402: 9 historical races found
2025-11-10 23:21:31,102 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1476552: 5 historical races found
2025-11-10 23:21:31,102 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1524729: 9 historical races found
2025-11-10 23:21:31,102 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1533867: 10 historical races found
2025-11-10 23:21:31,102 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1575110: 4 historical races found
2025-11-10 23:21:31,102 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1658661: 6 historical races found
2025-11-10 23:21:31,102 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1536636: 4 historical races found
2025-11-10 23:21:31,102 - race_prediction.competitive_field_analyzer - INFO - Retrieved 119 total historical races
2025-11-10 23:21:31,102 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS BY HORSE ===
2025-11-10 23:21:31,102 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1398661: 11 historical races
2025-11-10 23:21:31,103 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1412451: 8 historical races
2025-11-10 23:21:31,103 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1350182: 5 historical races
2025-11-10 23:21:31,103 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1400556: 7 historical races
2025-11-10 23:21:31,103 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1536715: 12 historical races
2025-11-10 23:21:31,103 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1545660: 6 historical races
2025-11-10 23:21:31,103 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1415630: 6 historical races
2025-11-10 23:21:31,103 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1397720: 10 historical races
2025-11-10 23:21:31,103 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1511839: 7 historical races
2025-11-10 23:21:31,103 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1537402: 9 historical races
2025-11-10 23:21:31,103 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1476552: 5 historical races
2025-11-10 23:21:31,103 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1524729: 9 historical races
2025-11-10 23:21:31,103 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1533867: 10 historical races
2025-11-10 23:21:31,103 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1575110: 4 historical races
2025-11-10 23:21:31,103 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1658661: 6 historical races
2025-11-10 23:21:31,103 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1536636: 4 historical races
2025-11-10 23:21:31,103 - race_prediction.competitive_field_analyzer - INFO - === END HISTORICAL DATA RETRIEVAL ===

2025-11-10 23:21:31,103 - race_prediction.competitive_field_analyzer - INFO - === EARNINGS QUALITY ANALYSIS ===
2025-11-10 23:21:31,103 - race_prediction.competitive_field_analyzer - INFO - Valid earnings data: 16/16 horses
2025-11-10 23:21:31,103 - race_prediction.competitive_field_analyzer - INFO - Sample earnings per race: ['548,838', '1,586,294', '705,340']
2025-11-10 23:21:31,103 - race_prediction.competitive_field_analyzer - INFO - Field earnings stats: avg=714,914, max=1,586,294
2025-11-10 23:21:31,103 - race_prediction.competitive_field_analyzer - INFO - === TRACK SPECIALIZATION ANALYSIS ===
2025-11-10 23:21:31,103 - race_prediction.competitive_field_analyzer - INFO - Horses with reliable venue data (3+ races): 0/16
2025-11-10 23:21:31,104 - race_prediction.competitive_field_analyzer - INFO - === FORM MOMENTUM ANALYSIS ===
2025-11-10 23:21:31,104 - race_prediction.competitive_field_analyzer - INFO - Field avg horse trend: 1.675, recent perf: 7.50
2025-11-10 23:21:31,104 - race_prediction.competitive_field_analyzer - INFO - Field avg jockey trend: -0.028
2025-11-10 23:21:31,104 - race_prediction.competitive_field_analyzer - INFO - Horses with improving form: 4/16
2025-11-10 23:21:31,105 - race_prediction.competitive_field_analyzer - INFO - === HOT CONNECTIONS ANALYSIS ===
2025-11-10 23:21:31,105 - race_prediction.competitive_field_analyzer - INFO - Jockeys with wins today: 0/16
2025-11-10 23:21:31,105 - race_prediction.competitive_field_analyzer - INFO - Trainers with wins today: 0/16
2025-11-10 23:21:31,105 - race_prediction.competitive_field_analyzer - INFO - === DISTANCE COMFORT ANALYSIS ===
2025-11-10 23:21:31,105 - race_prediction.competitive_field_analyzer - INFO - Current race distance: 3900m
2025-11-10 23:21:31,105 - race_prediction.competitive_field_analyzer - INFO - Horses with similar recent distance: 3/16
2025-11-10 23:21:31,105 - race_prediction.competitive_field_analyzer - INFO - === REALISTIC COMPETITIVE SCORING ===
2025-11-10 23:21:31,106 - race_prediction.competitive_field_analyzer - INFO - üìä COMPETITIVE ANALYSIS SUMMARY:
2025-11-10 23:21:31,106 - race_prediction.competitive_field_analyzer - INFO -    Total competitive races: 119
2025-11-10 23:21:31,106 - race_prediction.competitive_field_analyzer - INFO -    Horses with historical data: 16/16
2025-11-10 23:21:31,106 - race_prediction.competitive_field_analyzer - INFO -    Average races per horse: 7.4
2025-11-10 23:21:31,115 - race_prediction.quinte_prediction_storage - INFO - Stored 16 horses for Quint√© race 1606724
2025-11-10 23:21:32,895 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE ANALYSIS DEBUG ===
2025-11-10 23:21:32,896 - race_prediction.competitive_field_analyzer - INFO - Analyzing competitive field for race with 16 horses
2025-11-10 23:21:32,896 - race_prediction.competitive_field_analyzer - INFO - Race data shape: (16, 278)
2025-11-10 23:21:32,896 - race_prediction.competitive_field_analyzer - INFO - Available columns: ['id', 'comp', 'jour', 'hippo', 'reun', 'prix', 'prixnom', 'typec', 'partant', 'dist', 'handi', 'groupe', 'quinte', 'natpis', 'meteo', 'corde', 'temperature', 'forceVent', 'directionVent', 'nebulosite', 'prediction_results', 'actual_results', 'created_at', 'updated_at', 'processed_data', 'cheque', 'handi_raw', 'reclam', 'sex', 'tempscourse', 'handicap_level_score', 'cl', 'numero', 'cheval', 'age', 'cotedirect', 'coteprob', 'recence', 'ecar', 'defoeil', 'defoeilPrec', 'musiqueche', 'musiquejoc', 'entraineur', 'coursescheval', 'victoirescheval', 'placescheval', 'dernierealloc', 'derniernbpartants', 'dernieredist', 'derniereplace', 'dernierecote', 'dernierEnt', 'proprietaire', 'poidmont', 'pourcVictJockHippo', 'pourcPlaceJockHippo', 'pourcVictChevalHippo', 'pourcPlaceChevalHippo', 'tempstot', 'vha', 'recordG', 'txreclam', 'dernierTxreclam', 'gainsCarriere', 'gainsAnneeEnCours', 'handicapDistance', 'handicapPoids', 'TxVictCouple', 'nbVictCouple', 'nbPlaceCouple', 'idche', 'idJockey', 'idEntraineur', 'defFirstTime', 'oeilFirstTime', 'oeil', 'dernierOeil', 'ratio_victoires', 'ratio_places', 'gains_par_course', 'efficacite_couple', 'regularite_couple', 'progression_couple', 'perf_cheval_hippo', 'perf_jockey_hippo', 'blinkers_first_time', 'has_blinkers', 'has_standard_blinkers', 'has_australian_blinkers', 'blinkers_added', 'blinkers_removed', 'blinkers_type_changed', 'blinkers_any_change', 'blinkers_high_impact_change', 'shoeing_first_time', 'fully_shod', 'front_shod_only', 'back_shod_only', 'barefoot', 'shoeing_changed', 'barefoot_to_shod', 'shod_to_barefoot', 'major_shoeing_change', 'shoeing_complexity', 'multiple_equipment_changes', 'equipment_momentum_score', 'high_equipment_momentum', 'multiple_first_time_changes', 'equipment_optimization_score', 'career_strike_rate', 'earnings_per_race', 'earnings_trend', 'last_race_position_normalized', 'last_race_odds_normalized', 'last_race_field_size_factor', 'distance_consistency', 'vha_normalized', 'claiming_tax_trend', 'class_stability', 'che_global_avg_pos', 'che_global_recent_perf', 'che_global_consistency', 'che_global_trend', 'che_global_pct_top3', 'che_global_nb_courses', 'che_global_total_races', 'che_global_dnf_rate', 'che_weighted_avg_pos', 'che_weighted_recent_perf', 'che_weighted_consistency', 'che_weighted_pct_top3', 'che_weighted_nb_courses', 'che_weighted_total_races', 'che_weighted_dnf_rate', 'che_weighted_trend', 'che_bytype_avg_pos', 'che_bytype_recent_perf', 'che_bytype_consistency', 'che_bytype_trend', 'che_bytype_pct_top3', 'che_bytype_nb_courses', 'che_bytype_dnf_rate', 'joc_global_avg_pos', 'joc_global_recent_perf', 'joc_global_consistency', 'joc_global_trend', 'joc_global_pct_top3', 'joc_global_nb_courses', 'joc_global_total_races', 'joc_global_dnf_rate', 'joc_weighted_avg_pos', 'joc_weighted_recent_perf', 'joc_weighted_consistency', 'joc_weighted_pct_top3', 'joc_weighted_nb_courses', 'joc_weighted_total_races', 'joc_weighted_dnf_rate', 'joc_weighted_trend', 'joc_bytype_avg_pos', 'joc_bytype_recent_perf', 'joc_bytype_consistency', 'joc_bytype_trend', 'joc_bytype_pct_top3', 'joc_bytype_nb_courses', 'joc_bytype_dnf_rate', 'class_drop_pct', 'purse_per_starter', 'purse_ratio', 'moving_up_in_class', 'class_shock_indicator', 'handicap_level_change', 'time_per_distance', 'time_vs_record', 'pace_rating', 'speed_figure_proxy', 'market_confidence_shift', 'last_race_improvement', 'bounce_risk', 'layoff_distance_interaction', 'trainer_change', 'connection_stability', 'field_size_change', 'distance_comfort', 'competition_level_shift', 'recence_x_class_drop', 'trainer_change_x_recence', 'distance_change_x_recence', 'che_by_type_avg_pos', 'che_by_type_recent_perf', 'che_by_type_consistency', 'che_by_type_trend', 'che_by_type_pct_top3', 'che_by_type_nb_courses', 'che_by_type_dnf_rate', 'joc_by_type_avg_pos', 'joc_by_type_recent_perf', 'joc_by_type_consistency', 'joc_by_type_trend', 'joc_by_type_pct_top3', 'joc_by_type_nb_courses', 'joc_by_type_dnf_rate', 'trainer_victoires', 'trainer_places', 'trainer_courses', 'trainer_winrate', 'trainer_placerate', 'trainer_quality_score', 'trainer_experience_level', 'handicap_poids', 'handicap_dist', 'prec_handicap_poids', 'prec_handicap_dist', 'handicap_poids_change', 'handicap_poids_increased', 'handicap_poids_decreased', 'handicap_dist_change', 'handicap_dist_increased', 'handicap_dist_decreased', 'total_handicap', 'handicap_momentum', 'last_race_position', 'last_race_distance', 'distance_change', 'distance_change_pct', 'distance_increased', 'distance_decreased', 'same_distance', 'corde_change', 'corde_improved', 'corde_worsened', 'last_race_top3', 'last_race_won', 'che_bytype_total_races', 'joc_bytype_total_races', 'che_form_momentum', 'che_improving_form', 'che_declining_form', 'che_high_consistency', 'che_recent_quality', 'che_elite_performer', 'che_regular_placer', 'joc_form_momentum', 'joc_improving_form', 'joc_high_consistency', 'joc_elite_performer', 'synergy_both_improving', 'synergy_both_consistent', 'synergy_both_elite', 'overall_momentum_score', 'high_momentum', 'quinte_career_starts', 'quinte_win_rate', 'quinte_top5_rate', 'avg_quinte_position', 'days_since_last_quinte', 'quinte_handicap_specialist', 'quinte_conditions_specialist', 'quinte_large_field_ability', 'quinte_track_condition_fit', 'is_handicap_quinte', 'handicap_division', 'purse_level_category', 'field_size_category', 'track_condition_PH', 'track_condition_DUR', 'track_condition_PS', 'track_condition_PSF', 'weather_clear', 'weather_rain', 'weather_cloudy', 'post_position_bias', 'post_position_track_bias', 'raw_tabnet_prediction', 'predicted_position_tabnet', 'raw_rf_prediction', 'predicted_position_rf', 'predicted_position_base']
2025-11-10 23:21:32,899 - race_prediction.competitive_field_analyzer - INFO - === CRITICAL COLUMNS ANALYSIS ===
2025-11-10 23:21:32,899 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ recordG: 16/16 non-null values (100.0%)
2025-11-10 23:21:32,899 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [0.0, 0.0, 0.0]
2025-11-10 23:21:32,899 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ hippo: 16/16 non-null values (100.0%)
2025-11-10 23:21:32,899 - race_prediction.competitive_field_analyzer - INFO -    Sample values: ['Paris-Vincennes', 'Paris-Vincennes', 'Paris-Vincennes']
2025-11-10 23:21:32,899 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ coursescheval: 16/16 non-null values (100.0%)
2025-11-10 23:21:32,899 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [107, 79, 127]
2025-11-10 23:21:32,899 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ victoirescheval: 16/16 non-null values (100.0%)
2025-11-10 23:21:32,899 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [6, 10, 11]
2025-11-10 23:21:32,899 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ placescheval: 16/16 non-null values (100.0%)
2025-11-10 23:21:32,899 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [27, 36, 32]
2025-11-10 23:21:32,899 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ gainsCarriere: 16/16 non-null values (100.0%)
2025-11-10 23:21:32,899 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [18153000, 18264500, 18478000]
2025-11-10 23:21:32,899 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ age: 16/16 non-null values (100.0%)
2025-11-10 23:21:32,899 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [9, 10, 9]
2025-11-10 23:21:32,899 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ derniereplace: 16/16 non-null values (100.0%)
2025-11-10 23:21:32,900 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [9.0, 3.0, 10.0]
2025-11-10 23:21:32,900 - race_prediction.competitive_field_analyzer - INFO - === RACE METADATA ===
2025-11-10 23:21:32,900 - race_prediction.competitive_field_analyzer - INFO - comp: 1611759
2025-11-10 23:21:32,900 - race_prediction.competitive_field_analyzer - INFO - hippo: Paris-Vincennes
2025-11-10 23:21:32,900 - race_prediction.competitive_field_analyzer - INFO - dist: 2850
2025-11-10 23:21:32,900 - race_prediction.competitive_field_analyzer - INFO - typec: Attel√©
2025-11-10 23:21:32,900 - race_prediction.competitive_field_analyzer - INFO - partant: 16
2025-11-10 23:21:32,900 - race_prediction.competitive_field_analyzer - INFO - === SAMPLE RACE DATA ===
2025-11-10 23:21:32,900 - race_prediction.competitive_field_analyzer - INFO - Sample data (columns: ['numero', 'cheval', 'recordG', 'hippo', 'coursescheval']):
2025-11-10 23:21:32,901 - race_prediction.competitive_field_analyzer - INFO -   Horse 0: {'numero': 1, 'cheval': 'Guess Fouteau', 'recordG': 0.0, 'hippo': 'Paris-Vincennes', 'coursescheval': 107}
2025-11-10 23:21:32,901 - race_prediction.competitive_field_analyzer - INFO -   Horse 1: {'numero': 2, 'cheval': 'Funny Horse', 'recordG': 0.0, 'hippo': 'Paris-Vincennes', 'coursescheval': 79}
2025-11-10 23:21:32,901 - race_prediction.competitive_field_analyzer - INFO -   Horse 2: {'numero': 3, 'cheval': 'Gamine de Ribeau', 'recordG': 0.0, 'hippo': 'Paris-Vincennes', 'coursescheval': 127}
2025-11-10 23:21:32,901 - race_prediction.competitive_field_analyzer - INFO - === END COMPETITIVE ANALYSIS DEBUG ===

2025-11-10 23:21:32,901 - race_prediction.competitive_field_analyzer - INFO - === RETRIEVING HISTORICAL DATA ===
2025-11-10 23:21:32,901 - race_prediction.competitive_field_analyzer - INFO - Fetching historical data for 16 horses: [1376154, 1325333, 1358535, 1375700, 1372582, 1300190, 1284422, 1326171, 1335702, 1352734, 1293303, 1295566, 1382152, 1354673, 1349957, 1378585]
2025-11-10 23:21:32,902 - race_prediction.competitive_field_analyzer - INFO - Batch querying historical data for 16 horses: [1376154, 1325333, 1358535, 1375700, 1372582, 1300190, 1284422, 1326171, 1335702, 1352734, 1293303, 1295566, 1382152, 1354673, 1349957, 1378585]
2025-11-10 23:21:49,141 - race_prediction.competitive_field_analyzer - INFO - Batch query completed in 16.24s, found 205 total records
2025-11-10 23:21:49,149 - race_prediction.competitive_field_analyzer - INFO - Batch query retrieved 205 total historical races
2025-11-10 23:21:49,149 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS PER HORSE ===
2025-11-10 23:21:49,149 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1376154: 14 historical races found
2025-11-10 23:21:49,149 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1325333: 11 historical races found
2025-11-10 23:21:49,149 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1358535: 13 historical races found
2025-11-10 23:21:49,149 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1375700: 10 historical races found
2025-11-10 23:21:49,149 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1372582: 12 historical races found
2025-11-10 23:21:49,149 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1300190: 16 historical races found
2025-11-10 23:21:49,149 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1284422: 9 historical races found
2025-11-10 23:21:49,149 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1326171: 13 historical races found
2025-11-10 23:21:49,149 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1335702: 18 historical races found
2025-11-10 23:21:49,149 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1352734: 14 historical races found
2025-11-10 23:21:49,149 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1293303: 8 historical races found
2025-11-10 23:21:49,149 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1295566: 20 historical races found
2025-11-10 23:21:49,149 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1382152: 14 historical races found
2025-11-10 23:21:49,149 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1354673: 7 historical races found
2025-11-10 23:21:49,149 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1349957: 16 historical races found
2025-11-10 23:21:49,149 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1378585: 10 historical races found
2025-11-10 23:21:49,149 - race_prediction.competitive_field_analyzer - INFO - Retrieved 205 total historical races
2025-11-10 23:21:49,149 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS BY HORSE ===
2025-11-10 23:21:49,149 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1376154: 14 historical races
2025-11-10 23:21:49,149 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1325333: 11 historical races
2025-11-10 23:21:49,149 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1358535: 13 historical races
2025-11-10 23:21:49,149 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1375700: 10 historical races
2025-11-10 23:21:49,149 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1372582: 12 historical races
2025-11-10 23:21:49,149 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1300190: 16 historical races
2025-11-10 23:21:49,149 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1284422: 9 historical races
2025-11-10 23:21:49,149 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1326171: 13 historical races
2025-11-10 23:21:49,149 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1335702: 18 historical races
2025-11-10 23:21:49,149 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1352734: 14 historical races
2025-11-10 23:21:49,149 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1293303: 8 historical races
2025-11-10 23:21:49,150 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1295566: 20 historical races
2025-11-10 23:21:49,150 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1382152: 14 historical races
2025-11-10 23:21:49,150 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1354673: 7 historical races
2025-11-10 23:21:49,150 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1349957: 16 historical races
2025-11-10 23:21:49,150 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1378585: 10 historical races
2025-11-10 23:21:49,150 - race_prediction.competitive_field_analyzer - INFO - === END HISTORICAL DATA RETRIEVAL ===

2025-11-10 23:21:49,150 - race_prediction.competitive_field_analyzer - INFO - === EARNINGS QUALITY ANALYSIS ===
2025-11-10 23:21:49,150 - race_prediction.competitive_field_analyzer - INFO - Valid earnings data: 16/16 horses
2025-11-10 23:21:49,150 - race_prediction.competitive_field_analyzer - INFO - Sample earnings per race: ['169,654', '231,196', '145,496']
2025-11-10 23:21:49,150 - race_prediction.competitive_field_analyzer - INFO - Field earnings stats: avg=228,347, max=507,615
2025-11-10 23:21:49,150 - race_prediction.competitive_field_analyzer - INFO - === TRACK SPECIALIZATION ANALYSIS ===
2025-11-10 23:21:49,150 - race_prediction.competitive_field_analyzer - INFO - Horses with reliable venue data (3+ races): 0/16
2025-11-10 23:21:49,151 - race_prediction.competitive_field_analyzer - INFO - === FORM MOMENTUM ANALYSIS ===
2025-11-10 23:21:49,151 - race_prediction.competitive_field_analyzer - INFO - Field avg horse trend: 2.001, recent perf: 7.88
2025-11-10 23:21:49,151 - race_prediction.competitive_field_analyzer - INFO - Field avg jockey trend: 0.359
2025-11-10 23:21:49,151 - race_prediction.competitive_field_analyzer - INFO - Horses with improving form: 4/16
2025-11-10 23:21:49,152 - race_prediction.competitive_field_analyzer - INFO - === HOT CONNECTIONS ANALYSIS ===
2025-11-10 23:21:49,152 - race_prediction.competitive_field_analyzer - INFO - Jockeys with wins today: 0/16
2025-11-10 23:21:49,152 - race_prediction.competitive_field_analyzer - INFO - Trainers with wins today: 0/16
2025-11-10 23:21:49,152 - race_prediction.competitive_field_analyzer - INFO - === DISTANCE COMFORT ANALYSIS ===
2025-11-10 23:21:49,152 - race_prediction.competitive_field_analyzer - INFO - Current race distance: 2850m
2025-11-10 23:21:49,152 - race_prediction.competitive_field_analyzer - INFO - Horses with similar recent distance: 9/16
2025-11-10 23:21:49,152 - race_prediction.competitive_field_analyzer - INFO - === REALISTIC COMPETITIVE SCORING ===
2025-11-10 23:21:49,152 - race_prediction.competitive_field_analyzer - INFO - üìä COMPETITIVE ANALYSIS SUMMARY:
2025-11-10 23:21:49,153 - race_prediction.competitive_field_analyzer - INFO -    Total competitive races: 205
2025-11-10 23:21:49,153 - race_prediction.competitive_field_analyzer - INFO -    Horses with historical data: 16/16
2025-11-10 23:21:49,153 - race_prediction.competitive_field_analyzer - INFO -    Average races per horse: 12.8
2025-11-10 23:21:49,161 - race_prediction.quinte_prediction_storage - INFO - Stored 16 horses for Quint√© race 1611759
2025-11-10 23:21:50,942 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE ANALYSIS DEBUG ===
2025-11-10 23:21:50,943 - race_prediction.competitive_field_analyzer - INFO - Analyzing competitive field for race with 16 horses
2025-11-10 23:21:50,943 - race_prediction.competitive_field_analyzer - INFO - Race data shape: (16, 278)
2025-11-10 23:21:50,943 - race_prediction.competitive_field_analyzer - INFO - Available columns: ['id', 'comp', 'jour', 'hippo', 'reun', 'prix', 'prixnom', 'typec', 'partant', 'dist', 'handi', 'groupe', 'quinte', 'natpis', 'meteo', 'corde', 'temperature', 'forceVent', 'directionVent', 'nebulosite', 'prediction_results', 'actual_results', 'created_at', 'updated_at', 'processed_data', 'cheque', 'handi_raw', 'reclam', 'sex', 'tempscourse', 'handicap_level_score', 'cl', 'numero', 'cheval', 'age', 'cotedirect', 'coteprob', 'recence', 'ecar', 'defoeil', 'defoeilPrec', 'musiqueche', 'musiquejoc', 'entraineur', 'coursescheval', 'victoirescheval', 'placescheval', 'dernierealloc', 'derniernbpartants', 'dernieredist', 'derniereplace', 'dernierecote', 'dernierEnt', 'proprietaire', 'poidmont', 'pourcVictJockHippo', 'pourcPlaceJockHippo', 'pourcVictChevalHippo', 'pourcPlaceChevalHippo', 'tempstot', 'vha', 'recordG', 'txreclam', 'dernierTxreclam', 'gainsCarriere', 'gainsAnneeEnCours', 'handicapDistance', 'handicapPoids', 'TxVictCouple', 'nbVictCouple', 'nbPlaceCouple', 'idche', 'idJockey', 'idEntraineur', 'defFirstTime', 'oeilFirstTime', 'oeil', 'dernierOeil', 'ratio_victoires', 'ratio_places', 'gains_par_course', 'efficacite_couple', 'regularite_couple', 'progression_couple', 'perf_cheval_hippo', 'perf_jockey_hippo', 'blinkers_first_time', 'has_blinkers', 'has_standard_blinkers', 'has_australian_blinkers', 'blinkers_added', 'blinkers_removed', 'blinkers_type_changed', 'blinkers_any_change', 'blinkers_high_impact_change', 'shoeing_first_time', 'fully_shod', 'front_shod_only', 'back_shod_only', 'barefoot', 'shoeing_changed', 'barefoot_to_shod', 'shod_to_barefoot', 'major_shoeing_change', 'shoeing_complexity', 'multiple_equipment_changes', 'equipment_momentum_score', 'high_equipment_momentum', 'multiple_first_time_changes', 'equipment_optimization_score', 'career_strike_rate', 'earnings_per_race', 'earnings_trend', 'last_race_position_normalized', 'last_race_odds_normalized', 'last_race_field_size_factor', 'distance_consistency', 'vha_normalized', 'claiming_tax_trend', 'class_stability', 'che_global_avg_pos', 'che_global_recent_perf', 'che_global_consistency', 'che_global_trend', 'che_global_pct_top3', 'che_global_nb_courses', 'che_global_total_races', 'che_global_dnf_rate', 'che_weighted_avg_pos', 'che_weighted_recent_perf', 'che_weighted_consistency', 'che_weighted_pct_top3', 'che_weighted_nb_courses', 'che_weighted_total_races', 'che_weighted_dnf_rate', 'che_weighted_trend', 'che_bytype_avg_pos', 'che_bytype_recent_perf', 'che_bytype_consistency', 'che_bytype_trend', 'che_bytype_pct_top3', 'che_bytype_nb_courses', 'che_bytype_dnf_rate', 'joc_global_avg_pos', 'joc_global_recent_perf', 'joc_global_consistency', 'joc_global_trend', 'joc_global_pct_top3', 'joc_global_nb_courses', 'joc_global_total_races', 'joc_global_dnf_rate', 'joc_weighted_avg_pos', 'joc_weighted_recent_perf', 'joc_weighted_consistency', 'joc_weighted_pct_top3', 'joc_weighted_nb_courses', 'joc_weighted_total_races', 'joc_weighted_dnf_rate', 'joc_weighted_trend', 'joc_bytype_avg_pos', 'joc_bytype_recent_perf', 'joc_bytype_consistency', 'joc_bytype_trend', 'joc_bytype_pct_top3', 'joc_bytype_nb_courses', 'joc_bytype_dnf_rate', 'class_drop_pct', 'purse_per_starter', 'purse_ratio', 'moving_up_in_class', 'class_shock_indicator', 'handicap_level_change', 'time_per_distance', 'time_vs_record', 'pace_rating', 'speed_figure_proxy', 'market_confidence_shift', 'last_race_improvement', 'bounce_risk', 'layoff_distance_interaction', 'trainer_change', 'connection_stability', 'field_size_change', 'distance_comfort', 'competition_level_shift', 'recence_x_class_drop', 'trainer_change_x_recence', 'distance_change_x_recence', 'che_by_type_avg_pos', 'che_by_type_recent_perf', 'che_by_type_consistency', 'che_by_type_trend', 'che_by_type_pct_top3', 'che_by_type_nb_courses', 'che_by_type_dnf_rate', 'joc_by_type_avg_pos', 'joc_by_type_recent_perf', 'joc_by_type_consistency', 'joc_by_type_trend', 'joc_by_type_pct_top3', 'joc_by_type_nb_courses', 'joc_by_type_dnf_rate', 'trainer_victoires', 'trainer_places', 'trainer_courses', 'trainer_winrate', 'trainer_placerate', 'trainer_quality_score', 'trainer_experience_level', 'handicap_poids', 'handicap_dist', 'prec_handicap_poids', 'prec_handicap_dist', 'handicap_poids_change', 'handicap_poids_increased', 'handicap_poids_decreased', 'handicap_dist_change', 'handicap_dist_increased', 'handicap_dist_decreased', 'total_handicap', 'handicap_momentum', 'last_race_position', 'last_race_distance', 'distance_change', 'distance_change_pct', 'distance_increased', 'distance_decreased', 'same_distance', 'corde_change', 'corde_improved', 'corde_worsened', 'last_race_top3', 'last_race_won', 'che_bytype_total_races', 'joc_bytype_total_races', 'che_form_momentum', 'che_improving_form', 'che_declining_form', 'che_high_consistency', 'che_recent_quality', 'che_elite_performer', 'che_regular_placer', 'joc_form_momentum', 'joc_improving_form', 'joc_high_consistency', 'joc_elite_performer', 'synergy_both_improving', 'synergy_both_consistent', 'synergy_both_elite', 'overall_momentum_score', 'high_momentum', 'quinte_career_starts', 'quinte_win_rate', 'quinte_top5_rate', 'avg_quinte_position', 'days_since_last_quinte', 'quinte_handicap_specialist', 'quinte_conditions_specialist', 'quinte_large_field_ability', 'quinte_track_condition_fit', 'is_handicap_quinte', 'handicap_division', 'purse_level_category', 'field_size_category', 'track_condition_PH', 'track_condition_DUR', 'track_condition_PS', 'track_condition_PSF', 'weather_clear', 'weather_rain', 'weather_cloudy', 'post_position_bias', 'post_position_track_bias', 'raw_tabnet_prediction', 'predicted_position_tabnet', 'raw_rf_prediction', 'predicted_position_rf', 'predicted_position_base']
2025-11-10 23:21:50,943 - race_prediction.competitive_field_analyzer - INFO - === CRITICAL COLUMNS ANALYSIS ===
2025-11-10 23:21:50,943 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ recordG: 16/16 non-null values (100.0%)
2025-11-10 23:21:50,943 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [0.0, 0.0, 0.0]
2025-11-10 23:21:50,943 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ hippo: 16/16 non-null values (100.0%)
2025-11-10 23:21:50,943 - race_prediction.competitive_field_analyzer - INFO -    Sample values: ['Chantilly', 'Chantilly', 'Chantilly']
2025-11-10 23:21:50,943 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ coursescheval: 16/16 non-null values (100.0%)
2025-11-10 23:21:50,943 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [24, 13, 33]
2025-11-10 23:21:50,943 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ victoirescheval: 16/16 non-null values (100.0%)
2025-11-10 23:21:50,943 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [7, 5, 6]
2025-11-10 23:21:50,943 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ placescheval: 16/16 non-null values (100.0%)
2025-11-10 23:21:50,944 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [12, 8, 15]
2025-11-10 23:21:50,944 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ gainsCarriere: 16/16 non-null values (100.0%)
2025-11-10 23:21:50,944 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [15966500, 6248800, 13752000]
2025-11-10 23:21:50,944 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ age: 16/16 non-null values (100.0%)
2025-11-10 23:21:50,944 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [8, 4, 5]
2025-11-10 23:21:50,944 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ derniereplace: 16/16 non-null values (100.0%)
2025-11-10 23:21:50,944 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [1, 3, 11]
2025-11-10 23:21:50,944 - race_prediction.competitive_field_analyzer - INFO - === RACE METADATA ===
2025-11-10 23:21:50,944 - race_prediction.competitive_field_analyzer - INFO - comp: 1606698
2025-11-10 23:21:50,944 - race_prediction.competitive_field_analyzer - INFO - hippo: Chantilly
2025-11-10 23:21:50,944 - race_prediction.competitive_field_analyzer - INFO - dist: 1900
2025-11-10 23:21:50,944 - race_prediction.competitive_field_analyzer - INFO - typec: Plat
2025-11-10 23:21:50,944 - race_prediction.competitive_field_analyzer - INFO - partant: 16
2025-11-10 23:21:50,944 - race_prediction.competitive_field_analyzer - INFO - === SAMPLE RACE DATA ===
2025-11-10 23:21:50,944 - race_prediction.competitive_field_analyzer - INFO - Sample data (columns: ['numero', 'cheval', 'recordG', 'hippo', 'coursescheval']):
2025-11-10 23:21:50,944 - race_prediction.competitive_field_analyzer - INFO -   Horse 0: {'numero': 1, 'cheval': 'Kahuna', 'recordG': 0.0, 'hippo': 'Chantilly', 'coursescheval': 24}
2025-11-10 23:21:50,944 - race_prediction.competitive_field_analyzer - INFO -   Horse 1: {'numero': 2, 'cheval': 'Eugene Smith', 'recordG': 0.0, 'hippo': 'Chantilly', 'coursescheval': 13}
2025-11-10 23:21:50,944 - race_prediction.competitive_field_analyzer - INFO -   Horse 2: {'numero': 3, 'cheval': 'No Limit Dream', 'recordG': 0.0, 'hippo': 'Chantilly', 'coursescheval': 33}
2025-11-10 23:21:50,944 - race_prediction.competitive_field_analyzer - INFO - === END COMPETITIVE ANALYSIS DEBUG ===

2025-11-10 23:21:50,944 - race_prediction.competitive_field_analyzer - INFO - === RETRIEVING HISTORICAL DATA ===
2025-11-10 23:21:50,944 - race_prediction.competitive_field_analyzer - INFO - Fetching historical data for 16 horses: [1361490, 1654244, 1554365, 1430346, 1520399, 1553763, 1522211, 1696582, 1572948, 1653958, 1654242, 1559430, 1518271, 1523134, 1559214, 1361409]
2025-11-10 23:21:50,945 - race_prediction.competitive_field_analyzer - INFO - Batch querying historical data for 16 horses: [1361490, 1654244, 1554365, 1430346, 1520399, 1553763, 1522211, 1696582, 1572948, 1653958, 1654242, 1559430, 1518271, 1523134, 1559214, 1361409]
2025-11-10 23:22:06,834 - race_prediction.competitive_field_analyzer - INFO - Batch query completed in 15.89s, found 166 total records
2025-11-10 23:22:06,841 - race_prediction.competitive_field_analyzer - INFO - Batch query retrieved 166 total historical races
2025-11-10 23:22:06,841 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS PER HORSE ===
2025-11-10 23:22:06,841 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1361490: 7 historical races found
2025-11-10 23:22:06,841 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1654244: 9 historical races found
2025-11-10 23:22:06,841 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1554365: 12 historical races found
2025-11-10 23:22:06,841 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1430346: 15 historical races found
2025-11-10 23:22:06,841 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1520399: 7 historical races found
2025-11-10 23:22:06,841 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1553763: 9 historical races found
2025-11-10 23:22:06,841 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1522211: 11 historical races found
2025-11-10 23:22:06,841 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1696582: 9 historical races found
2025-11-10 23:22:06,841 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1572948: 8 historical races found
2025-11-10 23:22:06,841 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1653958: 7 historical races found
2025-11-10 23:22:06,841 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1654242: 6 historical races found
2025-11-10 23:22:06,841 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1559430: 12 historical races found
2025-11-10 23:22:06,841 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1518271: 14 historical races found
2025-11-10 23:22:06,841 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1523134: 10 historical races found
2025-11-10 23:22:06,841 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1559214: 10 historical races found
2025-11-10 23:22:06,841 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1361409: 20 historical races found
2025-11-10 23:22:06,842 - race_prediction.competitive_field_analyzer - INFO - Retrieved 166 total historical races
2025-11-10 23:22:06,842 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS BY HORSE ===
2025-11-10 23:22:06,842 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1361490: 7 historical races
2025-11-10 23:22:06,842 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1654244: 9 historical races
2025-11-10 23:22:06,842 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1554365: 12 historical races
2025-11-10 23:22:06,842 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1430346: 15 historical races
2025-11-10 23:22:06,842 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1520399: 7 historical races
2025-11-10 23:22:06,842 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1553763: 9 historical races
2025-11-10 23:22:06,842 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1522211: 11 historical races
2025-11-10 23:22:06,842 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1696582: 9 historical races
2025-11-10 23:22:06,842 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1572948: 8 historical races
2025-11-10 23:22:06,842 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1653958: 7 historical races
2025-11-10 23:22:06,842 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1654242: 6 historical races
2025-11-10 23:22:06,842 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1559430: 12 historical races
2025-11-10 23:22:06,842 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1518271: 14 historical races
2025-11-10 23:22:06,842 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1523134: 10 historical races
2025-11-10 23:22:06,842 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1559214: 10 historical races
2025-11-10 23:22:06,842 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1361409: 20 historical races
2025-11-10 23:22:06,842 - race_prediction.competitive_field_analyzer - INFO - === END HISTORICAL DATA RETRIEVAL ===

2025-11-10 23:22:06,842 - race_prediction.competitive_field_analyzer - INFO - === EARNINGS QUALITY ANALYSIS ===
2025-11-10 23:22:06,842 - race_prediction.competitive_field_analyzer - INFO - Valid earnings data: 16/16 horses
2025-11-10 23:22:06,842 - race_prediction.competitive_field_analyzer - INFO - Sample earnings per race: ['665,271', '480,677', '416,727']
2025-11-10 23:22:06,842 - race_prediction.competitive_field_analyzer - INFO - Field earnings stats: avg=379,791, max=665,271
2025-11-10 23:22:06,842 - race_prediction.competitive_field_analyzer - INFO - === TRACK SPECIALIZATION ANALYSIS ===
2025-11-10 23:22:06,842 - race_prediction.competitive_field_analyzer - INFO - Horses with reliable venue data (3+ races): 0/16
2025-11-10 23:22:06,843 - race_prediction.competitive_field_analyzer - INFO - === FORM MOMENTUM ANALYSIS ===
2025-11-10 23:22:06,843 - race_prediction.competitive_field_analyzer - INFO - Field avg horse trend: -0.434, recent perf: 6.38
2025-11-10 23:22:06,843 - race_prediction.competitive_field_analyzer - INFO - Field avg jockey trend: -0.372
2025-11-10 23:22:06,843 - race_prediction.competitive_field_analyzer - INFO - Horses with improving form: 4/16
2025-11-10 23:22:06,844 - race_prediction.competitive_field_analyzer - INFO - === HOT CONNECTIONS ANALYSIS ===
2025-11-10 23:22:06,844 - race_prediction.competitive_field_analyzer - INFO - Jockeys with wins today: 0/16
2025-11-10 23:22:06,844 - race_prediction.competitive_field_analyzer - INFO - Trainers with wins today: 0/16
2025-11-10 23:22:06,844 - race_prediction.competitive_field_analyzer - INFO - === DISTANCE COMFORT ANALYSIS ===
2025-11-10 23:22:06,844 - race_prediction.competitive_field_analyzer - INFO - Current race distance: 1900m
2025-11-10 23:22:06,844 - race_prediction.competitive_field_analyzer - INFO - Horses with similar recent distance: 9/16
2025-11-10 23:22:06,844 - race_prediction.competitive_field_analyzer - INFO - === REALISTIC COMPETITIVE SCORING ===
2025-11-10 23:22:06,844 - race_prediction.competitive_field_analyzer - INFO - üìä COMPETITIVE ANALYSIS SUMMARY:
2025-11-10 23:22:06,845 - race_prediction.competitive_field_analyzer - INFO -    Total competitive races: 166
2025-11-10 23:22:06,845 - race_prediction.competitive_field_analyzer - INFO -    Horses with historical data: 16/16
2025-11-10 23:22:06,845 - race_prediction.competitive_field_analyzer - INFO -    Average races per horse: 10.4
2025-11-10 23:22:06,853 - race_prediction.quinte_prediction_storage - INFO - Stored 16 horses for Quint√© race 1606698
2025-11-10 23:22:08,604 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE ANALYSIS DEBUG ===
2025-11-10 23:22:08,604 - race_prediction.competitive_field_analyzer - INFO - Analyzing competitive field for race with 16 horses
2025-11-10 23:22:08,604 - race_prediction.competitive_field_analyzer - INFO - Race data shape: (16, 278)
2025-11-10 23:22:08,604 - race_prediction.competitive_field_analyzer - INFO - Available columns: ['id', 'comp', 'jour', 'hippo', 'reun', 'prix', 'prixnom', 'typec', 'partant', 'dist', 'handi', 'groupe', 'quinte', 'natpis', 'meteo', 'corde', 'temperature', 'forceVent', 'directionVent', 'nebulosite', 'prediction_results', 'actual_results', 'created_at', 'updated_at', 'processed_data', 'cheque', 'handi_raw', 'reclam', 'sex', 'tempscourse', 'handicap_level_score', 'cl', 'numero', 'cheval', 'age', 'cotedirect', 'coteprob', 'recence', 'ecar', 'defoeil', 'defoeilPrec', 'musiqueche', 'musiquejoc', 'entraineur', 'coursescheval', 'victoirescheval', 'placescheval', 'dernierealloc', 'derniernbpartants', 'dernieredist', 'derniereplace', 'dernierecote', 'dernierEnt', 'proprietaire', 'poidmont', 'pourcVictJockHippo', 'pourcPlaceJockHippo', 'pourcVictChevalHippo', 'pourcPlaceChevalHippo', 'tempstot', 'vha', 'recordG', 'txreclam', 'dernierTxreclam', 'gainsCarriere', 'gainsAnneeEnCours', 'handicapDistance', 'handicapPoids', 'TxVictCouple', 'nbVictCouple', 'nbPlaceCouple', 'idche', 'idJockey', 'idEntraineur', 'defFirstTime', 'oeilFirstTime', 'oeil', 'dernierOeil', 'ratio_victoires', 'ratio_places', 'gains_par_course', 'efficacite_couple', 'regularite_couple', 'progression_couple', 'perf_cheval_hippo', 'perf_jockey_hippo', 'blinkers_first_time', 'has_blinkers', 'has_standard_blinkers', 'has_australian_blinkers', 'blinkers_added', 'blinkers_removed', 'blinkers_type_changed', 'blinkers_any_change', 'blinkers_high_impact_change', 'shoeing_first_time', 'fully_shod', 'front_shod_only', 'back_shod_only', 'barefoot', 'shoeing_changed', 'barefoot_to_shod', 'shod_to_barefoot', 'major_shoeing_change', 'shoeing_complexity', 'multiple_equipment_changes', 'equipment_momentum_score', 'high_equipment_momentum', 'multiple_first_time_changes', 'equipment_optimization_score', 'career_strike_rate', 'earnings_per_race', 'earnings_trend', 'last_race_position_normalized', 'last_race_odds_normalized', 'last_race_field_size_factor', 'distance_consistency', 'vha_normalized', 'claiming_tax_trend', 'class_stability', 'che_global_avg_pos', 'che_global_recent_perf', 'che_global_consistency', 'che_global_trend', 'che_global_pct_top3', 'che_global_nb_courses', 'che_global_total_races', 'che_global_dnf_rate', 'che_weighted_avg_pos', 'che_weighted_recent_perf', 'che_weighted_consistency', 'che_weighted_pct_top3', 'che_weighted_nb_courses', 'che_weighted_total_races', 'che_weighted_dnf_rate', 'che_weighted_trend', 'che_bytype_avg_pos', 'che_bytype_recent_perf', 'che_bytype_consistency', 'che_bytype_trend', 'che_bytype_pct_top3', 'che_bytype_nb_courses', 'che_bytype_dnf_rate', 'joc_global_avg_pos', 'joc_global_recent_perf', 'joc_global_consistency', 'joc_global_trend', 'joc_global_pct_top3', 'joc_global_nb_courses', 'joc_global_total_races', 'joc_global_dnf_rate', 'joc_weighted_avg_pos', 'joc_weighted_recent_perf', 'joc_weighted_consistency', 'joc_weighted_pct_top3', 'joc_weighted_nb_courses', 'joc_weighted_total_races', 'joc_weighted_dnf_rate', 'joc_weighted_trend', 'joc_bytype_avg_pos', 'joc_bytype_recent_perf', 'joc_bytype_consistency', 'joc_bytype_trend', 'joc_bytype_pct_top3', 'joc_bytype_nb_courses', 'joc_bytype_dnf_rate', 'class_drop_pct', 'purse_per_starter', 'purse_ratio', 'moving_up_in_class', 'class_shock_indicator', 'handicap_level_change', 'time_per_distance', 'time_vs_record', 'pace_rating', 'speed_figure_proxy', 'market_confidence_shift', 'last_race_improvement', 'bounce_risk', 'layoff_distance_interaction', 'trainer_change', 'connection_stability', 'field_size_change', 'distance_comfort', 'competition_level_shift', 'recence_x_class_drop', 'trainer_change_x_recence', 'distance_change_x_recence', 'che_by_type_avg_pos', 'che_by_type_recent_perf', 'che_by_type_consistency', 'che_by_type_trend', 'che_by_type_pct_top3', 'che_by_type_nb_courses', 'che_by_type_dnf_rate', 'joc_by_type_avg_pos', 'joc_by_type_recent_perf', 'joc_by_type_consistency', 'joc_by_type_trend', 'joc_by_type_pct_top3', 'joc_by_type_nb_courses', 'joc_by_type_dnf_rate', 'trainer_victoires', 'trainer_places', 'trainer_courses', 'trainer_winrate', 'trainer_placerate', 'trainer_quality_score', 'trainer_experience_level', 'handicap_poids', 'handicap_dist', 'prec_handicap_poids', 'prec_handicap_dist', 'handicap_poids_change', 'handicap_poids_increased', 'handicap_poids_decreased', 'handicap_dist_change', 'handicap_dist_increased', 'handicap_dist_decreased', 'total_handicap', 'handicap_momentum', 'last_race_position', 'last_race_distance', 'distance_change', 'distance_change_pct', 'distance_increased', 'distance_decreased', 'same_distance', 'corde_change', 'corde_improved', 'corde_worsened', 'last_race_top3', 'last_race_won', 'che_bytype_total_races', 'joc_bytype_total_races', 'che_form_momentum', 'che_improving_form', 'che_declining_form', 'che_high_consistency', 'che_recent_quality', 'che_elite_performer', 'che_regular_placer', 'joc_form_momentum', 'joc_improving_form', 'joc_high_consistency', 'joc_elite_performer', 'synergy_both_improving', 'synergy_both_consistent', 'synergy_both_elite', 'overall_momentum_score', 'high_momentum', 'quinte_career_starts', 'quinte_win_rate', 'quinte_top5_rate', 'avg_quinte_position', 'days_since_last_quinte', 'quinte_handicap_specialist', 'quinte_conditions_specialist', 'quinte_large_field_ability', 'quinte_track_condition_fit', 'is_handicap_quinte', 'handicap_division', 'purse_level_category', 'field_size_category', 'track_condition_PH', 'track_condition_DUR', 'track_condition_PS', 'track_condition_PSF', 'weather_clear', 'weather_rain', 'weather_cloudy', 'post_position_bias', 'post_position_track_bias', 'raw_tabnet_prediction', 'predicted_position_tabnet', 'raw_rf_prediction', 'predicted_position_rf', 'predicted_position_base']
2025-11-10 23:22:08,605 - race_prediction.competitive_field_analyzer - INFO - === CRITICAL COLUMNS ANALYSIS ===
2025-11-10 23:22:08,605 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ recordG: 16/16 non-null values (100.0%)
2025-11-10 23:22:08,605 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [0.0, 0.0, 0.0]
2025-11-10 23:22:08,605 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ hippo: 16/16 non-null values (100.0%)
2025-11-10 23:22:08,605 - race_prediction.competitive_field_analyzer - INFO -    Sample values: ['Lisieux', 'Lisieux', 'Lisieux']
2025-11-10 23:22:08,605 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ coursescheval: 16/16 non-null values (100.0%)
2025-11-10 23:22:08,605 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [32, 53, 70]
2025-11-10 23:22:08,605 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ victoirescheval: 16/16 non-null values (100.0%)
2025-11-10 23:22:08,605 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [5, 10, 17]
2025-11-10 23:22:08,605 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ placescheval: 16/16 non-null values (100.0%)
2025-11-10 23:22:08,605 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [11, 19, 26]
2025-11-10 23:22:08,605 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ gainsCarriere: 16/16 non-null values (100.0%)
2025-11-10 23:22:08,605 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [26923000, 27238000, 27714000]
2025-11-10 23:22:08,605 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ age: 16/16 non-null values (100.0%)
2025-11-10 23:22:08,605 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [5, 6, 7]
2025-11-10 23:22:08,605 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ derniereplace: 16/16 non-null values (100.0%)
2025-11-10 23:22:08,605 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [8.0, 15.0, 1.0]
2025-11-10 23:22:08,605 - race_prediction.competitive_field_analyzer - INFO - === RACE METADATA ===
2025-11-10 23:22:08,606 - race_prediction.competitive_field_analyzer - INFO - comp: 1610765
2025-11-10 23:22:08,606 - race_prediction.competitive_field_analyzer - INFO - hippo: Lisieux
2025-11-10 23:22:08,606 - race_prediction.competitive_field_analyzer - INFO - dist: 2725
2025-11-10 23:22:08,606 - race_prediction.competitive_field_analyzer - INFO - typec: Attel√©
2025-11-10 23:22:08,606 - race_prediction.competitive_field_analyzer - INFO - partant: 16
2025-11-10 23:22:08,606 - race_prediction.competitive_field_analyzer - INFO - === SAMPLE RACE DATA ===
2025-11-10 23:22:08,606 - race_prediction.competitive_field_analyzer - INFO - Sample data (columns: ['numero', 'cheval', 'recordG', 'hippo', 'coursescheval']):
2025-11-10 23:22:08,606 - race_prediction.competitive_field_analyzer - INFO -   Horse 0: {'numero': 1, 'cheval': 'Keen Winner', 'recordG': 0.0, 'hippo': 'Lisieux', 'coursescheval': 32}
2025-11-10 23:22:08,606 - race_prediction.competitive_field_analyzer - INFO -   Horse 1: {'numero': 2, 'cheval': 'Jeannette Priory', 'recordG': 0.0, 'hippo': 'Lisieux', 'coursescheval': 53}
2025-11-10 23:22:08,606 - race_prediction.competitive_field_analyzer - INFO -   Horse 2: {'numero': 3, 'cheval': 'Idole of Love', 'recordG': 0.0, 'hippo': 'Lisieux', 'coursescheval': 70}
2025-11-10 23:22:08,606 - race_prediction.competitive_field_analyzer - INFO - === END COMPETITIVE ANALYSIS DEBUG ===

2025-11-10 23:22:08,606 - race_prediction.competitive_field_analyzer - INFO - === RETRIEVING HISTORICAL DATA ===
2025-11-10 23:22:08,606 - race_prediction.competitive_field_analyzer - INFO - Fetching historical data for 16 horses: [1572676, 1510765, 1491964, 1438306, 1380598, 1430681, 1430635, 1430387, 1463732, 1497360, 1289057, 1388348, 1437164, 1508812, 1393225, 1318509]
2025-11-10 23:22:08,607 - race_prediction.competitive_field_analyzer - INFO - Batch querying historical data for 16 horses: [1572676, 1510765, 1491964, 1438306, 1380598, 1430681, 1430635, 1430387, 1463732, 1497360, 1289057, 1388348, 1437164, 1508812, 1393225, 1318509]
2025-11-10 23:22:24,717 - race_prediction.competitive_field_analyzer - INFO - Batch query completed in 16.11s, found 182 total records
2025-11-10 23:22:24,725 - race_prediction.competitive_field_analyzer - INFO - Batch query retrieved 182 total historical races
2025-11-10 23:22:24,725 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS PER HORSE ===
2025-11-10 23:22:24,725 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1572676: 14 historical races found
2025-11-10 23:22:24,725 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1510765: 16 historical races found
2025-11-10 23:22:24,725 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1491964: 14 historical races found
2025-11-10 23:22:24,725 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1438306: 8 historical races found
2025-11-10 23:22:24,725 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1380598: 16 historical races found
2025-11-10 23:22:24,725 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1430681: 12 historical races found
2025-11-10 23:22:24,725 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1430635: 5 historical races found
2025-11-10 23:22:24,725 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1430387: 5 historical races found
2025-11-10 23:22:24,725 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1463732: 14 historical races found
2025-11-10 23:22:24,725 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1497360: 16 historical races found
2025-11-10 23:22:24,725 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1289057: 16 historical races found
2025-11-10 23:22:24,725 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1388348: 10 historical races found
2025-11-10 23:22:24,725 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1437164: 12 historical races found
2025-11-10 23:22:24,725 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1508812: 9 historical races found
2025-11-10 23:22:24,725 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1393225: 9 historical races found
2025-11-10 23:22:24,725 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1318509: 6 historical races found
2025-11-10 23:22:24,725 - race_prediction.competitive_field_analyzer - INFO - Retrieved 182 total historical races
2025-11-10 23:22:24,725 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS BY HORSE ===
2025-11-10 23:22:24,725 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1572676: 14 historical races
2025-11-10 23:22:24,725 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1510765: 16 historical races
2025-11-10 23:22:24,725 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1491964: 14 historical races
2025-11-10 23:22:24,725 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1438306: 8 historical races
2025-11-10 23:22:24,725 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1380598: 16 historical races
2025-11-10 23:22:24,726 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1430681: 12 historical races
2025-11-10 23:22:24,726 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1430635: 5 historical races
2025-11-10 23:22:24,726 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1430387: 5 historical races
2025-11-10 23:22:24,726 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1463732: 14 historical races
2025-11-10 23:22:24,726 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1497360: 16 historical races
2025-11-10 23:22:24,726 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1289057: 16 historical races
2025-11-10 23:22:24,726 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1388348: 10 historical races
2025-11-10 23:22:24,726 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1437164: 12 historical races
2025-11-10 23:22:24,726 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1508812: 9 historical races
2025-11-10 23:22:24,726 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1393225: 9 historical races
2025-11-10 23:22:24,726 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1318509: 6 historical races
2025-11-10 23:22:24,726 - race_prediction.competitive_field_analyzer - INFO - === END HISTORICAL DATA RETRIEVAL ===

2025-11-10 23:22:24,726 - race_prediction.competitive_field_analyzer - INFO - === EARNINGS QUALITY ANALYSIS ===
2025-11-10 23:22:24,726 - race_prediction.competitive_field_analyzer - INFO - Valid earnings data: 16/16 horses
2025-11-10 23:22:24,726 - race_prediction.competitive_field_analyzer - INFO - Sample earnings per race: ['841,344', '513,925', '395,914']
2025-11-10 23:22:24,726 - race_prediction.competitive_field_analyzer - INFO - Field earnings stats: avg=731,939, max=1,324,103
2025-11-10 23:22:24,726 - race_prediction.competitive_field_analyzer - INFO - === TRACK SPECIALIZATION ANALYSIS ===
2025-11-10 23:22:24,726 - race_prediction.competitive_field_analyzer - INFO - Horses with reliable venue data (3+ races): 0/16
2025-11-10 23:22:24,727 - race_prediction.competitive_field_analyzer - INFO - === FORM MOMENTUM ANALYSIS ===
2025-11-10 23:22:24,727 - race_prediction.competitive_field_analyzer - INFO - Field avg horse trend: 0.768, recent perf: 7.42
2025-11-10 23:22:24,727 - race_prediction.competitive_field_analyzer - INFO - Field avg jockey trend: 1.613
2025-11-10 23:22:24,728 - race_prediction.competitive_field_analyzer - INFO - Horses with improving form: 2/16
2025-11-10 23:22:24,728 - race_prediction.competitive_field_analyzer - INFO - === HOT CONNECTIONS ANALYSIS ===
2025-11-10 23:22:24,728 - race_prediction.competitive_field_analyzer - INFO - Jockeys with wins today: 0/16
2025-11-10 23:22:24,728 - race_prediction.competitive_field_analyzer - INFO - Trainers with wins today: 0/16
2025-11-10 23:22:24,728 - race_prediction.competitive_field_analyzer - INFO - === DISTANCE COMFORT ANALYSIS ===
2025-11-10 23:22:24,728 - race_prediction.competitive_field_analyzer - INFO - Current race distance: 2725m
2025-11-10 23:22:24,728 - race_prediction.competitive_field_analyzer - INFO - Horses with similar recent distance: 12/16
2025-11-10 23:22:24,728 - race_prediction.competitive_field_analyzer - INFO - === REALISTIC COMPETITIVE SCORING ===
2025-11-10 23:22:24,729 - race_prediction.competitive_field_analyzer - INFO - üìä COMPETITIVE ANALYSIS SUMMARY:
2025-11-10 23:22:24,729 - race_prediction.competitive_field_analyzer - INFO -    Total competitive races: 182
2025-11-10 23:22:24,729 - race_prediction.competitive_field_analyzer - INFO -    Horses with historical data: 16/16
2025-11-10 23:22:24,729 - race_prediction.competitive_field_analyzer - INFO -    Average races per horse: 11.4
2025-11-10 23:22:24,737 - race_prediction.quinte_prediction_storage - INFO - Stored 16 horses for Quint√© race 1610765
2025-11-10 23:22:26,683 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE ANALYSIS DEBUG ===
2025-11-10 23:22:26,683 - race_prediction.competitive_field_analyzer - INFO - Analyzing competitive field for race with 16 horses
2025-11-10 23:22:26,683 - race_prediction.competitive_field_analyzer - INFO - Race data shape: (16, 278)
2025-11-10 23:22:26,684 - race_prediction.competitive_field_analyzer - INFO - Available columns: ['id', 'comp', 'jour', 'hippo', 'reun', 'prix', 'prixnom', 'typec', 'partant', 'dist', 'handi', 'groupe', 'quinte', 'natpis', 'meteo', 'corde', 'temperature', 'forceVent', 'directionVent', 'nebulosite', 'prediction_results', 'actual_results', 'created_at', 'updated_at', 'processed_data', 'cheque', 'handi_raw', 'reclam', 'sex', 'tempscourse', 'handicap_level_score', 'cl', 'numero', 'cheval', 'age', 'cotedirect', 'coteprob', 'recence', 'ecar', 'defoeil', 'defoeilPrec', 'musiqueche', 'musiquejoc', 'entraineur', 'coursescheval', 'victoirescheval', 'placescheval', 'dernierealloc', 'derniernbpartants', 'dernieredist', 'derniereplace', 'dernierecote', 'dernierEnt', 'proprietaire', 'poidmont', 'pourcVictJockHippo', 'pourcPlaceJockHippo', 'pourcVictChevalHippo', 'pourcPlaceChevalHippo', 'tempstot', 'vha', 'recordG', 'txreclam', 'dernierTxreclam', 'gainsCarriere', 'gainsAnneeEnCours', 'handicapDistance', 'handicapPoids', 'TxVictCouple', 'nbVictCouple', 'nbPlaceCouple', 'idche', 'idJockey', 'idEntraineur', 'defFirstTime', 'oeilFirstTime', 'oeil', 'dernierOeil', 'ratio_victoires', 'ratio_places', 'gains_par_course', 'efficacite_couple', 'regularite_couple', 'progression_couple', 'perf_cheval_hippo', 'perf_jockey_hippo', 'blinkers_first_time', 'has_blinkers', 'has_standard_blinkers', 'has_australian_blinkers', 'blinkers_added', 'blinkers_removed', 'blinkers_type_changed', 'blinkers_any_change', 'blinkers_high_impact_change', 'shoeing_first_time', 'fully_shod', 'front_shod_only', 'back_shod_only', 'barefoot', 'shoeing_changed', 'barefoot_to_shod', 'shod_to_barefoot', 'major_shoeing_change', 'shoeing_complexity', 'multiple_equipment_changes', 'equipment_momentum_score', 'high_equipment_momentum', 'multiple_first_time_changes', 'equipment_optimization_score', 'career_strike_rate', 'earnings_per_race', 'earnings_trend', 'last_race_position_normalized', 'last_race_odds_normalized', 'last_race_field_size_factor', 'distance_consistency', 'vha_normalized', 'claiming_tax_trend', 'class_stability', 'che_global_avg_pos', 'che_global_recent_perf', 'che_global_consistency', 'che_global_trend', 'che_global_pct_top3', 'che_global_nb_courses', 'che_global_total_races', 'che_global_dnf_rate', 'che_weighted_avg_pos', 'che_weighted_recent_perf', 'che_weighted_consistency', 'che_weighted_pct_top3', 'che_weighted_nb_courses', 'che_weighted_total_races', 'che_weighted_dnf_rate', 'che_weighted_trend', 'che_bytype_avg_pos', 'che_bytype_recent_perf', 'che_bytype_consistency', 'che_bytype_trend', 'che_bytype_pct_top3', 'che_bytype_nb_courses', 'che_bytype_dnf_rate', 'joc_global_avg_pos', 'joc_global_recent_perf', 'joc_global_consistency', 'joc_global_trend', 'joc_global_pct_top3', 'joc_global_nb_courses', 'joc_global_total_races', 'joc_global_dnf_rate', 'joc_weighted_avg_pos', 'joc_weighted_recent_perf', 'joc_weighted_consistency', 'joc_weighted_pct_top3', 'joc_weighted_nb_courses', 'joc_weighted_total_races', 'joc_weighted_dnf_rate', 'joc_weighted_trend', 'joc_bytype_avg_pos', 'joc_bytype_recent_perf', 'joc_bytype_consistency', 'joc_bytype_trend', 'joc_bytype_pct_top3', 'joc_bytype_nb_courses', 'joc_bytype_dnf_rate', 'class_drop_pct', 'purse_per_starter', 'purse_ratio', 'moving_up_in_class', 'class_shock_indicator', 'handicap_level_change', 'time_per_distance', 'time_vs_record', 'pace_rating', 'speed_figure_proxy', 'market_confidence_shift', 'last_race_improvement', 'bounce_risk', 'layoff_distance_interaction', 'trainer_change', 'connection_stability', 'field_size_change', 'distance_comfort', 'competition_level_shift', 'recence_x_class_drop', 'trainer_change_x_recence', 'distance_change_x_recence', 'che_by_type_avg_pos', 'che_by_type_recent_perf', 'che_by_type_consistency', 'che_by_type_trend', 'che_by_type_pct_top3', 'che_by_type_nb_courses', 'che_by_type_dnf_rate', 'joc_by_type_avg_pos', 'joc_by_type_recent_perf', 'joc_by_type_consistency', 'joc_by_type_trend', 'joc_by_type_pct_top3', 'joc_by_type_nb_courses', 'joc_by_type_dnf_rate', 'trainer_victoires', 'trainer_places', 'trainer_courses', 'trainer_winrate', 'trainer_placerate', 'trainer_quality_score', 'trainer_experience_level', 'handicap_poids', 'handicap_dist', 'prec_handicap_poids', 'prec_handicap_dist', 'handicap_poids_change', 'handicap_poids_increased', 'handicap_poids_decreased', 'handicap_dist_change', 'handicap_dist_increased', 'handicap_dist_decreased', 'total_handicap', 'handicap_momentum', 'last_race_position', 'last_race_distance', 'distance_change', 'distance_change_pct', 'distance_increased', 'distance_decreased', 'same_distance', 'corde_change', 'corde_improved', 'corde_worsened', 'last_race_top3', 'last_race_won', 'che_bytype_total_races', 'joc_bytype_total_races', 'che_form_momentum', 'che_improving_form', 'che_declining_form', 'che_high_consistency', 'che_recent_quality', 'che_elite_performer', 'che_regular_placer', 'joc_form_momentum', 'joc_improving_form', 'joc_high_consistency', 'joc_elite_performer', 'synergy_both_improving', 'synergy_both_consistent', 'synergy_both_elite', 'overall_momentum_score', 'high_momentum', 'quinte_career_starts', 'quinte_win_rate', 'quinte_top5_rate', 'avg_quinte_position', 'days_since_last_quinte', 'quinte_handicap_specialist', 'quinte_conditions_specialist', 'quinte_large_field_ability', 'quinte_track_condition_fit', 'is_handicap_quinte', 'handicap_division', 'purse_level_category', 'field_size_category', 'track_condition_PH', 'track_condition_DUR', 'track_condition_PS', 'track_condition_PSF', 'weather_clear', 'weather_rain', 'weather_cloudy', 'post_position_bias', 'post_position_track_bias', 'raw_tabnet_prediction', 'predicted_position_tabnet', 'raw_rf_prediction', 'predicted_position_rf', 'predicted_position_base']
2025-11-10 23:22:26,684 - race_prediction.competitive_field_analyzer - INFO - === CRITICAL COLUMNS ANALYSIS ===
2025-11-10 23:22:26,684 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ recordG: 16/16 non-null values (100.0%)
2025-11-10 23:22:26,684 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [0.0, 0.0, 0.0]
2025-11-10 23:22:26,684 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ hippo: 16/16 non-null values (100.0%)
2025-11-10 23:22:26,684 - race_prediction.competitive_field_analyzer - INFO -    Sample values: ['Auteuil', 'Auteuil', 'Auteuil']
2025-11-10 23:22:26,684 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ coursescheval: 16/16 non-null values (100.0%)
2025-11-10 23:22:26,685 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [15, 13, 14]
2025-11-10 23:22:26,685 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ victoirescheval: 16/16 non-null values (100.0%)
2025-11-10 23:22:26,685 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [2, 2, 3]
2025-11-10 23:22:26,685 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ placescheval: 16/16 non-null values (100.0%)
2025-11-10 23:22:26,685 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [5, 7, 7]
2025-11-10 23:22:26,685 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ gainsCarriere: 16/16 non-null values (100.0%)
2025-11-10 23:22:26,685 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [12214000, 5804000, 6793000]
2025-11-10 23:22:26,685 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ age: 16/16 non-null values (100.0%)
2025-11-10 23:22:26,685 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [5, 4, 5]
2025-11-10 23:22:26,685 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ derniereplace: 16/16 non-null values (100.0%)
2025-11-10 23:22:26,685 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [10.0, 4.0, 2.0]
2025-11-10 23:22:26,685 - race_prediction.competitive_field_analyzer - INFO - === RACE METADATA ===
2025-11-10 23:22:26,685 - race_prediction.competitive_field_analyzer - INFO - comp: 1606667
2025-11-10 23:22:26,685 - race_prediction.competitive_field_analyzer - INFO - hippo: Auteuil
2025-11-10 23:22:26,685 - race_prediction.competitive_field_analyzer - INFO - dist: 3600
2025-11-10 23:22:26,685 - race_prediction.competitive_field_analyzer - INFO - typec: Haies
2025-11-10 23:22:26,685 - race_prediction.competitive_field_analyzer - INFO - partant: 16
2025-11-10 23:22:26,685 - race_prediction.competitive_field_analyzer - INFO - === SAMPLE RACE DATA ===
2025-11-10 23:22:26,685 - race_prediction.competitive_field_analyzer - INFO - Sample data (columns: ['numero', 'cheval', 'recordG', 'hippo', 'coursescheval']):
2025-11-10 23:22:26,686 - race_prediction.competitive_field_analyzer - INFO -   Horse 0: {'numero': 1, 'cheval': 'Ocre', 'recordG': 0.0, 'hippo': 'Auteuil', 'coursescheval': 15}
2025-11-10 23:22:26,686 - race_prediction.competitive_field_analyzer - INFO -   Horse 1: {'numero': 2, 'cheval': "Gino's Line", 'recordG': 0.0, 'hippo': 'Auteuil', 'coursescheval': 13}
2025-11-10 23:22:26,686 - race_prediction.competitive_field_analyzer - INFO -   Horse 2: {'numero': 3, 'cheval': 'Balling de Juilley', 'recordG': 0.0, 'hippo': 'Auteuil', 'coursescheval': 14}
2025-11-10 23:22:26,686 - race_prediction.competitive_field_analyzer - INFO - === END COMPETITIVE ANALYSIS DEBUG ===

2025-11-10 23:22:26,686 - race_prediction.competitive_field_analyzer - INFO - === RETRIEVING HISTORICAL DATA ===
2025-11-10 23:22:26,686 - race_prediction.competitive_field_analyzer - INFO - Fetching historical data for 16 horses: [1641958, 1722759, 1656919, 1650835, 1724352, 1698138, 1725764, 1667100, 1647372, 1726661, 1579592, 1699706, 1701033, 1650228, 1704425, 1755392]
2025-11-10 23:22:26,687 - race_prediction.competitive_field_analyzer - INFO - Batch querying historical data for 16 horses: [1641958, 1722759, 1656919, 1650835, 1724352, 1698138, 1725764, 1667100, 1647372, 1726661, 1579592, 1699706, 1701033, 1650228, 1704425, 1755392]
2025-11-10 23:22:43,110 - race_prediction.competitive_field_analyzer - INFO - Batch query completed in 16.42s, found 123 total records
2025-11-10 23:22:43,116 - race_prediction.competitive_field_analyzer - INFO - Batch query retrieved 123 total historical races
2025-11-10 23:22:43,116 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS PER HORSE ===
2025-11-10 23:22:43,116 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1641958: 7 historical races found
2025-11-10 23:22:43,116 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1722759: 12 historical races found
2025-11-10 23:22:43,116 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1656919: 6 historical races found
2025-11-10 23:22:43,116 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1650835: 7 historical races found
2025-11-10 23:22:43,116 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1724352: 8 historical races found
2025-11-10 23:22:43,116 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1698138: 11 historical races found
2025-11-10 23:22:43,116 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1725764: 7 historical races found
2025-11-10 23:22:43,116 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1667100: 5 historical races found
2025-11-10 23:22:43,116 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1647372: 7 historical races found
2025-11-10 23:22:43,116 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1726661: 5 historical races found
2025-11-10 23:22:43,116 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1579592: 9 historical races found
2025-11-10 23:22:43,116 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1699706: 9 historical races found
2025-11-10 23:22:43,116 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1701033: 8 historical races found
2025-11-10 23:22:43,116 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1650228: 7 historical races found
2025-11-10 23:22:43,116 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1704425: 7 historical races found
2025-11-10 23:22:43,116 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1755392: 8 historical races found
2025-11-10 23:22:43,116 - race_prediction.competitive_field_analyzer - INFO - Retrieved 123 total historical races
2025-11-10 23:22:43,116 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS BY HORSE ===
2025-11-10 23:22:43,116 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1641958: 7 historical races
2025-11-10 23:22:43,116 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1722759: 12 historical races
2025-11-10 23:22:43,116 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1656919: 6 historical races
2025-11-10 23:22:43,116 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1650835: 7 historical races
2025-11-10 23:22:43,116 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1724352: 8 historical races
2025-11-10 23:22:43,116 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1698138: 11 historical races
2025-11-10 23:22:43,116 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1725764: 7 historical races
2025-11-10 23:22:43,116 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1667100: 5 historical races
2025-11-10 23:22:43,116 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1647372: 7 historical races
2025-11-10 23:22:43,116 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1726661: 5 historical races
2025-11-10 23:22:43,116 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1579592: 9 historical races
2025-11-10 23:22:43,116 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1699706: 9 historical races
2025-11-10 23:22:43,116 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1701033: 8 historical races
2025-11-10 23:22:43,116 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1650228: 7 historical races
2025-11-10 23:22:43,116 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1704425: 7 historical races
2025-11-10 23:22:43,116 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1755392: 8 historical races
2025-11-10 23:22:43,116 - race_prediction.competitive_field_analyzer - INFO - === END HISTORICAL DATA RETRIEVAL ===

2025-11-10 23:22:43,117 - race_prediction.competitive_field_analyzer - INFO - === EARNINGS QUALITY ANALYSIS ===
2025-11-10 23:22:43,117 - race_prediction.competitive_field_analyzer - INFO - Valid earnings data: 16/16 horses
2025-11-10 23:22:43,117 - race_prediction.competitive_field_analyzer - INFO - Sample earnings per race: ['814,267', '446,462', '485,214']
2025-11-10 23:22:43,117 - race_prediction.competitive_field_analyzer - INFO - Field earnings stats: avg=517,638, max=1,046,929
2025-11-10 23:22:43,117 - race_prediction.competitive_field_analyzer - INFO - === TRACK SPECIALIZATION ANALYSIS ===
2025-11-10 23:22:43,117 - race_prediction.competitive_field_analyzer - INFO - Horses with reliable venue data (3+ races): 0/16
2025-11-10 23:22:43,118 - race_prediction.competitive_field_analyzer - INFO - === FORM MOMENTUM ANALYSIS ===
2025-11-10 23:22:43,118 - race_prediction.competitive_field_analyzer - INFO - Field avg horse trend: -1.843, recent perf: 5.04
2025-11-10 23:22:43,118 - race_prediction.competitive_field_analyzer - INFO - Field avg jockey trend: 0.029
2025-11-10 23:22:43,118 - race_prediction.competitive_field_analyzer - INFO - Horses with improving form: 2/16
2025-11-10 23:22:43,118 - race_prediction.competitive_field_analyzer - INFO - === HOT CONNECTIONS ANALYSIS ===
2025-11-10 23:22:43,118 - race_prediction.competitive_field_analyzer - INFO - Jockeys with wins today: 0/16
2025-11-10 23:22:43,118 - race_prediction.competitive_field_analyzer - INFO - Trainers with wins today: 0/16
2025-11-10 23:22:43,118 - race_prediction.competitive_field_analyzer - INFO - === DISTANCE COMFORT ANALYSIS ===
2025-11-10 23:22:43,119 - race_prediction.competitive_field_analyzer - INFO - Current race distance: 3600m
2025-11-10 23:22:43,119 - race_prediction.competitive_field_analyzer - INFO - Horses with similar recent distance: 11/16
2025-11-10 23:22:43,119 - race_prediction.competitive_field_analyzer - INFO - === REALISTIC COMPETITIVE SCORING ===
2025-11-10 23:22:43,119 - race_prediction.competitive_field_analyzer - INFO - üìä COMPETITIVE ANALYSIS SUMMARY:
2025-11-10 23:22:43,119 - race_prediction.competitive_field_analyzer - INFO -    Total competitive races: 123
2025-11-10 23:22:43,119 - race_prediction.competitive_field_analyzer - INFO -    Horses with historical data: 16/16
2025-11-10 23:22:43,119 - race_prediction.competitive_field_analyzer - INFO -    Average races per horse: 7.7
2025-11-10 23:22:43,128 - race_prediction.quinte_prediction_storage - INFO - Stored 16 horses for Quint√© race 1606667
2025-11-11 21:46:18,801 - UnifiedDataPipeline - WARNING - ‚ö†Ô∏è  Feature consistency validation failed for daily_sync: ['Feature che_by_type_avg_pos has 90.9% missing values', 'Feature che_by_type_recent_perf has 90.9% missing values', 'Feature che_by_type_consistency has 90.9% missing values', 'Feature che_by_type_trend has 90.9% missing values', 'Feature che_by_type_pct_top3 has 90.9% missing values', 'Feature che_by_type_nb_courses has 90.9% missing values', 'Feature che_by_type_dnf_rate has 90.9% missing values']
2025-11-11 21:46:39,574 - UnifiedDataPipeline - WARNING - ‚ö†Ô∏è  Feature consistency validation failed for daily_sync: ['Feature che_by_type_avg_pos has 90.9% missing values', 'Feature che_by_type_recent_perf has 90.9% missing values', 'Feature che_by_type_consistency has 90.9% missing values', 'Feature che_by_type_trend has 90.9% missing values', 'Feature che_by_type_pct_top3 has 90.9% missing values', 'Feature che_by_type_nb_courses has 90.9% missing values', 'Feature che_by_type_dnf_rate has 90.9% missing values']
2025-11-11 21:47:13,334 - race_prediction.quinte_prediction_storage - INFO - Quint√© prediction storage initialized at data/hippique2.db
2025-11-11 21:47:15,741 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE ANALYSIS DEBUG ===
2025-11-11 21:47:15,741 - race_prediction.competitive_field_analyzer - INFO - Analyzing competitive field for race with 16 horses
2025-11-11 21:47:15,741 - race_prediction.competitive_field_analyzer - INFO - Race data shape: (16, 280)
2025-11-11 21:47:15,741 - race_prediction.competitive_field_analyzer - INFO - Available columns: ['id', 'comp', 'jour', 'hippo', 'reun', 'prix', 'prixnom', 'typec', 'partant', 'dist', 'handi', 'groupe', 'quinte', 'natpis', 'meteo', 'corde', 'temperature', 'forceVent', 'directionVent', 'nebulosite', 'prediction_results', 'actual_results', 'created_at', 'updated_at', 'processed_data', 'cheque', 'handi_raw', 'reclam', 'sex', 'tempscourse', 'handicap_level_score', 'cl', 'numero', 'cheval', 'age', 'cotedirect', 'coteprob', 'recence', 'ecar', 'defoeil', 'defoeilPrec', 'musiqueche', 'musiquejoc', 'entraineur', 'coursescheval', 'victoirescheval', 'placescheval', 'dernierealloc', 'derniernbpartants', 'dernieredist', 'derniereplace', 'dernierecote', 'dernierEnt', 'proprietaire', 'poidmont', 'pourcVictJockHippo', 'pourcPlaceJockHippo', 'pourcVictChevalHippo', 'pourcPlaceChevalHippo', 'tempstot', 'vha', 'recordG', 'txreclam', 'dernierTxreclam', 'gainsCarriere', 'gainsAnneeEnCours', 'handicapDistance', 'handicapPoids', 'TxVictCouple', 'nbVictCouple', 'nbPlaceCouple', 'idche', 'idJockey', 'idEntraineur', 'defFirstTime', 'oeilFirstTime', 'oeil', 'dernierOeil', 'ratio_victoires', 'ratio_places', 'gains_par_course', 'efficacite_couple', 'regularite_couple', 'progression_couple', 'perf_cheval_hippo', 'perf_jockey_hippo', 'trainer_victoires', 'trainer_places', 'trainer_courses', 'trainer_winrate', 'trainer_placerate', 'trainer_quality_score', 'trainer_experience_level', 'handicap_poids', 'handicap_dist', 'prec_handicap_poids', 'prec_handicap_dist', 'handicap_poids_change', 'handicap_poids_increased', 'handicap_poids_decreased', 'handicap_dist_change', 'handicap_dist_increased', 'handicap_dist_decreased', 'total_handicap', 'handicap_momentum', 'last_race_position', 'last_race_distance', 'distance_change', 'distance_change_pct', 'distance_increased', 'distance_decreased', 'same_distance', 'corde_change', 'corde_improved', 'corde_worsened', 'last_race_top3', 'last_race_won', 'blinkers_first_time', 'has_blinkers', 'has_standard_blinkers', 'has_australian_blinkers', 'blinkers_added', 'blinkers_removed', 'blinkers_type_changed', 'blinkers_any_change', 'blinkers_high_impact_change', 'shoeing_first_time', 'fully_shod', 'front_shod_only', 'back_shod_only', 'barefoot', 'shoeing_changed', 'barefoot_to_shod', 'shod_to_barefoot', 'major_shoeing_change', 'shoeing_complexity', 'multiple_equipment_changes', 'equipment_momentum_score', 'high_equipment_momentum', 'multiple_first_time_changes', 'equipment_optimization_score', 'career_strike_rate', 'earnings_per_race', 'earnings_trend', 'last_race_position_normalized', 'last_race_odds_normalized', 'last_race_field_size_factor', 'distance_consistency', 'vha_normalized', 'claiming_tax_trend', 'class_stability', 'che_global_avg_pos', 'che_global_recent_perf', 'che_global_consistency', 'che_global_trend', 'che_global_pct_top3', 'che_global_nb_courses', 'che_global_total_races', 'che_global_dnf_rate', 'che_weighted_avg_pos', 'che_weighted_recent_perf', 'che_weighted_consistency', 'che_weighted_pct_top3', 'che_weighted_nb_courses', 'che_weighted_total_races', 'che_weighted_dnf_rate', 'che_weighted_trend', 'che_bytype_avg_pos', 'che_bytype_recent_perf', 'che_bytype_consistency', 'che_bytype_trend', 'che_bytype_pct_top3', 'che_bytype_nb_courses', 'che_bytype_total_races', 'che_bytype_dnf_rate', 'joc_global_avg_pos', 'joc_global_recent_perf', 'joc_global_consistency', 'joc_global_trend', 'joc_global_pct_top3', 'joc_global_nb_courses', 'joc_global_total_races', 'joc_global_dnf_rate', 'joc_weighted_avg_pos', 'joc_weighted_recent_perf', 'joc_weighted_consistency', 'joc_weighted_pct_top3', 'joc_weighted_nb_courses', 'joc_weighted_total_races', 'joc_weighted_dnf_rate', 'joc_weighted_trend', 'joc_bytype_avg_pos', 'joc_bytype_recent_perf', 'joc_bytype_consistency', 'joc_bytype_trend', 'joc_bytype_pct_top3', 'joc_bytype_nb_courses', 'joc_bytype_total_races', 'joc_bytype_dnf_rate', 'che_form_momentum', 'che_improving_form', 'che_declining_form', 'che_high_consistency', 'che_recent_quality', 'che_elite_performer', 'che_regular_placer', 'joc_form_momentum', 'joc_improving_form', 'joc_high_consistency', 'joc_elite_performer', 'synergy_both_improving', 'synergy_both_consistent', 'synergy_both_elite', 'overall_momentum_score', 'high_momentum', 'class_drop_pct', 'purse_per_starter', 'purse_ratio', 'moving_up_in_class', 'class_shock_indicator', 'handicap_level_change', 'time_per_distance', 'time_vs_record', 'pace_rating', 'speed_figure_proxy', 'market_confidence_shift', 'last_race_improvement', 'bounce_risk', 'layoff_distance_interaction', 'trainer_change', 'connection_stability', 'field_size_change', 'distance_comfort', 'competition_level_shift', 'recence_x_class_drop', 'trainer_change_x_recence', 'distance_change_x_recence', 'che_by_type_avg_pos', 'che_by_type_recent_perf', 'che_by_type_consistency', 'che_by_type_trend', 'che_by_type_pct_top3', 'che_by_type_nb_courses', 'che_by_type_total_races', 'che_by_type_dnf_rate', 'joc_by_type_avg_pos', 'joc_by_type_recent_perf', 'joc_by_type_consistency', 'joc_by_type_trend', 'joc_by_type_pct_top3', 'joc_by_type_nb_courses', 'joc_by_type_total_races', 'joc_by_type_dnf_rate', 'quinte_career_starts', 'quinte_win_rate', 'quinte_top5_rate', 'avg_quinte_position', 'days_since_last_quinte', 'quinte_handicap_specialist', 'quinte_conditions_specialist', 'quinte_large_field_ability', 'quinte_track_condition_fit', 'is_handicap_quinte', 'handicap_division', 'purse_level_category', 'field_size_category', 'track_condition_PH', 'track_condition_DUR', 'track_condition_PS', 'track_condition_PSF', 'weather_clear', 'weather_rain', 'weather_cloudy', 'post_position_bias', 'post_position_track_bias', 'raw_tabnet_prediction', 'predicted_position_tabnet', 'raw_rf_prediction', 'predicted_position_rf', 'predicted_position_base']
2025-11-11 21:47:15,742 - race_prediction.competitive_field_analyzer - INFO - === CRITICAL COLUMNS ANALYSIS ===
2025-11-11 21:47:15,742 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ recordG: 16/16 non-null values (100.0%)
2025-11-11 21:47:15,742 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [0.0, 0.0, 0.0]
2025-11-11 21:47:15,742 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ hippo: 16/16 non-null values (100.0%)
2025-11-11 21:47:15,742 - race_prediction.competitive_field_analyzer - INFO -    Sample values: ['Toulouse', 'Toulouse', 'Toulouse']
2025-11-11 21:47:15,742 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ coursescheval: 16/16 non-null values (100.0%)
2025-11-11 21:47:15,742 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [38, 18, 32]
2025-11-11 21:47:15,742 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ victoirescheval: 16/16 non-null values (100.0%)
2025-11-11 21:47:15,742 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [5, 5, 3]
2025-11-11 21:47:15,742 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ placescheval: 16/16 non-null values (100.0%)
2025-11-11 21:47:15,742 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [13, 8, 12]
2025-11-11 21:47:15,743 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ gainsCarriere: 16/16 non-null values (100.0%)
2025-11-11 21:47:15,743 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [11364100, 6467200, 14380900]
2025-11-11 21:47:15,743 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ age: 16/16 non-null values (100.0%)
2025-11-11 21:47:15,743 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [6, 4, 7]
2025-11-11 21:47:15,743 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ derniereplace: 16/16 non-null values (100.0%)
2025-11-11 21:47:15,743 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [4, 2, 8]
2025-11-11 21:47:15,743 - race_prediction.competitive_field_analyzer - INFO - === RACE METADATA ===
2025-11-11 21:47:15,743 - race_prediction.competitive_field_analyzer - INFO - comp: 1621509
2025-11-11 21:47:15,743 - race_prediction.competitive_field_analyzer - INFO - hippo: Toulouse
2025-11-11 21:47:15,743 - race_prediction.competitive_field_analyzer - INFO - dist: 2400
2025-11-11 21:47:15,743 - race_prediction.competitive_field_analyzer - INFO - typec: Plat
2025-11-11 21:47:15,743 - race_prediction.competitive_field_analyzer - INFO - partant: 16
2025-11-11 21:47:15,743 - race_prediction.competitive_field_analyzer - INFO - === SAMPLE RACE DATA ===
2025-11-11 21:47:15,743 - race_prediction.competitive_field_analyzer - INFO - Sample data (columns: ['numero', 'cheval', 'recordG', 'hippo', 'coursescheval']):
2025-11-11 21:47:15,743 - race_prediction.competitive_field_analyzer - INFO -   Horse 0: {'numero': 1, 'cheval': 'Poca Gen', 'recordG': 0.0, 'hippo': 'Toulouse', 'coursescheval': 38}
2025-11-11 21:47:15,743 - race_prediction.competitive_field_analyzer - INFO -   Horse 1: {'numero': 2, 'cheval': 'Xylophone', 'recordG': 0.0, 'hippo': 'Toulouse', 'coursescheval': 18}
2025-11-11 21:47:15,743 - race_prediction.competitive_field_analyzer - INFO -   Horse 2: {'numero': 3, 'cheval': 'Partenit', 'recordG': 0.0, 'hippo': 'Toulouse', 'coursescheval': 32}
2025-11-11 21:47:15,743 - race_prediction.competitive_field_analyzer - INFO - === END COMPETITIVE ANALYSIS DEBUG ===

2025-11-11 21:47:15,743 - race_prediction.competitive_field_analyzer - INFO - === RETRIEVING HISTORICAL DATA ===
2025-11-11 21:47:15,743 - race_prediction.competitive_field_analyzer - INFO - Fetching historical data for 16 horses: [1523391, 1692653, 1489807, 1559962, 1664933, 1432521, 1556177, 1710838, 1661959, 1493602, 1676627, 1560971, 1724288, 1653563, 1741397, 1696803]
2025-11-11 21:47:15,745 - race_prediction.competitive_field_analyzer - INFO - Batch querying historical data for 16 horses: [1523391, 1692653, 1489807, 1559962, 1664933, 1432521, 1556177, 1710838, 1661959, 1493602, 1676627, 1560971, 1724288, 1653563, 1741397, 1696803]
2025-11-11 21:48:02,528 - race_prediction.competitive_field_analyzer - INFO - Batch query completed in 46.78s, found 148 total records
2025-11-11 21:48:02,557 - race_prediction.competitive_field_analyzer - INFO - Batch query retrieved 148 total historical races
2025-11-11 21:48:02,557 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS PER HORSE ===
2025-11-11 21:48:02,558 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1523391: 11 historical races found
2025-11-11 21:48:02,558 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1692653: 10 historical races found
2025-11-11 21:48:02,558 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1489807: 9 historical races found
2025-11-11 21:48:02,558 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1559962: 16 historical races found
2025-11-11 21:48:02,558 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1664933: 8 historical races found
2025-11-11 21:48:02,558 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1432521: 7 historical races found
2025-11-11 21:48:02,583 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1556177: 18 historical races found
2025-11-11 21:48:02,583 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1710838: 11 historical races found
2025-11-11 21:48:02,583 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1661959: 5 historical races found
2025-11-11 21:48:02,583 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1493602: 13 historical races found
2025-11-11 21:48:02,583 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1676627: 9 historical races found
2025-11-11 21:48:02,583 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1560971: 7 historical races found
2025-11-11 21:48:02,583 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1724288: 7 historical races found
2025-11-11 21:48:02,583 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1653563: 6 historical races found
2025-11-11 21:48:03,221 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1741397: 8 historical races found
2025-11-11 21:48:03,221 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1696803: 3 historical races found
2025-11-11 21:48:03,221 - race_prediction.competitive_field_analyzer - INFO - Retrieved 148 total historical races
2025-11-11 21:48:03,221 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS BY HORSE ===
2025-11-11 21:48:03,221 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1523391: 11 historical races
2025-11-11 21:48:03,221 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1692653: 10 historical races
2025-11-11 21:48:03,221 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1489807: 9 historical races
2025-11-11 21:48:03,221 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1559962: 16 historical races
2025-11-11 21:48:03,221 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1664933: 8 historical races
2025-11-11 21:48:03,979 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1432521: 7 historical races
2025-11-11 21:48:03,979 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1556177: 18 historical races
2025-11-11 21:48:03,979 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1710838: 11 historical races
2025-11-11 21:48:03,979 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1661959: 5 historical races
2025-11-11 21:48:03,979 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1493602: 13 historical races
2025-11-11 21:48:03,979 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1676627: 9 historical races
2025-11-11 21:48:03,979 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1560971: 7 historical races
2025-11-11 21:48:03,979 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1724288: 7 historical races
2025-11-11 21:48:03,979 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1653563: 6 historical races
2025-11-11 21:48:03,979 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1741397: 8 historical races
2025-11-11 21:48:03,979 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1696803: 3 historical races
2025-11-11 21:48:03,979 - race_prediction.competitive_field_analyzer - INFO - === END HISTORICAL DATA RETRIEVAL ===

2025-11-11 21:48:03,997 - race_prediction.competitive_field_analyzer - INFO - === EARNINGS QUALITY ANALYSIS ===
2025-11-11 21:48:03,997 - race_prediction.competitive_field_analyzer - INFO - Valid earnings data: 16/16 horses
2025-11-11 21:48:03,997 - race_prediction.competitive_field_analyzer - INFO - Sample earnings per race: ['299,055', '359,289', '449,403']
2025-11-11 21:48:04,005 - race_prediction.competitive_field_analyzer - INFO - Field earnings stats: avg=392,304, max=727,675
2025-11-11 21:48:04,013 - race_prediction.competitive_field_analyzer - INFO - === TRACK SPECIALIZATION ANALYSIS ===
2025-11-11 21:48:04,013 - race_prediction.competitive_field_analyzer - INFO - Horses with reliable venue data (3+ races): 0/16
2025-11-11 21:48:04,029 - race_prediction.competitive_field_analyzer - INFO - === FORM MOMENTUM ANALYSIS ===
2025-11-11 21:48:04,029 - race_prediction.competitive_field_analyzer - INFO - Field avg horse trend: 0.245, recent perf: 7.10
2025-11-11 21:48:04,029 - race_prediction.competitive_field_analyzer - INFO - Field avg jockey trend: -1.515
2025-11-11 21:48:07,094 - race_prediction.competitive_field_analyzer - INFO - Horses with improving form: 4/16
2025-11-11 21:48:07,096 - race_prediction.competitive_field_analyzer - INFO - === HOT CONNECTIONS ANALYSIS ===
2025-11-11 21:48:07,096 - race_prediction.competitive_field_analyzer - INFO - Jockeys with wins today: 0/16
2025-11-11 21:48:07,097 - race_prediction.competitive_field_analyzer - INFO - Trainers with wins today: 0/16
2025-11-11 21:48:07,097 - race_prediction.competitive_field_analyzer - INFO - === DISTANCE COMFORT ANALYSIS ===
2025-11-11 21:48:07,097 - race_prediction.competitive_field_analyzer - INFO - Current race distance: 2400m
2025-11-11 21:48:07,098 - race_prediction.competitive_field_analyzer - INFO - Horses with similar recent distance: 8/16
2025-11-11 21:48:07,099 - race_prediction.competitive_field_analyzer - INFO - === REALISTIC COMPETITIVE SCORING ===
2025-11-11 21:48:07,105 - race_prediction.competitive_field_analyzer - INFO - üìä COMPETITIVE ANALYSIS SUMMARY:
2025-11-11 21:48:07,105 - race_prediction.competitive_field_analyzer - INFO -    Total competitive races: 148
2025-11-11 21:48:07,105 - race_prediction.competitive_field_analyzer - INFO -    Horses with historical data: 16/16
2025-11-11 21:48:07,105 - race_prediction.competitive_field_analyzer - INFO -    Average races per horse: 9.2
2025-11-11 21:48:07,231 - race_prediction.quinte_prediction_storage - INFO - Stored 16 horses for Quint√© race 1621509
2025-11-12 22:21:55,129 - race_prediction.quinte_prediction_storage - INFO - Quint√© prediction storage initialized at data/hippique2.db
2025-11-12 22:21:59,368 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE ANALYSIS DEBUG ===
2025-11-12 22:21:59,368 - race_prediction.competitive_field_analyzer - INFO - Analyzing competitive field for race with 14 horses
2025-11-12 22:21:59,368 - race_prediction.competitive_field_analyzer - INFO - Race data shape: (14, 280)
2025-11-12 22:21:59,368 - race_prediction.competitive_field_analyzer - INFO - Available columns: ['id', 'comp', 'jour', 'hippo', 'reun', 'prix', 'prixnom', 'typec', 'partant', 'dist', 'handi', 'groupe', 'quinte', 'natpis', 'meteo', 'corde', 'temperature', 'forceVent', 'directionVent', 'nebulosite', 'prediction_results', 'actual_results', 'created_at', 'updated_at', 'processed_data', 'cheque', 'handi_raw', 'reclam', 'sex', 'tempscourse', 'handicap_level_score', 'cl', 'numero', 'cheval', 'age', 'cotedirect', 'coteprob', 'recence', 'ecar', 'defoeil', 'defoeilPrec', 'musiqueche', 'musiquejoc', 'entraineur', 'coursescheval', 'victoirescheval', 'placescheval', 'dernierealloc', 'derniernbpartants', 'dernieredist', 'derniereplace', 'dernierecote', 'dernierEnt', 'proprietaire', 'poidmont', 'pourcVictJockHippo', 'pourcPlaceJockHippo', 'pourcVictChevalHippo', 'pourcPlaceChevalHippo', 'tempstot', 'vha', 'recordG', 'txreclam', 'dernierTxreclam', 'gainsCarriere', 'gainsAnneeEnCours', 'handicapDistance', 'handicapPoids', 'TxVictCouple', 'nbVictCouple', 'nbPlaceCouple', 'idche', 'idJockey', 'idEntraineur', 'defFirstTime', 'oeilFirstTime', 'oeil', 'dernierOeil', 'ratio_victoires', 'ratio_places', 'gains_par_course', 'efficacite_couple', 'regularite_couple', 'progression_couple', 'perf_cheval_hippo', 'perf_jockey_hippo', 'trainer_victoires', 'trainer_places', 'trainer_courses', 'trainer_winrate', 'trainer_placerate', 'trainer_quality_score', 'trainer_experience_level', 'handicap_poids', 'handicap_dist', 'prec_handicap_poids', 'prec_handicap_dist', 'handicap_poids_change', 'handicap_poids_increased', 'handicap_poids_decreased', 'handicap_dist_change', 'handicap_dist_increased', 'handicap_dist_decreased', 'total_handicap', 'handicap_momentum', 'last_race_position', 'last_race_distance', 'distance_change', 'distance_change_pct', 'distance_increased', 'distance_decreased', 'same_distance', 'corde_change', 'corde_improved', 'corde_worsened', 'last_race_top3', 'last_race_won', 'blinkers_first_time', 'has_blinkers', 'has_standard_blinkers', 'has_australian_blinkers', 'blinkers_added', 'blinkers_removed', 'blinkers_type_changed', 'blinkers_any_change', 'blinkers_high_impact_change', 'shoeing_first_time', 'fully_shod', 'front_shod_only', 'back_shod_only', 'barefoot', 'shoeing_changed', 'barefoot_to_shod', 'shod_to_barefoot', 'major_shoeing_change', 'shoeing_complexity', 'multiple_equipment_changes', 'equipment_momentum_score', 'high_equipment_momentum', 'multiple_first_time_changes', 'equipment_optimization_score', 'career_strike_rate', 'earnings_per_race', 'earnings_trend', 'last_race_position_normalized', 'last_race_odds_normalized', 'last_race_field_size_factor', 'distance_consistency', 'vha_normalized', 'claiming_tax_trend', 'class_stability', 'che_global_avg_pos', 'che_global_recent_perf', 'che_global_consistency', 'che_global_trend', 'che_global_pct_top3', 'che_global_nb_courses', 'che_global_total_races', 'che_global_dnf_rate', 'che_weighted_avg_pos', 'che_weighted_recent_perf', 'che_weighted_consistency', 'che_weighted_pct_top3', 'che_weighted_nb_courses', 'che_weighted_total_races', 'che_weighted_dnf_rate', 'che_weighted_trend', 'che_bytype_avg_pos', 'che_bytype_recent_perf', 'che_bytype_consistency', 'che_bytype_trend', 'che_bytype_pct_top3', 'che_bytype_nb_courses', 'che_bytype_total_races', 'che_bytype_dnf_rate', 'joc_global_avg_pos', 'joc_global_recent_perf', 'joc_global_consistency', 'joc_global_trend', 'joc_global_pct_top3', 'joc_global_nb_courses', 'joc_global_total_races', 'joc_global_dnf_rate', 'joc_weighted_avg_pos', 'joc_weighted_recent_perf', 'joc_weighted_consistency', 'joc_weighted_pct_top3', 'joc_weighted_nb_courses', 'joc_weighted_total_races', 'joc_weighted_dnf_rate', 'joc_weighted_trend', 'joc_bytype_avg_pos', 'joc_bytype_recent_perf', 'joc_bytype_consistency', 'joc_bytype_trend', 'joc_bytype_pct_top3', 'joc_bytype_nb_courses', 'joc_bytype_total_races', 'joc_bytype_dnf_rate', 'che_form_momentum', 'che_improving_form', 'che_declining_form', 'che_high_consistency', 'che_recent_quality', 'che_elite_performer', 'che_regular_placer', 'joc_form_momentum', 'joc_improving_form', 'joc_high_consistency', 'joc_elite_performer', 'synergy_both_improving', 'synergy_both_consistent', 'synergy_both_elite', 'overall_momentum_score', 'high_momentum', 'class_drop_pct', 'purse_per_starter', 'purse_ratio', 'moving_up_in_class', 'class_shock_indicator', 'handicap_level_change', 'time_per_distance', 'time_vs_record', 'pace_rating', 'speed_figure_proxy', 'market_confidence_shift', 'last_race_improvement', 'bounce_risk', 'layoff_distance_interaction', 'trainer_change', 'connection_stability', 'field_size_change', 'distance_comfort', 'competition_level_shift', 'recence_x_class_drop', 'trainer_change_x_recence', 'distance_change_x_recence', 'che_by_type_avg_pos', 'che_by_type_recent_perf', 'che_by_type_consistency', 'che_by_type_trend', 'che_by_type_pct_top3', 'che_by_type_nb_courses', 'che_by_type_total_races', 'che_by_type_dnf_rate', 'joc_by_type_avg_pos', 'joc_by_type_recent_perf', 'joc_by_type_consistency', 'joc_by_type_trend', 'joc_by_type_pct_top3', 'joc_by_type_nb_courses', 'joc_by_type_total_races', 'joc_by_type_dnf_rate', 'quinte_career_starts', 'quinte_win_rate', 'quinte_top5_rate', 'avg_quinte_position', 'days_since_last_quinte', 'quinte_handicap_specialist', 'quinte_conditions_specialist', 'quinte_large_field_ability', 'quinte_track_condition_fit', 'is_handicap_quinte', 'handicap_division', 'purse_level_category', 'field_size_category', 'track_condition_PH', 'track_condition_DUR', 'track_condition_PS', 'track_condition_PSF', 'weather_clear', 'weather_rain', 'weather_cloudy', 'post_position_bias', 'post_position_track_bias', 'raw_tabnet_prediction', 'predicted_position_tabnet', 'raw_rf_prediction', 'predicted_position_rf', 'predicted_position_base']
2025-11-12 22:21:59,368 - race_prediction.competitive_field_analyzer - INFO - === CRITICAL COLUMNS ANALYSIS ===
2025-11-12 22:21:59,368 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ recordG: 14/14 non-null values (100.0%)
2025-11-12 22:21:59,368 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [0.0, 0.0, 0.0]
2025-11-12 22:21:59,368 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ hippo: 14/14 non-null values (100.0%)
2025-11-12 22:21:59,369 - race_prediction.competitive_field_analyzer - INFO -    Sample values: ['Bordeaux - Le Bouscat', 'Bordeaux - Le Bouscat', 'Bordeaux - Le Bouscat']
2025-11-12 22:21:59,369 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ coursescheval: 14/14 non-null values (100.0%)
2025-11-12 22:21:59,369 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [50, 45, 27]
2025-11-12 22:21:59,369 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ victoirescheval: 14/14 non-null values (100.0%)
2025-11-12 22:21:59,369 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [8, 3, 10]
2025-11-12 22:21:59,369 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ placescheval: 14/14 non-null values (100.0%)
2025-11-12 22:21:59,369 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [14, 6, 15]
2025-11-12 22:21:59,369 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ gainsCarriere: 14/14 non-null values (100.0%)
2025-11-12 22:21:59,369 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [9845500, 10848000, 11219500]
2025-11-12 22:21:59,369 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ age: 14/14 non-null values (100.0%)
2025-11-12 22:21:59,369 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [6, 6, 6]
2025-11-12 22:21:59,369 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ derniereplace: 14/14 non-null values (100.0%)
2025-11-12 22:21:59,369 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [15.0, 8.0, 1.0]
2025-11-12 22:21:59,369 - race_prediction.competitive_field_analyzer - INFO - === RACE METADATA ===
2025-11-12 22:21:59,369 - race_prediction.competitive_field_analyzer - INFO - comp: 1620115
2025-11-12 22:21:59,369 - race_prediction.competitive_field_analyzer - INFO - hippo: Bordeaux - Le Bouscat
2025-11-12 22:21:59,369 - race_prediction.competitive_field_analyzer - INFO - dist: 2650
2025-11-12 22:21:59,369 - race_prediction.competitive_field_analyzer - INFO - typec: Attel√©
2025-11-12 22:21:59,369 - race_prediction.competitive_field_analyzer - INFO - partant: 14
2025-11-12 22:21:59,369 - race_prediction.competitive_field_analyzer - INFO - === SAMPLE RACE DATA ===
2025-11-12 22:21:59,369 - race_prediction.competitive_field_analyzer - INFO - Sample data (columns: ['numero', 'cheval', 'recordG', 'hippo', 'coursescheval']):
2025-11-12 22:21:59,370 - race_prediction.competitive_field_analyzer - INFO -   Horse 0: {'numero': 1, 'cheval': 'Jason Blue', 'recordG': 0.0, 'hippo': 'Bordeaux - Le Bouscat', 'coursescheval': 50}
2025-11-12 22:21:59,370 - race_prediction.competitive_field_analyzer - INFO -   Horse 1: {'numero': 2, 'cheval': 'Jasmin M√©rit√©', 'recordG': 0.0, 'hippo': 'Bordeaux - Le Bouscat', 'coursescheval': 45}
2025-11-12 22:21:59,370 - race_prediction.competitive_field_analyzer - INFO -   Horse 2: {'numero': 3, 'cheval': 'Jalto du Tr√©mont', 'recordG': 0.0, 'hippo': 'Bordeaux - Le Bouscat', 'coursescheval': 27}
2025-11-12 22:21:59,370 - race_prediction.competitive_field_analyzer - INFO - === END COMPETITIVE ANALYSIS DEBUG ===

2025-11-12 22:21:59,370 - race_prediction.competitive_field_analyzer - INFO - === RETRIEVING HISTORICAL DATA ===
2025-11-12 22:21:59,370 - race_prediction.competitive_field_analyzer - INFO - Fetching historical data for 14 horses: [1543500, 1502198, 1558647, 1508696, 1549568, 1385552, 1380632, 1477641, 1379064, 1514170, 1453169, 1326710, 1379329, 1409950]
2025-11-12 22:21:59,371 - race_prediction.competitive_field_analyzer - INFO - Batch querying historical data for 14 horses: [1543500, 1502198, 1558647, 1508696, 1549568, 1385552, 1380632, 1477641, 1379064, 1514170, 1453169, 1326710, 1379329, 1409950]
2025-11-12 22:22:49,428 - race_prediction.competitive_field_analyzer - INFO - Batch query completed in 50.06s, found 181 total records
2025-11-12 22:22:49,439 - race_prediction.competitive_field_analyzer - INFO - Batch query retrieved 181 total historical races
2025-11-12 22:22:49,440 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS PER HORSE ===
2025-11-12 22:22:49,440 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1543500: 18 historical races found
2025-11-12 22:22:49,440 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1502198: 10 historical races found
2025-11-12 22:22:49,440 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1558647: 9 historical races found
2025-11-12 22:22:49,440 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1508696: 6 historical races found
2025-11-12 22:22:49,440 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1549568: 12 historical races found
2025-11-12 22:22:49,440 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1385552: 15 historical races found
2025-11-12 22:22:49,492 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1380632: 14 historical races found
2025-11-12 22:22:49,492 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1477641: 10 historical races found
2025-11-12 22:22:49,492 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1379064: 12 historical races found
2025-11-12 22:22:49,492 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1514170: 17 historical races found
2025-11-12 22:22:49,492 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1453169: 12 historical races found
2025-11-12 22:22:49,492 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1326710: 9 historical races found
2025-11-12 22:22:49,492 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1379329: 20 historical races found
2025-11-12 22:22:49,493 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1409950: 17 historical races found
2025-11-12 22:22:49,556 - race_prediction.competitive_field_analyzer - INFO - Retrieved 181 total historical races
2025-11-12 22:22:49,556 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS BY HORSE ===
2025-11-12 22:22:49,556 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1543500: 18 historical races
2025-11-12 22:22:49,556 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1502198: 10 historical races
2025-11-12 22:22:49,556 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1558647: 9 historical races
2025-11-12 22:22:49,556 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1508696: 6 historical races
2025-11-12 22:22:49,556 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1549568: 12 historical races
2025-11-12 22:22:49,556 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1385552: 15 historical races
2025-11-12 22:22:49,556 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1380632: 14 historical races
2025-11-12 22:22:49,556 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1477641: 10 historical races
2025-11-12 22:22:49,556 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1379064: 12 historical races
2025-11-12 22:22:49,556 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1514170: 17 historical races
2025-11-12 22:22:49,556 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1453169: 12 historical races
2025-11-12 22:22:49,556 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1326710: 9 historical races
2025-11-12 22:22:49,556 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1379329: 20 historical races
2025-11-12 22:22:49,556 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1409950: 17 historical races
2025-11-12 22:22:49,556 - race_prediction.competitive_field_analyzer - INFO - === END HISTORICAL DATA RETRIEVAL ===

2025-11-12 22:22:49,556 - race_prediction.competitive_field_analyzer - INFO - === EARNINGS QUALITY ANALYSIS ===
2025-11-12 22:22:49,556 - race_prediction.competitive_field_analyzer - INFO - Valid earnings data: 14/14 horses
2025-11-12 22:22:49,556 - race_prediction.competitive_field_analyzer - INFO - Sample earnings per race: ['196,910', '241,067', '415,537']
2025-11-12 22:22:49,557 - race_prediction.competitive_field_analyzer - INFO - Field earnings stats: avg=317,099, max=485,827
2025-11-12 22:22:49,557 - race_prediction.competitive_field_analyzer - INFO - === TRACK SPECIALIZATION ANALYSIS ===
2025-11-12 22:22:49,557 - race_prediction.competitive_field_analyzer - INFO - Horses with reliable venue data (3+ races): 0/14
2025-11-12 22:22:49,558 - race_prediction.competitive_field_analyzer - INFO - === FORM MOMENTUM ANALYSIS ===
2025-11-12 22:22:49,558 - race_prediction.competitive_field_analyzer - INFO - Field avg horse trend: 0.657, recent perf: 5.17
2025-11-12 22:22:49,558 - race_prediction.competitive_field_analyzer - INFO - Field avg jockey trend: 0.138
2025-11-12 22:22:49,559 - race_prediction.competitive_field_analyzer - INFO - Horses with improving form: 2/14
2025-11-12 22:22:49,559 - race_prediction.competitive_field_analyzer - INFO - === HOT CONNECTIONS ANALYSIS ===
2025-11-12 22:22:49,559 - race_prediction.competitive_field_analyzer - INFO - Jockeys with wins today: 0/14
2025-11-12 22:22:50,053 - race_prediction.competitive_field_analyzer - INFO - Trainers with wins today: 0/14
2025-11-12 22:22:50,053 - race_prediction.competitive_field_analyzer - INFO - === DISTANCE COMFORT ANALYSIS ===
2025-11-12 22:22:50,053 - race_prediction.competitive_field_analyzer - INFO - Current race distance: 2650m
2025-11-12 22:22:50,053 - race_prediction.competitive_field_analyzer - INFO - Horses with similar recent distance: 10/14
2025-11-12 22:22:50,053 - race_prediction.competitive_field_analyzer - INFO - === REALISTIC COMPETITIVE SCORING ===
2025-11-12 22:22:50,055 - race_prediction.competitive_field_analyzer - INFO - üìä COMPETITIVE ANALYSIS SUMMARY:
2025-11-12 22:22:50,055 - race_prediction.competitive_field_analyzer - INFO -    Total competitive races: 181
2025-11-12 22:22:50,056 - race_prediction.competitive_field_analyzer - INFO -    Horses with historical data: 14/14
2025-11-12 22:22:50,056 - race_prediction.competitive_field_analyzer - INFO -    Average races per horse: 12.9
2025-11-12 22:22:50,081 - race_prediction.quinte_prediction_storage - INFO - Stored 14 horses for Quint√© race 1620115
2025-11-12 22:25:13,934 - race_prediction.quinte_prediction_storage - INFO - Quint√© prediction storage initialized at data/hippique2.db
2025-11-12 22:25:18,397 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE ANALYSIS DEBUG ===
2025-11-12 22:25:18,398 - race_prediction.competitive_field_analyzer - INFO - Analyzing competitive field for race with 14 horses
2025-11-12 22:25:18,398 - race_prediction.competitive_field_analyzer - INFO - Race data shape: (14, 280)
2025-11-12 22:25:18,398 - race_prediction.competitive_field_analyzer - INFO - Available columns: ['id', 'comp', 'jour', 'hippo', 'reun', 'prix', 'prixnom', 'typec', 'partant', 'dist', 'handi', 'groupe', 'quinte', 'natpis', 'meteo', 'corde', 'temperature', 'forceVent', 'directionVent', 'nebulosite', 'prediction_results', 'actual_results', 'created_at', 'updated_at', 'processed_data', 'cheque', 'handi_raw', 'reclam', 'sex', 'tempscourse', 'handicap_level_score', 'cl', 'numero', 'cheval', 'age', 'cotedirect', 'coteprob', 'recence', 'ecar', 'defoeil', 'defoeilPrec', 'musiqueche', 'musiquejoc', 'entraineur', 'coursescheval', 'victoirescheval', 'placescheval', 'dernierealloc', 'derniernbpartants', 'dernieredist', 'derniereplace', 'dernierecote', 'dernierEnt', 'proprietaire', 'poidmont', 'pourcVictJockHippo', 'pourcPlaceJockHippo', 'pourcVictChevalHippo', 'pourcPlaceChevalHippo', 'tempstot', 'vha', 'recordG', 'txreclam', 'dernierTxreclam', 'gainsCarriere', 'gainsAnneeEnCours', 'handicapDistance', 'handicapPoids', 'TxVictCouple', 'nbVictCouple', 'nbPlaceCouple', 'idche', 'idJockey', 'idEntraineur', 'defFirstTime', 'oeilFirstTime', 'oeil', 'dernierOeil', 'ratio_victoires', 'ratio_places', 'gains_par_course', 'efficacite_couple', 'regularite_couple', 'progression_couple', 'perf_cheval_hippo', 'perf_jockey_hippo', 'trainer_victoires', 'trainer_places', 'trainer_courses', 'trainer_winrate', 'trainer_placerate', 'trainer_quality_score', 'trainer_experience_level', 'handicap_poids', 'handicap_dist', 'prec_handicap_poids', 'prec_handicap_dist', 'handicap_poids_change', 'handicap_poids_increased', 'handicap_poids_decreased', 'handicap_dist_change', 'handicap_dist_increased', 'handicap_dist_decreased', 'total_handicap', 'handicap_momentum', 'last_race_position', 'last_race_distance', 'distance_change', 'distance_change_pct', 'distance_increased', 'distance_decreased', 'same_distance', 'corde_change', 'corde_improved', 'corde_worsened', 'last_race_top3', 'last_race_won', 'blinkers_first_time', 'has_blinkers', 'has_standard_blinkers', 'has_australian_blinkers', 'blinkers_added', 'blinkers_removed', 'blinkers_type_changed', 'blinkers_any_change', 'blinkers_high_impact_change', 'shoeing_first_time', 'fully_shod', 'front_shod_only', 'back_shod_only', 'barefoot', 'shoeing_changed', 'barefoot_to_shod', 'shod_to_barefoot', 'major_shoeing_change', 'shoeing_complexity', 'multiple_equipment_changes', 'equipment_momentum_score', 'high_equipment_momentum', 'multiple_first_time_changes', 'equipment_optimization_score', 'career_strike_rate', 'earnings_per_race', 'earnings_trend', 'last_race_position_normalized', 'last_race_odds_normalized', 'last_race_field_size_factor', 'distance_consistency', 'vha_normalized', 'claiming_tax_trend', 'class_stability', 'che_global_avg_pos', 'che_global_recent_perf', 'che_global_consistency', 'che_global_trend', 'che_global_pct_top3', 'che_global_nb_courses', 'che_global_total_races', 'che_global_dnf_rate', 'che_weighted_avg_pos', 'che_weighted_recent_perf', 'che_weighted_consistency', 'che_weighted_pct_top3', 'che_weighted_nb_courses', 'che_weighted_total_races', 'che_weighted_dnf_rate', 'che_weighted_trend', 'che_bytype_avg_pos', 'che_bytype_recent_perf', 'che_bytype_consistency', 'che_bytype_trend', 'che_bytype_pct_top3', 'che_bytype_nb_courses', 'che_bytype_total_races', 'che_bytype_dnf_rate', 'joc_global_avg_pos', 'joc_global_recent_perf', 'joc_global_consistency', 'joc_global_trend', 'joc_global_pct_top3', 'joc_global_nb_courses', 'joc_global_total_races', 'joc_global_dnf_rate', 'joc_weighted_avg_pos', 'joc_weighted_recent_perf', 'joc_weighted_consistency', 'joc_weighted_pct_top3', 'joc_weighted_nb_courses', 'joc_weighted_total_races', 'joc_weighted_dnf_rate', 'joc_weighted_trend', 'joc_bytype_avg_pos', 'joc_bytype_recent_perf', 'joc_bytype_consistency', 'joc_bytype_trend', 'joc_bytype_pct_top3', 'joc_bytype_nb_courses', 'joc_bytype_total_races', 'joc_bytype_dnf_rate', 'che_form_momentum', 'che_improving_form', 'che_declining_form', 'che_high_consistency', 'che_recent_quality', 'che_elite_performer', 'che_regular_placer', 'joc_form_momentum', 'joc_improving_form', 'joc_high_consistency', 'joc_elite_performer', 'synergy_both_improving', 'synergy_both_consistent', 'synergy_both_elite', 'overall_momentum_score', 'high_momentum', 'class_drop_pct', 'purse_per_starter', 'purse_ratio', 'moving_up_in_class', 'class_shock_indicator', 'handicap_level_change', 'time_per_distance', 'time_vs_record', 'pace_rating', 'speed_figure_proxy', 'market_confidence_shift', 'last_race_improvement', 'bounce_risk', 'layoff_distance_interaction', 'trainer_change', 'connection_stability', 'field_size_change', 'distance_comfort', 'competition_level_shift', 'recence_x_class_drop', 'trainer_change_x_recence', 'distance_change_x_recence', 'che_by_type_avg_pos', 'che_by_type_recent_perf', 'che_by_type_consistency', 'che_by_type_trend', 'che_by_type_pct_top3', 'che_by_type_nb_courses', 'che_by_type_total_races', 'che_by_type_dnf_rate', 'joc_by_type_avg_pos', 'joc_by_type_recent_perf', 'joc_by_type_consistency', 'joc_by_type_trend', 'joc_by_type_pct_top3', 'joc_by_type_nb_courses', 'joc_by_type_total_races', 'joc_by_type_dnf_rate', 'quinte_career_starts', 'quinte_win_rate', 'quinte_top5_rate', 'avg_quinte_position', 'days_since_last_quinte', 'quinte_handicap_specialist', 'quinte_conditions_specialist', 'quinte_large_field_ability', 'quinte_track_condition_fit', 'is_handicap_quinte', 'handicap_division', 'purse_level_category', 'field_size_category', 'track_condition_PH', 'track_condition_DUR', 'track_condition_PS', 'track_condition_PSF', 'weather_clear', 'weather_rain', 'weather_cloudy', 'post_position_bias', 'post_position_track_bias', 'raw_tabnet_prediction', 'predicted_position_tabnet', 'raw_rf_prediction', 'predicted_position_rf', 'predicted_position_base']
2025-11-12 22:25:18,398 - race_prediction.competitive_field_analyzer - INFO - === CRITICAL COLUMNS ANALYSIS ===
2025-11-12 22:25:18,398 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ recordG: 14/14 non-null values (100.0%)
2025-11-12 22:25:18,398 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [0.0, 0.0, 0.0]
2025-11-12 22:25:18,398 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ hippo: 14/14 non-null values (100.0%)
2025-11-12 22:25:18,398 - race_prediction.competitive_field_analyzer - INFO -    Sample values: ['Bordeaux - Le Bouscat', 'Bordeaux - Le Bouscat', 'Bordeaux - Le Bouscat']
2025-11-12 22:25:18,398 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ coursescheval: 14/14 non-null values (100.0%)
2025-11-12 22:25:18,399 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [50, 45, 27]
2025-11-12 22:25:18,399 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ victoirescheval: 14/14 non-null values (100.0%)
2025-11-12 22:25:18,399 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [8, 3, 10]
2025-11-12 22:25:18,399 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ placescheval: 14/14 non-null values (100.0%)
2025-11-12 22:25:18,399 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [14, 6, 15]
2025-11-12 22:25:18,399 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ gainsCarriere: 14/14 non-null values (100.0%)
2025-11-12 22:25:18,399 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [9845500, 10848000, 11219500]
2025-11-12 22:25:18,399 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ age: 14/14 non-null values (100.0%)
2025-11-12 22:25:18,399 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [6, 6, 6]
2025-11-12 22:25:18,399 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ derniereplace: 14/14 non-null values (100.0%)
2025-11-12 22:25:18,399 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [15.0, 8.0, 1.0]
2025-11-12 22:25:18,399 - race_prediction.competitive_field_analyzer - INFO - === RACE METADATA ===
2025-11-12 22:25:18,399 - race_prediction.competitive_field_analyzer - INFO - comp: 1620115
2025-11-12 22:25:18,399 - race_prediction.competitive_field_analyzer - INFO - hippo: Bordeaux - Le Bouscat
2025-11-12 22:25:18,399 - race_prediction.competitive_field_analyzer - INFO - dist: 2650
2025-11-12 22:25:18,399 - race_prediction.competitive_field_analyzer - INFO - typec: Attel√©
2025-11-12 22:25:18,399 - race_prediction.competitive_field_analyzer - INFO - partant: 14
2025-11-12 22:25:18,399 - race_prediction.competitive_field_analyzer - INFO - === SAMPLE RACE DATA ===
2025-11-12 22:25:18,400 - race_prediction.competitive_field_analyzer - INFO - Sample data (columns: ['numero', 'cheval', 'recordG', 'hippo', 'coursescheval']):
2025-11-12 22:25:18,400 - race_prediction.competitive_field_analyzer - INFO -   Horse 0: {'numero': 1, 'cheval': 'Jason Blue', 'recordG': 0.0, 'hippo': 'Bordeaux - Le Bouscat', 'coursescheval': 50}
2025-11-12 22:25:18,400 - race_prediction.competitive_field_analyzer - INFO -   Horse 1: {'numero': 2, 'cheval': 'Jasmin M√©rit√©', 'recordG': 0.0, 'hippo': 'Bordeaux - Le Bouscat', 'coursescheval': 45}
2025-11-12 22:25:18,400 - race_prediction.competitive_field_analyzer - INFO -   Horse 2: {'numero': 3, 'cheval': 'Jalto du Tr√©mont', 'recordG': 0.0, 'hippo': 'Bordeaux - Le Bouscat', 'coursescheval': 27}
2025-11-12 22:25:18,400 - race_prediction.competitive_field_analyzer - INFO - === END COMPETITIVE ANALYSIS DEBUG ===

2025-11-12 22:25:18,400 - race_prediction.competitive_field_analyzer - INFO - === RETRIEVING HISTORICAL DATA ===
2025-11-12 22:25:18,400 - race_prediction.competitive_field_analyzer - INFO - Fetching historical data for 14 horses: [1543500, 1502198, 1558647, 1508696, 1549568, 1385552, 1380632, 1477641, 1379064, 1514170, 1453169, 1326710, 1379329, 1409950]
2025-11-12 22:25:18,401 - race_prediction.competitive_field_analyzer - INFO - Batch querying historical data for 14 horses: [1543500, 1502198, 1558647, 1508696, 1549568, 1385552, 1380632, 1477641, 1379064, 1514170, 1453169, 1326710, 1379329, 1409950]
2025-11-12 22:25:46,572 - race_prediction.competitive_field_analyzer - INFO - Batch query completed in 28.17s, found 181 total records
2025-11-12 22:25:46,613 - race_prediction.competitive_field_analyzer - INFO - Batch query retrieved 181 total historical races
2025-11-12 22:25:46,623 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS PER HORSE ===
2025-11-12 22:25:46,631 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1543500: 18 historical races found
2025-11-12 22:25:46,638 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1502198: 10 historical races found
2025-11-12 22:25:46,645 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1558647: 9 historical races found
2025-11-12 22:25:46,655 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1508696: 6 historical races found
2025-11-12 22:25:46,666 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1549568: 12 historical races found
2025-11-12 22:25:46,666 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1385552: 15 historical races found
2025-11-12 22:25:46,673 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1380632: 14 historical races found
2025-11-12 22:25:46,686 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1477641: 10 historical races found
2025-11-12 22:25:46,757 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1379064: 12 historical races found
2025-11-12 22:25:46,768 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1514170: 17 historical races found
2025-11-12 22:25:46,772 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1453169: 12 historical races found
2025-11-12 22:25:46,784 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1326710: 9 historical races found
2025-11-12 22:25:46,786 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1379329: 20 historical races found
2025-11-12 22:25:46,802 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1409950: 17 historical races found
2025-11-12 22:25:46,813 - race_prediction.competitive_field_analyzer - INFO - Retrieved 181 total historical races
2025-11-12 22:25:46,817 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS BY HORSE ===
2025-11-12 22:25:46,824 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1543500: 18 historical races
2025-11-12 22:25:46,833 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1502198: 10 historical races
2025-11-12 22:25:46,843 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1558647: 9 historical races
2025-11-12 22:25:46,853 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1508696: 6 historical races
2025-11-12 22:25:46,859 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1549568: 12 historical races
2025-11-12 22:25:46,872 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1385552: 15 historical races
2025-11-12 22:25:46,879 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1380632: 14 historical races
2025-11-12 22:25:46,889 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1477641: 10 historical races
2025-11-12 22:25:46,900 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1379064: 12 historical races
2025-11-12 22:25:46,904 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1514170: 17 historical races
2025-11-12 22:25:46,911 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1453169: 12 historical races
2025-11-12 22:25:46,926 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1326710: 9 historical races
2025-11-12 22:25:46,935 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1379329: 20 historical races
2025-11-12 22:25:46,940 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1409950: 17 historical races
2025-11-12 22:25:46,946 - race_prediction.competitive_field_analyzer - INFO - === END HISTORICAL DATA RETRIEVAL ===

2025-11-12 22:25:46,968 - race_prediction.competitive_field_analyzer - INFO - === EARNINGS QUALITY ANALYSIS ===
2025-11-12 22:25:46,975 - race_prediction.competitive_field_analyzer - INFO - Valid earnings data: 14/14 horses
2025-11-12 22:25:46,979 - race_prediction.competitive_field_analyzer - INFO - Sample earnings per race: ['196,910', '241,067', '415,537']
2025-11-12 22:25:46,997 - race_prediction.competitive_field_analyzer - INFO - Field earnings stats: avg=317,099, max=485,827
2025-11-12 22:25:47,014 - race_prediction.competitive_field_analyzer - INFO - === TRACK SPECIALIZATION ANALYSIS ===
2025-11-12 22:25:47,018 - race_prediction.competitive_field_analyzer - INFO - Horses with reliable venue data (3+ races): 0/14
2025-11-12 22:25:47,022 - race_prediction.competitive_field_analyzer - INFO - === FORM MOMENTUM ANALYSIS ===
2025-11-12 22:25:47,047 - race_prediction.competitive_field_analyzer - INFO - Field avg horse trend: 0.657, recent perf: 5.17
2025-11-12 22:25:47,062 - race_prediction.competitive_field_analyzer - INFO - Field avg jockey trend: 0.138
2025-11-12 22:25:47,066 - race_prediction.competitive_field_analyzer - INFO - Horses with improving form: 2/14
2025-11-12 22:25:47,084 - race_prediction.competitive_field_analyzer - INFO - === HOT CONNECTIONS ANALYSIS ===
2025-11-12 22:25:47,104 - race_prediction.competitive_field_analyzer - INFO - Jockeys with wins today: 0/14
2025-11-12 22:25:47,116 - race_prediction.competitive_field_analyzer - INFO - Trainers with wins today: 0/14
2025-11-12 22:25:47,127 - race_prediction.competitive_field_analyzer - INFO - === DISTANCE COMFORT ANALYSIS ===
2025-11-12 22:25:47,139 - race_prediction.competitive_field_analyzer - INFO - Current race distance: 2650m
2025-11-12 22:25:47,149 - race_prediction.competitive_field_analyzer - INFO - Horses with similar recent distance: 10/14
2025-11-12 22:25:47,153 - race_prediction.competitive_field_analyzer - INFO - === REALISTIC COMPETITIVE SCORING ===
2025-11-12 22:25:47,171 - race_prediction.competitive_field_analyzer - INFO - üìä COMPETITIVE ANALYSIS SUMMARY:
2025-11-12 22:25:47,177 - race_prediction.competitive_field_analyzer - INFO -    Total competitive races: 181
2025-11-12 22:25:47,183 - race_prediction.competitive_field_analyzer - INFO -    Horses with historical data: 14/14
2025-11-12 22:25:47,186 - race_prediction.competitive_field_analyzer - INFO -    Average races per horse: 12.9
2025-11-12 22:25:47,974 - race_prediction.quinte_prediction_storage - INFO - Stored 14 horses for Quint√© race 1620115
2025-11-12 22:26:14,657 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE ANALYSIS DEBUG ===
2025-11-12 22:26:14,667 - race_prediction.competitive_field_analyzer - INFO - Analyzing competitive field for race with 16 horses
2025-11-12 22:26:14,671 - race_prediction.competitive_field_analyzer - INFO - Race data shape: (16, 280)
2025-11-12 22:26:14,703 - race_prediction.competitive_field_analyzer - INFO - Available columns: ['id', 'comp', 'jour', 'hippo', 'reun', 'prix', 'prixnom', 'typec', 'partant', 'dist', 'handi', 'groupe', 'quinte', 'natpis', 'meteo', 'corde', 'temperature', 'forceVent', 'directionVent', 'nebulosite', 'prediction_results', 'actual_results', 'created_at', 'updated_at', 'processed_data', 'cheque', 'handi_raw', 'reclam', 'sex', 'tempscourse', 'handicap_level_score', 'cl', 'numero', 'cheval', 'age', 'cotedirect', 'coteprob', 'recence', 'ecar', 'defoeil', 'defoeilPrec', 'musiqueche', 'musiquejoc', 'entraineur', 'coursescheval', 'victoirescheval', 'placescheval', 'dernierealloc', 'derniernbpartants', 'dernieredist', 'derniereplace', 'dernierecote', 'dernierEnt', 'proprietaire', 'poidmont', 'pourcVictJockHippo', 'pourcPlaceJockHippo', 'pourcVictChevalHippo', 'pourcPlaceChevalHippo', 'tempstot', 'vha', 'recordG', 'txreclam', 'dernierTxreclam', 'gainsCarriere', 'gainsAnneeEnCours', 'handicapDistance', 'handicapPoids', 'TxVictCouple', 'nbVictCouple', 'nbPlaceCouple', 'idche', 'idJockey', 'idEntraineur', 'defFirstTime', 'oeilFirstTime', 'oeil', 'dernierOeil', 'ratio_victoires', 'ratio_places', 'gains_par_course', 'efficacite_couple', 'regularite_couple', 'progression_couple', 'perf_cheval_hippo', 'perf_jockey_hippo', 'trainer_victoires', 'trainer_places', 'trainer_courses', 'trainer_winrate', 'trainer_placerate', 'trainer_quality_score', 'trainer_experience_level', 'handicap_poids', 'handicap_dist', 'prec_handicap_poids', 'prec_handicap_dist', 'handicap_poids_change', 'handicap_poids_increased', 'handicap_poids_decreased', 'handicap_dist_change', 'handicap_dist_increased', 'handicap_dist_decreased', 'total_handicap', 'handicap_momentum', 'last_race_position', 'last_race_distance', 'distance_change', 'distance_change_pct', 'distance_increased', 'distance_decreased', 'same_distance', 'corde_change', 'corde_improved', 'corde_worsened', 'last_race_top3', 'last_race_won', 'blinkers_first_time', 'has_blinkers', 'has_standard_blinkers', 'has_australian_blinkers', 'blinkers_added', 'blinkers_removed', 'blinkers_type_changed', 'blinkers_any_change', 'blinkers_high_impact_change', 'shoeing_first_time', 'fully_shod', 'front_shod_only', 'back_shod_only', 'barefoot', 'shoeing_changed', 'barefoot_to_shod', 'shod_to_barefoot', 'major_shoeing_change', 'shoeing_complexity', 'multiple_equipment_changes', 'equipment_momentum_score', 'high_equipment_momentum', 'multiple_first_time_changes', 'equipment_optimization_score', 'career_strike_rate', 'earnings_per_race', 'earnings_trend', 'last_race_position_normalized', 'last_race_odds_normalized', 'last_race_field_size_factor', 'distance_consistency', 'vha_normalized', 'claiming_tax_trend', 'class_stability', 'che_global_avg_pos', 'che_global_recent_perf', 'che_global_consistency', 'che_global_trend', 'che_global_pct_top3', 'che_global_nb_courses', 'che_global_total_races', 'che_global_dnf_rate', 'che_weighted_avg_pos', 'che_weighted_recent_perf', 'che_weighted_consistency', 'che_weighted_pct_top3', 'che_weighted_nb_courses', 'che_weighted_total_races', 'che_weighted_dnf_rate', 'che_weighted_trend', 'che_bytype_avg_pos', 'che_bytype_recent_perf', 'che_bytype_consistency', 'che_bytype_trend', 'che_bytype_pct_top3', 'che_bytype_nb_courses', 'che_bytype_total_races', 'che_bytype_dnf_rate', 'joc_global_avg_pos', 'joc_global_recent_perf', 'joc_global_consistency', 'joc_global_trend', 'joc_global_pct_top3', 'joc_global_nb_courses', 'joc_global_total_races', 'joc_global_dnf_rate', 'joc_weighted_avg_pos', 'joc_weighted_recent_perf', 'joc_weighted_consistency', 'joc_weighted_pct_top3', 'joc_weighted_nb_courses', 'joc_weighted_total_races', 'joc_weighted_dnf_rate', 'joc_weighted_trend', 'joc_bytype_avg_pos', 'joc_bytype_recent_perf', 'joc_bytype_consistency', 'joc_bytype_trend', 'joc_bytype_pct_top3', 'joc_bytype_nb_courses', 'joc_bytype_total_races', 'joc_bytype_dnf_rate', 'che_form_momentum', 'che_improving_form', 'che_declining_form', 'che_high_consistency', 'che_recent_quality', 'che_elite_performer', 'che_regular_placer', 'joc_form_momentum', 'joc_improving_form', 'joc_high_consistency', 'joc_elite_performer', 'synergy_both_improving', 'synergy_both_consistent', 'synergy_both_elite', 'overall_momentum_score', 'high_momentum', 'class_drop_pct', 'purse_per_starter', 'purse_ratio', 'moving_up_in_class', 'class_shock_indicator', 'handicap_level_change', 'time_per_distance', 'time_vs_record', 'pace_rating', 'speed_figure_proxy', 'market_confidence_shift', 'last_race_improvement', 'bounce_risk', 'layoff_distance_interaction', 'trainer_change', 'connection_stability', 'field_size_change', 'distance_comfort', 'competition_level_shift', 'recence_x_class_drop', 'trainer_change_x_recence', 'distance_change_x_recence', 'che_by_type_avg_pos', 'che_by_type_recent_perf', 'che_by_type_consistency', 'che_by_type_trend', 'che_by_type_pct_top3', 'che_by_type_nb_courses', 'che_by_type_total_races', 'che_by_type_dnf_rate', 'joc_by_type_avg_pos', 'joc_by_type_recent_perf', 'joc_by_type_consistency', 'joc_by_type_trend', 'joc_by_type_pct_top3', 'joc_by_type_nb_courses', 'joc_by_type_total_races', 'joc_by_type_dnf_rate', 'quinte_career_starts', 'quinte_win_rate', 'quinte_top5_rate', 'avg_quinte_position', 'days_since_last_quinte', 'quinte_handicap_specialist', 'quinte_conditions_specialist', 'quinte_large_field_ability', 'quinte_track_condition_fit', 'is_handicap_quinte', 'handicap_division', 'purse_level_category', 'field_size_category', 'track_condition_PH', 'track_condition_DUR', 'track_condition_PS', 'track_condition_PSF', 'weather_clear', 'weather_rain', 'weather_cloudy', 'post_position_bias', 'post_position_track_bias', 'raw_tabnet_prediction', 'predicted_position_tabnet', 'raw_rf_prediction', 'predicted_position_rf', 'predicted_position_base']
2025-11-12 22:26:14,727 - race_prediction.competitive_field_analyzer - INFO - === CRITICAL COLUMNS ANALYSIS ===
2025-11-12 22:26:14,730 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ recordG: 16/16 non-null values (100.0%)
2025-11-12 22:26:14,741 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [0.0, 0.0, 0.0]
2025-11-12 22:26:14,741 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ hippo: 16/16 non-null values (100.0%)
2025-11-12 22:26:14,741 - race_prediction.competitive_field_analyzer - INFO -    Sample values: ['Toulouse', 'Toulouse', 'Toulouse']
2025-11-12 22:26:14,741 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ coursescheval: 16/16 non-null values (100.0%)
2025-11-12 22:26:14,741 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [38, 18, 32]
2025-11-12 22:26:14,741 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ victoirescheval: 16/16 non-null values (100.0%)
2025-11-12 22:26:14,741 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [5, 5, 3]
2025-11-12 22:26:14,741 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ placescheval: 16/16 non-null values (100.0%)
2025-11-12 22:26:14,763 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [13, 8, 12]
2025-11-12 22:26:14,772 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ gainsCarriere: 16/16 non-null values (100.0%)
2025-11-12 22:26:14,781 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [11364100, 6467200, 14380900]
2025-11-12 22:26:14,785 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ age: 16/16 non-null values (100.0%)
2025-11-12 22:26:14,785 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [6, 4, 7]
2025-11-12 22:26:14,792 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ derniereplace: 16/16 non-null values (100.0%)
2025-11-12 22:26:14,818 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [4, 2, 8]
2025-11-12 22:26:14,831 - race_prediction.competitive_field_analyzer - INFO - === RACE METADATA ===
2025-11-12 22:26:14,849 - race_prediction.competitive_field_analyzer - INFO - comp: 1621509
2025-11-12 22:26:14,858 - race_prediction.competitive_field_analyzer - INFO - hippo: Toulouse
2025-11-12 22:26:14,875 - race_prediction.competitive_field_analyzer - INFO - dist: 2400
2025-11-12 22:26:14,906 - race_prediction.competitive_field_analyzer - INFO - typec: Plat
2025-11-12 22:26:14,908 - race_prediction.competitive_field_analyzer - INFO - partant: 16
2025-11-12 22:26:14,929 - race_prediction.competitive_field_analyzer - INFO - === SAMPLE RACE DATA ===
2025-11-12 22:26:14,962 - race_prediction.competitive_field_analyzer - INFO - Sample data (columns: ['numero', 'cheval', 'recordG', 'hippo', 'coursescheval']):
2025-11-12 22:26:14,975 - race_prediction.competitive_field_analyzer - INFO -   Horse 0: {'numero': 1, 'cheval': 'Poca Gen', 'recordG': 0.0, 'hippo': 'Toulouse', 'coursescheval': 38}
2025-11-12 22:26:14,985 - race_prediction.competitive_field_analyzer - INFO -   Horse 1: {'numero': 2, 'cheval': 'Xylophone', 'recordG': 0.0, 'hippo': 'Toulouse', 'coursescheval': 18}
2025-11-12 22:26:14,989 - race_prediction.competitive_field_analyzer - INFO -   Horse 2: {'numero': 3, 'cheval': 'Partenit', 'recordG': 0.0, 'hippo': 'Toulouse', 'coursescheval': 32}
2025-11-12 22:26:14,991 - race_prediction.competitive_field_analyzer - INFO - === END COMPETITIVE ANALYSIS DEBUG ===

2025-11-12 22:26:15,014 - race_prediction.competitive_field_analyzer - INFO - === RETRIEVING HISTORICAL DATA ===
2025-11-12 22:26:15,020 - race_prediction.competitive_field_analyzer - INFO - Fetching historical data for 16 horses: [1523391, 1692653, 1489807, 1559962, 1664933, 1432521, 1556177, 1710838, 1661959, 1493602, 1676627, 1560971, 1724288, 1653563, 1741397, 1696803]
2025-11-12 22:26:15,068 - race_prediction.competitive_field_analyzer - INFO - Batch querying historical data for 16 horses: [1523391, 1692653, 1489807, 1559962, 1664933, 1432521, 1556177, 1710838, 1661959, 1493602, 1676627, 1560971, 1724288, 1653563, 1741397, 1696803]
2025-11-12 22:26:40,901 - race_prediction.competitive_field_analyzer - INFO - Batch query completed in 25.83s, found 145 total records
2025-11-12 22:26:40,933 - race_prediction.competitive_field_analyzer - INFO - Batch query retrieved 145 total historical races
2025-11-12 22:26:40,941 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS PER HORSE ===
2025-11-12 22:26:40,949 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1523391: 10 historical races found
2025-11-12 22:26:40,952 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1692653: 10 historical races found
2025-11-12 22:26:40,960 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1489807: 9 historical races found
2025-11-12 22:26:40,971 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1559962: 16 historical races found
2025-11-12 22:26:40,974 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1664933: 8 historical races found
2025-11-12 22:26:40,985 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1432521: 6 historical races found
2025-11-12 22:26:40,989 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1556177: 18 historical races found
2025-11-12 22:26:40,989 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1710838: 11 historical races found
2025-11-12 22:26:40,989 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1661959: 4 historical races found
2025-11-12 22:26:41,000 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1493602: 13 historical races found
2025-11-12 22:26:41,007 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1676627: 9 historical races found
2025-11-12 22:26:41,022 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1560971: 7 historical races found
2025-11-12 22:26:41,029 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1724288: 7 historical races found
2025-11-12 22:26:41,037 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1653563: 6 historical races found
2025-11-12 22:26:41,045 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1741397: 8 historical races found
2025-11-12 22:26:41,049 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1696803: 3 historical races found
2025-11-12 22:26:41,060 - race_prediction.competitive_field_analyzer - INFO - Retrieved 145 total historical races
2025-11-12 22:26:41,068 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS BY HORSE ===
2025-11-12 22:26:41,072 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1523391: 10 historical races
2025-11-12 22:26:41,077 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1692653: 10 historical races
2025-11-12 22:26:41,083 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1489807: 9 historical races
2025-11-12 22:26:41,091 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1559962: 16 historical races
2025-11-12 22:26:41,316 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1664933: 8 historical races
2025-11-12 22:26:41,316 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1432521: 6 historical races
2025-11-12 22:26:41,316 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1556177: 18 historical races
2025-11-12 22:26:41,316 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1710838: 11 historical races
2025-11-12 22:26:41,316 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1661959: 4 historical races
2025-11-12 22:26:41,316 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1493602: 13 historical races
2025-11-12 22:26:41,326 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1676627: 9 historical races
2025-11-12 22:26:41,333 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1560971: 7 historical races
2025-11-12 22:26:41,354 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1724288: 7 historical races
2025-11-12 22:26:41,355 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1653563: 6 historical races
2025-11-12 22:26:41,365 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1741397: 8 historical races
2025-11-12 22:26:41,372 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1696803: 3 historical races
2025-11-12 22:26:41,379 - race_prediction.competitive_field_analyzer - INFO - === END HISTORICAL DATA RETRIEVAL ===

2025-11-12 22:26:41,385 - race_prediction.competitive_field_analyzer - INFO - === EARNINGS QUALITY ANALYSIS ===
2025-11-12 22:26:41,395 - race_prediction.competitive_field_analyzer - INFO - Valid earnings data: 16/16 horses
2025-11-12 22:26:41,395 - race_prediction.competitive_field_analyzer - INFO - Sample earnings per race: ['299,055', '359,289', '449,403']
2025-11-12 22:26:41,406 - race_prediction.competitive_field_analyzer - INFO - Field earnings stats: avg=392,304, max=727,675
2025-11-12 22:26:41,413 - race_prediction.competitive_field_analyzer - INFO - === TRACK SPECIALIZATION ANALYSIS ===
2025-11-12 22:26:41,421 - race_prediction.competitive_field_analyzer - INFO - Horses with reliable venue data (3+ races): 0/16
2025-11-12 22:26:41,432 - race_prediction.competitive_field_analyzer - INFO - === FORM MOMENTUM ANALYSIS ===
2025-11-12 22:26:41,443 - race_prediction.competitive_field_analyzer - INFO - Field avg horse trend: 0.245, recent perf: 7.10
2025-11-12 22:26:41,450 - race_prediction.competitive_field_analyzer - INFO - Field avg jockey trend: -1.515
2025-11-12 22:26:41,457 - race_prediction.competitive_field_analyzer - INFO - Horses with improving form: 4/16
2025-11-12 22:26:41,461 - race_prediction.competitive_field_analyzer - INFO - === HOT CONNECTIONS ANALYSIS ===
2025-11-12 22:26:41,475 - race_prediction.competitive_field_analyzer - INFO - Jockeys with wins today: 0/16
2025-11-12 22:26:41,489 - race_prediction.competitive_field_analyzer - INFO - Trainers with wins today: 0/16
2025-11-12 22:26:41,500 - race_prediction.competitive_field_analyzer - INFO - === DISTANCE COMFORT ANALYSIS ===
2025-11-12 22:26:41,511 - race_prediction.competitive_field_analyzer - INFO - Current race distance: 2400m
2025-11-12 22:26:41,515 - race_prediction.competitive_field_analyzer - INFO - Horses with similar recent distance: 8/16
2025-11-12 22:26:41,518 - race_prediction.competitive_field_analyzer - INFO - === REALISTIC COMPETITIVE SCORING ===
2025-11-12 22:26:41,526 - race_prediction.competitive_field_analyzer - INFO - üìä COMPETITIVE ANALYSIS SUMMARY:
2025-11-12 22:26:41,534 - race_prediction.competitive_field_analyzer - INFO -    Total competitive races: 145
2025-11-12 22:26:41,537 - race_prediction.competitive_field_analyzer - INFO -    Horses with historical data: 16/16
2025-11-12 22:26:41,541 - race_prediction.competitive_field_analyzer - INFO -    Average races per horse: 9.1
2025-11-12 22:26:41,748 - race_prediction.quinte_prediction_storage - INFO - Stored 16 horses for Quint√© race 1621509
2025-11-12 22:27:03,322 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE ANALYSIS DEBUG ===
2025-11-12 22:27:03,329 - race_prediction.competitive_field_analyzer - INFO - Analyzing competitive field for race with 16 horses
2025-11-12 22:27:03,336 - race_prediction.competitive_field_analyzer - INFO - Race data shape: (16, 280)
2025-11-12 22:27:03,347 - race_prediction.competitive_field_analyzer - INFO - Available columns: ['id', 'comp', 'jour', 'hippo', 'reun', 'prix', 'prixnom', 'typec', 'partant', 'dist', 'handi', 'groupe', 'quinte', 'natpis', 'meteo', 'corde', 'temperature', 'forceVent', 'directionVent', 'nebulosite', 'prediction_results', 'actual_results', 'created_at', 'updated_at', 'processed_data', 'cheque', 'handi_raw', 'reclam', 'sex', 'tempscourse', 'handicap_level_score', 'cl', 'numero', 'cheval', 'age', 'cotedirect', 'coteprob', 'recence', 'ecar', 'defoeil', 'defoeilPrec', 'musiqueche', 'musiquejoc', 'entraineur', 'coursescheval', 'victoirescheval', 'placescheval', 'dernierealloc', 'derniernbpartants', 'dernieredist', 'derniereplace', 'dernierecote', 'dernierEnt', 'proprietaire', 'poidmont', 'pourcVictJockHippo', 'pourcPlaceJockHippo', 'pourcVictChevalHippo', 'pourcPlaceChevalHippo', 'tempstot', 'vha', 'recordG', 'txreclam', 'dernierTxreclam', 'gainsCarriere', 'gainsAnneeEnCours', 'handicapDistance', 'handicapPoids', 'TxVictCouple', 'nbVictCouple', 'nbPlaceCouple', 'idche', 'idJockey', 'idEntraineur', 'defFirstTime', 'oeilFirstTime', 'oeil', 'dernierOeil', 'ratio_victoires', 'ratio_places', 'gains_par_course', 'efficacite_couple', 'regularite_couple', 'progression_couple', 'perf_cheval_hippo', 'perf_jockey_hippo', 'trainer_victoires', 'trainer_places', 'trainer_courses', 'trainer_winrate', 'trainer_placerate', 'trainer_quality_score', 'trainer_experience_level', 'handicap_poids', 'handicap_dist', 'prec_handicap_poids', 'prec_handicap_dist', 'handicap_poids_change', 'handicap_poids_increased', 'handicap_poids_decreased', 'handicap_dist_change', 'handicap_dist_increased', 'handicap_dist_decreased', 'total_handicap', 'handicap_momentum', 'last_race_position', 'last_race_distance', 'distance_change', 'distance_change_pct', 'distance_increased', 'distance_decreased', 'same_distance', 'corde_change', 'corde_improved', 'corde_worsened', 'last_race_top3', 'last_race_won', 'blinkers_first_time', 'has_blinkers', 'has_standard_blinkers', 'has_australian_blinkers', 'blinkers_added', 'blinkers_removed', 'blinkers_type_changed', 'blinkers_any_change', 'blinkers_high_impact_change', 'shoeing_first_time', 'fully_shod', 'front_shod_only', 'back_shod_only', 'barefoot', 'shoeing_changed', 'barefoot_to_shod', 'shod_to_barefoot', 'major_shoeing_change', 'shoeing_complexity', 'multiple_equipment_changes', 'equipment_momentum_score', 'high_equipment_momentum', 'multiple_first_time_changes', 'equipment_optimization_score', 'career_strike_rate', 'earnings_per_race', 'earnings_trend', 'last_race_position_normalized', 'last_race_odds_normalized', 'last_race_field_size_factor', 'distance_consistency', 'vha_normalized', 'claiming_tax_trend', 'class_stability', 'che_global_avg_pos', 'che_global_recent_perf', 'che_global_consistency', 'che_global_trend', 'che_global_pct_top3', 'che_global_nb_courses', 'che_global_total_races', 'che_global_dnf_rate', 'che_weighted_avg_pos', 'che_weighted_recent_perf', 'che_weighted_consistency', 'che_weighted_pct_top3', 'che_weighted_nb_courses', 'che_weighted_total_races', 'che_weighted_dnf_rate', 'che_weighted_trend', 'che_bytype_avg_pos', 'che_bytype_recent_perf', 'che_bytype_consistency', 'che_bytype_trend', 'che_bytype_pct_top3', 'che_bytype_nb_courses', 'che_bytype_total_races', 'che_bytype_dnf_rate', 'joc_global_avg_pos', 'joc_global_recent_perf', 'joc_global_consistency', 'joc_global_trend', 'joc_global_pct_top3', 'joc_global_nb_courses', 'joc_global_total_races', 'joc_global_dnf_rate', 'joc_weighted_avg_pos', 'joc_weighted_recent_perf', 'joc_weighted_consistency', 'joc_weighted_pct_top3', 'joc_weighted_nb_courses', 'joc_weighted_total_races', 'joc_weighted_dnf_rate', 'joc_weighted_trend', 'joc_bytype_avg_pos', 'joc_bytype_recent_perf', 'joc_bytype_consistency', 'joc_bytype_trend', 'joc_bytype_pct_top3', 'joc_bytype_nb_courses', 'joc_bytype_total_races', 'joc_bytype_dnf_rate', 'che_form_momentum', 'che_improving_form', 'che_declining_form', 'che_high_consistency', 'che_recent_quality', 'che_elite_performer', 'che_regular_placer', 'joc_form_momentum', 'joc_improving_form', 'joc_high_consistency', 'joc_elite_performer', 'synergy_both_improving', 'synergy_both_consistent', 'synergy_both_elite', 'overall_momentum_score', 'high_momentum', 'class_drop_pct', 'purse_per_starter', 'purse_ratio', 'moving_up_in_class', 'class_shock_indicator', 'handicap_level_change', 'time_per_distance', 'time_vs_record', 'pace_rating', 'speed_figure_proxy', 'market_confidence_shift', 'last_race_improvement', 'bounce_risk', 'layoff_distance_interaction', 'trainer_change', 'connection_stability', 'field_size_change', 'distance_comfort', 'competition_level_shift', 'recence_x_class_drop', 'trainer_change_x_recence', 'distance_change_x_recence', 'che_by_type_avg_pos', 'che_by_type_recent_perf', 'che_by_type_consistency', 'che_by_type_trend', 'che_by_type_pct_top3', 'che_by_type_nb_courses', 'che_by_type_total_races', 'che_by_type_dnf_rate', 'joc_by_type_avg_pos', 'joc_by_type_recent_perf', 'joc_by_type_consistency', 'joc_by_type_trend', 'joc_by_type_pct_top3', 'joc_by_type_nb_courses', 'joc_by_type_total_races', 'joc_by_type_dnf_rate', 'quinte_career_starts', 'quinte_win_rate', 'quinte_top5_rate', 'avg_quinte_position', 'days_since_last_quinte', 'quinte_handicap_specialist', 'quinte_conditions_specialist', 'quinte_large_field_ability', 'quinte_track_condition_fit', 'is_handicap_quinte', 'handicap_division', 'purse_level_category', 'field_size_category', 'track_condition_PH', 'track_condition_DUR', 'track_condition_PS', 'track_condition_PSF', 'weather_clear', 'weather_rain', 'weather_cloudy', 'post_position_bias', 'post_position_track_bias', 'raw_tabnet_prediction', 'predicted_position_tabnet', 'raw_rf_prediction', 'predicted_position_rf', 'predicted_position_base']
2025-11-12 22:27:03,357 - race_prediction.competitive_field_analyzer - INFO - === CRITICAL COLUMNS ANALYSIS ===
2025-11-12 22:27:03,357 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ recordG: 16/16 non-null values (100.0%)
2025-11-12 22:27:03,361 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [0.0, 0.0, 0.0]
2025-11-12 22:27:03,367 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ hippo: 16/16 non-null values (100.0%)
2025-11-12 22:27:03,375 - race_prediction.competitive_field_analyzer - INFO -    Sample values: ['Chantilly', 'Chantilly', 'Chantilly']
2025-11-12 22:27:03,378 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ coursescheval: 16/16 non-null values (100.0%)
2025-11-12 22:27:03,388 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [15, 45, 18]
2025-11-12 22:27:03,394 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ victoirescheval: 16/16 non-null values (100.0%)
2025-11-12 22:27:03,401 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [3, 14, 2]
2025-11-12 22:27:03,408 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ placescheval: 16/16 non-null values (100.0%)
2025-11-12 22:27:03,421 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [10, 23, 8]
2025-11-12 22:27:03,428 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ gainsCarriere: 16/16 non-null values (100.0%)
2025-11-12 22:27:03,438 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [9541000, 31493500, 10844400]
2025-11-12 22:27:03,448 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ age: 16/16 non-null values (100.0%)
2025-11-12 22:27:03,456 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [4, 8, 5]
2025-11-12 22:27:03,466 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ derniereplace: 16/16 non-null values (100.0%)
2025-11-12 22:27:03,470 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [13.0, 2.0, 6.0]
2025-11-12 22:27:03,484 - race_prediction.competitive_field_analyzer - INFO - === RACE METADATA ===
2025-11-12 22:27:03,499 - race_prediction.competitive_field_analyzer - INFO - comp: 1621458
2025-11-12 22:27:03,499 - race_prediction.competitive_field_analyzer - INFO - hippo: Chantilly
2025-11-12 22:27:03,917 - race_prediction.competitive_field_analyzer - INFO - dist: 1900
2025-11-12 22:27:03,920 - race_prediction.competitive_field_analyzer - INFO - typec: Plat
2025-11-12 22:27:03,929 - race_prediction.competitive_field_analyzer - INFO - partant: 16
2025-11-12 22:27:03,955 - race_prediction.competitive_field_analyzer - INFO - === SAMPLE RACE DATA ===
2025-11-12 22:27:03,969 - race_prediction.competitive_field_analyzer - INFO - Sample data (columns: ['numero', 'cheval', 'recordG', 'hippo', 'coursescheval']):
2025-11-12 22:27:03,974 - race_prediction.competitive_field_analyzer - INFO -   Horse 0: {'numero': 1, 'cheval': "O'Wood", 'recordG': 0.0, 'hippo': 'Chantilly', 'coursescheval': 15}
2025-11-12 22:27:03,976 - race_prediction.competitive_field_analyzer - INFO -   Horse 1: {'numero': 2, 'cheval': 'Rock Blanc', 'recordG': 0.0, 'hippo': 'Chantilly', 'coursescheval': 45}
2025-11-12 22:27:03,983 - race_prediction.competitive_field_analyzer - INFO -   Horse 2: {'numero': 3, 'cheval': 'Zvaroshka', 'recordG': 0.0, 'hippo': 'Chantilly', 'coursescheval': 18}
2025-11-12 22:27:04,000 - race_prediction.competitive_field_analyzer - INFO - === END COMPETITIVE ANALYSIS DEBUG ===

2025-11-12 22:27:04,007 - race_prediction.competitive_field_analyzer - INFO - === RETRIEVING HISTORICAL DATA ===
2025-11-12 22:27:04,021 - race_prediction.competitive_field_analyzer - INFO - Fetching historical data for 16 horses: [1662842, 1362456, 1570962, 1522211, 1416740, 1654163, 1546787, 1547421, 1409128, 1661687, 1664057, 1651290, 1559430, 1720975, 1523134, 1415638]
2025-11-12 22:27:04,070 - race_prediction.competitive_field_analyzer - INFO - Batch querying historical data for 16 horses: [1662842, 1362456, 1570962, 1522211, 1416740, 1654163, 1546787, 1547421, 1409128, 1661687, 1664057, 1651290, 1559430, 1720975, 1523134, 1415638]
2025-11-12 22:27:28,074 - race_prediction.competitive_field_analyzer - INFO - Batch query completed in 24.00s, found 160 total records
2025-11-12 22:27:28,114 - race_prediction.competitive_field_analyzer - INFO - Batch query retrieved 160 total historical races
2025-11-12 22:27:28,129 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS PER HORSE ===
2025-11-12 22:27:28,129 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1662842: 7 historical races found
2025-11-12 22:27:28,135 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1362456: 8 historical races found
2025-11-12 22:27:28,169 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1570962: 5 historical races found
2025-11-12 22:27:28,175 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1522211: 11 historical races found
2025-11-12 22:27:28,206 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1416740: 14 historical races found
2025-11-12 22:27:28,220 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1654163: 9 historical races found
2025-11-12 22:27:28,231 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1546787: 9 historical races found
2025-11-12 22:27:28,239 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1547421: 14 historical races found
2025-11-12 22:27:28,243 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1409128: 17 historical races found
2025-11-12 22:27:28,258 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1661687: 7 historical races found
2025-11-12 22:27:28,280 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1664057: 5 historical races found
2025-11-12 22:27:28,284 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1651290: 7 historical races found
2025-11-12 22:27:28,296 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1559430: 12 historical races found
2025-11-12 22:27:28,300 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1720975: 15 historical races found
2025-11-12 22:27:28,310 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1523134: 10 historical races found
2025-11-12 22:27:28,321 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1415638: 10 historical races found
2025-11-12 22:27:28,329 - race_prediction.competitive_field_analyzer - INFO - Retrieved 160 total historical races
2025-11-12 22:27:28,336 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS BY HORSE ===
2025-11-12 22:27:28,346 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1662842: 7 historical races
2025-11-12 22:27:28,353 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1362456: 8 historical races
2025-11-12 22:27:28,360 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1570962: 5 historical races
2025-11-12 22:27:28,363 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1522211: 11 historical races
2025-11-12 22:27:28,367 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1416740: 14 historical races
2025-11-12 22:27:28,375 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1654163: 9 historical races
2025-11-12 22:27:28,381 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1546787: 9 historical races
2025-11-12 22:27:28,391 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1547421: 14 historical races
2025-11-12 22:27:28,397 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1409128: 17 historical races
2025-11-12 22:27:28,407 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1661687: 7 historical races
2025-11-12 22:27:28,414 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1664057: 5 historical races
2025-11-12 22:27:28,424 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1651290: 7 historical races
2025-11-12 22:27:28,434 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1559430: 12 historical races
2025-11-12 22:27:28,441 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1720975: 15 historical races
2025-11-12 22:27:28,444 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1523134: 10 historical races
2025-11-12 22:27:28,455 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1415638: 10 historical races
2025-11-12 22:27:28,482 - race_prediction.competitive_field_analyzer - INFO - === END HISTORICAL DATA RETRIEVAL ===

2025-11-12 22:27:28,493 - race_prediction.competitive_field_analyzer - INFO - === EARNINGS QUALITY ANALYSIS ===
2025-11-12 22:27:28,497 - race_prediction.competitive_field_analyzer - INFO - Valid earnings data: 16/16 horses
2025-11-12 22:27:28,503 - race_prediction.competitive_field_analyzer - INFO - Sample earnings per race: ['636,067', '699,856', '602,467']
2025-11-12 22:27:28,514 - race_prediction.competitive_field_analyzer - INFO - Field earnings stats: avg=390,247, max=699,856
2025-11-12 22:27:28,521 - race_prediction.competitive_field_analyzer - INFO - === TRACK SPECIALIZATION ANALYSIS ===
2025-11-12 22:27:28,528 - race_prediction.competitive_field_analyzer - INFO - Horses with reliable venue data (3+ races): 0/16
2025-11-12 22:27:28,536 - race_prediction.competitive_field_analyzer - INFO - === FORM MOMENTUM ANALYSIS ===
2025-11-12 22:27:28,542 - race_prediction.competitive_field_analyzer - INFO - Field avg horse trend: 0.587, recent perf: 6.90
2025-11-12 22:27:28,549 - race_prediction.competitive_field_analyzer - INFO - Field avg jockey trend: -2.909
2025-11-12 22:27:28,552 - race_prediction.competitive_field_analyzer - INFO - Horses with improving form: 4/16
2025-11-12 22:27:28,560 - race_prediction.competitive_field_analyzer - INFO - === HOT CONNECTIONS ANALYSIS ===
2025-11-12 22:27:28,563 - race_prediction.competitive_field_analyzer - INFO - Jockeys with wins today: 0/16
2025-11-12 22:27:28,567 - race_prediction.competitive_field_analyzer - INFO - Trainers with wins today: 0/16
2025-11-12 22:27:28,571 - race_prediction.competitive_field_analyzer - INFO - === DISTANCE COMFORT ANALYSIS ===
2025-11-12 22:27:28,578 - race_prediction.competitive_field_analyzer - INFO - Current race distance: 1900m
2025-11-12 22:27:28,583 - race_prediction.competitive_field_analyzer - INFO - Horses with similar recent distance: 15/16
2025-11-12 22:27:28,586 - race_prediction.competitive_field_analyzer - INFO - === REALISTIC COMPETITIVE SCORING ===
2025-11-12 22:27:28,587 - race_prediction.competitive_field_analyzer - INFO - üìä COMPETITIVE ANALYSIS SUMMARY:
2025-11-12 22:27:28,594 - race_prediction.competitive_field_analyzer - INFO -    Total competitive races: 160
2025-11-12 22:27:28,601 - race_prediction.competitive_field_analyzer - INFO -    Horses with historical data: 16/16
2025-11-12 22:27:28,605 - race_prediction.competitive_field_analyzer - INFO -    Average races per horse: 10.0
2025-11-12 22:27:28,974 - race_prediction.quinte_prediction_storage - INFO - Stored 16 horses for Quint√© race 1621458
2025-11-12 22:27:56,711 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE ANALYSIS DEBUG ===
2025-11-12 22:27:56,711 - race_prediction.competitive_field_analyzer - INFO - Analyzing competitive field for race with 16 horses
2025-11-12 22:27:56,712 - race_prediction.competitive_field_analyzer - INFO - Race data shape: (16, 280)
2025-11-12 22:27:56,712 - race_prediction.competitive_field_analyzer - INFO - Available columns: ['id', 'comp', 'jour', 'hippo', 'reun', 'prix', 'prixnom', 'typec', 'partant', 'dist', 'handi', 'groupe', 'quinte', 'natpis', 'meteo', 'corde', 'temperature', 'forceVent', 'directionVent', 'nebulosite', 'prediction_results', 'actual_results', 'created_at', 'updated_at', 'processed_data', 'cheque', 'handi_raw', 'reclam', 'sex', 'tempscourse', 'handicap_level_score', 'cl', 'numero', 'cheval', 'age', 'cotedirect', 'coteprob', 'recence', 'ecar', 'defoeil', 'defoeilPrec', 'musiqueche', 'musiquejoc', 'entraineur', 'coursescheval', 'victoirescheval', 'placescheval', 'dernierealloc', 'derniernbpartants', 'dernieredist', 'derniereplace', 'dernierecote', 'dernierEnt', 'proprietaire', 'poidmont', 'pourcVictJockHippo', 'pourcPlaceJockHippo', 'pourcVictChevalHippo', 'pourcPlaceChevalHippo', 'tempstot', 'vha', 'recordG', 'txreclam', 'dernierTxreclam', 'gainsCarriere', 'gainsAnneeEnCours', 'handicapDistance', 'handicapPoids', 'TxVictCouple', 'nbVictCouple', 'nbPlaceCouple', 'idche', 'idJockey', 'idEntraineur', 'defFirstTime', 'oeilFirstTime', 'oeil', 'dernierOeil', 'ratio_victoires', 'ratio_places', 'gains_par_course', 'efficacite_couple', 'regularite_couple', 'progression_couple', 'perf_cheval_hippo', 'perf_jockey_hippo', 'trainer_victoires', 'trainer_places', 'trainer_courses', 'trainer_winrate', 'trainer_placerate', 'trainer_quality_score', 'trainer_experience_level', 'handicap_poids', 'handicap_dist', 'prec_handicap_poids', 'prec_handicap_dist', 'handicap_poids_change', 'handicap_poids_increased', 'handicap_poids_decreased', 'handicap_dist_change', 'handicap_dist_increased', 'handicap_dist_decreased', 'total_handicap', 'handicap_momentum', 'last_race_position', 'last_race_distance', 'distance_change', 'distance_change_pct', 'distance_increased', 'distance_decreased', 'same_distance', 'corde_change', 'corde_improved', 'corde_worsened', 'last_race_top3', 'last_race_won', 'blinkers_first_time', 'has_blinkers', 'has_standard_blinkers', 'has_australian_blinkers', 'blinkers_added', 'blinkers_removed', 'blinkers_type_changed', 'blinkers_any_change', 'blinkers_high_impact_change', 'shoeing_first_time', 'fully_shod', 'front_shod_only', 'back_shod_only', 'barefoot', 'shoeing_changed', 'barefoot_to_shod', 'shod_to_barefoot', 'major_shoeing_change', 'shoeing_complexity', 'multiple_equipment_changes', 'equipment_momentum_score', 'high_equipment_momentum', 'multiple_first_time_changes', 'equipment_optimization_score', 'career_strike_rate', 'earnings_per_race', 'earnings_trend', 'last_race_position_normalized', 'last_race_odds_normalized', 'last_race_field_size_factor', 'distance_consistency', 'vha_normalized', 'claiming_tax_trend', 'class_stability', 'che_global_avg_pos', 'che_global_recent_perf', 'che_global_consistency', 'che_global_trend', 'che_global_pct_top3', 'che_global_nb_courses', 'che_global_total_races', 'che_global_dnf_rate', 'che_weighted_avg_pos', 'che_weighted_recent_perf', 'che_weighted_consistency', 'che_weighted_pct_top3', 'che_weighted_nb_courses', 'che_weighted_total_races', 'che_weighted_dnf_rate', 'che_weighted_trend', 'che_bytype_avg_pos', 'che_bytype_recent_perf', 'che_bytype_consistency', 'che_bytype_trend', 'che_bytype_pct_top3', 'che_bytype_nb_courses', 'che_bytype_total_races', 'che_bytype_dnf_rate', 'joc_global_avg_pos', 'joc_global_recent_perf', 'joc_global_consistency', 'joc_global_trend', 'joc_global_pct_top3', 'joc_global_nb_courses', 'joc_global_total_races', 'joc_global_dnf_rate', 'joc_weighted_avg_pos', 'joc_weighted_recent_perf', 'joc_weighted_consistency', 'joc_weighted_pct_top3', 'joc_weighted_nb_courses', 'joc_weighted_total_races', 'joc_weighted_dnf_rate', 'joc_weighted_trend', 'joc_bytype_avg_pos', 'joc_bytype_recent_perf', 'joc_bytype_consistency', 'joc_bytype_trend', 'joc_bytype_pct_top3', 'joc_bytype_nb_courses', 'joc_bytype_total_races', 'joc_bytype_dnf_rate', 'che_form_momentum', 'che_improving_form', 'che_declining_form', 'che_high_consistency', 'che_recent_quality', 'che_elite_performer', 'che_regular_placer', 'joc_form_momentum', 'joc_improving_form', 'joc_high_consistency', 'joc_elite_performer', 'synergy_both_improving', 'synergy_both_consistent', 'synergy_both_elite', 'overall_momentum_score', 'high_momentum', 'class_drop_pct', 'purse_per_starter', 'purse_ratio', 'moving_up_in_class', 'class_shock_indicator', 'handicap_level_change', 'time_per_distance', 'time_vs_record', 'pace_rating', 'speed_figure_proxy', 'market_confidence_shift', 'last_race_improvement', 'bounce_risk', 'layoff_distance_interaction', 'trainer_change', 'connection_stability', 'field_size_change', 'distance_comfort', 'competition_level_shift', 'recence_x_class_drop', 'trainer_change_x_recence', 'distance_change_x_recence', 'che_by_type_avg_pos', 'che_by_type_recent_perf', 'che_by_type_consistency', 'che_by_type_trend', 'che_by_type_pct_top3', 'che_by_type_nb_courses', 'che_by_type_total_races', 'che_by_type_dnf_rate', 'joc_by_type_avg_pos', 'joc_by_type_recent_perf', 'joc_by_type_consistency', 'joc_by_type_trend', 'joc_by_type_pct_top3', 'joc_by_type_nb_courses', 'joc_by_type_total_races', 'joc_by_type_dnf_rate', 'quinte_career_starts', 'quinte_win_rate', 'quinte_top5_rate', 'avg_quinte_position', 'days_since_last_quinte', 'quinte_handicap_specialist', 'quinte_conditions_specialist', 'quinte_large_field_ability', 'quinte_track_condition_fit', 'is_handicap_quinte', 'handicap_division', 'purse_level_category', 'field_size_category', 'track_condition_PH', 'track_condition_DUR', 'track_condition_PS', 'track_condition_PSF', 'weather_clear', 'weather_rain', 'weather_cloudy', 'post_position_bias', 'post_position_track_bias', 'raw_tabnet_prediction', 'predicted_position_tabnet', 'raw_rf_prediction', 'predicted_position_rf', 'predicted_position_base']
2025-11-12 22:27:56,712 - race_prediction.competitive_field_analyzer - INFO - === CRITICAL COLUMNS ANALYSIS ===
2025-11-12 22:27:56,712 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ recordG: 16/16 non-null values (100.0%)
2025-11-12 22:27:56,712 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [0.0, 0.0, 0.0]
2025-11-12 22:27:56,712 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ hippo: 16/16 non-null values (100.0%)
2025-11-12 22:27:56,712 - race_prediction.competitive_field_analyzer - INFO -    Sample values: ['Saint-Cloud', 'Saint-Cloud', 'Saint-Cloud']
2025-11-12 22:27:56,712 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ coursescheval: 16/16 non-null values (100.0%)
2025-11-12 22:27:56,712 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [21, 35, 18]
2025-11-12 22:27:56,713 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ victoirescheval: 16/16 non-null values (100.0%)
2025-11-12 22:27:56,713 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [3, 6, 3]
2025-11-12 22:27:56,713 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ placescheval: 16/16 non-null values (100.0%)
2025-11-12 22:27:56,716 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [8, 22, 7]
2025-11-12 22:27:56,716 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ gainsCarriere: 16/16 non-null values (100.0%)
2025-11-12 22:27:56,716 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [10650100, 23140400, 8457900]
2025-11-12 22:27:56,716 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ age: 16/16 non-null values (100.0%)
2025-11-12 22:27:56,716 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [5, 7, 4]
2025-11-12 22:27:56,716 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ derniereplace: 16/16 non-null values (100.0%)
2025-11-12 22:27:56,716 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [2.0, 5.0, 4.0]
2025-11-12 22:27:56,716 - race_prediction.competitive_field_analyzer - INFO - === RACE METADATA ===
2025-11-12 22:27:56,716 - race_prediction.competitive_field_analyzer - INFO - comp: 1621443
2025-11-12 22:27:56,716 - race_prediction.competitive_field_analyzer - INFO - hippo: Saint-Cloud
2025-11-12 22:27:56,716 - race_prediction.competitive_field_analyzer - INFO - dist: 1600
2025-11-12 22:27:56,716 - race_prediction.competitive_field_analyzer - INFO - typec: Plat
2025-11-12 22:27:56,716 - race_prediction.competitive_field_analyzer - INFO - partant: 16
2025-11-12 22:27:56,716 - race_prediction.competitive_field_analyzer - INFO - === SAMPLE RACE DATA ===
2025-11-12 22:27:56,716 - race_prediction.competitive_field_analyzer - INFO - Sample data (columns: ['numero', 'cheval', 'recordG', 'hippo', 'coursescheval']):
2025-11-12 22:27:56,717 - race_prediction.competitive_field_analyzer - INFO -   Horse 0: {'numero': 1, 'cheval': 'Olympic Message', 'recordG': 0.0, 'hippo': 'Saint-Cloud', 'coursescheval': 21}
2025-11-12 22:27:56,717 - race_prediction.competitive_field_analyzer - INFO -   Horse 1: {'numero': 2, 'cheval': 'Harper', 'recordG': 0.0, 'hippo': 'Saint-Cloud', 'coursescheval': 35}
2025-11-12 22:27:56,717 - race_prediction.competitive_field_analyzer - INFO -   Horse 2: {'numero': 3, 'cheval': 'Divide And Rule', 'recordG': 0.0, 'hippo': 'Saint-Cloud', 'coursescheval': 18}
2025-11-12 22:27:56,717 - race_prediction.competitive_field_analyzer - INFO - === END COMPETITIVE ANALYSIS DEBUG ===

2025-11-12 22:27:56,717 - race_prediction.competitive_field_analyzer - INFO - === RETRIEVING HISTORICAL DATA ===
2025-11-12 22:27:56,717 - race_prediction.competitive_field_analyzer - INFO - Fetching historical data for 16 horses: [1561006, 1408356, 1676665, 1657763, 1523301, 1724362, 1655542, 1654258, 1723957, 1523186, 1572946, 1741661, 1520399, 1653870, 1641065, 1741448]
2025-11-12 22:27:56,719 - race_prediction.competitive_field_analyzer - INFO - Batch querying historical data for 16 horses: [1561006, 1408356, 1676665, 1657763, 1523301, 1724362, 1655542, 1654258, 1723957, 1523186, 1572946, 1741661, 1520399, 1653870, 1641065, 1741448]
2025-11-12 22:28:14,935 - race_prediction.competitive_field_analyzer - INFO - Batch query completed in 18.22s, found 145 total records
2025-11-12 22:28:15,022 - race_prediction.competitive_field_analyzer - INFO - Batch query retrieved 145 total historical races
2025-11-12 22:28:15,041 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS PER HORSE ===
2025-11-12 22:28:15,041 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1561006: 5 historical races found
2025-11-12 22:28:15,041 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1408356: 4 historical races found
2025-11-12 22:28:15,048 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1676665: 9 historical races found
2025-11-12 22:28:15,048 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1657763: 7 historical races found
2025-11-12 22:28:15,048 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1523301: 18 historical races found
2025-11-12 22:28:15,057 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1724362: 12 historical races found
2025-11-12 22:28:15,057 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1655542: 12 historical races found
2025-11-12 22:28:15,073 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1654258: 5 historical races found
2025-11-12 22:28:15,073 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1723957: 11 historical races found
2025-11-12 22:28:15,078 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1523186: 10 historical races found
2025-11-12 22:28:15,078 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1572946: 9 historical races found
2025-11-12 22:28:15,085 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1741661: 7 historical races found
2025-11-12 22:28:15,085 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1520399: 7 historical races found
2025-11-12 22:28:15,085 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1653870: 15 historical races found
2025-11-12 22:28:15,095 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1641065: 11 historical races found
2025-11-12 22:28:15,095 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1741448: 3 historical races found
2025-11-12 22:28:15,095 - race_prediction.competitive_field_analyzer - INFO - Retrieved 145 total historical races
2025-11-12 22:28:15,095 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS BY HORSE ===
2025-11-12 22:28:15,111 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1561006: 5 historical races
2025-11-12 22:28:15,111 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1408356: 4 historical races
2025-11-12 22:28:15,111 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1676665: 9 historical races
2025-11-12 22:28:15,111 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1657763: 7 historical races
2025-11-12 22:28:15,111 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1523301: 18 historical races
2025-11-12 22:28:15,111 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1724362: 12 historical races
2025-11-12 22:28:15,125 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1655542: 12 historical races
2025-11-12 22:28:15,126 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1654258: 5 historical races
2025-11-12 22:28:15,169 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1723957: 11 historical races
2025-11-12 22:28:15,169 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1523186: 10 historical races
2025-11-12 22:28:15,169 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1572946: 9 historical races
2025-11-12 22:28:15,174 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1741661: 7 historical races
2025-11-12 22:28:15,174 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1520399: 7 historical races
2025-11-12 22:28:15,174 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1653870: 15 historical races
2025-11-12 22:28:15,230 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1641065: 11 historical races
2025-11-12 22:28:15,230 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1741448: 3 historical races
2025-11-12 22:28:15,231 - race_prediction.competitive_field_analyzer - INFO - === END HISTORICAL DATA RETRIEVAL ===

2025-11-12 22:28:15,231 - race_prediction.competitive_field_analyzer - INFO - === EARNINGS QUALITY ANALYSIS ===
2025-11-12 22:28:15,231 - race_prediction.competitive_field_analyzer - INFO - Valid earnings data: 16/16 horses
2025-11-12 22:28:15,231 - race_prediction.competitive_field_analyzer - INFO - Sample earnings per race: ['507,148', '661,154', '469,883']
2025-11-12 22:28:15,231 - race_prediction.competitive_field_analyzer - INFO - Field earnings stats: avg=425,329, max=661,154
2025-11-12 22:28:15,231 - race_prediction.competitive_field_analyzer - INFO - === TRACK SPECIALIZATION ANALYSIS ===
2025-11-12 22:28:15,231 - race_prediction.competitive_field_analyzer - INFO - Horses with reliable venue data (3+ races): 0/16
2025-11-12 22:28:15,247 - race_prediction.competitive_field_analyzer - INFO - === FORM MOMENTUM ANALYSIS ===
2025-11-12 22:28:15,256 - race_prediction.competitive_field_analyzer - INFO - Field avg horse trend: 0.564, recent perf: 6.25
2025-11-12 22:28:15,256 - race_prediction.competitive_field_analyzer - INFO - Field avg jockey trend: -1.174
2025-11-12 22:28:15,256 - race_prediction.competitive_field_analyzer - INFO - Horses with improving form: 2/16
2025-11-12 22:28:15,256 - race_prediction.competitive_field_analyzer - INFO - === HOT CONNECTIONS ANALYSIS ===
2025-11-12 22:28:15,256 - race_prediction.competitive_field_analyzer - INFO - Jockeys with wins today: 0/16
2025-11-12 22:28:15,263 - race_prediction.competitive_field_analyzer - INFO - Trainers with wins today: 0/16
2025-11-12 22:28:15,263 - race_prediction.competitive_field_analyzer - INFO - === DISTANCE COMFORT ANALYSIS ===
2025-11-12 22:28:15,263 - race_prediction.competitive_field_analyzer - INFO - Current race distance: 1600m
2025-11-12 22:28:15,265 - race_prediction.competitive_field_analyzer - INFO - Horses with similar recent distance: 14/16
2025-11-12 22:28:15,265 - race_prediction.competitive_field_analyzer - INFO - === REALISTIC COMPETITIVE SCORING ===
2025-11-12 22:28:15,265 - race_prediction.competitive_field_analyzer - INFO - üìä COMPETITIVE ANALYSIS SUMMARY:
2025-11-12 22:28:15,265 - race_prediction.competitive_field_analyzer - INFO -    Total competitive races: 145
2025-11-12 22:28:15,265 - race_prediction.competitive_field_analyzer - INFO -    Horses with historical data: 16/16
2025-11-12 22:28:15,265 - race_prediction.competitive_field_analyzer - INFO -    Average races per horse: 9.1
2025-11-12 22:28:16,151 - race_prediction.quinte_prediction_storage - INFO - Stored 16 horses for Quint√© race 1621443
2025-11-12 22:29:00,224 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE ANALYSIS DEBUG ===
2025-11-12 22:29:00,224 - race_prediction.competitive_field_analyzer - INFO - Analyzing competitive field for race with 13 horses
2025-11-12 22:29:00,224 - race_prediction.competitive_field_analyzer - INFO - Race data shape: (13, 280)
2025-11-12 22:29:00,224 - race_prediction.competitive_field_analyzer - INFO - Available columns: ['id', 'comp', 'jour', 'hippo', 'reun', 'prix', 'prixnom', 'typec', 'partant', 'dist', 'handi', 'groupe', 'quinte', 'natpis', 'meteo', 'corde', 'temperature', 'forceVent', 'directionVent', 'nebulosite', 'prediction_results', 'actual_results', 'created_at', 'updated_at', 'processed_data', 'cheque', 'handi_raw', 'reclam', 'sex', 'tempscourse', 'handicap_level_score', 'cl', 'numero', 'cheval', 'age', 'cotedirect', 'coteprob', 'recence', 'ecar', 'defoeil', 'defoeilPrec', 'musiqueche', 'musiquejoc', 'entraineur', 'coursescheval', 'victoirescheval', 'placescheval', 'dernierealloc', 'derniernbpartants', 'dernieredist', 'derniereplace', 'dernierecote', 'dernierEnt', 'proprietaire', 'poidmont', 'pourcVictJockHippo', 'pourcPlaceJockHippo', 'pourcVictChevalHippo', 'pourcPlaceChevalHippo', 'tempstot', 'vha', 'recordG', 'txreclam', 'dernierTxreclam', 'gainsCarriere', 'gainsAnneeEnCours', 'handicapDistance', 'handicapPoids', 'TxVictCouple', 'nbVictCouple', 'nbPlaceCouple', 'idche', 'idJockey', 'idEntraineur', 'defFirstTime', 'oeilFirstTime', 'oeil', 'dernierOeil', 'ratio_victoires', 'ratio_places', 'gains_par_course', 'efficacite_couple', 'regularite_couple', 'progression_couple', 'perf_cheval_hippo', 'perf_jockey_hippo', 'trainer_victoires', 'trainer_places', 'trainer_courses', 'trainer_winrate', 'trainer_placerate', 'trainer_quality_score', 'trainer_experience_level', 'handicap_poids', 'handicap_dist', 'prec_handicap_poids', 'prec_handicap_dist', 'handicap_poids_change', 'handicap_poids_increased', 'handicap_poids_decreased', 'handicap_dist_change', 'handicap_dist_increased', 'handicap_dist_decreased', 'total_handicap', 'handicap_momentum', 'last_race_position', 'last_race_distance', 'distance_change', 'distance_change_pct', 'distance_increased', 'distance_decreased', 'same_distance', 'corde_change', 'corde_improved', 'corde_worsened', 'last_race_top3', 'last_race_won', 'blinkers_first_time', 'has_blinkers', 'has_standard_blinkers', 'has_australian_blinkers', 'blinkers_added', 'blinkers_removed', 'blinkers_type_changed', 'blinkers_any_change', 'blinkers_high_impact_change', 'shoeing_first_time', 'fully_shod', 'front_shod_only', 'back_shod_only', 'barefoot', 'shoeing_changed', 'barefoot_to_shod', 'shod_to_barefoot', 'major_shoeing_change', 'shoeing_complexity', 'multiple_equipment_changes', 'equipment_momentum_score', 'high_equipment_momentum', 'multiple_first_time_changes', 'equipment_optimization_score', 'career_strike_rate', 'earnings_per_race', 'earnings_trend', 'last_race_position_normalized', 'last_race_odds_normalized', 'last_race_field_size_factor', 'distance_consistency', 'vha_normalized', 'claiming_tax_trend', 'class_stability', 'che_global_avg_pos', 'che_global_recent_perf', 'che_global_consistency', 'che_global_trend', 'che_global_pct_top3', 'che_global_nb_courses', 'che_global_total_races', 'che_global_dnf_rate', 'che_weighted_avg_pos', 'che_weighted_recent_perf', 'che_weighted_consistency', 'che_weighted_pct_top3', 'che_weighted_nb_courses', 'che_weighted_total_races', 'che_weighted_dnf_rate', 'che_weighted_trend', 'che_bytype_avg_pos', 'che_bytype_recent_perf', 'che_bytype_consistency', 'che_bytype_trend', 'che_bytype_pct_top3', 'che_bytype_nb_courses', 'che_bytype_total_races', 'che_bytype_dnf_rate', 'joc_global_avg_pos', 'joc_global_recent_perf', 'joc_global_consistency', 'joc_global_trend', 'joc_global_pct_top3', 'joc_global_nb_courses', 'joc_global_total_races', 'joc_global_dnf_rate', 'joc_weighted_avg_pos', 'joc_weighted_recent_perf', 'joc_weighted_consistency', 'joc_weighted_pct_top3', 'joc_weighted_nb_courses', 'joc_weighted_total_races', 'joc_weighted_dnf_rate', 'joc_weighted_trend', 'joc_bytype_avg_pos', 'joc_bytype_recent_perf', 'joc_bytype_consistency', 'joc_bytype_trend', 'joc_bytype_pct_top3', 'joc_bytype_nb_courses', 'joc_bytype_total_races', 'joc_bytype_dnf_rate', 'che_form_momentum', 'che_improving_form', 'che_declining_form', 'che_high_consistency', 'che_recent_quality', 'che_elite_performer', 'che_regular_placer', 'joc_form_momentum', 'joc_improving_form', 'joc_high_consistency', 'joc_elite_performer', 'synergy_both_improving', 'synergy_both_consistent', 'synergy_both_elite', 'overall_momentum_score', 'high_momentum', 'class_drop_pct', 'purse_per_starter', 'purse_ratio', 'moving_up_in_class', 'class_shock_indicator', 'handicap_level_change', 'time_per_distance', 'time_vs_record', 'pace_rating', 'speed_figure_proxy', 'market_confidence_shift', 'last_race_improvement', 'bounce_risk', 'layoff_distance_interaction', 'trainer_change', 'connection_stability', 'field_size_change', 'distance_comfort', 'competition_level_shift', 'recence_x_class_drop', 'trainer_change_x_recence', 'distance_change_x_recence', 'che_by_type_avg_pos', 'che_by_type_recent_perf', 'che_by_type_consistency', 'che_by_type_trend', 'che_by_type_pct_top3', 'che_by_type_nb_courses', 'che_by_type_total_races', 'che_by_type_dnf_rate', 'joc_by_type_avg_pos', 'joc_by_type_recent_perf', 'joc_by_type_consistency', 'joc_by_type_trend', 'joc_by_type_pct_top3', 'joc_by_type_nb_courses', 'joc_by_type_total_races', 'joc_by_type_dnf_rate', 'quinte_career_starts', 'quinte_win_rate', 'quinte_top5_rate', 'avg_quinte_position', 'days_since_last_quinte', 'quinte_handicap_specialist', 'quinte_conditions_specialist', 'quinte_large_field_ability', 'quinte_track_condition_fit', 'is_handicap_quinte', 'handicap_division', 'purse_level_category', 'field_size_category', 'track_condition_PH', 'track_condition_DUR', 'track_condition_PS', 'track_condition_PSF', 'weather_clear', 'weather_rain', 'weather_cloudy', 'post_position_bias', 'post_position_track_bias', 'raw_tabnet_prediction', 'predicted_position_tabnet', 'raw_rf_prediction', 'predicted_position_rf', 'predicted_position_base']
2025-11-12 22:29:00,227 - race_prediction.competitive_field_analyzer - INFO - === CRITICAL COLUMNS ANALYSIS ===
2025-11-12 22:29:00,227 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ recordG: 13/13 non-null values (100.0%)
2025-11-12 22:29:00,227 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [0.0, 0.0, 0.0]
2025-11-12 22:29:00,228 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ hippo: 13/13 non-null values (100.0%)
2025-11-12 22:29:00,228 - race_prediction.competitive_field_analyzer - INFO -    Sample values: ['Paris-Vincennes', 'Paris-Vincennes', 'Paris-Vincennes']
2025-11-12 22:29:00,228 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ coursescheval: 13/13 non-null values (100.0%)
2025-11-12 22:29:00,228 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [56, 42, 82]
2025-11-12 22:29:00,228 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ victoirescheval: 13/13 non-null values (100.0%)
2025-11-12 22:29:00,228 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [8, 11, 10]
2025-11-12 22:29:00,228 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ placescheval: 13/13 non-null values (100.0%)
2025-11-12 22:29:00,228 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [18, 19, 33]
2025-11-12 22:29:00,228 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ gainsCarriere: 13/13 non-null values (100.0%)
2025-11-12 22:29:00,228 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [27138000, 27381500, 30011500]
2025-11-12 22:29:00,228 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ age: 13/13 non-null values (100.0%)
2025-11-12 22:29:00,228 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [7, 6, 8]
2025-11-12 22:29:00,228 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ derniereplace: 13/13 non-null values (100.0%)
2025-11-12 22:29:00,229 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [7.0, 4.0, 6.0]
2025-11-12 22:29:00,229 - race_prediction.competitive_field_analyzer - INFO - === RACE METADATA ===
2025-11-12 22:29:00,229 - race_prediction.competitive_field_analyzer - INFO - comp: 1619992
2025-11-12 22:29:00,229 - race_prediction.competitive_field_analyzer - INFO - hippo: Paris-Vincennes
2025-11-12 22:29:00,229 - race_prediction.competitive_field_analyzer - INFO - dist: 2700
2025-11-12 22:29:00,229 - race_prediction.competitive_field_analyzer - INFO - typec: Attel√©
2025-11-12 22:29:00,229 - race_prediction.competitive_field_analyzer - INFO - partant: 13
2025-11-12 22:29:00,229 - race_prediction.competitive_field_analyzer - INFO - === SAMPLE RACE DATA ===
2025-11-12 22:29:00,229 - race_prediction.competitive_field_analyzer - INFO - Sample data (columns: ['numero', 'cheval', 'recordG', 'hippo', 'coursescheval']):
2025-11-12 22:29:00,229 - race_prediction.competitive_field_analyzer - INFO -   Horse 0: {'numero': 1, 'cheval': 'Ivanof', 'recordG': 0.0, 'hippo': 'Paris-Vincennes', 'coursescheval': 56}
2025-11-12 22:29:00,229 - race_prediction.competitive_field_analyzer - INFO -   Horse 1: {'numero': 2, 'cheval': 'Jappeloup Turgot', 'recordG': 0.0, 'hippo': 'Paris-Vincennes', 'coursescheval': 42}
2025-11-12 22:29:00,229 - race_prediction.competitive_field_analyzer - INFO -   Horse 2: {'numero': 3, 'cheval': 'Himberland', 'recordG': 0.0, 'hippo': 'Paris-Vincennes', 'coursescheval': 82}
2025-11-12 22:29:00,229 - race_prediction.competitive_field_analyzer - INFO - === END COMPETITIVE ANALYSIS DEBUG ===

2025-11-12 22:29:00,229 - race_prediction.competitive_field_analyzer - INFO - === RETRIEVING HISTORICAL DATA ===
2025-11-12 22:29:00,229 - race_prediction.competitive_field_analyzer - INFO - Fetching historical data for 13 horses: [1474742, 1520426, 1389845, 1485998, 1430681, 1385711, 1431509, 1499311, 1403418, 1444935, 1534739, 1492670, 1498657]
2025-11-12 22:29:00,231 - race_prediction.competitive_field_analyzer - INFO - Batch querying historical data for 13 horses: [1474742, 1520426, 1389845, 1485998, 1430681, 1385711, 1431509, 1499311, 1403418, 1444935, 1534739, 1492670, 1498657]
2025-11-12 22:29:15,393 - race_prediction.competitive_field_analyzer - INFO - Batch query completed in 15.16s, found 158 total records
2025-11-12 22:29:15,426 - race_prediction.competitive_field_analyzer - INFO - Batch query retrieved 158 total historical races
2025-11-12 22:29:15,426 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS PER HORSE ===
2025-11-12 22:29:15,426 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1474742: 15 historical races found
2025-11-12 22:29:15,426 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1520426: 13 historical races found
2025-11-12 22:29:15,448 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1389845: 18 historical races found
2025-11-12 22:29:15,476 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1485998: 7 historical races found
2025-11-12 22:29:15,476 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1430681: 12 historical races found
2025-11-12 22:29:15,476 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1385711: 15 historical races found
2025-11-12 22:29:15,501 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1431509: 13 historical races found
2025-11-12 22:29:15,501 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1499311: 11 historical races found
2025-11-12 22:29:15,501 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1403418: 13 historical races found
2025-11-12 22:29:15,520 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1444935: 9 historical races found
2025-11-12 22:29:15,520 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1534739: 9 historical races found
2025-11-12 22:29:15,520 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1492670: 14 historical races found
2025-11-12 22:29:15,520 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1498657: 9 historical races found
2025-11-12 22:29:15,521 - race_prediction.competitive_field_analyzer - INFO - Retrieved 158 total historical races
2025-11-12 22:29:15,521 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS BY HORSE ===
2025-11-12 22:29:15,565 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1474742: 15 historical races
2025-11-12 22:29:15,565 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1520426: 13 historical races
2025-11-12 22:29:15,565 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1389845: 18 historical races
2025-11-12 22:29:15,586 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1485998: 7 historical races
2025-11-12 22:29:15,602 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1430681: 12 historical races
2025-11-12 22:29:15,602 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1385711: 15 historical races
2025-11-12 22:29:15,602 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1431509: 13 historical races
2025-11-12 22:29:15,602 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1499311: 11 historical races
2025-11-12 22:29:15,602 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1403418: 13 historical races
2025-11-12 22:29:15,602 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1444935: 9 historical races
2025-11-12 22:29:15,602 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1534739: 9 historical races
2025-11-12 22:29:15,602 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1492670: 14 historical races
2025-11-12 22:29:15,611 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1498657: 9 historical races
2025-11-12 22:29:15,611 - race_prediction.competitive_field_analyzer - INFO - === END HISTORICAL DATA RETRIEVAL ===

2025-11-12 22:29:15,629 - race_prediction.competitive_field_analyzer - INFO - === EARNINGS QUALITY ANALYSIS ===
2025-11-12 22:29:15,629 - race_prediction.competitive_field_analyzer - INFO - Valid earnings data: 13/13 horses
2025-11-12 22:29:15,639 - race_prediction.competitive_field_analyzer - INFO - Sample earnings per race: ['484,607', '651,940', '365,994']
2025-11-12 22:29:15,717 - race_prediction.competitive_field_analyzer - INFO - Field earnings stats: avg=601,427, max=951,944
2025-11-12 22:29:15,740 - race_prediction.competitive_field_analyzer - INFO - === TRACK SPECIALIZATION ANALYSIS ===
2025-11-12 22:29:15,740 - race_prediction.competitive_field_analyzer - INFO - Horses with reliable venue data (3+ races): 0/13
2025-11-12 22:29:15,741 - race_prediction.competitive_field_analyzer - INFO - === FORM MOMENTUM ANALYSIS ===
2025-11-12 22:29:15,754 - race_prediction.competitive_field_analyzer - INFO - Field avg horse trend: 1.174, recent perf: 6.46
2025-11-12 22:29:15,795 - race_prediction.competitive_field_analyzer - INFO - Field avg jockey trend: 0.347
2025-11-12 22:29:15,823 - race_prediction.competitive_field_analyzer - INFO - Horses with improving form: 4/13
2025-11-12 22:29:15,825 - race_prediction.competitive_field_analyzer - INFO - === HOT CONNECTIONS ANALYSIS ===
2025-11-12 22:29:15,825 - race_prediction.competitive_field_analyzer - INFO - Jockeys with wins today: 0/13
2025-11-12 22:29:15,825 - race_prediction.competitive_field_analyzer - INFO - Trainers with wins today: 0/13
2025-11-12 22:29:15,825 - race_prediction.competitive_field_analyzer - INFO - === DISTANCE COMFORT ANALYSIS ===
2025-11-12 22:29:15,825 - race_prediction.competitive_field_analyzer - INFO - Current race distance: 2700m
2025-11-12 22:29:15,851 - race_prediction.competitive_field_analyzer - INFO - Horses with similar recent distance: 8/13
2025-11-12 22:29:15,881 - race_prediction.competitive_field_analyzer - INFO - === REALISTIC COMPETITIVE SCORING ===
2025-11-12 22:29:15,905 - race_prediction.competitive_field_analyzer - INFO - üìä COMPETITIVE ANALYSIS SUMMARY:
2025-11-12 22:29:15,935 - race_prediction.competitive_field_analyzer - INFO -    Total competitive races: 158
2025-11-12 22:29:15,935 - race_prediction.competitive_field_analyzer - INFO -    Horses with historical data: 13/13
2025-11-12 22:29:15,952 - race_prediction.competitive_field_analyzer - INFO -    Average races per horse: 12.2
2025-11-12 22:29:16,384 - race_prediction.quinte_prediction_storage - INFO - Stored 13 horses for Quint√© race 1619992
2025-11-12 22:30:04,870 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE ANALYSIS DEBUG ===
2025-11-12 22:30:04,885 - race_prediction.competitive_field_analyzer - INFO - Analyzing competitive field for race with 16 horses
2025-11-12 22:30:04,898 - race_prediction.competitive_field_analyzer - INFO - Race data shape: (16, 280)
2025-11-12 22:30:04,906 - race_prediction.competitive_field_analyzer - INFO - Available columns: ['id', 'comp', 'jour', 'hippo', 'reun', 'prix', 'prixnom', 'typec', 'partant', 'dist', 'handi', 'groupe', 'quinte', 'natpis', 'meteo', 'corde', 'temperature', 'forceVent', 'directionVent', 'nebulosite', 'prediction_results', 'actual_results', 'created_at', 'updated_at', 'processed_data', 'cheque', 'handi_raw', 'reclam', 'sex', 'tempscourse', 'handicap_level_score', 'cl', 'numero', 'cheval', 'age', 'cotedirect', 'coteprob', 'recence', 'ecar', 'defoeil', 'defoeilPrec', 'musiqueche', 'musiquejoc', 'entraineur', 'coursescheval', 'victoirescheval', 'placescheval', 'dernierealloc', 'derniernbpartants', 'dernieredist', 'derniereplace', 'dernierecote', 'dernierEnt', 'proprietaire', 'poidmont', 'pourcVictJockHippo', 'pourcPlaceJockHippo', 'pourcVictChevalHippo', 'pourcPlaceChevalHippo', 'tempstot', 'vha', 'recordG', 'txreclam', 'dernierTxreclam', 'gainsCarriere', 'gainsAnneeEnCours', 'handicapDistance', 'handicapPoids', 'TxVictCouple', 'nbVictCouple', 'nbPlaceCouple', 'idche', 'idJockey', 'idEntraineur', 'defFirstTime', 'oeilFirstTime', 'oeil', 'dernierOeil', 'ratio_victoires', 'ratio_places', 'gains_par_course', 'efficacite_couple', 'regularite_couple', 'progression_couple', 'perf_cheval_hippo', 'perf_jockey_hippo', 'trainer_victoires', 'trainer_places', 'trainer_courses', 'trainer_winrate', 'trainer_placerate', 'trainer_quality_score', 'trainer_experience_level', 'handicap_poids', 'handicap_dist', 'prec_handicap_poids', 'prec_handicap_dist', 'handicap_poids_change', 'handicap_poids_increased', 'handicap_poids_decreased', 'handicap_dist_change', 'handicap_dist_increased', 'handicap_dist_decreased', 'total_handicap', 'handicap_momentum', 'last_race_position', 'last_race_distance', 'distance_change', 'distance_change_pct', 'distance_increased', 'distance_decreased', 'same_distance', 'corde_change', 'corde_improved', 'corde_worsened', 'last_race_top3', 'last_race_won', 'blinkers_first_time', 'has_blinkers', 'has_standard_blinkers', 'has_australian_blinkers', 'blinkers_added', 'blinkers_removed', 'blinkers_type_changed', 'blinkers_any_change', 'blinkers_high_impact_change', 'shoeing_first_time', 'fully_shod', 'front_shod_only', 'back_shod_only', 'barefoot', 'shoeing_changed', 'barefoot_to_shod', 'shod_to_barefoot', 'major_shoeing_change', 'shoeing_complexity', 'multiple_equipment_changes', 'equipment_momentum_score', 'high_equipment_momentum', 'multiple_first_time_changes', 'equipment_optimization_score', 'career_strike_rate', 'earnings_per_race', 'earnings_trend', 'last_race_position_normalized', 'last_race_odds_normalized', 'last_race_field_size_factor', 'distance_consistency', 'vha_normalized', 'claiming_tax_trend', 'class_stability', 'che_global_avg_pos', 'che_global_recent_perf', 'che_global_consistency', 'che_global_trend', 'che_global_pct_top3', 'che_global_nb_courses', 'che_global_total_races', 'che_global_dnf_rate', 'che_weighted_avg_pos', 'che_weighted_recent_perf', 'che_weighted_consistency', 'che_weighted_pct_top3', 'che_weighted_nb_courses', 'che_weighted_total_races', 'che_weighted_dnf_rate', 'che_weighted_trend', 'che_bytype_avg_pos', 'che_bytype_recent_perf', 'che_bytype_consistency', 'che_bytype_trend', 'che_bytype_pct_top3', 'che_bytype_nb_courses', 'che_bytype_total_races', 'che_bytype_dnf_rate', 'joc_global_avg_pos', 'joc_global_recent_perf', 'joc_global_consistency', 'joc_global_trend', 'joc_global_pct_top3', 'joc_global_nb_courses', 'joc_global_total_races', 'joc_global_dnf_rate', 'joc_weighted_avg_pos', 'joc_weighted_recent_perf', 'joc_weighted_consistency', 'joc_weighted_pct_top3', 'joc_weighted_nb_courses', 'joc_weighted_total_races', 'joc_weighted_dnf_rate', 'joc_weighted_trend', 'joc_bytype_avg_pos', 'joc_bytype_recent_perf', 'joc_bytype_consistency', 'joc_bytype_trend', 'joc_bytype_pct_top3', 'joc_bytype_nb_courses', 'joc_bytype_total_races', 'joc_bytype_dnf_rate', 'che_form_momentum', 'che_improving_form', 'che_declining_form', 'che_high_consistency', 'che_recent_quality', 'che_elite_performer', 'che_regular_placer', 'joc_form_momentum', 'joc_improving_form', 'joc_high_consistency', 'joc_elite_performer', 'synergy_both_improving', 'synergy_both_consistent', 'synergy_both_elite', 'overall_momentum_score', 'high_momentum', 'class_drop_pct', 'purse_per_starter', 'purse_ratio', 'moving_up_in_class', 'class_shock_indicator', 'handicap_level_change', 'time_per_distance', 'time_vs_record', 'pace_rating', 'speed_figure_proxy', 'market_confidence_shift', 'last_race_improvement', 'bounce_risk', 'layoff_distance_interaction', 'trainer_change', 'connection_stability', 'field_size_change', 'distance_comfort', 'competition_level_shift', 'recence_x_class_drop', 'trainer_change_x_recence', 'distance_change_x_recence', 'che_by_type_avg_pos', 'che_by_type_recent_perf', 'che_by_type_consistency', 'che_by_type_trend', 'che_by_type_pct_top3', 'che_by_type_nb_courses', 'che_by_type_total_races', 'che_by_type_dnf_rate', 'joc_by_type_avg_pos', 'joc_by_type_recent_perf', 'joc_by_type_consistency', 'joc_by_type_trend', 'joc_by_type_pct_top3', 'joc_by_type_nb_courses', 'joc_by_type_total_races', 'joc_by_type_dnf_rate', 'quinte_career_starts', 'quinte_win_rate', 'quinte_top5_rate', 'avg_quinte_position', 'days_since_last_quinte', 'quinte_handicap_specialist', 'quinte_conditions_specialist', 'quinte_large_field_ability', 'quinte_track_condition_fit', 'is_handicap_quinte', 'handicap_division', 'purse_level_category', 'field_size_category', 'track_condition_PH', 'track_condition_DUR', 'track_condition_PS', 'track_condition_PSF', 'weather_clear', 'weather_rain', 'weather_cloudy', 'post_position_bias', 'post_position_track_bias', 'raw_tabnet_prediction', 'predicted_position_tabnet', 'raw_rf_prediction', 'predicted_position_rf', 'predicted_position_base']
2025-11-12 22:30:04,925 - race_prediction.competitive_field_analyzer - INFO - === CRITICAL COLUMNS ANALYSIS ===
2025-11-12 22:30:04,944 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ recordG: 16/16 non-null values (100.0%)
2025-11-12 22:30:04,959 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [0.0, 0.0, 0.0]
2025-11-12 22:30:04,967 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ hippo: 16/16 non-null values (100.0%)
2025-11-12 22:30:04,973 - race_prediction.competitive_field_analyzer - INFO -    Sample values: ['Paris-Vincennes', 'Paris-Vincennes', 'Paris-Vincennes']
2025-11-12 22:30:04,981 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ coursescheval: 16/16 non-null values (100.0%)
2025-11-12 22:30:04,988 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [26, 17, 21]
2025-11-12 22:30:04,989 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ victoirescheval: 16/16 non-null values (100.0%)
2025-11-12 22:30:04,989 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [4, 5, 5]
2025-11-12 22:30:04,989 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ placescheval: 16/16 non-null values (100.0%)
2025-11-12 22:30:04,989 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [8, 9, 7]
2025-11-12 22:30:04,989 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ gainsCarriere: 16/16 non-null values (100.0%)
2025-11-12 22:30:04,996 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [7921000, 9031000, 11717500]
2025-11-12 22:30:04,997 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ age: 16/16 non-null values (100.0%)
2025-11-12 22:30:04,997 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [5, 5, 5]
2025-11-12 22:30:04,997 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ derniereplace: 16/16 non-null values (100.0%)
2025-11-12 22:30:04,997 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [5.0, 7.0, 15.0]
2025-11-12 22:30:04,997 - race_prediction.competitive_field_analyzer - INFO - === RACE METADATA ===
2025-11-12 22:30:05,005 - race_prediction.competitive_field_analyzer - INFO - comp: 1619965
2025-11-12 22:30:05,005 - race_prediction.competitive_field_analyzer - INFO - hippo: Paris-Vincennes
2025-11-12 22:30:05,005 - race_prediction.competitive_field_analyzer - INFO - dist: 2700
2025-11-12 22:30:05,005 - race_prediction.competitive_field_analyzer - INFO - typec: Attel√©
2025-11-12 22:30:05,005 - race_prediction.competitive_field_analyzer - INFO - partant: 16
2025-11-12 22:30:05,005 - race_prediction.competitive_field_analyzer - INFO - === SAMPLE RACE DATA ===
2025-11-12 22:30:05,020 - race_prediction.competitive_field_analyzer - INFO - Sample data (columns: ['numero', 'cheval', 'recordG', 'hippo', 'coursescheval']):
2025-11-12 22:30:05,028 - race_prediction.competitive_field_analyzer - INFO -   Horse 0: {'numero': 1, 'cheval': 'Kingston de Blary', 'recordG': 0.0, 'hippo': 'Paris-Vincennes', 'coursescheval': 26}
2025-11-12 22:30:05,034 - race_prediction.competitive_field_analyzer - INFO -   Horse 1: {'numero': 2, 'cheval': 'Kamour', 'recordG': 0.0, 'hippo': 'Paris-Vincennes', 'coursescheval': 17}
2025-11-12 22:30:05,042 - race_prediction.competitive_field_analyzer - INFO -   Horse 2: {'numero': 3, 'cheval': 'King Georges', 'recordG': 0.0, 'hippo': 'Paris-Vincennes', 'coursescheval': 21}
2025-11-12 22:30:05,048 - race_prediction.competitive_field_analyzer - INFO - === END COMPETITIVE ANALYSIS DEBUG ===

2025-11-12 22:30:05,056 - race_prediction.competitive_field_analyzer - INFO - === RETRIEVING HISTORICAL DATA ===
2025-11-12 22:30:05,063 - race_prediction.competitive_field_analyzer - INFO - Fetching historical data for 16 horses: [1575813, 1663009, 1576834, 1656229, 1572477, 1660540, 1576402, 1561752, 1582067, 1575455, 1563340, 1581994, 1560715, 1590089, 1587413, 1555299]
2025-11-12 22:30:05,088 - race_prediction.competitive_field_analyzer - INFO - Batch querying historical data for 16 horses: [1575813, 1663009, 1576834, 1656229, 1572477, 1660540, 1576402, 1561752, 1582067, 1575455, 1563340, 1581994, 1560715, 1590089, 1587413, 1555299]
2025-11-12 22:30:21,048 - race_prediction.competitive_field_analyzer - INFO - Batch query completed in 15.93s, found 154 total records
2025-11-12 22:30:21,122 - race_prediction.competitive_field_analyzer - INFO - Batch query retrieved 154 total historical races
2025-11-12 22:30:21,155 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS PER HORSE ===
2025-11-12 22:30:21,155 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1575813: 9 historical races found
2025-11-12 22:30:21,155 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1663009: 5 historical races found
2025-11-12 22:30:21,155 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1576834: 7 historical races found
2025-11-12 22:30:21,155 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1656229: 11 historical races found
2025-11-12 22:30:21,155 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1572477: 14 historical races found
2025-11-12 22:30:21,155 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1660540: 13 historical races found
2025-11-12 22:30:21,156 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1576402: 11 historical races found
2025-11-12 22:30:21,164 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1561752: 7 historical races found
2025-11-12 22:30:21,164 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1582067: 5 historical races found
2025-11-12 22:30:21,187 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1575455: 13 historical races found
2025-11-12 22:30:21,187 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1563340: 8 historical races found
2025-11-12 22:30:21,187 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1581994: 13 historical races found
2025-11-12 22:30:21,187 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1560715: 7 historical races found
2025-11-12 22:30:21,221 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1590089: 13 historical races found
2025-11-12 22:30:21,221 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1587413: 5 historical races found
2025-11-12 22:30:21,221 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1555299: 13 historical races found
2025-11-12 22:30:21,221 - race_prediction.competitive_field_analyzer - INFO - Retrieved 154 total historical races
2025-11-12 22:30:21,221 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS BY HORSE ===
2025-11-12 22:30:21,221 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1575813: 9 historical races
2025-11-12 22:30:21,221 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1663009: 5 historical races
2025-11-12 22:30:21,221 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1576834: 7 historical races
2025-11-12 22:30:21,234 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1656229: 11 historical races
2025-11-12 22:30:21,241 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1572477: 14 historical races
2025-11-12 22:30:21,241 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1660540: 13 historical races
2025-11-12 22:30:21,241 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1576402: 11 historical races
2025-11-12 22:30:21,241 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1561752: 7 historical races
2025-11-12 22:30:21,241 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1582067: 5 historical races
2025-11-12 22:30:21,241 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1575455: 13 historical races
2025-11-12 22:30:21,241 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1563340: 8 historical races
2025-11-12 22:30:21,241 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1581994: 13 historical races
2025-11-12 22:30:21,263 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1560715: 7 historical races
2025-11-12 22:30:21,263 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1590089: 13 historical races
2025-11-12 22:30:21,263 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1587413: 5 historical races
2025-11-12 22:30:21,263 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1555299: 13 historical races
2025-11-12 22:30:21,273 - race_prediction.competitive_field_analyzer - INFO - === END HISTORICAL DATA RETRIEVAL ===

2025-11-12 22:30:21,273 - race_prediction.competitive_field_analyzer - INFO - === EARNINGS QUALITY ANALYSIS ===
2025-11-12 22:30:21,273 - race_prediction.competitive_field_analyzer - INFO - Valid earnings data: 16/16 horses
2025-11-12 22:30:21,282 - race_prediction.competitive_field_analyzer - INFO - Sample earnings per race: ['304,654', '531,235', '557,976']
2025-11-12 22:30:21,282 - race_prediction.competitive_field_analyzer - INFO - Field earnings stats: avg=584,061, max=1,084,062
2025-11-12 22:30:21,283 - race_prediction.competitive_field_analyzer - INFO - === TRACK SPECIALIZATION ANALYSIS ===
2025-11-12 22:30:21,283 - race_prediction.competitive_field_analyzer - INFO - Horses with reliable venue data (3+ races): 0/16
2025-11-12 22:30:21,284 - race_prediction.competitive_field_analyzer - INFO - === FORM MOMENTUM ANALYSIS ===
2025-11-12 22:30:21,293 - race_prediction.competitive_field_analyzer - INFO - Field avg horse trend: 1.984, recent perf: 6.90
2025-11-12 22:30:21,293 - race_prediction.competitive_field_analyzer - INFO - Field avg jockey trend: -0.236
2025-11-12 22:30:21,308 - race_prediction.competitive_field_analyzer - INFO - Horses with improving form: 3/16
2025-11-12 22:30:21,309 - race_prediction.competitive_field_analyzer - INFO - === HOT CONNECTIONS ANALYSIS ===
2025-11-12 22:30:21,309 - race_prediction.competitive_field_analyzer - INFO - Jockeys with wins today: 0/16
2025-11-12 22:30:21,311 - race_prediction.competitive_field_analyzer - INFO - Trainers with wins today: 0/16
2025-11-12 22:30:21,312 - race_prediction.competitive_field_analyzer - INFO - === DISTANCE COMFORT ANALYSIS ===
2025-11-12 22:30:21,312 - race_prediction.competitive_field_analyzer - INFO - Current race distance: 2700m
2025-11-12 22:30:21,312 - race_prediction.competitive_field_analyzer - INFO - Horses with similar recent distance: 10/16
2025-11-12 22:30:21,312 - race_prediction.competitive_field_analyzer - INFO - === REALISTIC COMPETITIVE SCORING ===
2025-11-12 22:30:21,313 - race_prediction.competitive_field_analyzer - INFO - üìä COMPETITIVE ANALYSIS SUMMARY:
2025-11-12 22:30:21,313 - race_prediction.competitive_field_analyzer - INFO -    Total competitive races: 154
2025-11-12 22:30:21,313 - race_prediction.competitive_field_analyzer - INFO -    Horses with historical data: 16/16
2025-11-12 22:30:21,313 - race_prediction.competitive_field_analyzer - INFO -    Average races per horse: 9.6
2025-11-12 22:30:22,077 - race_prediction.quinte_prediction_storage - INFO - Stored 16 horses for Quint√© race 1619965
2025-11-12 22:31:15,143 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE ANALYSIS DEBUG ===
2025-11-12 22:31:15,159 - race_prediction.competitive_field_analyzer - INFO - Analyzing competitive field for race with 14 horses
2025-11-12 22:31:15,167 - race_prediction.competitive_field_analyzer - INFO - Race data shape: (14, 280)
2025-11-12 22:31:15,167 - race_prediction.competitive_field_analyzer - INFO - Available columns: ['id', 'comp', 'jour', 'hippo', 'reun', 'prix', 'prixnom', 'typec', 'partant', 'dist', 'handi', 'groupe', 'quinte', 'natpis', 'meteo', 'corde', 'temperature', 'forceVent', 'directionVent', 'nebulosite', 'prediction_results', 'actual_results', 'created_at', 'updated_at', 'processed_data', 'cheque', 'handi_raw', 'reclam', 'sex', 'tempscourse', 'handicap_level_score', 'cl', 'numero', 'cheval', 'age', 'cotedirect', 'coteprob', 'recence', 'ecar', 'defoeil', 'defoeilPrec', 'musiqueche', 'musiquejoc', 'entraineur', 'coursescheval', 'victoirescheval', 'placescheval', 'dernierealloc', 'derniernbpartants', 'dernieredist', 'derniereplace', 'dernierecote', 'dernierEnt', 'proprietaire', 'poidmont', 'pourcVictJockHippo', 'pourcPlaceJockHippo', 'pourcVictChevalHippo', 'pourcPlaceChevalHippo', 'tempstot', 'vha', 'recordG', 'txreclam', 'dernierTxreclam', 'gainsCarriere', 'gainsAnneeEnCours', 'handicapDistance', 'handicapPoids', 'TxVictCouple', 'nbVictCouple', 'nbPlaceCouple', 'idche', 'idJockey', 'idEntraineur', 'defFirstTime', 'oeilFirstTime', 'oeil', 'dernierOeil', 'ratio_victoires', 'ratio_places', 'gains_par_course', 'efficacite_couple', 'regularite_couple', 'progression_couple', 'perf_cheval_hippo', 'perf_jockey_hippo', 'trainer_victoires', 'trainer_places', 'trainer_courses', 'trainer_winrate', 'trainer_placerate', 'trainer_quality_score', 'trainer_experience_level', 'handicap_poids', 'handicap_dist', 'prec_handicap_poids', 'prec_handicap_dist', 'handicap_poids_change', 'handicap_poids_increased', 'handicap_poids_decreased', 'handicap_dist_change', 'handicap_dist_increased', 'handicap_dist_decreased', 'total_handicap', 'handicap_momentum', 'last_race_position', 'last_race_distance', 'distance_change', 'distance_change_pct', 'distance_increased', 'distance_decreased', 'same_distance', 'corde_change', 'corde_improved', 'corde_worsened', 'last_race_top3', 'last_race_won', 'blinkers_first_time', 'has_blinkers', 'has_standard_blinkers', 'has_australian_blinkers', 'blinkers_added', 'blinkers_removed', 'blinkers_type_changed', 'blinkers_any_change', 'blinkers_high_impact_change', 'shoeing_first_time', 'fully_shod', 'front_shod_only', 'back_shod_only', 'barefoot', 'shoeing_changed', 'barefoot_to_shod', 'shod_to_barefoot', 'major_shoeing_change', 'shoeing_complexity', 'multiple_equipment_changes', 'equipment_momentum_score', 'high_equipment_momentum', 'multiple_first_time_changes', 'equipment_optimization_score', 'career_strike_rate', 'earnings_per_race', 'earnings_trend', 'last_race_position_normalized', 'last_race_odds_normalized', 'last_race_field_size_factor', 'distance_consistency', 'vha_normalized', 'claiming_tax_trend', 'class_stability', 'che_global_avg_pos', 'che_global_recent_perf', 'che_global_consistency', 'che_global_trend', 'che_global_pct_top3', 'che_global_nb_courses', 'che_global_total_races', 'che_global_dnf_rate', 'che_weighted_avg_pos', 'che_weighted_recent_perf', 'che_weighted_consistency', 'che_weighted_pct_top3', 'che_weighted_nb_courses', 'che_weighted_total_races', 'che_weighted_dnf_rate', 'che_weighted_trend', 'che_bytype_avg_pos', 'che_bytype_recent_perf', 'che_bytype_consistency', 'che_bytype_trend', 'che_bytype_pct_top3', 'che_bytype_nb_courses', 'che_bytype_total_races', 'che_bytype_dnf_rate', 'joc_global_avg_pos', 'joc_global_recent_perf', 'joc_global_consistency', 'joc_global_trend', 'joc_global_pct_top3', 'joc_global_nb_courses', 'joc_global_total_races', 'joc_global_dnf_rate', 'joc_weighted_avg_pos', 'joc_weighted_recent_perf', 'joc_weighted_consistency', 'joc_weighted_pct_top3', 'joc_weighted_nb_courses', 'joc_weighted_total_races', 'joc_weighted_dnf_rate', 'joc_weighted_trend', 'joc_bytype_avg_pos', 'joc_bytype_recent_perf', 'joc_bytype_consistency', 'joc_bytype_trend', 'joc_bytype_pct_top3', 'joc_bytype_nb_courses', 'joc_bytype_total_races', 'joc_bytype_dnf_rate', 'che_form_momentum', 'che_improving_form', 'che_declining_form', 'che_high_consistency', 'che_recent_quality', 'che_elite_performer', 'che_regular_placer', 'joc_form_momentum', 'joc_improving_form', 'joc_high_consistency', 'joc_elite_performer', 'synergy_both_improving', 'synergy_both_consistent', 'synergy_both_elite', 'overall_momentum_score', 'high_momentum', 'class_drop_pct', 'purse_per_starter', 'purse_ratio', 'moving_up_in_class', 'class_shock_indicator', 'handicap_level_change', 'time_per_distance', 'time_vs_record', 'pace_rating', 'speed_figure_proxy', 'market_confidence_shift', 'last_race_improvement', 'bounce_risk', 'layoff_distance_interaction', 'trainer_change', 'connection_stability', 'field_size_change', 'distance_comfort', 'competition_level_shift', 'recence_x_class_drop', 'trainer_change_x_recence', 'distance_change_x_recence', 'che_by_type_avg_pos', 'che_by_type_recent_perf', 'che_by_type_consistency', 'che_by_type_trend', 'che_by_type_pct_top3', 'che_by_type_nb_courses', 'che_by_type_total_races', 'che_by_type_dnf_rate', 'joc_by_type_avg_pos', 'joc_by_type_recent_perf', 'joc_by_type_consistency', 'joc_by_type_trend', 'joc_by_type_pct_top3', 'joc_by_type_nb_courses', 'joc_by_type_total_races', 'joc_by_type_dnf_rate', 'quinte_career_starts', 'quinte_win_rate', 'quinte_top5_rate', 'avg_quinte_position', 'days_since_last_quinte', 'quinte_handicap_specialist', 'quinte_conditions_specialist', 'quinte_large_field_ability', 'quinte_track_condition_fit', 'is_handicap_quinte', 'handicap_division', 'purse_level_category', 'field_size_category', 'track_condition_PH', 'track_condition_DUR', 'track_condition_PS', 'track_condition_PSF', 'weather_clear', 'weather_rain', 'weather_cloudy', 'post_position_bias', 'post_position_track_bias', 'raw_tabnet_prediction', 'predicted_position_tabnet', 'raw_rf_prediction', 'predicted_position_rf', 'predicted_position_base']
2025-11-12 22:31:15,173 - race_prediction.competitive_field_analyzer - INFO - === CRITICAL COLUMNS ANALYSIS ===
2025-11-12 22:31:15,189 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ recordG: 14/14 non-null values (100.0%)
2025-11-12 22:31:15,189 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [0.0, 0.0, 0.0]
2025-11-12 22:31:15,189 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ hippo: 14/14 non-null values (100.0%)
2025-11-12 22:31:15,189 - race_prediction.competitive_field_analyzer - INFO -    Sample values: ['Paris-Vincennes', 'Paris-Vincennes', 'Paris-Vincennes']
2025-11-12 22:31:15,189 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ coursescheval: 14/14 non-null values (100.0%)
2025-11-12 22:31:15,189 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [32, 33, 13]
2025-11-12 22:31:15,189 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ victoirescheval: 14/14 non-null values (100.0%)
2025-11-12 22:31:15,189 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [8, 4, 2]
2025-11-12 22:31:15,204 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ placescheval: 14/14 non-null values (100.0%)
2025-11-12 22:31:15,204 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [13, 12, 7]
2025-11-12 22:31:15,205 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ gainsCarriere: 14/14 non-null values (100.0%)
2025-11-12 22:31:15,205 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [42628000, 30300500, 59663300]
2025-11-12 22:31:15,205 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ age: 14/14 non-null values (100.0%)
2025-11-12 22:31:15,205 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [5, 4, 5]
2025-11-12 22:31:15,205 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ derniereplace: 14/14 non-null values (100.0%)
2025-11-12 22:31:15,205 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [15.0, 4.0, 6.0]
2025-11-12 22:31:15,205 - race_prediction.competitive_field_analyzer - INFO - === RACE METADATA ===
2025-11-12 22:31:15,212 - race_prediction.competitive_field_analyzer - INFO - comp: 1618804
2025-11-12 22:31:15,220 - race_prediction.competitive_field_analyzer - INFO - hippo: Paris-Vincennes
2025-11-12 22:31:15,220 - race_prediction.competitive_field_analyzer - INFO - dist: 2100
2025-11-12 22:31:15,220 - race_prediction.competitive_field_analyzer - INFO - typec: Attel√©
2025-11-12 22:31:15,220 - race_prediction.competitive_field_analyzer - INFO - partant: 14
2025-11-12 22:31:15,228 - race_prediction.competitive_field_analyzer - INFO - === SAMPLE RACE DATA ===
2025-11-12 22:31:15,235 - race_prediction.competitive_field_analyzer - INFO - Sample data (columns: ['numero', 'cheval', 'recordG', 'hippo', 'coursescheval']):
2025-11-12 22:31:15,236 - race_prediction.competitive_field_analyzer - INFO -   Horse 0: {'numero': 1, 'cheval': 'Kokote', 'recordG': 0.0, 'hippo': 'Paris-Vincennes', 'coursescheval': 32}
2025-11-12 22:31:15,243 - race_prediction.competitive_field_analyzer - INFO -   Horse 1: {'numero': 2, 'cheval': 'Learn To Fly', 'recordG': 0.0, 'hippo': 'Paris-Vincennes', 'coursescheval': 33}
2025-11-12 22:31:15,250 - race_prediction.competitive_field_analyzer - INFO -   Horse 2: {'numero': 3, 'cheval': 'East Asia', 'recordG': 0.0, 'hippo': 'Paris-Vincennes', 'coursescheval': 13}
2025-11-12 22:31:15,258 - race_prediction.competitive_field_analyzer - INFO - === END COMPETITIVE ANALYSIS DEBUG ===

2025-11-12 22:31:15,265 - race_prediction.competitive_field_analyzer - INFO - === RETRIEVING HISTORICAL DATA ===
2025-11-12 22:31:15,265 - race_prediction.competitive_field_analyzer - INFO - Fetching historical data for 14 horses: [1576750, 1665539, 1578262, 1553537, 1585391, 1565653, 1666500, 1553531, 1688648, 1661600, 1578244, 1571244, 1561739, 1562064]
2025-11-12 22:31:15,282 - race_prediction.competitive_field_analyzer - INFO - Batch querying historical data for 14 horses: [1576750, 1665539, 1578262, 1553537, 1585391, 1565653, 1666500, 1553531, 1688648, 1661600, 1578244, 1571244, 1561739, 1562064]
2025-11-12 22:31:30,770 - race_prediction.competitive_field_analyzer - INFO - Batch query completed in 15.48s, found 118 total records
2025-11-12 22:31:30,815 - race_prediction.competitive_field_analyzer - INFO - Batch query retrieved 118 total historical races
2025-11-12 22:31:30,843 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS PER HORSE ===
2025-11-12 22:31:30,862 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1576750: 11 historical races found
2025-11-12 22:31:30,865 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1665539: 14 historical races found
2025-11-12 22:31:30,934 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1578262: 5 historical races found
2025-11-12 22:31:30,935 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1553537: 10 historical races found
2025-11-12 22:31:30,935 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1585391: 5 historical races found
2025-11-12 22:31:30,935 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1565653: 13 historical races found
2025-11-12 22:31:30,935 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1666500: 7 historical races found
2025-11-12 22:31:30,935 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1553531: 12 historical races found
2025-11-12 22:31:30,936 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1688648: 4 historical races found
2025-11-12 22:31:30,936 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1661600: 7 historical races found
2025-11-12 22:31:30,936 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1578244: 4 historical races found
2025-11-12 22:31:30,937 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1571244: 4 historical races found
2025-11-12 22:31:30,937 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1561739: 9 historical races found
2025-11-12 22:31:30,937 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1562064: 13 historical races found
2025-11-12 22:31:30,938 - race_prediction.competitive_field_analyzer - INFO - Retrieved 118 total historical races
2025-11-12 22:31:30,938 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS BY HORSE ===
2025-11-12 22:31:30,939 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1576750: 11 historical races
2025-11-12 22:31:30,939 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1665539: 14 historical races
2025-11-12 22:31:30,940 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1578262: 5 historical races
2025-11-12 22:31:30,940 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1553537: 10 historical races
2025-11-12 22:31:30,940 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1585391: 5 historical races
2025-11-12 22:31:30,940 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1565653: 13 historical races
2025-11-12 22:31:30,941 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1666500: 7 historical races
2025-11-12 22:31:30,941 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1553531: 12 historical races
2025-11-12 22:31:30,941 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1688648: 4 historical races
2025-11-12 22:31:30,941 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1661600: 7 historical races
2025-11-12 22:31:30,941 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1578244: 4 historical races
2025-11-12 22:31:31,013 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1571244: 4 historical races
2025-11-12 22:31:31,014 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1561739: 9 historical races
2025-11-12 22:31:31,014 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1562064: 13 historical races
2025-11-12 22:31:31,014 - race_prediction.competitive_field_analyzer - INFO - === END HISTORICAL DATA RETRIEVAL ===

2025-11-12 22:31:31,014 - race_prediction.competitive_field_analyzer - INFO - === EARNINGS QUALITY ANALYSIS ===
2025-11-12 22:31:31,014 - race_prediction.competitive_field_analyzer - INFO - Valid earnings data: 14/14 horses
2025-11-12 22:31:31,016 - race_prediction.competitive_field_analyzer - INFO - Sample earnings per race: ['1,332,125', '918,197', '4,589,485']
2025-11-12 22:31:31,016 - race_prediction.competitive_field_analyzer - INFO - Field earnings stats: avg=2,560,695, max=12,615,550
2025-11-12 22:31:31,016 - race_prediction.competitive_field_analyzer - INFO - === TRACK SPECIALIZATION ANALYSIS ===
2025-11-12 22:31:31,016 - race_prediction.competitive_field_analyzer - INFO - Horses with reliable venue data (3+ races): 0/14
2025-11-12 22:31:31,017 - race_prediction.competitive_field_analyzer - INFO - === FORM MOMENTUM ANALYSIS ===
2025-11-12 22:31:31,017 - race_prediction.competitive_field_analyzer - INFO - Field avg horse trend: 1.845, recent perf: 6.52
2025-11-12 22:31:31,017 - race_prediction.competitive_field_analyzer - INFO - Field avg jockey trend: -1.451
2025-11-12 22:31:31,017 - race_prediction.competitive_field_analyzer - INFO - Horses with improving form: 5/14
2025-11-12 22:31:31,018 - race_prediction.competitive_field_analyzer - INFO - === HOT CONNECTIONS ANALYSIS ===
2025-11-12 22:31:31,018 - race_prediction.competitive_field_analyzer - INFO - Jockeys with wins today: 0/14
2025-11-12 22:31:31,018 - race_prediction.competitive_field_analyzer - INFO - Trainers with wins today: 0/14
2025-11-12 22:31:31,018 - race_prediction.competitive_field_analyzer - INFO - === DISTANCE COMFORT ANALYSIS ===
2025-11-12 22:31:31,018 - race_prediction.competitive_field_analyzer - INFO - Current race distance: 2100m
2025-11-12 22:31:31,018 - race_prediction.competitive_field_analyzer - INFO - Horses with similar recent distance: 3/14
2025-11-12 22:31:31,018 - race_prediction.competitive_field_analyzer - INFO - === REALISTIC COMPETITIVE SCORING ===
2025-11-12 22:31:31,018 - race_prediction.competitive_field_analyzer - INFO - üìä COMPETITIVE ANALYSIS SUMMARY:
2025-11-12 22:31:31,018 - race_prediction.competitive_field_analyzer - INFO -    Total competitive races: 118
2025-11-12 22:31:31,018 - race_prediction.competitive_field_analyzer - INFO -    Horses with historical data: 14/14
2025-11-12 22:31:31,018 - race_prediction.competitive_field_analyzer - INFO -    Average races per horse: 8.4
2025-11-12 22:31:31,028 - race_prediction.quinte_prediction_storage - INFO - Stored 14 horses for Quint√© race 1618804
2025-11-12 22:31:33,103 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE ANALYSIS DEBUG ===
2025-11-12 22:31:33,103 - race_prediction.competitive_field_analyzer - INFO - Analyzing competitive field for race with 16 horses
2025-11-12 22:31:33,103 - race_prediction.competitive_field_analyzer - INFO - Race data shape: (16, 280)
2025-11-12 22:31:33,103 - race_prediction.competitive_field_analyzer - INFO - Available columns: ['id', 'comp', 'jour', 'hippo', 'reun', 'prix', 'prixnom', 'typec', 'partant', 'dist', 'handi', 'groupe', 'quinte', 'natpis', 'meteo', 'corde', 'temperature', 'forceVent', 'directionVent', 'nebulosite', 'prediction_results', 'actual_results', 'created_at', 'updated_at', 'processed_data', 'cheque', 'handi_raw', 'reclam', 'sex', 'tempscourse', 'handicap_level_score', 'cl', 'numero', 'cheval', 'age', 'cotedirect', 'coteprob', 'recence', 'ecar', 'defoeil', 'defoeilPrec', 'musiqueche', 'musiquejoc', 'entraineur', 'coursescheval', 'victoirescheval', 'placescheval', 'dernierealloc', 'derniernbpartants', 'dernieredist', 'derniereplace', 'dernierecote', 'dernierEnt', 'proprietaire', 'poidmont', 'pourcVictJockHippo', 'pourcPlaceJockHippo', 'pourcVictChevalHippo', 'pourcPlaceChevalHippo', 'tempstot', 'vha', 'recordG', 'txreclam', 'dernierTxreclam', 'gainsCarriere', 'gainsAnneeEnCours', 'handicapDistance', 'handicapPoids', 'TxVictCouple', 'nbVictCouple', 'nbPlaceCouple', 'idche', 'idJockey', 'idEntraineur', 'defFirstTime', 'oeilFirstTime', 'oeil', 'dernierOeil', 'ratio_victoires', 'ratio_places', 'gains_par_course', 'efficacite_couple', 'regularite_couple', 'progression_couple', 'perf_cheval_hippo', 'perf_jockey_hippo', 'trainer_victoires', 'trainer_places', 'trainer_courses', 'trainer_winrate', 'trainer_placerate', 'trainer_quality_score', 'trainer_experience_level', 'handicap_poids', 'handicap_dist', 'prec_handicap_poids', 'prec_handicap_dist', 'handicap_poids_change', 'handicap_poids_increased', 'handicap_poids_decreased', 'handicap_dist_change', 'handicap_dist_increased', 'handicap_dist_decreased', 'total_handicap', 'handicap_momentum', 'last_race_position', 'last_race_distance', 'distance_change', 'distance_change_pct', 'distance_increased', 'distance_decreased', 'same_distance', 'corde_change', 'corde_improved', 'corde_worsened', 'last_race_top3', 'last_race_won', 'blinkers_first_time', 'has_blinkers', 'has_standard_blinkers', 'has_australian_blinkers', 'blinkers_added', 'blinkers_removed', 'blinkers_type_changed', 'blinkers_any_change', 'blinkers_high_impact_change', 'shoeing_first_time', 'fully_shod', 'front_shod_only', 'back_shod_only', 'barefoot', 'shoeing_changed', 'barefoot_to_shod', 'shod_to_barefoot', 'major_shoeing_change', 'shoeing_complexity', 'multiple_equipment_changes', 'equipment_momentum_score', 'high_equipment_momentum', 'multiple_first_time_changes', 'equipment_optimization_score', 'career_strike_rate', 'earnings_per_race', 'earnings_trend', 'last_race_position_normalized', 'last_race_odds_normalized', 'last_race_field_size_factor', 'distance_consistency', 'vha_normalized', 'claiming_tax_trend', 'class_stability', 'che_global_avg_pos', 'che_global_recent_perf', 'che_global_consistency', 'che_global_trend', 'che_global_pct_top3', 'che_global_nb_courses', 'che_global_total_races', 'che_global_dnf_rate', 'che_weighted_avg_pos', 'che_weighted_recent_perf', 'che_weighted_consistency', 'che_weighted_pct_top3', 'che_weighted_nb_courses', 'che_weighted_total_races', 'che_weighted_dnf_rate', 'che_weighted_trend', 'che_bytype_avg_pos', 'che_bytype_recent_perf', 'che_bytype_consistency', 'che_bytype_trend', 'che_bytype_pct_top3', 'che_bytype_nb_courses', 'che_bytype_total_races', 'che_bytype_dnf_rate', 'joc_global_avg_pos', 'joc_global_recent_perf', 'joc_global_consistency', 'joc_global_trend', 'joc_global_pct_top3', 'joc_global_nb_courses', 'joc_global_total_races', 'joc_global_dnf_rate', 'joc_weighted_avg_pos', 'joc_weighted_recent_perf', 'joc_weighted_consistency', 'joc_weighted_pct_top3', 'joc_weighted_nb_courses', 'joc_weighted_total_races', 'joc_weighted_dnf_rate', 'joc_weighted_trend', 'joc_bytype_avg_pos', 'joc_bytype_recent_perf', 'joc_bytype_consistency', 'joc_bytype_trend', 'joc_bytype_pct_top3', 'joc_bytype_nb_courses', 'joc_bytype_total_races', 'joc_bytype_dnf_rate', 'che_form_momentum', 'che_improving_form', 'che_declining_form', 'che_high_consistency', 'che_recent_quality', 'che_elite_performer', 'che_regular_placer', 'joc_form_momentum', 'joc_improving_form', 'joc_high_consistency', 'joc_elite_performer', 'synergy_both_improving', 'synergy_both_consistent', 'synergy_both_elite', 'overall_momentum_score', 'high_momentum', 'class_drop_pct', 'purse_per_starter', 'purse_ratio', 'moving_up_in_class', 'class_shock_indicator', 'handicap_level_change', 'time_per_distance', 'time_vs_record', 'pace_rating', 'speed_figure_proxy', 'market_confidence_shift', 'last_race_improvement', 'bounce_risk', 'layoff_distance_interaction', 'trainer_change', 'connection_stability', 'field_size_change', 'distance_comfort', 'competition_level_shift', 'recence_x_class_drop', 'trainer_change_x_recence', 'distance_change_x_recence', 'che_by_type_avg_pos', 'che_by_type_recent_perf', 'che_by_type_consistency', 'che_by_type_trend', 'che_by_type_pct_top3', 'che_by_type_nb_courses', 'che_by_type_total_races', 'che_by_type_dnf_rate', 'joc_by_type_avg_pos', 'joc_by_type_recent_perf', 'joc_by_type_consistency', 'joc_by_type_trend', 'joc_by_type_pct_top3', 'joc_by_type_nb_courses', 'joc_by_type_total_races', 'joc_by_type_dnf_rate', 'quinte_career_starts', 'quinte_win_rate', 'quinte_top5_rate', 'avg_quinte_position', 'days_since_last_quinte', 'quinte_handicap_specialist', 'quinte_conditions_specialist', 'quinte_large_field_ability', 'quinte_track_condition_fit', 'is_handicap_quinte', 'handicap_division', 'purse_level_category', 'field_size_category', 'track_condition_PH', 'track_condition_DUR', 'track_condition_PS', 'track_condition_PSF', 'weather_clear', 'weather_rain', 'weather_cloudy', 'post_position_bias', 'post_position_track_bias', 'raw_tabnet_prediction', 'predicted_position_tabnet', 'raw_rf_prediction', 'predicted_position_rf', 'predicted_position_base']
2025-11-12 22:31:33,104 - race_prediction.competitive_field_analyzer - INFO - === CRITICAL COLUMNS ANALYSIS ===
2025-11-12 22:31:33,104 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ recordG: 16/16 non-null values (100.0%)
2025-11-12 22:31:33,104 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [0.0, 0.0, 0.0]
2025-11-12 22:31:33,104 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ hippo: 16/16 non-null values (100.0%)
2025-11-12 22:31:33,104 - race_prediction.competitive_field_analyzer - INFO -    Sample values: ['Nantes', 'Nantes', 'Nantes']
2025-11-12 22:31:33,104 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ coursescheval: 16/16 non-null values (100.0%)
2025-11-12 22:31:33,104 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [48, 57, 40]
2025-11-12 22:31:33,105 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ victoirescheval: 16/16 non-null values (100.0%)
2025-11-12 22:31:33,105 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [8, 17, 7]
2025-11-12 22:31:33,105 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ placescheval: 16/16 non-null values (100.0%)
2025-11-12 22:31:33,105 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [21, 28, 18]
2025-11-12 22:31:33,105 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ gainsCarriere: 16/16 non-null values (100.0%)
2025-11-12 22:31:33,105 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [27407000, 27703500, 28295000]
2025-11-12 22:31:33,105 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ age: 16/16 non-null values (100.0%)
2025-11-12 22:31:33,105 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [7, 8, 6]
2025-11-12 22:31:33,105 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ derniereplace: 16/16 non-null values (100.0%)
2025-11-12 22:31:33,105 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [7.0, 1.0, 10.0]
2025-11-12 22:31:33,105 - race_prediction.competitive_field_analyzer - INFO - === RACE METADATA ===
2025-11-12 22:31:33,105 - race_prediction.competitive_field_analyzer - INFO - comp: 1619950
2025-11-12 22:31:33,105 - race_prediction.competitive_field_analyzer - INFO - hippo: Nantes
2025-11-12 22:31:33,105 - race_prediction.competitive_field_analyzer - INFO - dist: 3000
2025-11-12 22:31:33,105 - race_prediction.competitive_field_analyzer - INFO - typec: Attel√©
2025-11-12 22:31:33,105 - race_prediction.competitive_field_analyzer - INFO - partant: 16
2025-11-12 22:31:33,105 - race_prediction.competitive_field_analyzer - INFO - === SAMPLE RACE DATA ===
2025-11-12 22:31:33,105 - race_prediction.competitive_field_analyzer - INFO - Sample data (columns: ['numero', 'cheval', 'recordG', 'hippo', 'coursescheval']):
2025-11-12 22:31:33,105 - race_prediction.competitive_field_analyzer - INFO -   Horse 0: {'numero': 1, 'cheval': 'Idylle Express', 'recordG': 0.0, 'hippo': 'Nantes', 'coursescheval': 48}
2025-11-12 22:31:33,106 - race_prediction.competitive_field_analyzer - INFO -   Horse 1: {'numero': 2, 'cheval': 'Hiwi Rocq', 'recordG': 0.0, 'hippo': 'Nantes', 'coursescheval': 57}
2025-11-12 22:31:33,106 - race_prediction.competitive_field_analyzer - INFO -   Horse 2: {'numero': 3, 'cheval': 'Jongleuse de Lune', 'recordG': 0.0, 'hippo': 'Nantes', 'coursescheval': 40}
2025-11-12 22:31:33,106 - race_prediction.competitive_field_analyzer - INFO - === END COMPETITIVE ANALYSIS DEBUG ===

2025-11-12 22:31:33,106 - race_prediction.competitive_field_analyzer - INFO - === RETRIEVING HISTORICAL DATA ===
2025-11-12 22:31:33,106 - race_prediction.competitive_field_analyzer - INFO - Fetching historical data for 16 horses: [1491747, 1389850, 1515214, 1438306, 1387981, 1553530, 1380598, 1519607, 1460254, 1382982, 1497360, 1382150, 1556553, 1434377, 1468153, 1574234]
2025-11-12 22:31:33,107 - race_prediction.competitive_field_analyzer - INFO - Batch querying historical data for 16 horses: [1491747, 1389850, 1515214, 1438306, 1387981, 1553530, 1380598, 1519607, 1460254, 1382982, 1497360, 1382150, 1556553, 1434377, 1468153, 1574234]
2025-11-12 22:31:43,945 - race_prediction.competitive_field_analyzer - INFO - Batch query completed in 10.84s, found 200 total records
2025-11-12 22:31:44,096 - race_prediction.competitive_field_analyzer - INFO - Batch query retrieved 200 total historical races
2025-11-12 22:31:44,123 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS PER HORSE ===
2025-11-12 22:31:44,123 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1491747: 11 historical races found
2025-11-12 22:31:44,130 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1389850: 4 historical races found
2025-11-12 22:31:44,134 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1515214: 15 historical races found
2025-11-12 22:31:44,134 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1438306: 8 historical races found
2025-11-12 22:31:44,134 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1387981: 9 historical races found
2025-11-12 22:31:44,146 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1553530: 13 historical races found
2025-11-12 22:31:44,146 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1380598: 16 historical races found
2025-11-12 22:31:44,146 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1519607: 19 historical races found
2025-11-12 22:31:44,146 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1460254: 8 historical races found
2025-11-12 22:31:44,146 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1382982: 16 historical races found
2025-11-12 22:31:44,146 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1497360: 16 historical races found
2025-11-12 22:31:44,146 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1382150: 15 historical races found
2025-11-12 22:31:44,245 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1556553: 6 historical races found
2025-11-12 22:31:44,245 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1434377: 20 historical races found
2025-11-12 22:31:44,245 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1468153: 11 historical races found
2025-11-12 22:31:44,246 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1574234: 13 historical races found
2025-11-12 22:31:44,246 - race_prediction.competitive_field_analyzer - INFO - Retrieved 200 total historical races
2025-11-12 22:31:44,246 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS BY HORSE ===
2025-11-12 22:31:44,309 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1491747: 11 historical races
2025-11-12 22:31:44,354 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1389850: 4 historical races
2025-11-12 22:31:44,373 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1515214: 15 historical races
2025-11-12 22:31:44,383 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1438306: 8 historical races
2025-11-12 22:31:44,437 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1387981: 9 historical races
2025-11-12 22:31:44,445 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1553530: 13 historical races
2025-11-12 22:31:44,445 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1380598: 16 historical races
2025-11-12 22:31:44,445 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1519607: 19 historical races
2025-11-12 22:31:44,445 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1460254: 8 historical races
2025-11-12 22:31:44,445 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1382982: 16 historical races
2025-11-12 22:31:44,445 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1497360: 16 historical races
2025-11-12 22:31:44,445 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1382150: 15 historical races
2025-11-12 22:31:44,455 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1556553: 6 historical races
2025-11-12 22:31:44,462 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1434377: 20 historical races
2025-11-12 22:31:44,462 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1468153: 11 historical races
2025-11-12 22:31:44,462 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1574234: 13 historical races
2025-11-12 22:31:44,462 - race_prediction.competitive_field_analyzer - INFO - === END HISTORICAL DATA RETRIEVAL ===

2025-11-12 22:31:44,462 - race_prediction.competitive_field_analyzer - INFO - === EARNINGS QUALITY ANALYSIS ===
2025-11-12 22:31:44,462 - race_prediction.competitive_field_analyzer - INFO - Valid earnings data: 16/16 horses
2025-11-12 22:31:44,462 - race_prediction.competitive_field_analyzer - INFO - Sample earnings per race: ['570,979', '486,026', '707,375']
2025-11-12 22:31:44,462 - race_prediction.competitive_field_analyzer - INFO - Field earnings stats: avg=815,220, max=2,183,902
2025-11-12 22:31:44,462 - race_prediction.competitive_field_analyzer - INFO - === TRACK SPECIALIZATION ANALYSIS ===
2025-11-12 22:31:44,463 - race_prediction.competitive_field_analyzer - INFO - Horses with reliable venue data (3+ races): 0/16
2025-11-12 22:31:44,475 - race_prediction.competitive_field_analyzer - INFO - === FORM MOMENTUM ANALYSIS ===
2025-11-12 22:31:44,475 - race_prediction.competitive_field_analyzer - INFO - Field avg horse trend: -2.065, recent perf: 6.77
2025-11-12 22:31:44,475 - race_prediction.competitive_field_analyzer - INFO - Field avg jockey trend: -1.440
2025-11-12 22:31:44,479 - race_prediction.competitive_field_analyzer - INFO - Horses with improving form: 1/16
2025-11-12 22:31:44,479 - race_prediction.competitive_field_analyzer - INFO - === HOT CONNECTIONS ANALYSIS ===
2025-11-12 22:31:44,479 - race_prediction.competitive_field_analyzer - INFO - Jockeys with wins today: 0/16
2025-11-12 22:31:44,479 - race_prediction.competitive_field_analyzer - INFO - Trainers with wins today: 0/16
2025-11-12 22:31:44,479 - race_prediction.competitive_field_analyzer - INFO - === DISTANCE COMFORT ANALYSIS ===
2025-11-12 22:31:44,479 - race_prediction.competitive_field_analyzer - INFO - Current race distance: 3000m
2025-11-12 22:31:44,479 - race_prediction.competitive_field_analyzer - INFO - Horses with similar recent distance: 10/16
2025-11-12 22:31:44,479 - race_prediction.competitive_field_analyzer - INFO - === REALISTIC COMPETITIVE SCORING ===
2025-11-12 22:31:44,480 - race_prediction.competitive_field_analyzer - INFO - üìä COMPETITIVE ANALYSIS SUMMARY:
2025-11-12 22:31:44,480 - race_prediction.competitive_field_analyzer - INFO -    Total competitive races: 200
2025-11-12 22:31:44,480 - race_prediction.competitive_field_analyzer - INFO -    Horses with historical data: 16/16
2025-11-12 22:31:44,480 - race_prediction.competitive_field_analyzer - INFO -    Average races per horse: 12.5
2025-11-12 22:31:45,725 - race_prediction.quinte_prediction_storage - INFO - Stored 16 horses for Quint√© race 1619950
2025-11-12 22:32:31,821 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE ANALYSIS DEBUG ===
2025-11-12 22:32:31,822 - race_prediction.competitive_field_analyzer - INFO - Analyzing competitive field for race with 16 horses
2025-11-12 22:32:31,822 - race_prediction.competitive_field_analyzer - INFO - Race data shape: (16, 280)
2025-11-12 22:32:31,822 - race_prediction.competitive_field_analyzer - INFO - Available columns: ['id', 'comp', 'jour', 'hippo', 'reun', 'prix', 'prixnom', 'typec', 'partant', 'dist', 'handi', 'groupe', 'quinte', 'natpis', 'meteo', 'corde', 'temperature', 'forceVent', 'directionVent', 'nebulosite', 'prediction_results', 'actual_results', 'created_at', 'updated_at', 'processed_data', 'cheque', 'handi_raw', 'reclam', 'sex', 'tempscourse', 'handicap_level_score', 'cl', 'numero', 'cheval', 'age', 'cotedirect', 'coteprob', 'recence', 'ecar', 'defoeil', 'defoeilPrec', 'musiqueche', 'musiquejoc', 'entraineur', 'coursescheval', 'victoirescheval', 'placescheval', 'dernierealloc', 'derniernbpartants', 'dernieredist', 'derniereplace', 'dernierecote', 'dernierEnt', 'proprietaire', 'poidmont', 'pourcVictJockHippo', 'pourcPlaceJockHippo', 'pourcVictChevalHippo', 'pourcPlaceChevalHippo', 'tempstot', 'vha', 'recordG', 'txreclam', 'dernierTxreclam', 'gainsCarriere', 'gainsAnneeEnCours', 'handicapDistance', 'handicapPoids', 'TxVictCouple', 'nbVictCouple', 'nbPlaceCouple', 'idche', 'idJockey', 'idEntraineur', 'defFirstTime', 'oeilFirstTime', 'oeil', 'dernierOeil', 'ratio_victoires', 'ratio_places', 'gains_par_course', 'efficacite_couple', 'regularite_couple', 'progression_couple', 'perf_cheval_hippo', 'perf_jockey_hippo', 'trainer_victoires', 'trainer_places', 'trainer_courses', 'trainer_winrate', 'trainer_placerate', 'trainer_quality_score', 'trainer_experience_level', 'handicap_poids', 'handicap_dist', 'prec_handicap_poids', 'prec_handicap_dist', 'handicap_poids_change', 'handicap_poids_increased', 'handicap_poids_decreased', 'handicap_dist_change', 'handicap_dist_increased', 'handicap_dist_decreased', 'total_handicap', 'handicap_momentum', 'last_race_position', 'last_race_distance', 'distance_change', 'distance_change_pct', 'distance_increased', 'distance_decreased', 'same_distance', 'corde_change', 'corde_improved', 'corde_worsened', 'last_race_top3', 'last_race_won', 'blinkers_first_time', 'has_blinkers', 'has_standard_blinkers', 'has_australian_blinkers', 'blinkers_added', 'blinkers_removed', 'blinkers_type_changed', 'blinkers_any_change', 'blinkers_high_impact_change', 'shoeing_first_time', 'fully_shod', 'front_shod_only', 'back_shod_only', 'barefoot', 'shoeing_changed', 'barefoot_to_shod', 'shod_to_barefoot', 'major_shoeing_change', 'shoeing_complexity', 'multiple_equipment_changes', 'equipment_momentum_score', 'high_equipment_momentum', 'multiple_first_time_changes', 'equipment_optimization_score', 'career_strike_rate', 'earnings_per_race', 'earnings_trend', 'last_race_position_normalized', 'last_race_odds_normalized', 'last_race_field_size_factor', 'distance_consistency', 'vha_normalized', 'claiming_tax_trend', 'class_stability', 'che_global_avg_pos', 'che_global_recent_perf', 'che_global_consistency', 'che_global_trend', 'che_global_pct_top3', 'che_global_nb_courses', 'che_global_total_races', 'che_global_dnf_rate', 'che_weighted_avg_pos', 'che_weighted_recent_perf', 'che_weighted_consistency', 'che_weighted_pct_top3', 'che_weighted_nb_courses', 'che_weighted_total_races', 'che_weighted_dnf_rate', 'che_weighted_trend', 'che_bytype_avg_pos', 'che_bytype_recent_perf', 'che_bytype_consistency', 'che_bytype_trend', 'che_bytype_pct_top3', 'che_bytype_nb_courses', 'che_bytype_total_races', 'che_bytype_dnf_rate', 'joc_global_avg_pos', 'joc_global_recent_perf', 'joc_global_consistency', 'joc_global_trend', 'joc_global_pct_top3', 'joc_global_nb_courses', 'joc_global_total_races', 'joc_global_dnf_rate', 'joc_weighted_avg_pos', 'joc_weighted_recent_perf', 'joc_weighted_consistency', 'joc_weighted_pct_top3', 'joc_weighted_nb_courses', 'joc_weighted_total_races', 'joc_weighted_dnf_rate', 'joc_weighted_trend', 'joc_bytype_avg_pos', 'joc_bytype_recent_perf', 'joc_bytype_consistency', 'joc_bytype_trend', 'joc_bytype_pct_top3', 'joc_bytype_nb_courses', 'joc_bytype_total_races', 'joc_bytype_dnf_rate', 'che_form_momentum', 'che_improving_form', 'che_declining_form', 'che_high_consistency', 'che_recent_quality', 'che_elite_performer', 'che_regular_placer', 'joc_form_momentum', 'joc_improving_form', 'joc_high_consistency', 'joc_elite_performer', 'synergy_both_improving', 'synergy_both_consistent', 'synergy_both_elite', 'overall_momentum_score', 'high_momentum', 'class_drop_pct', 'purse_per_starter', 'purse_ratio', 'moving_up_in_class', 'class_shock_indicator', 'handicap_level_change', 'time_per_distance', 'time_vs_record', 'pace_rating', 'speed_figure_proxy', 'market_confidence_shift', 'last_race_improvement', 'bounce_risk', 'layoff_distance_interaction', 'trainer_change', 'connection_stability', 'field_size_change', 'distance_comfort', 'competition_level_shift', 'recence_x_class_drop', 'trainer_change_x_recence', 'distance_change_x_recence', 'che_by_type_avg_pos', 'che_by_type_recent_perf', 'che_by_type_consistency', 'che_by_type_trend', 'che_by_type_pct_top3', 'che_by_type_nb_courses', 'che_by_type_total_races', 'che_by_type_dnf_rate', 'joc_by_type_avg_pos', 'joc_by_type_recent_perf', 'joc_by_type_consistency', 'joc_by_type_trend', 'joc_by_type_pct_top3', 'joc_by_type_nb_courses', 'joc_by_type_total_races', 'joc_by_type_dnf_rate', 'quinte_career_starts', 'quinte_win_rate', 'quinte_top5_rate', 'avg_quinte_position', 'days_since_last_quinte', 'quinte_handicap_specialist', 'quinte_conditions_specialist', 'quinte_large_field_ability', 'quinte_track_condition_fit', 'is_handicap_quinte', 'handicap_division', 'purse_level_category', 'field_size_category', 'track_condition_PH', 'track_condition_DUR', 'track_condition_PS', 'track_condition_PSF', 'weather_clear', 'weather_rain', 'weather_cloudy', 'post_position_bias', 'post_position_track_bias', 'raw_tabnet_prediction', 'predicted_position_tabnet', 'raw_rf_prediction', 'predicted_position_rf', 'predicted_position_base']
2025-11-12 22:32:31,823 - race_prediction.competitive_field_analyzer - INFO - === CRITICAL COLUMNS ANALYSIS ===
2025-11-12 22:32:31,823 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ recordG: 16/16 non-null values (100.0%)
2025-11-12 22:32:31,823 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [0.0, 0.0, 0.0]
2025-11-12 22:32:31,823 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ hippo: 16/16 non-null values (100.0%)
2025-11-12 22:32:31,823 - race_prediction.competitive_field_analyzer - INFO -    Sample values: ['Paris-Vincennes', 'Paris-Vincennes', 'Paris-Vincennes']
2025-11-12 22:32:31,823 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ coursescheval: 16/16 non-null values (100.0%)
2025-11-12 22:32:31,824 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [25, 22, 40]
2025-11-12 22:32:31,824 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ victoirescheval: 16/16 non-null values (100.0%)
2025-11-12 22:32:31,824 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [5, 3, 3]
2025-11-12 22:32:31,824 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ placescheval: 16/16 non-null values (100.0%)
2025-11-12 22:32:31,824 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [9, 7, 9]
2025-11-12 22:32:31,824 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ gainsCarriere: 16/16 non-null values (100.0%)
2025-11-12 22:32:31,824 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [8792000, 8806000, 8993000]
2025-11-12 22:32:31,824 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ age: 16/16 non-null values (100.0%)
2025-11-12 22:32:31,824 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [5, 5, 5]
2025-11-12 22:32:31,824 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ derniereplace: 16/16 non-null values (100.0%)
2025-11-12 22:32:31,825 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [9.0, 7.0, 15.0]
2025-11-12 22:32:31,825 - race_prediction.competitive_field_analyzer - INFO - === RACE METADATA ===
2025-11-12 22:32:31,825 - race_prediction.competitive_field_analyzer - INFO - comp: 1618791
2025-11-12 22:32:31,825 - race_prediction.competitive_field_analyzer - INFO - hippo: Paris-Vincennes
2025-11-12 22:32:31,825 - race_prediction.competitive_field_analyzer - INFO - dist: 2700
2025-11-12 22:32:31,825 - race_prediction.competitive_field_analyzer - INFO - typec: Attel√©
2025-11-12 22:32:31,825 - race_prediction.competitive_field_analyzer - INFO - partant: 16
2025-11-12 22:32:31,825 - race_prediction.competitive_field_analyzer - INFO - === SAMPLE RACE DATA ===
2025-11-12 22:32:31,825 - race_prediction.competitive_field_analyzer - INFO - Sample data (columns: ['numero', 'cheval', 'recordG', 'hippo', 'coursescheval']):
2025-11-12 22:32:31,825 - race_prediction.competitive_field_analyzer - INFO -   Horse 0: {'numero': 1, 'cheval': "Karvina d'Ela", 'recordG': 0.0, 'hippo': 'Paris-Vincennes', 'coursescheval': 25}
2025-11-12 22:32:31,825 - race_prediction.competitive_field_analyzer - INFO -   Horse 1: {'numero': 2, 'cheval': 'Koh Samui', 'recordG': 0.0, 'hippo': 'Paris-Vincennes', 'coursescheval': 22}
2025-11-12 22:32:31,825 - race_prediction.competitive_field_analyzer - INFO -   Horse 2: {'numero': 3, 'cheval': 'Kelle Class', 'recordG': 0.0, 'hippo': 'Paris-Vincennes', 'coursescheval': 40}
2025-11-12 22:32:31,826 - race_prediction.competitive_field_analyzer - INFO - === END COMPETITIVE ANALYSIS DEBUG ===

2025-11-12 22:32:31,826 - race_prediction.competitive_field_analyzer - INFO - === RETRIEVING HISTORICAL DATA ===
2025-11-12 22:32:31,826 - race_prediction.competitive_field_analyzer - INFO - Fetching historical data for 16 horses: [1580126, 1575520, 1566866, 1572457, 1565635, 1583971, 1552861, 1657540, 1557734, 1581928, 1660138, 1580185, 1584739, 1558628, 1552859, 1575465]
2025-11-12 22:32:31,828 - race_prediction.competitive_field_analyzer - INFO - Batch querying historical data for 16 horses: [1580126, 1575520, 1566866, 1572457, 1565635, 1583971, 1552861, 1657540, 1557734, 1581928, 1660138, 1580185, 1584739, 1558628, 1552859, 1575465]
2025-11-12 22:32:44,794 - race_prediction.competitive_field_analyzer - INFO - Batch query completed in 12.97s, found 181 total records
2025-11-12 22:32:44,850 - race_prediction.competitive_field_analyzer - INFO - Batch query retrieved 181 total historical races
2025-11-12 22:32:44,901 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS PER HORSE ===
2025-11-12 22:32:44,915 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1580126: 9 historical races found
2025-11-12 22:32:44,915 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1575520: 10 historical races found
2025-11-12 22:32:44,915 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1566866: 14 historical races found
2025-11-12 22:32:44,915 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1572457: 15 historical races found
2025-11-12 22:32:44,915 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1565635: 7 historical races found
2025-11-12 22:32:45,023 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1583971: 9 historical races found
2025-11-12 22:32:45,023 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1552861: 14 historical races found
2025-11-12 22:32:45,028 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1657540: 8 historical races found
2025-11-12 22:32:45,028 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1557734: 12 historical races found
2025-11-12 22:32:45,028 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1581928: 17 historical races found
2025-11-12 22:32:45,028 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1660138: 10 historical races found
2025-11-12 22:32:45,028 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1580185: 12 historical races found
2025-11-12 22:32:45,028 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1584739: 9 historical races found
2025-11-12 22:32:45,047 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1558628: 9 historical races found
2025-11-12 22:32:45,051 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1552859: 12 historical races found
2025-11-12 22:32:45,059 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1575465: 14 historical races found
2025-11-12 22:32:45,309 - race_prediction.competitive_field_analyzer - INFO - Retrieved 181 total historical races
2025-11-12 22:32:45,444 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS BY HORSE ===
2025-11-12 22:32:45,444 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1580126: 9 historical races
2025-11-12 22:32:45,444 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1575520: 10 historical races
2025-11-12 22:32:45,506 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1566866: 14 historical races
2025-11-12 22:32:45,509 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1572457: 15 historical races
2025-11-12 22:32:45,565 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1565635: 7 historical races
2025-11-12 22:32:45,658 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1583971: 9 historical races
2025-11-12 22:32:45,659 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1552861: 14 historical races
2025-11-12 22:32:45,659 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1657540: 8 historical races
2025-11-12 22:32:45,659 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1557734: 12 historical races
2025-11-12 22:32:45,659 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1581928: 17 historical races
2025-11-12 22:32:45,662 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1660138: 10 historical races
2025-11-12 22:32:45,662 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1580185: 12 historical races
2025-11-12 22:32:45,680 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1584739: 9 historical races
2025-11-12 22:32:45,706 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1558628: 9 historical races
2025-11-12 22:32:45,732 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1552859: 12 historical races
2025-11-12 22:32:45,741 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1575465: 14 historical races
2025-11-12 22:32:45,754 - race_prediction.competitive_field_analyzer - INFO - === END HISTORICAL DATA RETRIEVAL ===

2025-11-12 22:32:45,863 - race_prediction.competitive_field_analyzer - INFO - === EARNINGS QUALITY ANALYSIS ===
2025-11-12 22:32:45,882 - race_prediction.competitive_field_analyzer - INFO - Valid earnings data: 16/16 horses
2025-11-12 22:32:45,914 - race_prediction.competitive_field_analyzer - INFO - Sample earnings per race: ['351,680', '400,273', '224,825']
2025-11-12 22:32:45,941 - race_prediction.competitive_field_analyzer - INFO - Field earnings stats: avg=368,848, max=666,214
2025-11-12 22:32:45,968 - race_prediction.competitive_field_analyzer - INFO - === TRACK SPECIALIZATION ANALYSIS ===
2025-11-12 22:32:45,968 - race_prediction.competitive_field_analyzer - INFO - Horses with reliable venue data (3+ races): 0/16
2025-11-12 22:32:45,969 - race_prediction.competitive_field_analyzer - INFO - === FORM MOMENTUM ANALYSIS ===
2025-11-12 22:32:45,969 - race_prediction.competitive_field_analyzer - INFO - Field avg horse trend: 0.689, recent perf: 7.75
2025-11-12 22:32:45,974 - race_prediction.competitive_field_analyzer - INFO - Field avg jockey trend: -0.681
2025-11-12 22:32:45,980 - race_prediction.competitive_field_analyzer - INFO - Horses with improving form: 4/16
2025-11-12 22:32:46,017 - race_prediction.competitive_field_analyzer - INFO - === HOT CONNECTIONS ANALYSIS ===
2025-11-12 22:32:46,019 - race_prediction.competitive_field_analyzer - INFO - Jockeys with wins today: 0/16
2025-11-12 22:32:46,021 - race_prediction.competitive_field_analyzer - INFO - Trainers with wins today: 0/16
2025-11-12 22:32:46,052 - race_prediction.competitive_field_analyzer - INFO - === DISTANCE COMFORT ANALYSIS ===
2025-11-12 22:32:46,082 - race_prediction.competitive_field_analyzer - INFO - Current race distance: 2700m
2025-11-12 22:32:46,095 - race_prediction.competitive_field_analyzer - INFO - Horses with similar recent distance: 13/16
2025-11-12 22:32:46,144 - race_prediction.competitive_field_analyzer - INFO - === REALISTIC COMPETITIVE SCORING ===
2025-11-12 22:32:46,148 - race_prediction.competitive_field_analyzer - INFO - üìä COMPETITIVE ANALYSIS SUMMARY:
2025-11-12 22:32:46,158 - race_prediction.competitive_field_analyzer - INFO -    Total competitive races: 181
2025-11-12 22:32:46,158 - race_prediction.competitive_field_analyzer - INFO -    Horses with historical data: 16/16
2025-11-12 22:32:46,166 - race_prediction.competitive_field_analyzer - INFO -    Average races per horse: 11.3
2025-11-12 22:32:46,817 - race_prediction.quinte_prediction_storage - INFO - Stored 16 horses for Quint√© race 1618791
2025-11-12 22:33:39,952 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE ANALYSIS DEBUG ===
2025-11-12 22:33:39,972 - race_prediction.competitive_field_analyzer - INFO - Analyzing competitive field for race with 14 horses
2025-11-12 22:33:39,979 - race_prediction.competitive_field_analyzer - INFO - Race data shape: (14, 280)
2025-11-12 22:33:39,985 - race_prediction.competitive_field_analyzer - INFO - Available columns: ['id', 'comp', 'jour', 'hippo', 'reun', 'prix', 'prixnom', 'typec', 'partant', 'dist', 'handi', 'groupe', 'quinte', 'natpis', 'meteo', 'corde', 'temperature', 'forceVent', 'directionVent', 'nebulosite', 'prediction_results', 'actual_results', 'created_at', 'updated_at', 'processed_data', 'cheque', 'handi_raw', 'reclam', 'sex', 'tempscourse', 'handicap_level_score', 'cl', 'numero', 'cheval', 'age', 'cotedirect', 'coteprob', 'recence', 'ecar', 'defoeil', 'defoeilPrec', 'musiqueche', 'musiquejoc', 'entraineur', 'coursescheval', 'victoirescheval', 'placescheval', 'dernierealloc', 'derniernbpartants', 'dernieredist', 'derniereplace', 'dernierecote', 'dernierEnt', 'proprietaire', 'poidmont', 'pourcVictJockHippo', 'pourcPlaceJockHippo', 'pourcVictChevalHippo', 'pourcPlaceChevalHippo', 'tempstot', 'vha', 'recordG', 'txreclam', 'dernierTxreclam', 'gainsCarriere', 'gainsAnneeEnCours', 'handicapDistance', 'handicapPoids', 'TxVictCouple', 'nbVictCouple', 'nbPlaceCouple', 'idche', 'idJockey', 'idEntraineur', 'defFirstTime', 'oeilFirstTime', 'oeil', 'dernierOeil', 'ratio_victoires', 'ratio_places', 'gains_par_course', 'efficacite_couple', 'regularite_couple', 'progression_couple', 'perf_cheval_hippo', 'perf_jockey_hippo', 'trainer_victoires', 'trainer_places', 'trainer_courses', 'trainer_winrate', 'trainer_placerate', 'trainer_quality_score', 'trainer_experience_level', 'handicap_poids', 'handicap_dist', 'prec_handicap_poids', 'prec_handicap_dist', 'handicap_poids_change', 'handicap_poids_increased', 'handicap_poids_decreased', 'handicap_dist_change', 'handicap_dist_increased', 'handicap_dist_decreased', 'total_handicap', 'handicap_momentum', 'last_race_position', 'last_race_distance', 'distance_change', 'distance_change_pct', 'distance_increased', 'distance_decreased', 'same_distance', 'corde_change', 'corde_improved', 'corde_worsened', 'last_race_top3', 'last_race_won', 'blinkers_first_time', 'has_blinkers', 'has_standard_blinkers', 'has_australian_blinkers', 'blinkers_added', 'blinkers_removed', 'blinkers_type_changed', 'blinkers_any_change', 'blinkers_high_impact_change', 'shoeing_first_time', 'fully_shod', 'front_shod_only', 'back_shod_only', 'barefoot', 'shoeing_changed', 'barefoot_to_shod', 'shod_to_barefoot', 'major_shoeing_change', 'shoeing_complexity', 'multiple_equipment_changes', 'equipment_momentum_score', 'high_equipment_momentum', 'multiple_first_time_changes', 'equipment_optimization_score', 'career_strike_rate', 'earnings_per_race', 'earnings_trend', 'last_race_position_normalized', 'last_race_odds_normalized', 'last_race_field_size_factor', 'distance_consistency', 'vha_normalized', 'claiming_tax_trend', 'class_stability', 'che_global_avg_pos', 'che_global_recent_perf', 'che_global_consistency', 'che_global_trend', 'che_global_pct_top3', 'che_global_nb_courses', 'che_global_total_races', 'che_global_dnf_rate', 'che_weighted_avg_pos', 'che_weighted_recent_perf', 'che_weighted_consistency', 'che_weighted_pct_top3', 'che_weighted_nb_courses', 'che_weighted_total_races', 'che_weighted_dnf_rate', 'che_weighted_trend', 'che_bytype_avg_pos', 'che_bytype_recent_perf', 'che_bytype_consistency', 'che_bytype_trend', 'che_bytype_pct_top3', 'che_bytype_nb_courses', 'che_bytype_total_races', 'che_bytype_dnf_rate', 'joc_global_avg_pos', 'joc_global_recent_perf', 'joc_global_consistency', 'joc_global_trend', 'joc_global_pct_top3', 'joc_global_nb_courses', 'joc_global_total_races', 'joc_global_dnf_rate', 'joc_weighted_avg_pos', 'joc_weighted_recent_perf', 'joc_weighted_consistency', 'joc_weighted_pct_top3', 'joc_weighted_nb_courses', 'joc_weighted_total_races', 'joc_weighted_dnf_rate', 'joc_weighted_trend', 'joc_bytype_avg_pos', 'joc_bytype_recent_perf', 'joc_bytype_consistency', 'joc_bytype_trend', 'joc_bytype_pct_top3', 'joc_bytype_nb_courses', 'joc_bytype_total_races', 'joc_bytype_dnf_rate', 'che_form_momentum', 'che_improving_form', 'che_declining_form', 'che_high_consistency', 'che_recent_quality', 'che_elite_performer', 'che_regular_placer', 'joc_form_momentum', 'joc_improving_form', 'joc_high_consistency', 'joc_elite_performer', 'synergy_both_improving', 'synergy_both_consistent', 'synergy_both_elite', 'overall_momentum_score', 'high_momentum', 'class_drop_pct', 'purse_per_starter', 'purse_ratio', 'moving_up_in_class', 'class_shock_indicator', 'handicap_level_change', 'time_per_distance', 'time_vs_record', 'pace_rating', 'speed_figure_proxy', 'market_confidence_shift', 'last_race_improvement', 'bounce_risk', 'layoff_distance_interaction', 'trainer_change', 'connection_stability', 'field_size_change', 'distance_comfort', 'competition_level_shift', 'recence_x_class_drop', 'trainer_change_x_recence', 'distance_change_x_recence', 'che_by_type_avg_pos', 'che_by_type_recent_perf', 'che_by_type_consistency', 'che_by_type_trend', 'che_by_type_pct_top3', 'che_by_type_nb_courses', 'che_by_type_total_races', 'che_by_type_dnf_rate', 'joc_by_type_avg_pos', 'joc_by_type_recent_perf', 'joc_by_type_consistency', 'joc_by_type_trend', 'joc_by_type_pct_top3', 'joc_by_type_nb_courses', 'joc_by_type_total_races', 'joc_by_type_dnf_rate', 'quinte_career_starts', 'quinte_win_rate', 'quinte_top5_rate', 'avg_quinte_position', 'days_since_last_quinte', 'quinte_handicap_specialist', 'quinte_conditions_specialist', 'quinte_large_field_ability', 'quinte_track_condition_fit', 'is_handicap_quinte', 'handicap_division', 'purse_level_category', 'field_size_category', 'track_condition_PH', 'track_condition_DUR', 'track_condition_PS', 'track_condition_PSF', 'weather_clear', 'weather_rain', 'weather_cloudy', 'post_position_bias', 'post_position_track_bias', 'raw_tabnet_prediction', 'predicted_position_tabnet', 'raw_rf_prediction', 'predicted_position_rf', 'predicted_position_base']
2025-11-12 22:33:39,991 - race_prediction.competitive_field_analyzer - INFO - === CRITICAL COLUMNS ANALYSIS ===
2025-11-12 22:33:39,997 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ recordG: 14/14 non-null values (100.0%)
2025-11-12 22:33:40,004 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [0.0, 0.0, 0.0]
2025-11-12 22:33:40,004 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ hippo: 14/14 non-null values (100.0%)
2025-11-12 22:33:40,004 - race_prediction.competitive_field_analyzer - INFO -    Sample values: ['Beaumont-de-Lomagne', 'Beaumont-de-Lomagne', 'Beaumont-de-Lomagne']
2025-11-12 22:33:40,004 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ coursescheval: 14/14 non-null values (100.0%)
2025-11-12 22:33:40,004 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [28, 38, 44]
2025-11-12 22:33:40,004 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ victoirescheval: 14/14 non-null values (100.0%)
2025-11-12 22:33:40,004 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [9, 7, 5]
2025-11-12 22:33:40,004 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ placescheval: 14/14 non-null values (100.0%)
2025-11-12 22:33:40,004 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [16, 21, 15]
2025-11-12 22:33:40,004 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ gainsCarriere: 14/14 non-null values (100.0%)
2025-11-12 22:33:40,004 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [21669500, 20948000, 21108000]
2025-11-12 22:33:40,004 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ age: 14/14 non-null values (100.0%)
2025-11-12 22:33:40,004 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [6, 6, 7]
2025-11-12 22:33:40,005 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ derniereplace: 14/14 non-null values (100.0%)
2025-11-12 22:33:40,005 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [3, 1, 5]
2025-11-12 22:33:40,005 - race_prediction.competitive_field_analyzer - INFO - === RACE METADATA ===
2025-11-12 22:33:40,005 - race_prediction.competitive_field_analyzer - INFO - comp: 1615378
2025-11-12 22:33:40,005 - race_prediction.competitive_field_analyzer - INFO - hippo: Beaumont-de-Lomagne
2025-11-12 22:33:40,005 - race_prediction.competitive_field_analyzer - INFO - dist: 2400
2025-11-12 22:33:40,005 - race_prediction.competitive_field_analyzer - INFO - typec: Attel√©
2025-11-12 22:33:40,005 - race_prediction.competitive_field_analyzer - INFO - partant: 14
2025-11-12 22:33:40,005 - race_prediction.competitive_field_analyzer - INFO - === SAMPLE RACE DATA ===
2025-11-12 22:33:40,005 - race_prediction.competitive_field_analyzer - INFO - Sample data (columns: ['numero', 'cheval', 'recordG', 'hippo', 'coursescheval']):
2025-11-12 22:33:40,005 - race_prediction.competitive_field_analyzer - INFO -   Horse 0: {'numero': 1, 'cheval': 'Joyce Delto', 'recordG': 0.0, 'hippo': 'Beaumont-de-Lomagne', 'coursescheval': 28}
2025-11-12 22:33:40,005 - race_prediction.competitive_field_analyzer - INFO -   Horse 1: {'numero': 2, 'cheval': 'Jojo Toons', 'recordG': 0.0, 'hippo': 'Beaumont-de-Lomagne', 'coursescheval': 38}
2025-11-12 22:33:40,005 - race_prediction.competitive_field_analyzer - INFO -   Horse 2: {'numero': 3, 'cheval': 'Ivrig Viking', 'recordG': 0.0, 'hippo': 'Beaumont-de-Lomagne', 'coursescheval': 44}
2025-11-12 22:33:40,005 - race_prediction.competitive_field_analyzer - INFO - === END COMPETITIVE ANALYSIS DEBUG ===

2025-11-12 22:33:40,012 - race_prediction.competitive_field_analyzer - INFO - === RETRIEVING HISTORICAL DATA ===
2025-11-12 22:33:40,012 - race_prediction.competitive_field_analyzer - INFO - Fetching historical data for 14 horses: [1521761, 1557632, 1463210, 1521583, 1571199, 1430643, 1389154, 1430819, 1515024, 1526420, 1335733, 1403264, 1510772, 1513940]
2025-11-12 22:33:40,028 - race_prediction.competitive_field_analyzer - INFO - Batch querying historical data for 14 horses: [1521761, 1557632, 1463210, 1521583, 1571199, 1430643, 1389154, 1430819, 1515024, 1526420, 1335733, 1403264, 1510772, 1513940]
2025-11-12 22:33:55,809 - race_prediction.competitive_field_analyzer - INFO - Batch query completed in 15.77s, found 179 total records
2025-11-12 22:33:55,836 - race_prediction.competitive_field_analyzer - INFO - Batch query retrieved 179 total historical races
2025-11-12 22:33:55,843 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS PER HORSE ===
2025-11-12 22:33:55,849 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1521761: 11 historical races found
2025-11-12 22:33:55,855 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1557632: 15 historical races found
2025-11-12 22:33:55,861 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1463210: 7 historical races found
2025-11-12 22:33:55,861 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1521583: 11 historical races found
2025-11-12 22:33:55,861 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1571199: 15 historical races found
2025-11-12 22:33:55,867 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1430643: 20 historical races found
2025-11-12 22:33:55,874 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1389154: 9 historical races found
2025-11-12 22:33:55,880 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1430819: 13 historical races found
2025-11-12 22:33:55,880 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1515024: 6 historical races found
2025-11-12 22:33:55,887 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1526420: 12 historical races found
2025-11-12 22:33:55,887 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1335733: 19 historical races found
2025-11-12 22:33:55,887 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1403264: 10 historical races found
2025-11-12 22:33:55,892 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1510772: 18 historical races found
2025-11-12 22:33:55,897 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1513940: 13 historical races found
2025-11-12 22:33:55,910 - race_prediction.competitive_field_analyzer - INFO - Retrieved 179 total historical races
2025-11-12 22:33:55,923 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS BY HORSE ===
2025-11-12 22:33:55,928 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1521761: 11 historical races
2025-11-12 22:33:55,935 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1557632: 15 historical races
2025-11-12 22:33:55,935 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1463210: 7 historical races
2025-11-12 22:33:55,947 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1521583: 11 historical races
2025-11-12 22:33:55,947 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1571199: 15 historical races
2025-11-12 22:33:55,947 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1430643: 20 historical races
2025-11-12 22:33:55,954 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1389154: 9 historical races
2025-11-12 22:33:55,960 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1430819: 13 historical races
2025-11-12 22:33:55,966 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1515024: 6 historical races
2025-11-12 22:33:55,966 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1526420: 12 historical races
2025-11-12 22:33:55,966 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1335733: 19 historical races
2025-11-12 22:33:55,967 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1403264: 10 historical races
2025-11-12 22:33:55,967 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1510772: 18 historical races
2025-11-12 22:33:55,967 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1513940: 13 historical races
2025-11-12 22:33:55,967 - race_prediction.competitive_field_analyzer - INFO - === END HISTORICAL DATA RETRIEVAL ===

2025-11-12 22:33:55,967 - race_prediction.competitive_field_analyzer - INFO - === EARNINGS QUALITY ANALYSIS ===
2025-11-12 22:33:55,980 - race_prediction.competitive_field_analyzer - INFO - Valid earnings data: 14/14 horses
2025-11-12 22:33:55,980 - race_prediction.competitive_field_analyzer - INFO - Sample earnings per race: ['773,911', '551,263', '479,727']
2025-11-12 22:33:55,980 - race_prediction.competitive_field_analyzer - INFO - Field earnings stats: avg=449,186, max=773,911
2025-11-12 22:33:55,983 - race_prediction.competitive_field_analyzer - INFO - === TRACK SPECIALIZATION ANALYSIS ===
2025-11-12 22:33:55,996 - race_prediction.competitive_field_analyzer - INFO - Horses with reliable venue data (3+ races): 0/14
2025-11-12 22:33:56,002 - race_prediction.competitive_field_analyzer - INFO - === FORM MOMENTUM ANALYSIS ===
2025-11-12 22:33:56,009 - race_prediction.competitive_field_analyzer - INFO - Field avg horse trend: 2.359, recent perf: 5.81
2025-11-12 22:33:56,015 - race_prediction.competitive_field_analyzer - INFO - Field avg jockey trend: 0.306
2025-11-12 22:33:56,033 - race_prediction.competitive_field_analyzer - INFO - Horses with improving form: 3/14
2025-11-12 22:33:56,039 - race_prediction.competitive_field_analyzer - INFO - === HOT CONNECTIONS ANALYSIS ===
2025-11-12 22:33:56,044 - race_prediction.competitive_field_analyzer - INFO - Jockeys with wins today: 0/14
2025-11-12 22:33:56,044 - race_prediction.competitive_field_analyzer - INFO - Trainers with wins today: 0/14
2025-11-12 22:33:56,045 - race_prediction.competitive_field_analyzer - INFO - === DISTANCE COMFORT ANALYSIS ===
2025-11-12 22:33:56,045 - race_prediction.competitive_field_analyzer - INFO - Current race distance: 2400m
2025-11-12 22:33:56,051 - race_prediction.competitive_field_analyzer - INFO - Horses with similar recent distance: 4/14
2025-11-12 22:33:56,051 - race_prediction.competitive_field_analyzer - INFO - === REALISTIC COMPETITIVE SCORING ===
2025-11-12 22:33:56,052 - race_prediction.competitive_field_analyzer - INFO - üìä COMPETITIVE ANALYSIS SUMMARY:
2025-11-12 22:33:56,052 - race_prediction.competitive_field_analyzer - INFO -    Total competitive races: 179
2025-11-12 22:33:56,052 - race_prediction.competitive_field_analyzer - INFO -    Horses with historical data: 14/14
2025-11-12 22:33:56,052 - race_prediction.competitive_field_analyzer - INFO -    Average races per horse: 12.8
2025-11-12 22:33:56,280 - race_prediction.quinte_prediction_storage - INFO - Stored 14 horses for Quint√© race 1615378
2025-11-12 22:34:09,573 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE ANALYSIS DEBUG ===
2025-11-12 22:34:09,574 - race_prediction.competitive_field_analyzer - INFO - Analyzing competitive field for race with 16 horses
2025-11-12 22:34:09,574 - race_prediction.competitive_field_analyzer - INFO - Race data shape: (16, 280)
2025-11-12 22:34:09,574 - race_prediction.competitive_field_analyzer - INFO - Available columns: ['id', 'comp', 'jour', 'hippo', 'reun', 'prix', 'prixnom', 'typec', 'partant', 'dist', 'handi', 'groupe', 'quinte', 'natpis', 'meteo', 'corde', 'temperature', 'forceVent', 'directionVent', 'nebulosite', 'prediction_results', 'actual_results', 'created_at', 'updated_at', 'processed_data', 'cheque', 'handi_raw', 'reclam', 'sex', 'tempscourse', 'handicap_level_score', 'cl', 'numero', 'cheval', 'age', 'cotedirect', 'coteprob', 'recence', 'ecar', 'defoeil', 'defoeilPrec', 'musiqueche', 'musiquejoc', 'entraineur', 'coursescheval', 'victoirescheval', 'placescheval', 'dernierealloc', 'derniernbpartants', 'dernieredist', 'derniereplace', 'dernierecote', 'dernierEnt', 'proprietaire', 'poidmont', 'pourcVictJockHippo', 'pourcPlaceJockHippo', 'pourcVictChevalHippo', 'pourcPlaceChevalHippo', 'tempstot', 'vha', 'recordG', 'txreclam', 'dernierTxreclam', 'gainsCarriere', 'gainsAnneeEnCours', 'handicapDistance', 'handicapPoids', 'TxVictCouple', 'nbVictCouple', 'nbPlaceCouple', 'idche', 'idJockey', 'idEntraineur', 'defFirstTime', 'oeilFirstTime', 'oeil', 'dernierOeil', 'ratio_victoires', 'ratio_places', 'gains_par_course', 'efficacite_couple', 'regularite_couple', 'progression_couple', 'perf_cheval_hippo', 'perf_jockey_hippo', 'trainer_victoires', 'trainer_places', 'trainer_courses', 'trainer_winrate', 'trainer_placerate', 'trainer_quality_score', 'trainer_experience_level', 'handicap_poids', 'handicap_dist', 'prec_handicap_poids', 'prec_handicap_dist', 'handicap_poids_change', 'handicap_poids_increased', 'handicap_poids_decreased', 'handicap_dist_change', 'handicap_dist_increased', 'handicap_dist_decreased', 'total_handicap', 'handicap_momentum', 'last_race_position', 'last_race_distance', 'distance_change', 'distance_change_pct', 'distance_increased', 'distance_decreased', 'same_distance', 'corde_change', 'corde_improved', 'corde_worsened', 'last_race_top3', 'last_race_won', 'blinkers_first_time', 'has_blinkers', 'has_standard_blinkers', 'has_australian_blinkers', 'blinkers_added', 'blinkers_removed', 'blinkers_type_changed', 'blinkers_any_change', 'blinkers_high_impact_change', 'shoeing_first_time', 'fully_shod', 'front_shod_only', 'back_shod_only', 'barefoot', 'shoeing_changed', 'barefoot_to_shod', 'shod_to_barefoot', 'major_shoeing_change', 'shoeing_complexity', 'multiple_equipment_changes', 'equipment_momentum_score', 'high_equipment_momentum', 'multiple_first_time_changes', 'equipment_optimization_score', 'career_strike_rate', 'earnings_per_race', 'earnings_trend', 'last_race_position_normalized', 'last_race_odds_normalized', 'last_race_field_size_factor', 'distance_consistency', 'vha_normalized', 'claiming_tax_trend', 'class_stability', 'che_global_avg_pos', 'che_global_recent_perf', 'che_global_consistency', 'che_global_trend', 'che_global_pct_top3', 'che_global_nb_courses', 'che_global_total_races', 'che_global_dnf_rate', 'che_weighted_avg_pos', 'che_weighted_recent_perf', 'che_weighted_consistency', 'che_weighted_pct_top3', 'che_weighted_nb_courses', 'che_weighted_total_races', 'che_weighted_dnf_rate', 'che_weighted_trend', 'che_bytype_avg_pos', 'che_bytype_recent_perf', 'che_bytype_consistency', 'che_bytype_trend', 'che_bytype_pct_top3', 'che_bytype_nb_courses', 'che_bytype_total_races', 'che_bytype_dnf_rate', 'joc_global_avg_pos', 'joc_global_recent_perf', 'joc_global_consistency', 'joc_global_trend', 'joc_global_pct_top3', 'joc_global_nb_courses', 'joc_global_total_races', 'joc_global_dnf_rate', 'joc_weighted_avg_pos', 'joc_weighted_recent_perf', 'joc_weighted_consistency', 'joc_weighted_pct_top3', 'joc_weighted_nb_courses', 'joc_weighted_total_races', 'joc_weighted_dnf_rate', 'joc_weighted_trend', 'joc_bytype_avg_pos', 'joc_bytype_recent_perf', 'joc_bytype_consistency', 'joc_bytype_trend', 'joc_bytype_pct_top3', 'joc_bytype_nb_courses', 'joc_bytype_total_races', 'joc_bytype_dnf_rate', 'che_form_momentum', 'che_improving_form', 'che_declining_form', 'che_high_consistency', 'che_recent_quality', 'che_elite_performer', 'che_regular_placer', 'joc_form_momentum', 'joc_improving_form', 'joc_high_consistency', 'joc_elite_performer', 'synergy_both_improving', 'synergy_both_consistent', 'synergy_both_elite', 'overall_momentum_score', 'high_momentum', 'class_drop_pct', 'purse_per_starter', 'purse_ratio', 'moving_up_in_class', 'class_shock_indicator', 'handicap_level_change', 'time_per_distance', 'time_vs_record', 'pace_rating', 'speed_figure_proxy', 'market_confidence_shift', 'last_race_improvement', 'bounce_risk', 'layoff_distance_interaction', 'trainer_change', 'connection_stability', 'field_size_change', 'distance_comfort', 'competition_level_shift', 'recence_x_class_drop', 'trainer_change_x_recence', 'distance_change_x_recence', 'che_by_type_avg_pos', 'che_by_type_recent_perf', 'che_by_type_consistency', 'che_by_type_trend', 'che_by_type_pct_top3', 'che_by_type_nb_courses', 'che_by_type_total_races', 'che_by_type_dnf_rate', 'joc_by_type_avg_pos', 'joc_by_type_recent_perf', 'joc_by_type_consistency', 'joc_by_type_trend', 'joc_by_type_pct_top3', 'joc_by_type_nb_courses', 'joc_by_type_total_races', 'joc_by_type_dnf_rate', 'quinte_career_starts', 'quinte_win_rate', 'quinte_top5_rate', 'avg_quinte_position', 'days_since_last_quinte', 'quinte_handicap_specialist', 'quinte_conditions_specialist', 'quinte_large_field_ability', 'quinte_track_condition_fit', 'is_handicap_quinte', 'handicap_division', 'purse_level_category', 'field_size_category', 'track_condition_PH', 'track_condition_DUR', 'track_condition_PS', 'track_condition_PSF', 'weather_clear', 'weather_rain', 'weather_cloudy', 'post_position_bias', 'post_position_track_bias', 'raw_tabnet_prediction', 'predicted_position_tabnet', 'raw_rf_prediction', 'predicted_position_rf', 'predicted_position_base']
2025-11-12 22:34:09,574 - race_prediction.competitive_field_analyzer - INFO - === CRITICAL COLUMNS ANALYSIS ===
2025-11-12 22:34:09,574 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ recordG: 16/16 non-null values (100.0%)
2025-11-12 22:34:09,575 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [0.0, 0.0, 0.0]
2025-11-12 22:34:09,575 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ hippo: 16/16 non-null values (100.0%)
2025-11-12 22:34:09,575 - race_prediction.competitive_field_analyzer - INFO -    Sample values: ['Deauville', 'Deauville', 'Deauville']
2025-11-12 22:34:09,575 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ coursescheval: 16/16 non-null values (100.0%)
2025-11-12 22:34:09,575 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [25, 9, 17]
2025-11-12 22:34:09,575 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ victoirescheval: 16/16 non-null values (100.0%)
2025-11-12 22:34:09,575 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [7, 3, 2]
2025-11-12 22:34:09,575 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ placescheval: 16/16 non-null values (100.0%)
2025-11-12 22:34:09,575 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [12, 4, 8]
2025-11-12 22:34:09,575 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ gainsCarriere: 16/16 non-null values (100.0%)
2025-11-12 22:34:09,575 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [15966500, 4109200, 10717200]
2025-11-12 22:34:09,575 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ age: 16/16 non-null values (100.0%)
2025-11-12 22:34:09,576 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [8, 4, 5]
2025-11-12 22:34:09,576 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ derniereplace: 16/16 non-null values (100.0%)
2025-11-12 22:34:09,576 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [8, 6, 6]
2025-11-12 22:34:09,576 - race_prediction.competitive_field_analyzer - INFO - === RACE METADATA ===
2025-11-12 22:34:09,576 - race_prediction.competitive_field_analyzer - INFO - comp: 1607304
2025-11-12 22:34:09,576 - race_prediction.competitive_field_analyzer - INFO - hippo: Deauville
2025-11-12 22:34:09,576 - race_prediction.competitive_field_analyzer - INFO - dist: 1900
2025-11-12 22:34:09,576 - race_prediction.competitive_field_analyzer - INFO - typec: Plat
2025-11-12 22:34:09,576 - race_prediction.competitive_field_analyzer - INFO - partant: 16
2025-11-12 22:34:09,576 - race_prediction.competitive_field_analyzer - INFO - === SAMPLE RACE DATA ===
2025-11-12 22:34:09,576 - race_prediction.competitive_field_analyzer - INFO - Sample data (columns: ['numero', 'cheval', 'recordG', 'hippo', 'coursescheval']):
2025-11-12 22:34:09,576 - race_prediction.competitive_field_analyzer - INFO -   Horse 0: {'numero': 1, 'cheval': 'Kahuna', 'recordG': 0.0, 'hippo': 'Deauville', 'coursescheval': 25}
2025-11-12 22:34:09,576 - race_prediction.competitive_field_analyzer - INFO -   Horse 1: {'numero': 2, 'cheval': 'Prince des Villes', 'recordG': 0.0, 'hippo': 'Deauville', 'coursescheval': 9}
2025-11-12 22:34:09,576 - race_prediction.competitive_field_analyzer - INFO -   Horse 2: {'numero': 3, 'cheval': 'Zvaroshka', 'recordG': 0.0, 'hippo': 'Deauville', 'coursescheval': 17}
2025-11-12 22:34:09,576 - race_prediction.competitive_field_analyzer - INFO - === END COMPETITIVE ANALYSIS DEBUG ===

2025-11-12 22:34:09,576 - race_prediction.competitive_field_analyzer - INFO - === RETRIEVING HISTORICAL DATA ===
2025-11-12 22:34:09,576 - race_prediction.competitive_field_analyzer - INFO - Fetching historical data for 16 horses: [1361490, 1653818, 1570962, 1416740, 1559477, 1523271, 1649377, 1520399, 1553763, 1655545, 1661687, 1572948, 1654163, 1409128, 1696582, 1651290]
2025-11-12 22:34:09,577 - race_prediction.competitive_field_analyzer - INFO - Batch querying historical data for 16 horses: [1361490, 1653818, 1570962, 1416740, 1559477, 1523271, 1649377, 1520399, 1553763, 1655545, 1661687, 1572948, 1654163, 1409128, 1696582, 1651290]
2025-11-12 22:34:27,659 - race_prediction.competitive_field_analyzer - INFO - Batch query completed in 18.08s, found 141 total records
2025-11-12 22:34:27,672 - race_prediction.competitive_field_analyzer - INFO - Batch query retrieved 141 total historical races
2025-11-12 22:34:27,672 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS PER HORSE ===
2025-11-12 22:34:27,672 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1361490: 7 historical races found
2025-11-12 22:34:27,672 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1653818: 6 historical races found
2025-11-12 22:34:27,672 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1570962: 5 historical races found
2025-11-12 22:34:27,672 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1416740: 14 historical races found
2025-11-12 22:34:27,672 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1559477: 4 historical races found
2025-11-12 22:34:27,672 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1523271: 13 historical races found
2025-11-12 22:34:27,672 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1649377: 12 historical races found
2025-11-12 22:34:27,672 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1520399: 7 historical races found
2025-11-12 22:34:27,672 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1553763: 9 historical races found
2025-11-12 22:34:27,672 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1655545: 7 historical races found
2025-11-12 22:34:27,672 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1661687: 7 historical races found
2025-11-12 22:34:27,672 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1572948: 8 historical races found
2025-11-12 22:34:27,672 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1654163: 9 historical races found
2025-11-12 22:34:27,672 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1409128: 17 historical races found
2025-11-12 22:34:27,672 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1696582: 9 historical races found
2025-11-12 22:34:27,672 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1651290: 7 historical races found
2025-11-12 22:34:27,672 - race_prediction.competitive_field_analyzer - INFO - Retrieved 141 total historical races
2025-11-12 22:34:27,672 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS BY HORSE ===
2025-11-12 22:34:27,672 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1361490: 7 historical races
2025-11-12 22:34:27,672 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1653818: 6 historical races
2025-11-12 22:34:27,672 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1570962: 5 historical races
2025-11-12 22:34:27,672 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1416740: 14 historical races
2025-11-12 22:34:27,672 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1559477: 4 historical races
2025-11-12 22:34:27,672 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1523271: 13 historical races
2025-11-12 22:34:27,672 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1649377: 12 historical races
2025-11-12 22:34:27,672 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1520399: 7 historical races
2025-11-12 22:34:27,672 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1553763: 9 historical races
2025-11-12 22:34:27,672 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1655545: 7 historical races
2025-11-12 22:34:27,672 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1661687: 7 historical races
2025-11-12 22:34:27,673 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1572948: 8 historical races
2025-11-12 22:34:27,673 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1654163: 9 historical races
2025-11-12 22:34:27,673 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1409128: 17 historical races
2025-11-12 22:34:27,673 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1696582: 9 historical races
2025-11-12 22:34:27,673 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1651290: 7 historical races
2025-11-12 22:34:27,673 - race_prediction.competitive_field_analyzer - INFO - === END HISTORICAL DATA RETRIEVAL ===

2025-11-12 22:34:27,673 - race_prediction.competitive_field_analyzer - INFO - === EARNINGS QUALITY ANALYSIS ===
2025-11-12 22:34:27,673 - race_prediction.competitive_field_analyzer - INFO - Valid earnings data: 16/16 horses
2025-11-12 22:34:27,673 - race_prediction.competitive_field_analyzer - INFO - Sample earnings per race: ['638,660', '456,578', '630,424']
2025-11-12 22:34:27,674 - race_prediction.competitive_field_analyzer - INFO - Field earnings stats: avg=407,481, max=638,660
2025-11-12 22:34:27,674 - race_prediction.competitive_field_analyzer - INFO - === TRACK SPECIALIZATION ANALYSIS ===
2025-11-12 22:34:27,674 - race_prediction.competitive_field_analyzer - INFO - Horses with reliable venue data (3+ races): 0/16
2025-11-12 22:34:27,676 - race_prediction.competitive_field_analyzer - INFO - === FORM MOMENTUM ANALYSIS ===
2025-11-12 22:34:27,676 - race_prediction.competitive_field_analyzer - INFO - Field avg horse trend: -1.788, recent perf: 8.44
2025-11-12 22:34:27,676 - race_prediction.competitive_field_analyzer - INFO - Field avg jockey trend: -2.168
2025-11-12 22:34:27,676 - race_prediction.competitive_field_analyzer - INFO - Horses with improving form: 4/16
2025-11-12 22:34:27,676 - race_prediction.competitive_field_analyzer - INFO - === HOT CONNECTIONS ANALYSIS ===
2025-11-12 22:34:27,676 - race_prediction.competitive_field_analyzer - INFO - Jockeys with wins today: 0/16
2025-11-12 22:34:27,676 - race_prediction.competitive_field_analyzer - INFO - Trainers with wins today: 0/16
2025-11-12 22:34:27,676 - race_prediction.competitive_field_analyzer - INFO - === DISTANCE COMFORT ANALYSIS ===
2025-11-12 22:34:27,676 - race_prediction.competitive_field_analyzer - INFO - Current race distance: 1900m
2025-11-12 22:34:27,677 - race_prediction.competitive_field_analyzer - INFO - Horses with similar recent distance: 11/16
2025-11-12 22:34:27,677 - race_prediction.competitive_field_analyzer - INFO - === REALISTIC COMPETITIVE SCORING ===
2025-11-12 22:34:27,677 - race_prediction.competitive_field_analyzer - INFO - üìä COMPETITIVE ANALYSIS SUMMARY:
2025-11-12 22:34:27,677 - race_prediction.competitive_field_analyzer - INFO -    Total competitive races: 141
2025-11-12 22:34:27,677 - race_prediction.competitive_field_analyzer - INFO -    Horses with historical data: 16/16
2025-11-12 22:34:27,677 - race_prediction.competitive_field_analyzer - INFO -    Average races per horse: 8.8
2025-11-12 22:34:27,696 - race_prediction.quinte_prediction_storage - INFO - Stored 16 horses for Quint√© race 1607304
2025-11-12 22:34:33,284 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE ANALYSIS DEBUG ===
2025-11-12 22:34:33,294 - race_prediction.competitive_field_analyzer - INFO - Analyzing competitive field for race with 16 horses
2025-11-12 22:34:33,294 - race_prediction.competitive_field_analyzer - INFO - Race data shape: (16, 280)
2025-11-12 22:34:33,295 - race_prediction.competitive_field_analyzer - INFO - Available columns: ['id', 'comp', 'jour', 'hippo', 'reun', 'prix', 'prixnom', 'typec', 'partant', 'dist', 'handi', 'groupe', 'quinte', 'natpis', 'meteo', 'corde', 'temperature', 'forceVent', 'directionVent', 'nebulosite', 'prediction_results', 'actual_results', 'created_at', 'updated_at', 'processed_data', 'cheque', 'handi_raw', 'reclam', 'sex', 'tempscourse', 'handicap_level_score', 'cl', 'numero', 'cheval', 'age', 'cotedirect', 'coteprob', 'recence', 'ecar', 'defoeil', 'defoeilPrec', 'musiqueche', 'musiquejoc', 'entraineur', 'coursescheval', 'victoirescheval', 'placescheval', 'dernierealloc', 'derniernbpartants', 'dernieredist', 'derniereplace', 'dernierecote', 'dernierEnt', 'proprietaire', 'poidmont', 'pourcVictJockHippo', 'pourcPlaceJockHippo', 'pourcVictChevalHippo', 'pourcPlaceChevalHippo', 'tempstot', 'vha', 'recordG', 'txreclam', 'dernierTxreclam', 'gainsCarriere', 'gainsAnneeEnCours', 'handicapDistance', 'handicapPoids', 'TxVictCouple', 'nbVictCouple', 'nbPlaceCouple', 'idche', 'idJockey', 'idEntraineur', 'defFirstTime', 'oeilFirstTime', 'oeil', 'dernierOeil', 'ratio_victoires', 'ratio_places', 'gains_par_course', 'efficacite_couple', 'regularite_couple', 'progression_couple', 'perf_cheval_hippo', 'perf_jockey_hippo', 'trainer_victoires', 'trainer_places', 'trainer_courses', 'trainer_winrate', 'trainer_placerate', 'trainer_quality_score', 'trainer_experience_level', 'handicap_poids', 'handicap_dist', 'prec_handicap_poids', 'prec_handicap_dist', 'handicap_poids_change', 'handicap_poids_increased', 'handicap_poids_decreased', 'handicap_dist_change', 'handicap_dist_increased', 'handicap_dist_decreased', 'total_handicap', 'handicap_momentum', 'last_race_position', 'last_race_distance', 'distance_change', 'distance_change_pct', 'distance_increased', 'distance_decreased', 'same_distance', 'corde_change', 'corde_improved', 'corde_worsened', 'last_race_top3', 'last_race_won', 'blinkers_first_time', 'has_blinkers', 'has_standard_blinkers', 'has_australian_blinkers', 'blinkers_added', 'blinkers_removed', 'blinkers_type_changed', 'blinkers_any_change', 'blinkers_high_impact_change', 'shoeing_first_time', 'fully_shod', 'front_shod_only', 'back_shod_only', 'barefoot', 'shoeing_changed', 'barefoot_to_shod', 'shod_to_barefoot', 'major_shoeing_change', 'shoeing_complexity', 'multiple_equipment_changes', 'equipment_momentum_score', 'high_equipment_momentum', 'multiple_first_time_changes', 'equipment_optimization_score', 'career_strike_rate', 'earnings_per_race', 'earnings_trend', 'last_race_position_normalized', 'last_race_odds_normalized', 'last_race_field_size_factor', 'distance_consistency', 'vha_normalized', 'claiming_tax_trend', 'class_stability', 'che_global_avg_pos', 'che_global_recent_perf', 'che_global_consistency', 'che_global_trend', 'che_global_pct_top3', 'che_global_nb_courses', 'che_global_total_races', 'che_global_dnf_rate', 'che_weighted_avg_pos', 'che_weighted_recent_perf', 'che_weighted_consistency', 'che_weighted_pct_top3', 'che_weighted_nb_courses', 'che_weighted_total_races', 'che_weighted_dnf_rate', 'che_weighted_trend', 'che_bytype_avg_pos', 'che_bytype_recent_perf', 'che_bytype_consistency', 'che_bytype_trend', 'che_bytype_pct_top3', 'che_bytype_nb_courses', 'che_bytype_total_races', 'che_bytype_dnf_rate', 'joc_global_avg_pos', 'joc_global_recent_perf', 'joc_global_consistency', 'joc_global_trend', 'joc_global_pct_top3', 'joc_global_nb_courses', 'joc_global_total_races', 'joc_global_dnf_rate', 'joc_weighted_avg_pos', 'joc_weighted_recent_perf', 'joc_weighted_consistency', 'joc_weighted_pct_top3', 'joc_weighted_nb_courses', 'joc_weighted_total_races', 'joc_weighted_dnf_rate', 'joc_weighted_trend', 'joc_bytype_avg_pos', 'joc_bytype_recent_perf', 'joc_bytype_consistency', 'joc_bytype_trend', 'joc_bytype_pct_top3', 'joc_bytype_nb_courses', 'joc_bytype_total_races', 'joc_bytype_dnf_rate', 'che_form_momentum', 'che_improving_form', 'che_declining_form', 'che_high_consistency', 'che_recent_quality', 'che_elite_performer', 'che_regular_placer', 'joc_form_momentum', 'joc_improving_form', 'joc_high_consistency', 'joc_elite_performer', 'synergy_both_improving', 'synergy_both_consistent', 'synergy_both_elite', 'overall_momentum_score', 'high_momentum', 'class_drop_pct', 'purse_per_starter', 'purse_ratio', 'moving_up_in_class', 'class_shock_indicator', 'handicap_level_change', 'time_per_distance', 'time_vs_record', 'pace_rating', 'speed_figure_proxy', 'market_confidence_shift', 'last_race_improvement', 'bounce_risk', 'layoff_distance_interaction', 'trainer_change', 'connection_stability', 'field_size_change', 'distance_comfort', 'competition_level_shift', 'recence_x_class_drop', 'trainer_change_x_recence', 'distance_change_x_recence', 'che_by_type_avg_pos', 'che_by_type_recent_perf', 'che_by_type_consistency', 'che_by_type_trend', 'che_by_type_pct_top3', 'che_by_type_nb_courses', 'che_by_type_total_races', 'che_by_type_dnf_rate', 'joc_by_type_avg_pos', 'joc_by_type_recent_perf', 'joc_by_type_consistency', 'joc_by_type_trend', 'joc_by_type_pct_top3', 'joc_by_type_nb_courses', 'joc_by_type_total_races', 'joc_by_type_dnf_rate', 'quinte_career_starts', 'quinte_win_rate', 'quinte_top5_rate', 'avg_quinte_position', 'days_since_last_quinte', 'quinte_handicap_specialist', 'quinte_conditions_specialist', 'quinte_large_field_ability', 'quinte_track_condition_fit', 'is_handicap_quinte', 'handicap_division', 'purse_level_category', 'field_size_category', 'track_condition_PH', 'track_condition_DUR', 'track_condition_PS', 'track_condition_PSF', 'weather_clear', 'weather_rain', 'weather_cloudy', 'post_position_bias', 'post_position_track_bias', 'raw_tabnet_prediction', 'predicted_position_tabnet', 'raw_rf_prediction', 'predicted_position_rf', 'predicted_position_base']
2025-11-12 22:34:33,310 - race_prediction.competitive_field_analyzer - INFO - === CRITICAL COLUMNS ANALYSIS ===
2025-11-12 22:34:33,310 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ recordG: 16/16 non-null values (100.0%)
2025-11-12 22:34:33,311 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [0.0, 0.0, 0.0]
2025-11-12 22:34:33,311 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ hippo: 16/16 non-null values (100.0%)
2025-11-12 22:34:33,311 - race_prediction.competitive_field_analyzer - INFO -    Sample values: ['Enghien', 'Enghien', 'Enghien']
2025-11-12 22:34:33,311 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ coursescheval: 16/16 non-null values (100.0%)
2025-11-12 22:34:33,311 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [47, 73, 62]
2025-11-12 22:34:33,311 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ victoirescheval: 16/16 non-null values (100.0%)
2025-11-12 22:34:33,311 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [4, 4, 0]
2025-11-12 22:34:33,311 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ placescheval: 16/16 non-null values (100.0%)
2025-11-12 22:34:33,311 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [11, 8, 12]
2025-11-12 22:34:33,311 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ gainsCarriere: 16/16 non-null values (100.0%)
2025-11-12 22:34:33,311 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [6988500, 7042000, 7062500]
2025-11-12 22:34:33,311 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ age: 16/16 non-null values (100.0%)
2025-11-12 22:34:33,311 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [6, 7, 6]
2025-11-12 22:34:33,311 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ derniereplace: 16/16 non-null values (100.0%)
2025-11-12 22:34:33,311 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [15.0, 15.0, 8.0]
2025-11-12 22:34:33,311 - race_prediction.competitive_field_analyzer - INFO - === RACE METADATA ===
2025-11-12 22:34:33,311 - race_prediction.competitive_field_analyzer - INFO - comp: 1613016
2025-11-12 22:34:33,312 - race_prediction.competitive_field_analyzer - INFO - hippo: Enghien
2025-11-12 22:34:33,312 - race_prediction.competitive_field_analyzer - INFO - dist: 2875
2025-11-12 22:34:33,312 - race_prediction.competitive_field_analyzer - INFO - typec: Attel√©
2025-11-12 22:34:33,312 - race_prediction.competitive_field_analyzer - INFO - partant: 16
2025-11-12 22:34:33,312 - race_prediction.competitive_field_analyzer - INFO - === SAMPLE RACE DATA ===
2025-11-12 22:34:33,312 - race_prediction.competitive_field_analyzer - INFO - Sample data (columns: ['numero', 'cheval', 'recordG', 'hippo', 'coursescheval']):
2025-11-12 22:34:33,312 - race_prediction.competitive_field_analyzer - INFO -   Horse 0: {'numero': 1, 'cheval': 'Jaguar de Rozevic', 'recordG': 0.0, 'hippo': 'Enghien', 'coursescheval': 47}
2025-11-12 22:34:33,312 - race_prediction.competitive_field_analyzer - INFO -   Horse 1: {'numero': 2, 'cheval': "Id√©ale d'Arcey", 'recordG': 0.0, 'hippo': 'Enghien', 'coursescheval': 73}
2025-11-12 22:34:33,312 - race_prediction.competitive_field_analyzer - INFO -   Horse 2: {'numero': 3, 'cheval': 'Jackson Hill', 'recordG': 0.0, 'hippo': 'Enghien', 'coursescheval': 62}
2025-11-12 22:34:33,312 - race_prediction.competitive_field_analyzer - INFO - === END COMPETITIVE ANALYSIS DEBUG ===

2025-11-12 22:34:33,312 - race_prediction.competitive_field_analyzer - INFO - === RETRIEVING HISTORICAL DATA ===
2025-11-12 22:34:33,312 - race_prediction.competitive_field_analyzer - INFO - Fetching historical data for 16 horses: [1543005, 1445416, 1516162, 1519564, 1643171, 1548033, 1520947, 1549672, 1517913, 1474737, 1527398, 1534198, 1528809, 1576404, 1535030, 1522817]
2025-11-12 22:34:33,320 - race_prediction.competitive_field_analyzer - INFO - Batch querying historical data for 16 horses: [1543005, 1445416, 1516162, 1519564, 1643171, 1548033, 1520947, 1549672, 1517913, 1474737, 1527398, 1534198, 1528809, 1576404, 1535030, 1522817]
2025-11-12 22:34:58,326 - race_prediction.competitive_field_analyzer - INFO - Batch query completed in 25.01s, found 218 total records
2025-11-12 22:34:58,365 - race_prediction.competitive_field_analyzer - INFO - Batch query retrieved 218 total historical races
2025-11-12 22:34:58,365 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS PER HORSE ===
2025-11-12 22:34:58,365 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1543005: 17 historical races found
2025-11-12 22:34:58,365 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1445416: 12 historical races found
2025-11-12 22:34:58,371 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1516162: 17 historical races found
2025-11-12 22:34:58,378 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1519564: 7 historical races found
2025-11-12 22:34:58,384 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1643171: 17 historical races found
2025-11-12 22:34:58,384 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1548033: 14 historical races found
2025-11-12 22:34:58,384 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1520947: 14 historical races found
2025-11-12 22:34:58,384 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1549672: 16 historical races found
2025-11-12 22:34:58,390 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1517913: 14 historical races found
2025-11-12 22:34:58,402 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1474737: 14 historical races found
2025-11-12 22:34:58,427 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1527398: 14 historical races found
2025-11-12 22:34:58,427 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1534198: 14 historical races found
2025-11-12 22:34:58,427 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1528809: 17 historical races found
2025-11-12 22:34:58,427 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1576404: 10 historical races found
2025-11-12 22:34:58,427 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1535030: 6 historical races found
2025-11-12 22:34:58,427 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1522817: 15 historical races found
2025-11-12 22:34:58,429 - race_prediction.competitive_field_analyzer - INFO - Retrieved 218 total historical races
2025-11-12 22:34:58,429 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS BY HORSE ===
2025-11-12 22:34:58,429 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1543005: 17 historical races
2025-11-12 22:34:58,436 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1445416: 12 historical races
2025-11-12 22:34:58,436 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1516162: 17 historical races
2025-11-12 22:34:58,436 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1519564: 7 historical races
2025-11-12 22:34:58,442 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1643171: 17 historical races
2025-11-12 22:34:58,442 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1548033: 14 historical races
2025-11-12 22:34:58,455 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1520947: 14 historical races
2025-11-12 22:34:58,461 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1549672: 16 historical races
2025-11-12 22:34:58,467 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1517913: 14 historical races
2025-11-12 22:34:58,473 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1474737: 14 historical races
2025-11-12 22:34:58,473 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1527398: 14 historical races
2025-11-12 22:34:58,486 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1534198: 14 historical races
2025-11-12 22:34:58,486 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1528809: 17 historical races
2025-11-12 22:34:58,486 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1576404: 10 historical races
2025-11-12 22:34:58,492 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1535030: 6 historical races
2025-11-12 22:34:58,492 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1522817: 15 historical races
2025-11-12 22:34:58,492 - race_prediction.competitive_field_analyzer - INFO - === END HISTORICAL DATA RETRIEVAL ===

2025-11-12 22:34:58,493 - race_prediction.competitive_field_analyzer - INFO - === EARNINGS QUALITY ANALYSIS ===
2025-11-12 22:34:58,493 - race_prediction.competitive_field_analyzer - INFO - Valid earnings data: 16/16 horses
2025-11-12 22:34:58,499 - race_prediction.competitive_field_analyzer - INFO - Sample earnings per race: ['148,691', '96,466', '113,911']
2025-11-12 22:34:58,512 - race_prediction.competitive_field_analyzer - INFO - Field earnings stats: avg=225,864, max=462,926
2025-11-12 22:34:58,519 - race_prediction.competitive_field_analyzer - INFO - === TRACK SPECIALIZATION ANALYSIS ===
2025-11-12 22:34:58,519 - race_prediction.competitive_field_analyzer - INFO - Horses with reliable venue data (3+ races): 0/16
2025-11-12 22:34:58,520 - race_prediction.competitive_field_analyzer - INFO - === FORM MOMENTUM ANALYSIS ===
2025-11-12 22:34:58,526 - race_prediction.competitive_field_analyzer - INFO - Field avg horse trend: 0.697, recent perf: 6.17
2025-11-12 22:34:58,533 - race_prediction.competitive_field_analyzer - INFO - Field avg jockey trend: -2.352
2025-11-12 22:34:58,539 - race_prediction.competitive_field_analyzer - INFO - Horses with improving form: 4/16
2025-11-12 22:34:58,540 - race_prediction.competitive_field_analyzer - INFO - === HOT CONNECTIONS ANALYSIS ===
2025-11-12 22:34:58,540 - race_prediction.competitive_field_analyzer - INFO - Jockeys with wins today: 0/16
2025-11-12 22:34:58,540 - race_prediction.competitive_field_analyzer - INFO - Trainers with wins today: 0/16
2025-11-12 22:34:58,540 - race_prediction.competitive_field_analyzer - INFO - === DISTANCE COMFORT ANALYSIS ===
2025-11-12 22:34:58,540 - race_prediction.competitive_field_analyzer - INFO - Current race distance: 2875m
2025-11-12 22:34:58,546 - race_prediction.competitive_field_analyzer - INFO - Horses with similar recent distance: 11/16
2025-11-12 22:34:58,546 - race_prediction.competitive_field_analyzer - INFO - === REALISTIC COMPETITIVE SCORING ===
2025-11-12 22:34:58,547 - race_prediction.competitive_field_analyzer - INFO - üìä COMPETITIVE ANALYSIS SUMMARY:
2025-11-12 22:34:58,547 - race_prediction.competitive_field_analyzer - INFO -    Total competitive races: 218
2025-11-12 22:34:58,547 - race_prediction.competitive_field_analyzer - INFO -    Horses with historical data: 16/16
2025-11-12 22:34:58,547 - race_prediction.competitive_field_analyzer - INFO -    Average races per horse: 13.6
2025-11-12 22:34:58,738 - race_prediction.quinte_prediction_storage - INFO - Stored 16 horses for Quint√© race 1613016
2025-11-12 22:35:20,732 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE ANALYSIS DEBUG ===
2025-11-12 22:35:20,747 - race_prediction.competitive_field_analyzer - INFO - Analyzing competitive field for race with 14 horses
2025-11-12 22:35:20,754 - race_prediction.competitive_field_analyzer - INFO - Race data shape: (14, 278)
2025-11-12 22:35:20,754 - race_prediction.competitive_field_analyzer - INFO - Available columns: ['id', 'comp', 'jour', 'hippo', 'reun', 'prix', 'prixnom', 'typec', 'partant', 'dist', 'handi', 'groupe', 'quinte', 'natpis', 'meteo', 'corde', 'temperature', 'forceVent', 'directionVent', 'nebulosite', 'prediction_results', 'actual_results', 'created_at', 'updated_at', 'processed_data', 'cheque', 'handi_raw', 'reclam', 'sex', 'tempscourse', 'handicap_level_score', 'cl', 'numero', 'cheval', 'age', 'cotedirect', 'coteprob', 'recence', 'ecar', 'defoeil', 'defoeilPrec', 'musiqueche', 'musiquejoc', 'entraineur', 'coursescheval', 'victoirescheval', 'placescheval', 'dernierealloc', 'derniernbpartants', 'dernieredist', 'derniereplace', 'dernierecote', 'dernierEnt', 'proprietaire', 'poidmont', 'pourcVictJockHippo', 'pourcPlaceJockHippo', 'pourcVictChevalHippo', 'pourcPlaceChevalHippo', 'tempstot', 'vha', 'recordG', 'txreclam', 'dernierTxreclam', 'gainsCarriere', 'gainsAnneeEnCours', 'handicapDistance', 'handicapPoids', 'TxVictCouple', 'nbVictCouple', 'nbPlaceCouple', 'idche', 'idJockey', 'idEntraineur', 'defFirstTime', 'oeilFirstTime', 'oeil', 'dernierOeil', 'ratio_victoires', 'ratio_places', 'gains_par_course', 'efficacite_couple', 'regularite_couple', 'progression_couple', 'perf_cheval_hippo', 'perf_jockey_hippo', 'blinkers_first_time', 'has_blinkers', 'has_standard_blinkers', 'has_australian_blinkers', 'blinkers_added', 'blinkers_removed', 'blinkers_type_changed', 'blinkers_any_change', 'blinkers_high_impact_change', 'shoeing_first_time', 'fully_shod', 'front_shod_only', 'back_shod_only', 'barefoot', 'shoeing_changed', 'barefoot_to_shod', 'shod_to_barefoot', 'major_shoeing_change', 'shoeing_complexity', 'multiple_equipment_changes', 'equipment_momentum_score', 'high_equipment_momentum', 'multiple_first_time_changes', 'equipment_optimization_score', 'career_strike_rate', 'earnings_per_race', 'earnings_trend', 'last_race_position_normalized', 'last_race_odds_normalized', 'last_race_field_size_factor', 'distance_consistency', 'vha_normalized', 'claiming_tax_trend', 'class_stability', 'che_global_avg_pos', 'che_global_recent_perf', 'che_global_consistency', 'che_global_trend', 'che_global_pct_top3', 'che_global_nb_courses', 'che_global_total_races', 'che_global_dnf_rate', 'che_weighted_avg_pos', 'che_weighted_recent_perf', 'che_weighted_consistency', 'che_weighted_pct_top3', 'che_weighted_nb_courses', 'che_weighted_total_races', 'che_weighted_dnf_rate', 'che_weighted_trend', 'che_bytype_avg_pos', 'che_bytype_recent_perf', 'che_bytype_consistency', 'che_bytype_trend', 'che_bytype_pct_top3', 'che_bytype_nb_courses', 'che_bytype_dnf_rate', 'joc_global_avg_pos', 'joc_global_recent_perf', 'joc_global_consistency', 'joc_global_trend', 'joc_global_pct_top3', 'joc_global_nb_courses', 'joc_global_total_races', 'joc_global_dnf_rate', 'joc_weighted_avg_pos', 'joc_weighted_recent_perf', 'joc_weighted_consistency', 'joc_weighted_pct_top3', 'joc_weighted_nb_courses', 'joc_weighted_total_races', 'joc_weighted_dnf_rate', 'joc_weighted_trend', 'joc_bytype_avg_pos', 'joc_bytype_recent_perf', 'joc_bytype_consistency', 'joc_bytype_trend', 'joc_bytype_pct_top3', 'joc_bytype_nb_courses', 'joc_bytype_dnf_rate', 'class_drop_pct', 'purse_per_starter', 'purse_ratio', 'moving_up_in_class', 'class_shock_indicator', 'handicap_level_change', 'time_per_distance', 'time_vs_record', 'pace_rating', 'speed_figure_proxy', 'market_confidence_shift', 'last_race_improvement', 'bounce_risk', 'layoff_distance_interaction', 'trainer_change', 'connection_stability', 'field_size_change', 'distance_comfort', 'competition_level_shift', 'recence_x_class_drop', 'trainer_change_x_recence', 'distance_change_x_recence', 'che_by_type_avg_pos', 'che_by_type_recent_perf', 'che_by_type_consistency', 'che_by_type_trend', 'che_by_type_pct_top3', 'che_by_type_nb_courses', 'che_by_type_dnf_rate', 'joc_by_type_avg_pos', 'joc_by_type_recent_perf', 'joc_by_type_consistency', 'joc_by_type_trend', 'joc_by_type_pct_top3', 'joc_by_type_nb_courses', 'joc_by_type_dnf_rate', 'trainer_victoires', 'trainer_places', 'trainer_courses', 'trainer_winrate', 'trainer_placerate', 'trainer_quality_score', 'trainer_experience_level', 'handicap_poids', 'handicap_dist', 'prec_handicap_poids', 'prec_handicap_dist', 'handicap_poids_change', 'handicap_poids_increased', 'handicap_poids_decreased', 'handicap_dist_change', 'handicap_dist_increased', 'handicap_dist_decreased', 'total_handicap', 'handicap_momentum', 'last_race_position', 'last_race_distance', 'distance_change', 'distance_change_pct', 'distance_increased', 'distance_decreased', 'same_distance', 'corde_change', 'corde_improved', 'corde_worsened', 'last_race_top3', 'last_race_won', 'che_bytype_total_races', 'joc_bytype_total_races', 'che_form_momentum', 'che_improving_form', 'che_declining_form', 'che_high_consistency', 'che_recent_quality', 'che_elite_performer', 'che_regular_placer', 'joc_form_momentum', 'joc_improving_form', 'joc_high_consistency', 'joc_elite_performer', 'synergy_both_improving', 'synergy_both_consistent', 'synergy_both_elite', 'overall_momentum_score', 'high_momentum', 'quinte_career_starts', 'quinte_win_rate', 'quinte_top5_rate', 'avg_quinte_position', 'days_since_last_quinte', 'quinte_handicap_specialist', 'quinte_conditions_specialist', 'quinte_large_field_ability', 'quinte_track_condition_fit', 'is_handicap_quinte', 'handicap_division', 'purse_level_category', 'field_size_category', 'track_condition_PH', 'track_condition_DUR', 'track_condition_PS', 'track_condition_PSF', 'weather_clear', 'weather_rain', 'weather_cloudy', 'post_position_bias', 'post_position_track_bias', 'raw_tabnet_prediction', 'predicted_position_tabnet', 'raw_rf_prediction', 'predicted_position_rf', 'predicted_position_base']
2025-11-12 22:35:20,760 - race_prediction.competitive_field_analyzer - INFO - === CRITICAL COLUMNS ANALYSIS ===
2025-11-12 22:35:20,767 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ recordG: 14/14 non-null values (100.0%)
2025-11-12 22:35:20,767 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [0.0, 0.0, 0.0]
2025-11-12 22:35:20,767 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ hippo: 14/14 non-null values (100.0%)
2025-11-12 22:35:20,767 - race_prediction.competitive_field_analyzer - INFO -    Sample values: ['Enghien', 'Enghien', 'Enghien']
2025-11-12 22:35:20,767 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ coursescheval: 14/14 non-null values (100.0%)
2025-11-12 22:35:20,767 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [54, 56, 60]
2025-11-12 22:35:20,767 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ victoirescheval: 14/14 non-null values (100.0%)
2025-11-12 22:35:20,767 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [5, 8, 8]
2025-11-12 22:35:20,780 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ placescheval: 14/14 non-null values (100.0%)
2025-11-12 22:35:20,780 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [13, 15, 20]
2025-11-12 22:35:20,780 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ gainsCarriere: 14/14 non-null values (100.0%)
2025-11-12 22:35:20,780 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [10604400, 11160000, 11434000]
2025-11-12 22:35:20,780 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ age: 14/14 non-null values (100.0%)
2025-11-12 22:35:20,780 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [7, 7, 7]
2025-11-12 22:35:20,793 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ derniereplace: 14/14 non-null values (100.0%)
2025-11-12 22:35:20,793 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [3.0, 5.0, 2.0]
2025-11-12 22:35:20,793 - race_prediction.competitive_field_analyzer - INFO - === RACE METADATA ===
2025-11-12 22:35:20,798 - race_prediction.competitive_field_analyzer - INFO - comp: 1612996
2025-11-12 22:35:20,798 - race_prediction.competitive_field_analyzer - INFO - hippo: Enghien
2025-11-12 22:35:20,798 - race_prediction.competitive_field_analyzer - INFO - dist: 2875
2025-11-12 22:35:20,798 - race_prediction.competitive_field_analyzer - INFO - typec: Attel√©
2025-11-12 22:35:20,798 - race_prediction.competitive_field_analyzer - INFO - partant: 14
2025-11-12 22:35:20,798 - race_prediction.competitive_field_analyzer - INFO - === SAMPLE RACE DATA ===
2025-11-12 22:35:20,799 - race_prediction.competitive_field_analyzer - INFO - Sample data (columns: ['numero', 'cheval', 'recordG', 'hippo', 'coursescheval']):
2025-11-12 22:35:20,808 - race_prediction.competitive_field_analyzer - INFO -   Horse 0: {'numero': 1, 'cheval': 'Ivon de la Monerie', 'recordG': 0.0, 'hippo': 'Enghien', 'coursescheval': 54}
2025-11-12 22:35:20,808 - race_prediction.competitive_field_analyzer - INFO -   Horse 1: {'numero': 2, 'cheval': 'Issi Top', 'recordG': 0.0, 'hippo': 'Enghien', 'coursescheval': 56}
2025-11-12 22:35:20,815 - race_prediction.competitive_field_analyzer - INFO -   Horse 2: {'numero': 3, 'cheval': 'Indigo du Perche', 'recordG': 0.0, 'hippo': 'Enghien', 'coursescheval': 60}
2025-11-12 22:35:20,827 - race_prediction.competitive_field_analyzer - INFO - === END COMPETITIVE ANALYSIS DEBUG ===

2025-11-12 22:35:20,840 - race_prediction.competitive_field_analyzer - INFO - === RETRIEVING HISTORICAL DATA ===
2025-11-12 22:35:20,852 - race_prediction.competitive_field_analyzer - INFO - Fetching historical data for 14 horses: [1495111, 1456976, 1431146, 1432334, 1382940, 1472472, 1469007, 1446131, 1383552, 1520911, 1239944, 1377688, 1457376, 1471736]
2025-11-12 22:35:20,899 - race_prediction.competitive_field_analyzer - INFO - Batch querying historical data for 14 horses: [1495111, 1456976, 1431146, 1432334, 1382940, 1472472, 1469007, 1446131, 1383552, 1520911, 1239944, 1377688, 1457376, 1471736]
2025-11-12 22:35:50,208 - race_prediction.competitive_field_analyzer - INFO - Batch query completed in 29.30s, found 205 total records
2025-11-12 22:35:50,282 - race_prediction.competitive_field_analyzer - INFO - Batch query retrieved 205 total historical races
2025-11-12 22:35:50,297 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS PER HORSE ===
2025-11-12 22:35:50,304 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1495111: 10 historical races found
2025-11-12 22:35:50,315 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1456976: 12 historical races found
2025-11-12 22:35:50,328 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1431146: 17 historical races found
2025-11-12 22:35:50,340 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1432334: 18 historical races found
2025-11-12 22:35:50,353 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1382940: 16 historical races found
2025-11-12 22:35:50,353 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1472472: 7 historical races found
2025-11-12 22:35:50,353 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1469007: 14 historical races found
2025-11-12 22:35:50,353 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1446131: 13 historical races found
2025-11-12 22:35:50,353 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1383552: 15 historical races found
2025-11-12 22:35:50,353 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1520911: 19 historical races found
2025-11-12 22:35:50,353 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1239944: 18 historical races found
2025-11-12 22:35:50,353 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1377688: 16 historical races found
2025-11-12 22:35:50,353 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1457376: 12 historical races found
2025-11-12 22:35:50,367 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1471736: 18 historical races found
2025-11-12 22:35:50,380 - race_prediction.competitive_field_analyzer - INFO - Retrieved 205 total historical races
2025-11-12 22:35:50,386 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS BY HORSE ===
2025-11-12 22:35:50,403 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1495111: 10 historical races
2025-11-12 22:35:50,418 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1456976: 12 historical races
2025-11-12 22:35:50,418 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1431146: 17 historical races
2025-11-12 22:35:50,430 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1432334: 18 historical races
2025-11-12 22:35:50,443 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1382940: 16 historical races
2025-11-12 22:35:50,455 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1472472: 7 historical races
2025-11-12 22:35:50,468 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1469007: 14 historical races
2025-11-12 22:35:50,479 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1446131: 13 historical races
2025-11-12 22:35:50,492 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1383552: 15 historical races
2025-11-12 22:35:50,510 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1520911: 19 historical races
2025-11-12 22:35:50,526 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1239944: 18 historical races
2025-11-12 22:35:50,537 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1377688: 16 historical races
2025-11-12 22:35:50,549 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1457376: 12 historical races
2025-11-12 22:35:50,561 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1471736: 18 historical races
2025-11-12 22:35:50,566 - race_prediction.competitive_field_analyzer - INFO - === END HISTORICAL DATA RETRIEVAL ===

2025-11-12 22:35:50,580 - race_prediction.competitive_field_analyzer - INFO - === EARNINGS QUALITY ANALYSIS ===
2025-11-12 22:35:50,586 - race_prediction.competitive_field_analyzer - INFO - Valid earnings data: 14/14 horses
2025-11-12 22:35:50,598 - race_prediction.competitive_field_analyzer - INFO - Sample earnings per race: ['196,378', '199,286', '190,567']
2025-11-12 22:35:50,628 - race_prediction.competitive_field_analyzer - INFO - Field earnings stats: avg=239,818, max=391,656
2025-11-12 22:35:50,635 - race_prediction.competitive_field_analyzer - INFO - === TRACK SPECIALIZATION ANALYSIS ===
2025-11-12 22:35:50,647 - race_prediction.competitive_field_analyzer - INFO - Horses with reliable venue data (3+ races): 0/14
2025-11-12 22:35:50,665 - race_prediction.competitive_field_analyzer - INFO - === FORM MOMENTUM ANALYSIS ===
2025-11-12 22:35:50,678 - race_prediction.competitive_field_analyzer - INFO - Field avg horse trend: 3.993, recent perf: 7.69
2025-11-12 22:35:50,691 - race_prediction.competitive_field_analyzer - INFO - Field avg jockey trend: 0.039
2025-11-12 22:35:50,704 - race_prediction.competitive_field_analyzer - INFO - Horses with improving form: 4/14
2025-11-12 22:35:50,711 - race_prediction.competitive_field_analyzer - INFO - === HOT CONNECTIONS ANALYSIS ===
2025-11-12 22:35:50,723 - race_prediction.competitive_field_analyzer - INFO - Jockeys with wins today: 0/14
2025-11-12 22:35:50,736 - race_prediction.competitive_field_analyzer - INFO - Trainers with wins today: 0/14
2025-11-12 22:35:50,749 - race_prediction.competitive_field_analyzer - INFO - === DISTANCE COMFORT ANALYSIS ===
2025-11-12 22:35:50,755 - race_prediction.competitive_field_analyzer - INFO - Current race distance: 2875m
2025-11-12 22:35:50,767 - race_prediction.competitive_field_analyzer - INFO - Horses with similar recent distance: 9/14
2025-11-12 22:35:50,781 - race_prediction.competitive_field_analyzer - INFO - === REALISTIC COMPETITIVE SCORING ===
2025-11-12 22:35:50,798 - race_prediction.competitive_field_analyzer - INFO - üìä COMPETITIVE ANALYSIS SUMMARY:
2025-11-12 22:35:50,811 - race_prediction.competitive_field_analyzer - INFO -    Total competitive races: 205
2025-11-12 22:35:50,817 - race_prediction.competitive_field_analyzer - INFO -    Horses with historical data: 14/14
2025-11-12 22:35:50,830 - race_prediction.competitive_field_analyzer - INFO -    Average races per horse: 14.6
2025-11-12 22:35:51,184 - race_prediction.quinte_prediction_storage - INFO - Stored 14 horses for Quint√© race 1612996
2025-11-12 22:36:29,525 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE ANALYSIS DEBUG ===
2025-11-12 22:36:29,534 - race_prediction.competitive_field_analyzer - INFO - Analyzing competitive field for race with 18 horses
2025-11-12 22:36:29,534 - race_prediction.competitive_field_analyzer - INFO - Race data shape: (18, 278)
2025-11-12 22:36:29,535 - race_prediction.competitive_field_analyzer - INFO - Available columns: ['id', 'comp', 'jour', 'hippo', 'reun', 'prix', 'prixnom', 'typec', 'partant', 'dist', 'handi', 'groupe', 'quinte', 'natpis', 'meteo', 'corde', 'temperature', 'forceVent', 'directionVent', 'nebulosite', 'prediction_results', 'actual_results', 'created_at', 'updated_at', 'processed_data', 'cheque', 'handi_raw', 'reclam', 'sex', 'tempscourse', 'handicap_level_score', 'cl', 'numero', 'cheval', 'age', 'cotedirect', 'coteprob', 'recence', 'ecar', 'defoeil', 'defoeilPrec', 'musiqueche', 'musiquejoc', 'entraineur', 'coursescheval', 'victoirescheval', 'placescheval', 'dernierealloc', 'derniernbpartants', 'dernieredist', 'derniereplace', 'dernierecote', 'dernierEnt', 'proprietaire', 'poidmont', 'pourcVictJockHippo', 'pourcPlaceJockHippo', 'pourcVictChevalHippo', 'pourcPlaceChevalHippo', 'tempstot', 'vha', 'recordG', 'txreclam', 'dernierTxreclam', 'gainsCarriere', 'gainsAnneeEnCours', 'handicapDistance', 'handicapPoids', 'TxVictCouple', 'nbVictCouple', 'nbPlaceCouple', 'idche', 'idJockey', 'idEntraineur', 'defFirstTime', 'oeilFirstTime', 'oeil', 'dernierOeil', 'ratio_victoires', 'ratio_places', 'gains_par_course', 'efficacite_couple', 'regularite_couple', 'progression_couple', 'perf_cheval_hippo', 'perf_jockey_hippo', 'blinkers_first_time', 'has_blinkers', 'has_standard_blinkers', 'has_australian_blinkers', 'blinkers_added', 'blinkers_removed', 'blinkers_type_changed', 'blinkers_any_change', 'blinkers_high_impact_change', 'shoeing_first_time', 'fully_shod', 'front_shod_only', 'back_shod_only', 'barefoot', 'shoeing_changed', 'barefoot_to_shod', 'shod_to_barefoot', 'major_shoeing_change', 'shoeing_complexity', 'multiple_equipment_changes', 'equipment_momentum_score', 'high_equipment_momentum', 'multiple_first_time_changes', 'equipment_optimization_score', 'career_strike_rate', 'earnings_per_race', 'earnings_trend', 'last_race_position_normalized', 'last_race_odds_normalized', 'last_race_field_size_factor', 'distance_consistency', 'vha_normalized', 'claiming_tax_trend', 'class_stability', 'che_global_avg_pos', 'che_global_recent_perf', 'che_global_consistency', 'che_global_trend', 'che_global_pct_top3', 'che_global_nb_courses', 'che_global_total_races', 'che_global_dnf_rate', 'che_weighted_avg_pos', 'che_weighted_recent_perf', 'che_weighted_consistency', 'che_weighted_pct_top3', 'che_weighted_nb_courses', 'che_weighted_total_races', 'che_weighted_dnf_rate', 'che_weighted_trend', 'che_bytype_avg_pos', 'che_bytype_recent_perf', 'che_bytype_consistency', 'che_bytype_trend', 'che_bytype_pct_top3', 'che_bytype_nb_courses', 'che_bytype_dnf_rate', 'joc_global_avg_pos', 'joc_global_recent_perf', 'joc_global_consistency', 'joc_global_trend', 'joc_global_pct_top3', 'joc_global_nb_courses', 'joc_global_total_races', 'joc_global_dnf_rate', 'joc_weighted_avg_pos', 'joc_weighted_recent_perf', 'joc_weighted_consistency', 'joc_weighted_pct_top3', 'joc_weighted_nb_courses', 'joc_weighted_total_races', 'joc_weighted_dnf_rate', 'joc_weighted_trend', 'joc_bytype_avg_pos', 'joc_bytype_recent_perf', 'joc_bytype_consistency', 'joc_bytype_trend', 'joc_bytype_pct_top3', 'joc_bytype_nb_courses', 'joc_bytype_dnf_rate', 'class_drop_pct', 'purse_per_starter', 'purse_ratio', 'moving_up_in_class', 'class_shock_indicator', 'handicap_level_change', 'time_per_distance', 'time_vs_record', 'pace_rating', 'speed_figure_proxy', 'market_confidence_shift', 'last_race_improvement', 'bounce_risk', 'layoff_distance_interaction', 'trainer_change', 'connection_stability', 'field_size_change', 'distance_comfort', 'competition_level_shift', 'recence_x_class_drop', 'trainer_change_x_recence', 'distance_change_x_recence', 'che_by_type_avg_pos', 'che_by_type_recent_perf', 'che_by_type_consistency', 'che_by_type_trend', 'che_by_type_pct_top3', 'che_by_type_nb_courses', 'che_by_type_dnf_rate', 'joc_by_type_avg_pos', 'joc_by_type_recent_perf', 'joc_by_type_consistency', 'joc_by_type_trend', 'joc_by_type_pct_top3', 'joc_by_type_nb_courses', 'joc_by_type_dnf_rate', 'trainer_victoires', 'trainer_places', 'trainer_courses', 'trainer_winrate', 'trainer_placerate', 'trainer_quality_score', 'trainer_experience_level', 'handicap_poids', 'handicap_dist', 'prec_handicap_poids', 'prec_handicap_dist', 'handicap_poids_change', 'handicap_poids_increased', 'handicap_poids_decreased', 'handicap_dist_change', 'handicap_dist_increased', 'handicap_dist_decreased', 'total_handicap', 'handicap_momentum', 'last_race_position', 'last_race_distance', 'distance_change', 'distance_change_pct', 'distance_increased', 'distance_decreased', 'same_distance', 'corde_change', 'corde_improved', 'corde_worsened', 'last_race_top3', 'last_race_won', 'che_bytype_total_races', 'joc_bytype_total_races', 'che_form_momentum', 'che_improving_form', 'che_declining_form', 'che_high_consistency', 'che_recent_quality', 'che_elite_performer', 'che_regular_placer', 'joc_form_momentum', 'joc_improving_form', 'joc_high_consistency', 'joc_elite_performer', 'synergy_both_improving', 'synergy_both_consistent', 'synergy_both_elite', 'overall_momentum_score', 'high_momentum', 'quinte_career_starts', 'quinte_win_rate', 'quinte_top5_rate', 'avg_quinte_position', 'days_since_last_quinte', 'quinte_handicap_specialist', 'quinte_conditions_specialist', 'quinte_large_field_ability', 'quinte_track_condition_fit', 'is_handicap_quinte', 'handicap_division', 'purse_level_category', 'field_size_category', 'track_condition_PH', 'track_condition_DUR', 'track_condition_PS', 'track_condition_PSF', 'weather_clear', 'weather_rain', 'weather_cloudy', 'post_position_bias', 'post_position_track_bias', 'raw_tabnet_prediction', 'predicted_position_tabnet', 'raw_rf_prediction', 'predicted_position_rf', 'predicted_position_base']
2025-11-12 22:36:29,548 - race_prediction.competitive_field_analyzer - INFO - === CRITICAL COLUMNS ANALYSIS ===
2025-11-12 22:36:29,561 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ recordG: 18/18 non-null values (100.0%)
2025-11-12 22:36:29,574 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [0.0, 0.0, 0.0]
2025-11-12 22:36:29,589 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ hippo: 18/18 non-null values (100.0%)
2025-11-12 22:36:29,605 - race_prediction.competitive_field_analyzer - INFO -    Sample values: ['ParisLongchamp', 'ParisLongchamp', 'ParisLongchamp']
2025-11-12 22:36:29,643 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ coursescheval: 18/18 non-null values (100.0%)
2025-11-12 22:36:29,656 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [18, 10, 11]
2025-11-12 22:36:29,670 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ victoirescheval: 18/18 non-null values (100.0%)
2025-11-12 22:36:29,676 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [7, 3, 6]
2025-11-12 22:36:29,677 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ placescheval: 18/18 non-null values (100.0%)
2025-11-12 22:36:29,678 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [13, 6, 8]
2025-11-12 22:36:29,691 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ gainsCarriere: 18/18 non-null values (100.0%)
2025-11-12 22:36:29,691 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [271473900, 75932400, 21585000]
2025-11-12 22:36:29,706 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ age: 18/18 non-null values (100.0%)
2025-11-12 22:36:29,713 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [6, 5, 4]
2025-11-12 22:36:29,727 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ derniereplace: 18/18 non-null values (100.0%)
2025-11-12 22:36:29,739 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [1, 5, 6]
2025-11-12 22:36:29,752 - race_prediction.competitive_field_analyzer - INFO - === RACE METADATA ===
2025-11-12 22:36:29,764 - race_prediction.competitive_field_analyzer - INFO - comp: 1592537
2025-11-12 22:36:29,777 - race_prediction.competitive_field_analyzer - INFO - hippo: ParisLongchamp
2025-11-12 22:36:29,783 - race_prediction.competitive_field_analyzer - INFO - dist: 2400
2025-11-12 22:36:29,796 - race_prediction.competitive_field_analyzer - INFO - typec: Plat
2025-11-12 22:36:29,802 - race_prediction.competitive_field_analyzer - INFO - partant: 18
2025-11-12 22:36:29,802 - race_prediction.competitive_field_analyzer - INFO - === SAMPLE RACE DATA ===
2025-11-12 22:36:29,802 - race_prediction.competitive_field_analyzer - INFO - Sample data (columns: ['numero', 'cheval', 'recordG', 'hippo', 'coursescheval']):
2025-11-12 22:36:29,816 - race_prediction.competitive_field_analyzer - INFO -   Horse 0: {'numero': 1, 'cheval': 'Giavellotto', 'recordG': 0.0, 'hippo': 'ParisLongchamp', 'coursescheval': 18}
2025-11-12 22:36:29,846 - race_prediction.competitive_field_analyzer - INFO -   Horse 1: {'numero': 2, 'cheval': 'White Birch', 'recordG': 0.0, 'hippo': 'ParisLongchamp', 'coursescheval': 10}
2025-11-12 22:36:29,859 - race_prediction.competitive_field_analyzer - INFO -   Horse 2: {'numero': 3, 'cheval': 'Arrow Eagle', 'recordG': 0.0, 'hippo': 'ParisLongchamp', 'coursescheval': 11}
2025-11-12 22:36:29,871 - race_prediction.competitive_field_analyzer - INFO - === END COMPETITIVE ANALYSIS DEBUG ===

2025-11-12 22:36:29,884 - race_prediction.competitive_field_analyzer - INFO - === RETRIEVING HISTORICAL DATA ===
2025-11-12 22:36:29,897 - race_prediction.competitive_field_analyzer - INFO - Fetching historical data for 18 horses: [1535382, 1584656, 1654418, 1654324, 1667455, 1723503, 1725716, 1559787, 1695821, 1654205, 1741434, 1741620, 1734424, 1713366, 1759442, 1759443, 1730327, 1720861]
2025-11-12 22:36:29,955 - race_prediction.competitive_field_analyzer - INFO - Batch querying historical data for 18 horses: [1535382, 1584656, 1654418, 1654324, 1667455, 1723503, 1725716, 1559787, 1695821, 1654205, 1741434, 1741620, 1734424, 1713366, 1759442, 1759443, 1730327, 1720861]
2025-11-12 22:36:59,586 - race_prediction.competitive_field_analyzer - INFO - Batch query completed in 29.62s, found 86 total records
2025-11-12 22:36:59,608 - race_prediction.competitive_field_analyzer - INFO - Batch query retrieved 86 total historical races
2025-11-12 22:36:59,620 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS PER HORSE ===
2025-11-12 22:36:59,620 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1535382: 5 historical races found
2025-11-12 22:36:59,620 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1584656: 4 historical races found
2025-11-12 22:36:59,620 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1654418: 7 historical races found
2025-11-12 22:36:59,626 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1654324: 5 historical races found
2025-11-12 22:36:59,633 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1667455: 5 historical races found
2025-11-12 22:36:59,644 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1723503: 3 historical races found
2025-11-12 22:36:59,656 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1725716: 2 historical races found
2025-11-12 22:36:59,662 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1559787: 4 historical races found
2025-11-12 22:36:59,662 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1695821: 5 historical races found
2025-11-12 22:36:59,662 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1654205: 5 historical races found
2025-11-12 22:36:59,662 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1741434: 7 historical races found
2025-11-12 22:36:59,662 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1741620: 7 historical races found
2025-11-12 22:36:59,663 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1734424: 8 historical races found
2025-11-12 22:36:59,663 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1713366: 6 historical races found
2025-11-12 22:36:59,663 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1759442: 2 historical races found
2025-11-12 22:36:59,669 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1759443: 2 historical races found
2025-11-12 22:36:59,669 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1730327: 4 historical races found
2025-11-12 22:36:59,669 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1720861: 5 historical races found
2025-11-12 22:36:59,669 - race_prediction.competitive_field_analyzer - INFO - Retrieved 86 total historical races
2025-11-12 22:36:59,669 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS BY HORSE ===
2025-11-12 22:36:59,669 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1535382: 5 historical races
2025-11-12 22:36:59,669 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1584656: 4 historical races
2025-11-12 22:36:59,669 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1654418: 7 historical races
2025-11-12 22:36:59,669 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1654324: 5 historical races
2025-11-12 22:36:59,681 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1667455: 5 historical races
2025-11-12 22:36:59,681 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1723503: 3 historical races
2025-11-12 22:36:59,681 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1725716: 2 historical races
2025-11-12 22:36:59,681 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1559787: 4 historical races
2025-11-12 22:36:59,681 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1695821: 5 historical races
2025-11-12 22:36:59,681 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1654205: 5 historical races
2025-11-12 22:36:59,681 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1741434: 7 historical races
2025-11-12 22:36:59,681 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1741620: 7 historical races
2025-11-12 22:36:59,681 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1734424: 8 historical races
2025-11-12 22:36:59,681 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1713366: 6 historical races
2025-11-12 22:36:59,681 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1759442: 2 historical races
2025-11-12 22:36:59,681 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1759443: 2 historical races
2025-11-12 22:36:59,681 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1730327: 4 historical races
2025-11-12 22:36:59,681 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1720861: 5 historical races
2025-11-12 22:36:59,681 - race_prediction.competitive_field_analyzer - INFO - === END HISTORICAL DATA RETRIEVAL ===

2025-11-12 22:36:59,682 - race_prediction.competitive_field_analyzer - INFO - === EARNINGS QUALITY ANALYSIS ===
2025-11-12 22:36:59,682 - race_prediction.competitive_field_analyzer - INFO - Valid earnings data: 18/18 horses
2025-11-12 22:36:59,683 - race_prediction.competitive_field_analyzer - INFO - Sample earnings per race: ['15,081,883', '7,593,240', '1,962,273']
2025-11-12 22:36:59,683 - race_prediction.competitive_field_analyzer - INFO - Field earnings stats: avg=35,832,643, max=333,227,300
2025-11-12 22:36:59,683 - race_prediction.competitive_field_analyzer - INFO - === TRACK SPECIALIZATION ANALYSIS ===
2025-11-12 22:36:59,683 - race_prediction.competitive_field_analyzer - INFO - Horses with reliable venue data (3+ races): 0/18
2025-11-12 22:36:59,709 - race_prediction.competitive_field_analyzer - INFO - === FORM MOMENTUM ANALYSIS ===
2025-11-12 22:36:59,709 - race_prediction.competitive_field_analyzer - INFO - Field avg horse trend: -2.711, recent perf: 3.85
2025-11-12 22:36:59,709 - race_prediction.competitive_field_analyzer - INFO - Field avg jockey trend: 0.968
2025-11-12 22:36:59,709 - race_prediction.competitive_field_analyzer - INFO - Horses with improving form: 1/18
2025-11-12 22:36:59,710 - race_prediction.competitive_field_analyzer - INFO - === HOT CONNECTIONS ANALYSIS ===
2025-11-12 22:36:59,717 - race_prediction.competitive_field_analyzer - INFO - Jockeys with wins today: 0/18
2025-11-12 22:36:59,729 - race_prediction.competitive_field_analyzer - INFO - Trainers with wins today: 0/18
2025-11-12 22:36:59,730 - race_prediction.competitive_field_analyzer - INFO - === DISTANCE COMFORT ANALYSIS ===
2025-11-12 22:36:59,730 - race_prediction.competitive_field_analyzer - INFO - Current race distance: 2400m
2025-11-12 22:36:59,736 - race_prediction.competitive_field_analyzer - INFO - Horses with similar recent distance: 12/18
2025-11-12 22:36:59,748 - race_prediction.competitive_field_analyzer - INFO - === REALISTIC COMPETITIVE SCORING ===
2025-11-12 22:36:59,763 - race_prediction.competitive_field_analyzer - INFO - üìä COMPETITIVE ANALYSIS SUMMARY:
2025-11-12 22:36:59,775 - race_prediction.competitive_field_analyzer - INFO -    Total competitive races: 86
2025-11-12 22:36:59,781 - race_prediction.competitive_field_analyzer - INFO -    Horses with historical data: 18/18
2025-11-12 22:36:59,787 - race_prediction.competitive_field_analyzer - INFO -    Average races per horse: 4.8
2025-11-12 22:37:00,067 - race_prediction.quinte_prediction_storage - INFO - Stored 18 horses for Quint√© race 1592537
2025-11-12 22:37:19,328 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE ANALYSIS DEBUG ===
2025-11-12 22:37:19,341 - race_prediction.competitive_field_analyzer - INFO - Analyzing competitive field for race with 18 horses
2025-11-12 22:37:19,342 - race_prediction.competitive_field_analyzer - INFO - Race data shape: (18, 278)
2025-11-12 22:37:19,342 - race_prediction.competitive_field_analyzer - INFO - Available columns: ['id', 'comp', 'jour', 'hippo', 'reun', 'prix', 'prixnom', 'typec', 'partant', 'dist', 'handi', 'groupe', 'quinte', 'natpis', 'meteo', 'corde', 'temperature', 'forceVent', 'directionVent', 'nebulosite', 'prediction_results', 'actual_results', 'created_at', 'updated_at', 'processed_data', 'cheque', 'handi_raw', 'reclam', 'sex', 'tempscourse', 'handicap_level_score', 'cl', 'numero', 'cheval', 'age', 'cotedirect', 'coteprob', 'recence', 'ecar', 'defoeil', 'defoeilPrec', 'musiqueche', 'musiquejoc', 'entraineur', 'coursescheval', 'victoirescheval', 'placescheval', 'dernierealloc', 'derniernbpartants', 'dernieredist', 'derniereplace', 'dernierecote', 'dernierEnt', 'proprietaire', 'poidmont', 'pourcVictJockHippo', 'pourcPlaceJockHippo', 'pourcVictChevalHippo', 'pourcPlaceChevalHippo', 'tempstot', 'vha', 'recordG', 'txreclam', 'dernierTxreclam', 'gainsCarriere', 'gainsAnneeEnCours', 'handicapDistance', 'handicapPoids', 'TxVictCouple', 'nbVictCouple', 'nbPlaceCouple', 'idche', 'idJockey', 'idEntraineur', 'defFirstTime', 'oeilFirstTime', 'oeil', 'dernierOeil', 'ratio_victoires', 'ratio_places', 'gains_par_course', 'efficacite_couple', 'regularite_couple', 'progression_couple', 'perf_cheval_hippo', 'perf_jockey_hippo', 'blinkers_first_time', 'has_blinkers', 'has_standard_blinkers', 'has_australian_blinkers', 'blinkers_added', 'blinkers_removed', 'blinkers_type_changed', 'blinkers_any_change', 'blinkers_high_impact_change', 'shoeing_first_time', 'fully_shod', 'front_shod_only', 'back_shod_only', 'barefoot', 'shoeing_changed', 'barefoot_to_shod', 'shod_to_barefoot', 'major_shoeing_change', 'shoeing_complexity', 'multiple_equipment_changes', 'equipment_momentum_score', 'high_equipment_momentum', 'multiple_first_time_changes', 'equipment_optimization_score', 'career_strike_rate', 'earnings_per_race', 'earnings_trend', 'last_race_position_normalized', 'last_race_odds_normalized', 'last_race_field_size_factor', 'distance_consistency', 'vha_normalized', 'claiming_tax_trend', 'class_stability', 'che_global_avg_pos', 'che_global_recent_perf', 'che_global_consistency', 'che_global_trend', 'che_global_pct_top3', 'che_global_nb_courses', 'che_global_total_races', 'che_global_dnf_rate', 'che_weighted_avg_pos', 'che_weighted_recent_perf', 'che_weighted_consistency', 'che_weighted_pct_top3', 'che_weighted_nb_courses', 'che_weighted_total_races', 'che_weighted_dnf_rate', 'che_weighted_trend', 'che_bytype_avg_pos', 'che_bytype_recent_perf', 'che_bytype_consistency', 'che_bytype_trend', 'che_bytype_pct_top3', 'che_bytype_nb_courses', 'che_bytype_dnf_rate', 'joc_global_avg_pos', 'joc_global_recent_perf', 'joc_global_consistency', 'joc_global_trend', 'joc_global_pct_top3', 'joc_global_nb_courses', 'joc_global_total_races', 'joc_global_dnf_rate', 'joc_weighted_avg_pos', 'joc_weighted_recent_perf', 'joc_weighted_consistency', 'joc_weighted_pct_top3', 'joc_weighted_nb_courses', 'joc_weighted_total_races', 'joc_weighted_dnf_rate', 'joc_weighted_trend', 'joc_bytype_avg_pos', 'joc_bytype_recent_perf', 'joc_bytype_consistency', 'joc_bytype_trend', 'joc_bytype_pct_top3', 'joc_bytype_nb_courses', 'joc_bytype_dnf_rate', 'class_drop_pct', 'purse_per_starter', 'purse_ratio', 'moving_up_in_class', 'class_shock_indicator', 'handicap_level_change', 'time_per_distance', 'time_vs_record', 'pace_rating', 'speed_figure_proxy', 'market_confidence_shift', 'last_race_improvement', 'bounce_risk', 'layoff_distance_interaction', 'trainer_change', 'connection_stability', 'field_size_change', 'distance_comfort', 'competition_level_shift', 'recence_x_class_drop', 'trainer_change_x_recence', 'distance_change_x_recence', 'che_by_type_avg_pos', 'che_by_type_recent_perf', 'che_by_type_consistency', 'che_by_type_trend', 'che_by_type_pct_top3', 'che_by_type_nb_courses', 'che_by_type_dnf_rate', 'joc_by_type_avg_pos', 'joc_by_type_recent_perf', 'joc_by_type_consistency', 'joc_by_type_trend', 'joc_by_type_pct_top3', 'joc_by_type_nb_courses', 'joc_by_type_dnf_rate', 'trainer_victoires', 'trainer_places', 'trainer_courses', 'trainer_winrate', 'trainer_placerate', 'trainer_quality_score', 'trainer_experience_level', 'handicap_poids', 'handicap_dist', 'prec_handicap_poids', 'prec_handicap_dist', 'handicap_poids_change', 'handicap_poids_increased', 'handicap_poids_decreased', 'handicap_dist_change', 'handicap_dist_increased', 'handicap_dist_decreased', 'total_handicap', 'handicap_momentum', 'last_race_position', 'last_race_distance', 'distance_change', 'distance_change_pct', 'distance_increased', 'distance_decreased', 'same_distance', 'corde_change', 'corde_improved', 'corde_worsened', 'last_race_top3', 'last_race_won', 'che_bytype_total_races', 'joc_bytype_total_races', 'che_form_momentum', 'che_improving_form', 'che_declining_form', 'che_high_consistency', 'che_recent_quality', 'che_elite_performer', 'che_regular_placer', 'joc_form_momentum', 'joc_improving_form', 'joc_high_consistency', 'joc_elite_performer', 'synergy_both_improving', 'synergy_both_consistent', 'synergy_both_elite', 'overall_momentum_score', 'high_momentum', 'quinte_career_starts', 'quinte_win_rate', 'quinte_top5_rate', 'avg_quinte_position', 'days_since_last_quinte', 'quinte_handicap_specialist', 'quinte_conditions_specialist', 'quinte_large_field_ability', 'quinte_track_condition_fit', 'is_handicap_quinte', 'handicap_division', 'purse_level_category', 'field_size_category', 'track_condition_PH', 'track_condition_DUR', 'track_condition_PS', 'track_condition_PSF', 'weather_clear', 'weather_rain', 'weather_cloudy', 'post_position_bias', 'post_position_track_bias', 'raw_tabnet_prediction', 'predicted_position_tabnet', 'raw_rf_prediction', 'predicted_position_rf', 'predicted_position_base']
2025-11-12 22:37:19,348 - race_prediction.competitive_field_analyzer - INFO - === CRITICAL COLUMNS ANALYSIS ===
2025-11-12 22:37:19,355 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ recordG: 18/18 non-null values (100.0%)
2025-11-12 22:37:19,355 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [0.0, 0.0, 0.0]
2025-11-12 22:37:19,355 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ hippo: 18/18 non-null values (100.0%)
2025-11-12 22:37:19,355 - race_prediction.competitive_field_analyzer - INFO -    Sample values: ['ParisLongchamp', 'ParisLongchamp', 'ParisLongchamp']
2025-11-12 22:37:19,355 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ coursescheval: 18/18 non-null values (100.0%)
2025-11-12 22:37:19,355 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [36, 15, 16]
2025-11-12 22:37:19,355 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ victoirescheval: 18/18 non-null values (100.0%)
2025-11-12 22:37:19,355 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [8, 2, 2]
2025-11-12 22:37:19,355 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ placescheval: 18/18 non-null values (100.0%)
2025-11-12 22:37:19,355 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [18, 5, 7]
2025-11-12 22:37:19,355 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ gainsCarriere: 18/18 non-null values (100.0%)
2025-11-12 22:37:19,355 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [22119200, 7281000, 10064000]
2025-11-12 22:37:19,355 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ age: 18/18 non-null values (100.0%)
2025-11-12 22:37:19,355 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [7, 4, 4]
2025-11-12 22:37:19,356 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ derniereplace: 18/18 non-null values (100.0%)
2025-11-12 22:37:19,356 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [6, 16, 6]
2025-11-12 22:37:19,356 - race_prediction.competitive_field_analyzer - INFO - === RACE METADATA ===
2025-11-12 22:37:19,362 - race_prediction.competitive_field_analyzer - INFO - comp: 1606916
2025-11-12 22:37:19,362 - race_prediction.competitive_field_analyzer - INFO - hippo: ParisLongchamp
2025-11-12 22:37:19,362 - race_prediction.competitive_field_analyzer - INFO - dist: 1600
2025-11-12 22:37:19,362 - race_prediction.competitive_field_analyzer - INFO - typec: Plat
2025-11-12 22:37:19,362 - race_prediction.competitive_field_analyzer - INFO - partant: 18
2025-11-12 22:37:19,368 - race_prediction.competitive_field_analyzer - INFO - === SAMPLE RACE DATA ===
2025-11-12 22:37:19,368 - race_prediction.competitive_field_analyzer - INFO - Sample data (columns: ['numero', 'cheval', 'recordG', 'hippo', 'coursescheval']):
2025-11-12 22:37:19,369 - race_prediction.competitive_field_analyzer - INFO -   Horse 0: {'numero': 1, 'cheval': 'Bullace', 'recordG': 0.0, 'hippo': 'ParisLongchamp', 'coursescheval': 36}
2025-11-12 22:37:19,375 - race_prediction.competitive_field_analyzer - INFO -   Horse 1: {'numero': 2, 'cheval': 'Babakool', 'recordG': 0.0, 'hippo': 'ParisLongchamp', 'coursescheval': 15}
2025-11-12 22:37:19,375 - race_prediction.competitive_field_analyzer - INFO -   Horse 2: {'numero': 3, 'cheval': 'Lucky Wine', 'recordG': 0.0, 'hippo': 'ParisLongchamp', 'coursescheval': 16}
2025-11-12 22:37:19,375 - race_prediction.competitive_field_analyzer - INFO - === END COMPETITIVE ANALYSIS DEBUG ===

2025-11-12 22:37:19,400 - race_prediction.competitive_field_analyzer - INFO - === RETRIEVING HISTORICAL DATA ===
2025-11-12 22:37:19,406 - race_prediction.competitive_field_analyzer - INFO - Fetching historical data for 18 horses: [1461543, 1654085, 1654601, 1716658, 1545829, 1654567, 1408356, 1651292, 1732313, 1657763, 1554365, 1653870, 1666989, 1559222, 1654258, 1652349, 1654449, 1447790]
2025-11-12 22:37:19,425 - race_prediction.competitive_field_analyzer - INFO - Batch querying historical data for 18 horses: [1461543, 1654085, 1654601, 1716658, 1545829, 1654567, 1408356, 1651292, 1732313, 1657763, 1554365, 1653870, 1666989, 1559222, 1654258, 1652349, 1654449, 1447790]
2025-11-12 22:37:42,757 - race_prediction.competitive_field_analyzer - INFO - Batch query completed in 23.32s, found 160 total records
2025-11-12 22:37:42,779 - race_prediction.competitive_field_analyzer - INFO - Batch query retrieved 160 total historical races
2025-11-12 22:37:42,779 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS PER HORSE ===
2025-11-12 22:37:42,779 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1461543: 7 historical races found
2025-11-12 22:37:42,785 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1654085: 6 historical races found
2025-11-12 22:37:42,786 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1654601: 8 historical races found
2025-11-12 22:37:42,792 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1716658: 9 historical races found
2025-11-12 22:37:42,798 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1545829: 18 historical races found
2025-11-12 22:37:42,804 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1654567: 9 historical races found
2025-11-12 22:37:42,810 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1408356: 4 historical races found
2025-11-12 22:37:42,816 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1651292: 10 historical races found
2025-11-12 22:37:42,816 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1732313: 6 historical races found
2025-11-12 22:37:42,816 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1657763: 7 historical races found
2025-11-12 22:37:42,822 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1554365: 12 historical races found
2025-11-12 22:37:42,828 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1653870: 15 historical races found
2025-11-12 22:37:42,840 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1666989: 5 historical races found
2025-11-12 22:37:42,852 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1559222: 9 historical races found
2025-11-12 22:37:42,865 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1654258: 5 historical races found
2025-11-12 22:37:42,878 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1652349: 7 historical races found
2025-11-12 22:37:42,878 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1654449: 7 historical races found
2025-11-12 22:37:42,890 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1447790: 16 historical races found
2025-11-12 22:37:42,897 - race_prediction.competitive_field_analyzer - INFO - Retrieved 160 total historical races
2025-11-12 22:37:42,903 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS BY HORSE ===
2025-11-12 22:37:42,903 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1461543: 7 historical races
2025-11-12 22:37:42,903 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1654085: 6 historical races
2025-11-12 22:37:42,909 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1654601: 8 historical races
2025-11-12 22:37:42,915 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1716658: 9 historical races
2025-11-12 22:37:42,922 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1545829: 18 historical races
2025-11-12 22:37:42,922 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1654567: 9 historical races
2025-11-12 22:37:42,922 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1408356: 4 historical races
2025-11-12 22:37:42,922 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1651292: 10 historical races
2025-11-12 22:37:42,922 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1732313: 6 historical races
2025-11-12 22:37:42,941 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1657763: 7 historical races
2025-11-12 22:37:42,954 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1554365: 12 historical races
2025-11-12 22:37:42,954 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1653870: 15 historical races
2025-11-12 22:37:42,966 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1666989: 5 historical races
2025-11-12 22:37:42,973 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1559222: 9 historical races
2025-11-12 22:37:42,973 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1654258: 5 historical races
2025-11-12 22:37:42,973 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1652349: 7 historical races
2025-11-12 22:37:42,973 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1654449: 7 historical races
2025-11-12 22:37:42,973 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1447790: 16 historical races
2025-11-12 22:37:42,973 - race_prediction.competitive_field_analyzer - INFO - === END HISTORICAL DATA RETRIEVAL ===

2025-11-12 22:37:42,973 - race_prediction.competitive_field_analyzer - INFO - === EARNINGS QUALITY ANALYSIS ===
2025-11-12 22:37:42,973 - race_prediction.competitive_field_analyzer - INFO - Valid earnings data: 18/18 horses
2025-11-12 22:37:42,980 - race_prediction.competitive_field_analyzer - INFO - Sample earnings per race: ['614,422', '485,400', '629,000']
2025-11-12 22:37:42,980 - race_prediction.competitive_field_analyzer - INFO - Field earnings stats: avg=505,803, max=1,118,623
2025-11-12 22:37:42,980 - race_prediction.competitive_field_analyzer - INFO - === TRACK SPECIALIZATION ANALYSIS ===
2025-11-12 22:37:42,980 - race_prediction.competitive_field_analyzer - INFO - Horses with reliable venue data (3+ races): 0/18
2025-11-12 22:37:42,983 - race_prediction.competitive_field_analyzer - INFO - === FORM MOMENTUM ANALYSIS ===
2025-11-12 22:37:42,983 - race_prediction.competitive_field_analyzer - INFO - Field avg horse trend: -2.368, recent perf: 6.96
2025-11-12 22:37:42,989 - race_prediction.competitive_field_analyzer - INFO - Field avg jockey trend: -2.390
2025-11-12 22:37:42,989 - race_prediction.competitive_field_analyzer - INFO - Horses with improving form: 3/18
2025-11-12 22:37:42,990 - race_prediction.competitive_field_analyzer - INFO - === HOT CONNECTIONS ANALYSIS ===
2025-11-12 22:37:42,990 - race_prediction.competitive_field_analyzer - INFO - Jockeys with wins today: 0/18
2025-11-12 22:37:42,990 - race_prediction.competitive_field_analyzer - INFO - Trainers with wins today: 0/18
2025-11-12 22:37:42,996 - race_prediction.competitive_field_analyzer - INFO - === DISTANCE COMFORT ANALYSIS ===
2025-11-12 22:37:42,996 - race_prediction.competitive_field_analyzer - INFO - Current race distance: 1600m
2025-11-12 22:37:43,008 - race_prediction.competitive_field_analyzer - INFO - Horses with similar recent distance: 17/18
2025-11-12 22:37:43,009 - race_prediction.competitive_field_analyzer - INFO - === REALISTIC COMPETITIVE SCORING ===
2025-11-12 22:37:43,009 - race_prediction.competitive_field_analyzer - INFO - üìä COMPETITIVE ANALYSIS SUMMARY:
2025-11-12 22:37:43,009 - race_prediction.competitive_field_analyzer - INFO -    Total competitive races: 160
2025-11-12 22:37:43,010 - race_prediction.competitive_field_analyzer - INFO -    Horses with historical data: 18/18
2025-11-12 22:37:43,022 - race_prediction.competitive_field_analyzer - INFO -    Average races per horse: 8.9
2025-11-12 22:37:43,273 - race_prediction.quinte_prediction_storage - INFO - Stored 18 horses for Quint√© race 1606916
2025-11-12 22:38:00,607 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE ANALYSIS DEBUG ===
2025-11-12 22:38:00,620 - race_prediction.competitive_field_analyzer - INFO - Analyzing competitive field for race with 16 horses
2025-11-12 22:38:00,626 - race_prediction.competitive_field_analyzer - INFO - Race data shape: (16, 278)
2025-11-12 22:38:00,633 - race_prediction.competitive_field_analyzer - INFO - Available columns: ['id', 'comp', 'jour', 'hippo', 'reun', 'prix', 'prixnom', 'typec', 'partant', 'dist', 'handi', 'groupe', 'quinte', 'natpis', 'meteo', 'corde', 'temperature', 'forceVent', 'directionVent', 'nebulosite', 'prediction_results', 'actual_results', 'created_at', 'updated_at', 'processed_data', 'cheque', 'handi_raw', 'reclam', 'sex', 'tempscourse', 'handicap_level_score', 'cl', 'numero', 'cheval', 'age', 'cotedirect', 'coteprob', 'recence', 'ecar', 'defoeil', 'defoeilPrec', 'musiqueche', 'musiquejoc', 'entraineur', 'coursescheval', 'victoirescheval', 'placescheval', 'dernierealloc', 'derniernbpartants', 'dernieredist', 'derniereplace', 'dernierecote', 'dernierEnt', 'proprietaire', 'poidmont', 'pourcVictJockHippo', 'pourcPlaceJockHippo', 'pourcVictChevalHippo', 'pourcPlaceChevalHippo', 'tempstot', 'vha', 'recordG', 'txreclam', 'dernierTxreclam', 'gainsCarriere', 'gainsAnneeEnCours', 'handicapDistance', 'handicapPoids', 'TxVictCouple', 'nbVictCouple', 'nbPlaceCouple', 'idche', 'idJockey', 'idEntraineur', 'defFirstTime', 'oeilFirstTime', 'oeil', 'dernierOeil', 'ratio_victoires', 'ratio_places', 'gains_par_course', 'efficacite_couple', 'regularite_couple', 'progression_couple', 'perf_cheval_hippo', 'perf_jockey_hippo', 'blinkers_first_time', 'has_blinkers', 'has_standard_blinkers', 'has_australian_blinkers', 'blinkers_added', 'blinkers_removed', 'blinkers_type_changed', 'blinkers_any_change', 'blinkers_high_impact_change', 'shoeing_first_time', 'fully_shod', 'front_shod_only', 'back_shod_only', 'barefoot', 'shoeing_changed', 'barefoot_to_shod', 'shod_to_barefoot', 'major_shoeing_change', 'shoeing_complexity', 'multiple_equipment_changes', 'equipment_momentum_score', 'high_equipment_momentum', 'multiple_first_time_changes', 'equipment_optimization_score', 'career_strike_rate', 'earnings_per_race', 'earnings_trend', 'last_race_position_normalized', 'last_race_odds_normalized', 'last_race_field_size_factor', 'distance_consistency', 'vha_normalized', 'claiming_tax_trend', 'class_stability', 'che_global_avg_pos', 'che_global_recent_perf', 'che_global_consistency', 'che_global_trend', 'che_global_pct_top3', 'che_global_nb_courses', 'che_global_total_races', 'che_global_dnf_rate', 'che_weighted_avg_pos', 'che_weighted_recent_perf', 'che_weighted_consistency', 'che_weighted_pct_top3', 'che_weighted_nb_courses', 'che_weighted_total_races', 'che_weighted_dnf_rate', 'che_weighted_trend', 'che_bytype_avg_pos', 'che_bytype_recent_perf', 'che_bytype_consistency', 'che_bytype_trend', 'che_bytype_pct_top3', 'che_bytype_nb_courses', 'che_bytype_dnf_rate', 'joc_global_avg_pos', 'joc_global_recent_perf', 'joc_global_consistency', 'joc_global_trend', 'joc_global_pct_top3', 'joc_global_nb_courses', 'joc_global_total_races', 'joc_global_dnf_rate', 'joc_weighted_avg_pos', 'joc_weighted_recent_perf', 'joc_weighted_consistency', 'joc_weighted_pct_top3', 'joc_weighted_nb_courses', 'joc_weighted_total_races', 'joc_weighted_dnf_rate', 'joc_weighted_trend', 'joc_bytype_avg_pos', 'joc_bytype_recent_perf', 'joc_bytype_consistency', 'joc_bytype_trend', 'joc_bytype_pct_top3', 'joc_bytype_nb_courses', 'joc_bytype_dnf_rate', 'class_drop_pct', 'purse_per_starter', 'purse_ratio', 'moving_up_in_class', 'class_shock_indicator', 'handicap_level_change', 'time_per_distance', 'time_vs_record', 'pace_rating', 'speed_figure_proxy', 'market_confidence_shift', 'last_race_improvement', 'bounce_risk', 'layoff_distance_interaction', 'trainer_change', 'connection_stability', 'field_size_change', 'distance_comfort', 'competition_level_shift', 'recence_x_class_drop', 'trainer_change_x_recence', 'distance_change_x_recence', 'che_by_type_avg_pos', 'che_by_type_recent_perf', 'che_by_type_consistency', 'che_by_type_trend', 'che_by_type_pct_top3', 'che_by_type_nb_courses', 'che_by_type_dnf_rate', 'joc_by_type_avg_pos', 'joc_by_type_recent_perf', 'joc_by_type_consistency', 'joc_by_type_trend', 'joc_by_type_pct_top3', 'joc_by_type_nb_courses', 'joc_by_type_dnf_rate', 'trainer_victoires', 'trainer_places', 'trainer_courses', 'trainer_winrate', 'trainer_placerate', 'trainer_quality_score', 'trainer_experience_level', 'handicap_poids', 'handicap_dist', 'prec_handicap_poids', 'prec_handicap_dist', 'handicap_poids_change', 'handicap_poids_increased', 'handicap_poids_decreased', 'handicap_dist_change', 'handicap_dist_increased', 'handicap_dist_decreased', 'total_handicap', 'handicap_momentum', 'last_race_position', 'last_race_distance', 'distance_change', 'distance_change_pct', 'distance_increased', 'distance_decreased', 'same_distance', 'corde_change', 'corde_improved', 'corde_worsened', 'last_race_top3', 'last_race_won', 'che_bytype_total_races', 'joc_bytype_total_races', 'che_form_momentum', 'che_improving_form', 'che_declining_form', 'che_high_consistency', 'che_recent_quality', 'che_elite_performer', 'che_regular_placer', 'joc_form_momentum', 'joc_improving_form', 'joc_high_consistency', 'joc_elite_performer', 'synergy_both_improving', 'synergy_both_consistent', 'synergy_both_elite', 'overall_momentum_score', 'high_momentum', 'quinte_career_starts', 'quinte_win_rate', 'quinte_top5_rate', 'avg_quinte_position', 'days_since_last_quinte', 'quinte_handicap_specialist', 'quinte_conditions_specialist', 'quinte_large_field_ability', 'quinte_track_condition_fit', 'is_handicap_quinte', 'handicap_division', 'purse_level_category', 'field_size_category', 'track_condition_PH', 'track_condition_DUR', 'track_condition_PS', 'track_condition_PSF', 'weather_clear', 'weather_rain', 'weather_cloudy', 'post_position_bias', 'post_position_track_bias', 'raw_tabnet_prediction', 'predicted_position_tabnet', 'raw_rf_prediction', 'predicted_position_rf', 'predicted_position_base']
2025-11-12 22:38:00,640 - race_prediction.competitive_field_analyzer - INFO - === CRITICAL COLUMNS ANALYSIS ===
2025-11-12 22:38:00,640 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ recordG: 16/16 non-null values (100.0%)
2025-11-12 22:38:00,640 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [0.0, 0.0, 0.0]
2025-11-12 22:38:00,640 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ hippo: 16/16 non-null values (100.0%)
2025-11-12 22:38:00,640 - race_prediction.competitive_field_analyzer - INFO -    Sample values: ['Paris-Vincennes', 'Paris-Vincennes', 'Paris-Vincennes']
2025-11-12 22:38:00,640 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ coursescheval: 16/16 non-null values (100.0%)
2025-11-12 22:38:00,640 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [38, 61, 52]
2025-11-12 22:38:00,640 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ victoirescheval: 16/16 non-null values (100.0%)
2025-11-12 22:38:00,640 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [9, 11, 8]
2025-11-12 22:38:00,641 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ placescheval: 16/16 non-null values (100.0%)
2025-11-12 22:38:00,641 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [13, 21, 18]
2025-11-12 22:38:00,641 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ gainsCarriere: 16/16 non-null values (100.0%)
2025-11-12 22:38:00,641 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [16694000, 16736500, 16906000]
2025-11-12 22:38:00,641 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ age: 16/16 non-null values (100.0%)
2025-11-12 22:38:00,641 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [7, 7, 7]
2025-11-12 22:38:00,641 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ derniereplace: 16/16 non-null values (100.0%)
2025-11-12 22:38:00,641 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [1.0, 1.0, 6.0]
2025-11-12 22:38:00,641 - race_prediction.competitive_field_analyzer - INFO - === RACE METADATA ===
2025-11-12 22:38:00,647 - race_prediction.competitive_field_analyzer - INFO - comp: 1612854
2025-11-12 22:38:00,654 - race_prediction.competitive_field_analyzer - INFO - hippo: Paris-Vincennes
2025-11-12 22:38:00,654 - race_prediction.competitive_field_analyzer - INFO - dist: 2700
2025-11-12 22:38:00,660 - race_prediction.competitive_field_analyzer - INFO - typec: Attel√©
2025-11-12 22:38:00,660 - race_prediction.competitive_field_analyzer - INFO - partant: 16
2025-11-12 22:38:00,672 - race_prediction.competitive_field_analyzer - INFO - === SAMPLE RACE DATA ===
2025-11-12 22:38:00,673 - race_prediction.competitive_field_analyzer - INFO - Sample data (columns: ['numero', 'cheval', 'recordG', 'hippo', 'coursescheval']):
2025-11-12 22:38:00,673 - race_prediction.competitive_field_analyzer - INFO -   Horse 0: {'numero': 1, 'cheval': "Indice d'Argent", 'recordG': 0.0, 'hippo': 'Paris-Vincennes', 'coursescheval': 38}
2025-11-12 22:38:00,673 - race_prediction.competitive_field_analyzer - INFO -   Horse 1: {'numero': 2, 'cheval': 'Ir√©no des Plaines', 'recordG': 0.0, 'hippo': 'Paris-Vincennes', 'coursescheval': 61}
2025-11-12 22:38:00,673 - race_prediction.competitive_field_analyzer - INFO -   Horse 2: {'numero': 3, 'cheval': 'If You Can', 'recordG': 0.0, 'hippo': 'Paris-Vincennes', 'coursescheval': 52}
2025-11-12 22:38:00,673 - race_prediction.competitive_field_analyzer - INFO - === END COMPETITIVE ANALYSIS DEBUG ===

2025-11-12 22:38:00,673 - race_prediction.competitive_field_analyzer - INFO - === RETRIEVING HISTORICAL DATA ===
2025-11-12 22:38:00,679 - race_prediction.competitive_field_analyzer - INFO - Fetching historical data for 16 horses: [1469575, 1464524, 1498043, 1496260, 1430653, 1496957, 1466667, 1501881, 1490569, 1460578, 1505177, 1473111, 1438275, 1514018, 1460581, 1490567]
2025-11-12 22:38:00,699 - race_prediction.competitive_field_analyzer - INFO - Batch querying historical data for 16 horses: [1469575, 1464524, 1498043, 1496260, 1430653, 1496957, 1466667, 1501881, 1490569, 1460578, 1505177, 1473111, 1438275, 1514018, 1460581, 1490567]
2025-11-12 22:38:21,760 - race_prediction.competitive_field_analyzer - INFO - Batch query completed in 21.05s, found 217 total records
2025-11-12 22:38:21,794 - race_prediction.competitive_field_analyzer - INFO - Batch query retrieved 217 total historical races
2025-11-12 22:38:21,800 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS PER HORSE ===
2025-11-12 22:38:21,800 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1469575: 16 historical races found
2025-11-12 22:38:21,800 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1464524: 11 historical races found
2025-11-12 22:38:21,800 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1498043: 11 historical races found
2025-11-12 22:38:21,800 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1496260: 12 historical races found
2025-11-12 22:38:21,800 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1430653: 10 historical races found
2025-11-12 22:38:21,800 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1496957: 15 historical races found
2025-11-12 22:38:21,800 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1466667: 9 historical races found
2025-11-12 22:38:21,806 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1501881: 17 historical races found
2025-11-12 22:38:21,806 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1490569: 16 historical races found
2025-11-12 22:38:21,807 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1460578: 12 historical races found
2025-11-12 22:38:21,813 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1505177: 14 historical races found
2025-11-12 22:38:21,813 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1473111: 15 historical races found
2025-11-12 22:38:21,813 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1438275: 17 historical races found
2025-11-12 22:38:21,813 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1514018: 11 historical races found
2025-11-12 22:38:21,813 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1460581: 13 historical races found
2025-11-12 22:38:21,813 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1490567: 18 historical races found
2025-11-12 22:38:21,813 - race_prediction.competitive_field_analyzer - INFO - Retrieved 217 total historical races
2025-11-12 22:38:21,813 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS BY HORSE ===
2025-11-12 22:38:21,821 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1469575: 16 historical races
2025-11-12 22:38:21,821 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1464524: 11 historical races
2025-11-12 22:38:21,821 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1498043: 11 historical races
2025-11-12 22:38:21,827 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1496260: 12 historical races
2025-11-12 22:38:21,827 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1430653: 10 historical races
2025-11-12 22:38:21,827 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1496957: 15 historical races
2025-11-12 22:38:21,834 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1466667: 9 historical races
2025-11-12 22:38:21,834 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1501881: 17 historical races
2025-11-12 22:38:21,840 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1490569: 16 historical races
2025-11-12 22:38:21,840 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1460578: 12 historical races
2025-11-12 22:38:21,840 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1505177: 14 historical races
2025-11-12 22:38:21,840 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1473111: 15 historical races
2025-11-12 22:38:21,840 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1438275: 17 historical races
2025-11-12 22:38:21,840 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1514018: 11 historical races
2025-11-12 22:38:21,840 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1460581: 13 historical races
2025-11-12 22:38:21,840 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1490567: 18 historical races
2025-11-12 22:38:21,847 - race_prediction.competitive_field_analyzer - INFO - === END HISTORICAL DATA RETRIEVAL ===

2025-11-12 22:38:21,847 - race_prediction.competitive_field_analyzer - INFO - === EARNINGS QUALITY ANALYSIS ===
2025-11-12 22:38:21,847 - race_prediction.competitive_field_analyzer - INFO - Valid earnings data: 16/16 horses
2025-11-12 22:38:21,847 - race_prediction.competitive_field_analyzer - INFO - Sample earnings per race: ['439,316', '274,369', '325,115']
2025-11-12 22:38:21,854 - race_prediction.competitive_field_analyzer - INFO - Field earnings stats: avg=325,571, max=547,141
2025-11-12 22:38:21,867 - race_prediction.competitive_field_analyzer - INFO - === TRACK SPECIALIZATION ANALYSIS ===
2025-11-12 22:38:21,867 - race_prediction.competitive_field_analyzer - INFO - Horses with reliable venue data (3+ races): 0/16
2025-11-12 22:38:21,874 - race_prediction.competitive_field_analyzer - INFO - === FORM MOMENTUM ANALYSIS ===
2025-11-12 22:38:21,879 - race_prediction.competitive_field_analyzer - INFO - Field avg horse trend: 1.443, recent perf: 7.08
2025-11-12 22:38:21,885 - race_prediction.competitive_field_analyzer - INFO - Field avg jockey trend: -0.128
2025-11-12 22:38:21,885 - race_prediction.competitive_field_analyzer - INFO - Horses with improving form: 5/16
2025-11-12 22:38:21,887 - race_prediction.competitive_field_analyzer - INFO - === HOT CONNECTIONS ANALYSIS ===
2025-11-12 22:38:21,887 - race_prediction.competitive_field_analyzer - INFO - Jockeys with wins today: 0/16
2025-11-12 22:38:21,887 - race_prediction.competitive_field_analyzer - INFO - Trainers with wins today: 0/16
2025-11-12 22:38:21,887 - race_prediction.competitive_field_analyzer - INFO - === DISTANCE COMFORT ANALYSIS ===
2025-11-12 22:38:21,887 - race_prediction.competitive_field_analyzer - INFO - Current race distance: 2700m
2025-11-12 22:38:21,893 - race_prediction.competitive_field_analyzer - INFO - Horses with similar recent distance: 11/16
2025-11-12 22:38:21,899 - race_prediction.competitive_field_analyzer - INFO - === REALISTIC COMPETITIVE SCORING ===
2025-11-12 22:38:21,900 - race_prediction.competitive_field_analyzer - INFO - üìä COMPETITIVE ANALYSIS SUMMARY:
2025-11-12 22:38:21,900 - race_prediction.competitive_field_analyzer - INFO -    Total competitive races: 217
2025-11-12 22:38:21,900 - race_prediction.competitive_field_analyzer - INFO -    Horses with historical data: 16/16
2025-11-12 22:38:21,900 - race_prediction.competitive_field_analyzer - INFO -    Average races per horse: 13.6
2025-11-12 22:38:22,180 - race_prediction.quinte_prediction_storage - INFO - Stored 16 horses for Quint√© race 1612854
2025-11-12 22:38:39,023 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE ANALYSIS DEBUG ===
2025-11-12 22:38:39,037 - race_prediction.competitive_field_analyzer - INFO - Analyzing competitive field for race with 18 horses
2025-11-12 22:38:39,043 - race_prediction.competitive_field_analyzer - INFO - Race data shape: (18, 278)
2025-11-12 22:38:39,043 - race_prediction.competitive_field_analyzer - INFO - Available columns: ['id', 'comp', 'jour', 'hippo', 'reun', 'prix', 'prixnom', 'typec', 'partant', 'dist', 'handi', 'groupe', 'quinte', 'natpis', 'meteo', 'corde', 'temperature', 'forceVent', 'directionVent', 'nebulosite', 'prediction_results', 'actual_results', 'created_at', 'updated_at', 'processed_data', 'cheque', 'handi_raw', 'reclam', 'sex', 'tempscourse', 'handicap_level_score', 'cl', 'numero', 'cheval', 'age', 'cotedirect', 'coteprob', 'recence', 'ecar', 'defoeil', 'defoeilPrec', 'musiqueche', 'musiquejoc', 'entraineur', 'coursescheval', 'victoirescheval', 'placescheval', 'dernierealloc', 'derniernbpartants', 'dernieredist', 'derniereplace', 'dernierecote', 'dernierEnt', 'proprietaire', 'poidmont', 'pourcVictJockHippo', 'pourcPlaceJockHippo', 'pourcVictChevalHippo', 'pourcPlaceChevalHippo', 'tempstot', 'vha', 'recordG', 'txreclam', 'dernierTxreclam', 'gainsCarriere', 'gainsAnneeEnCours', 'handicapDistance', 'handicapPoids', 'TxVictCouple', 'nbVictCouple', 'nbPlaceCouple', 'idche', 'idJockey', 'idEntraineur', 'defFirstTime', 'oeilFirstTime', 'oeil', 'dernierOeil', 'ratio_victoires', 'ratio_places', 'gains_par_course', 'efficacite_couple', 'regularite_couple', 'progression_couple', 'perf_cheval_hippo', 'perf_jockey_hippo', 'blinkers_first_time', 'has_blinkers', 'has_standard_blinkers', 'has_australian_blinkers', 'blinkers_added', 'blinkers_removed', 'blinkers_type_changed', 'blinkers_any_change', 'blinkers_high_impact_change', 'shoeing_first_time', 'fully_shod', 'front_shod_only', 'back_shod_only', 'barefoot', 'shoeing_changed', 'barefoot_to_shod', 'shod_to_barefoot', 'major_shoeing_change', 'shoeing_complexity', 'multiple_equipment_changes', 'equipment_momentum_score', 'high_equipment_momentum', 'multiple_first_time_changes', 'equipment_optimization_score', 'career_strike_rate', 'earnings_per_race', 'earnings_trend', 'last_race_position_normalized', 'last_race_odds_normalized', 'last_race_field_size_factor', 'distance_consistency', 'vha_normalized', 'claiming_tax_trend', 'class_stability', 'che_global_avg_pos', 'che_global_recent_perf', 'che_global_consistency', 'che_global_trend', 'che_global_pct_top3', 'che_global_nb_courses', 'che_global_total_races', 'che_global_dnf_rate', 'che_weighted_avg_pos', 'che_weighted_recent_perf', 'che_weighted_consistency', 'che_weighted_pct_top3', 'che_weighted_nb_courses', 'che_weighted_total_races', 'che_weighted_dnf_rate', 'che_weighted_trend', 'che_bytype_avg_pos', 'che_bytype_recent_perf', 'che_bytype_consistency', 'che_bytype_trend', 'che_bytype_pct_top3', 'che_bytype_nb_courses', 'che_bytype_dnf_rate', 'joc_global_avg_pos', 'joc_global_recent_perf', 'joc_global_consistency', 'joc_global_trend', 'joc_global_pct_top3', 'joc_global_nb_courses', 'joc_global_total_races', 'joc_global_dnf_rate', 'joc_weighted_avg_pos', 'joc_weighted_recent_perf', 'joc_weighted_consistency', 'joc_weighted_pct_top3', 'joc_weighted_nb_courses', 'joc_weighted_total_races', 'joc_weighted_dnf_rate', 'joc_weighted_trend', 'joc_bytype_avg_pos', 'joc_bytype_recent_perf', 'joc_bytype_consistency', 'joc_bytype_trend', 'joc_bytype_pct_top3', 'joc_bytype_nb_courses', 'joc_bytype_dnf_rate', 'class_drop_pct', 'purse_per_starter', 'purse_ratio', 'moving_up_in_class', 'class_shock_indicator', 'handicap_level_change', 'time_per_distance', 'time_vs_record', 'pace_rating', 'speed_figure_proxy', 'market_confidence_shift', 'last_race_improvement', 'bounce_risk', 'layoff_distance_interaction', 'trainer_change', 'connection_stability', 'field_size_change', 'distance_comfort', 'competition_level_shift', 'recence_x_class_drop', 'trainer_change_x_recence', 'distance_change_x_recence', 'che_by_type_avg_pos', 'che_by_type_recent_perf', 'che_by_type_consistency', 'che_by_type_trend', 'che_by_type_pct_top3', 'che_by_type_nb_courses', 'che_by_type_dnf_rate', 'joc_by_type_avg_pos', 'joc_by_type_recent_perf', 'joc_by_type_consistency', 'joc_by_type_trend', 'joc_by_type_pct_top3', 'joc_by_type_nb_courses', 'joc_by_type_dnf_rate', 'trainer_victoires', 'trainer_places', 'trainer_courses', 'trainer_winrate', 'trainer_placerate', 'trainer_quality_score', 'trainer_experience_level', 'handicap_poids', 'handicap_dist', 'prec_handicap_poids', 'prec_handicap_dist', 'handicap_poids_change', 'handicap_poids_increased', 'handicap_poids_decreased', 'handicap_dist_change', 'handicap_dist_increased', 'handicap_dist_decreased', 'total_handicap', 'handicap_momentum', 'last_race_position', 'last_race_distance', 'distance_change', 'distance_change_pct', 'distance_increased', 'distance_decreased', 'same_distance', 'corde_change', 'corde_improved', 'corde_worsened', 'last_race_top3', 'last_race_won', 'che_bytype_total_races', 'joc_bytype_total_races', 'che_form_momentum', 'che_improving_form', 'che_declining_form', 'che_high_consistency', 'che_recent_quality', 'che_elite_performer', 'che_regular_placer', 'joc_form_momentum', 'joc_improving_form', 'joc_high_consistency', 'joc_elite_performer', 'synergy_both_improving', 'synergy_both_consistent', 'synergy_both_elite', 'overall_momentum_score', 'high_momentum', 'quinte_career_starts', 'quinte_win_rate', 'quinte_top5_rate', 'avg_quinte_position', 'days_since_last_quinte', 'quinte_handicap_specialist', 'quinte_conditions_specialist', 'quinte_large_field_ability', 'quinte_track_condition_fit', 'is_handicap_quinte', 'handicap_division', 'purse_level_category', 'field_size_category', 'track_condition_PH', 'track_condition_DUR', 'track_condition_PS', 'track_condition_PSF', 'weather_clear', 'weather_rain', 'weather_cloudy', 'post_position_bias', 'post_position_track_bias', 'raw_tabnet_prediction', 'predicted_position_tabnet', 'raw_rf_prediction', 'predicted_position_rf', 'predicted_position_base']
2025-11-12 22:38:39,050 - race_prediction.competitive_field_analyzer - INFO - === CRITICAL COLUMNS ANALYSIS ===
2025-11-12 22:38:39,056 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ recordG: 18/18 non-null values (100.0%)
2025-11-12 22:38:39,057 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [0.0, 0.0, 0.0]
2025-11-12 22:38:39,057 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ hippo: 18/18 non-null values (100.0%)
2025-11-12 22:38:39,057 - race_prediction.competitive_field_analyzer - INFO -    Sample values: ['Compi√®gne', 'Compi√®gne', 'Compi√®gne']
2025-11-12 22:38:39,057 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ coursescheval: 18/18 non-null values (100.0%)
2025-11-12 22:38:39,057 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [8, 22, 18]
2025-11-12 22:38:39,057 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ victoirescheval: 18/18 non-null values (100.0%)
2025-11-12 22:38:39,057 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [3, 5, 3]
2025-11-12 22:38:39,057 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ placescheval: 18/18 non-null values (100.0%)
2025-11-12 22:38:39,057 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [6, 11, 8]
2025-11-12 22:38:39,057 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ gainsCarriere: 18/18 non-null values (100.0%)
2025-11-12 22:38:39,057 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [12974000, 16849000, 9182500]
2025-11-12 22:38:39,057 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ age: 18/18 non-null values (100.0%)
2025-11-12 22:38:39,057 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [5, 5, 5]
2025-11-12 22:38:39,057 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ derniereplace: 18/18 non-null values (100.0%)
2025-11-12 22:38:39,057 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [1.0, 10.0, 7.0]
2025-11-12 22:38:39,057 - race_prediction.competitive_field_analyzer - INFO - === RACE METADATA ===
2025-11-12 22:38:39,057 - race_prediction.competitive_field_analyzer - INFO - comp: 1606886
2025-11-12 22:38:39,057 - race_prediction.competitive_field_analyzer - INFO - hippo: Compi√®gne
2025-11-12 22:38:39,057 - race_prediction.competitive_field_analyzer - INFO - dist: 3600
2025-11-12 22:38:39,057 - race_prediction.competitive_field_analyzer - INFO - typec: Haies
2025-11-12 22:38:39,057 - race_prediction.competitive_field_analyzer - INFO - partant: 18
2025-11-12 22:38:39,064 - race_prediction.competitive_field_analyzer - INFO - === SAMPLE RACE DATA ===
2025-11-12 22:38:39,064 - race_prediction.competitive_field_analyzer - INFO - Sample data (columns: ['numero', 'cheval', 'recordG', 'hippo', 'coursescheval']):
2025-11-12 22:38:39,064 - race_prediction.competitive_field_analyzer - INFO -   Horse 0: {'numero': 1, 'cheval': 'La D√©lirante', 'recordG': 0.0, 'hippo': 'Compi√®gne', 'coursescheval': 8}
2025-11-12 22:38:39,064 - race_prediction.competitive_field_analyzer - INFO -   Horse 1: {'numero': 2, 'cheval': 'Earl of Shannon', 'recordG': 0.0, 'hippo': 'Compi√®gne', 'coursescheval': 22}
2025-11-12 22:38:39,064 - race_prediction.competitive_field_analyzer - INFO -   Horse 2: {'numero': 3, 'cheval': 'Kingpark', 'recordG': 0.0, 'hippo': 'Compi√®gne', 'coursescheval': 18}
2025-11-12 22:38:39,064 - race_prediction.competitive_field_analyzer - INFO - === END COMPETITIVE ANALYSIS DEBUG ===

2025-11-12 22:38:39,071 - race_prediction.competitive_field_analyzer - INFO - === RETRIEVING HISTORICAL DATA ===
2025-11-12 22:38:39,071 - race_prediction.competitive_field_analyzer - INFO - Fetching historical data for 18 horses: [1706616, 1652488, 1650846, 1643070, 1641019, 1648763, 1652502, 1676002, 1669182, 1684532, 1648781, 1646967, 1579591, 1559768, 1670805, 1559916, 1688194, 1642250]
2025-11-12 22:38:39,085 - race_prediction.competitive_field_analyzer - INFO - Batch querying historical data for 18 horses: [1706616, 1652488, 1650846, 1643070, 1641019, 1648763, 1652502, 1676002, 1669182, 1684532, 1648781, 1646967, 1579591, 1559768, 1670805, 1559916, 1688194, 1642250]
2025-11-12 22:39:01,316 - race_prediction.competitive_field_analyzer - INFO - Batch query completed in 22.22s, found 134 total records
2025-11-12 22:39:01,357 - race_prediction.competitive_field_analyzer - INFO - Batch query retrieved 134 total historical races
2025-11-12 22:39:01,357 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS PER HORSE ===
2025-11-12 22:39:01,357 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1706616: 5 historical races found
2025-11-12 22:39:01,357 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1652488: 8 historical races found
2025-11-12 22:39:01,364 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1650846: 7 historical races found
2025-11-12 22:39:01,364 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1643070: 8 historical races found
2025-11-12 22:39:01,377 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1641019: 8 historical races found
2025-11-12 22:39:01,385 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1648763: 4 historical races found
2025-11-12 22:39:01,385 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1652502: 8 historical races found
2025-11-12 22:39:01,385 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1676002: 9 historical races found
2025-11-12 22:39:01,385 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1669182: 10 historical races found
2025-11-12 22:39:01,385 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1684532: 5 historical races found
2025-11-12 22:39:01,385 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1648781: 6 historical races found
2025-11-12 22:39:01,385 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1646967: 7 historical races found
2025-11-12 22:39:01,385 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1579591: 6 historical races found
2025-11-12 22:39:01,385 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1559768: 8 historical races found
2025-11-12 22:39:01,392 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1670805: 5 historical races found
2025-11-12 22:39:01,399 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1559916: 8 historical races found
2025-11-12 22:39:01,407 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1688194: 11 historical races found
2025-11-12 22:39:01,407 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1642250: 11 historical races found
2025-11-12 22:39:01,414 - race_prediction.competitive_field_analyzer - INFO - Retrieved 134 total historical races
2025-11-12 22:39:01,414 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS BY HORSE ===
2025-11-12 22:39:01,414 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1706616: 5 historical races
2025-11-12 22:39:01,422 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1652488: 8 historical races
2025-11-12 22:39:01,422 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1650846: 7 historical races
2025-11-12 22:39:01,422 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1643070: 8 historical races
2025-11-12 22:39:01,422 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1641019: 8 historical races
2025-11-12 22:39:01,422 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1648763: 4 historical races
2025-11-12 22:39:01,422 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1652502: 8 historical races
2025-11-12 22:39:01,422 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1676002: 9 historical races
2025-11-12 22:39:01,422 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1669182: 10 historical races
2025-11-12 22:39:01,437 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1684532: 5 historical races
2025-11-12 22:39:01,437 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1648781: 6 historical races
2025-11-12 22:39:01,437 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1646967: 7 historical races
2025-11-12 22:39:01,444 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1579591: 6 historical races
2025-11-12 22:39:01,444 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1559768: 8 historical races
2025-11-12 22:39:01,444 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1670805: 5 historical races
2025-11-12 22:39:01,451 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1559916: 8 historical races
2025-11-12 22:39:01,451 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1688194: 11 historical races
2025-11-12 22:39:01,451 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1642250: 11 historical races
2025-11-12 22:39:01,451 - race_prediction.competitive_field_analyzer - INFO - === END HISTORICAL DATA RETRIEVAL ===

2025-11-12 22:39:01,452 - race_prediction.competitive_field_analyzer - INFO - === EARNINGS QUALITY ANALYSIS ===
2025-11-12 22:39:01,452 - race_prediction.competitive_field_analyzer - INFO - Valid earnings data: 18/18 horses
2025-11-12 22:39:01,459 - race_prediction.competitive_field_analyzer - INFO - Sample earnings per race: ['1,621,750', '765,864', '510,139']
2025-11-12 22:39:01,459 - race_prediction.competitive_field_analyzer - INFO - Field earnings stats: avg=605,134, max=1,621,750
2025-11-12 22:39:01,459 - race_prediction.competitive_field_analyzer - INFO - === TRACK SPECIALIZATION ANALYSIS ===
2025-11-12 22:39:01,460 - race_prediction.competitive_field_analyzer - INFO - Horses with reliable venue data (3+ races): 0/18
2025-11-12 22:39:01,469 - race_prediction.competitive_field_analyzer - INFO - === FORM MOMENTUM ANALYSIS ===
2025-11-12 22:39:01,484 - race_prediction.competitive_field_analyzer - INFO - Field avg horse trend: -2.452, recent perf: 5.78
2025-11-12 22:39:01,497 - race_prediction.competitive_field_analyzer - INFO - Field avg jockey trend: -0.062
2025-11-12 22:39:01,498 - race_prediction.competitive_field_analyzer - INFO - Horses with improving form: 1/18
2025-11-12 22:39:01,498 - race_prediction.competitive_field_analyzer - INFO - === HOT CONNECTIONS ANALYSIS ===
2025-11-12 22:39:01,498 - race_prediction.competitive_field_analyzer - INFO - Jockeys with wins today: 0/18
2025-11-12 22:39:01,498 - race_prediction.competitive_field_analyzer - INFO - Trainers with wins today: 0/18
2025-11-12 22:39:01,498 - race_prediction.competitive_field_analyzer - INFO - === DISTANCE COMFORT ANALYSIS ===
2025-11-12 22:39:01,498 - race_prediction.competitive_field_analyzer - INFO - Current race distance: 3600m
2025-11-12 22:39:01,505 - race_prediction.competitive_field_analyzer - INFO - Horses with similar recent distance: 15/18
2025-11-12 22:39:01,520 - race_prediction.competitive_field_analyzer - INFO - === REALISTIC COMPETITIVE SCORING ===
2025-11-12 22:39:01,528 - race_prediction.competitive_field_analyzer - INFO - üìä COMPETITIVE ANALYSIS SUMMARY:
2025-11-12 22:39:01,528 - race_prediction.competitive_field_analyzer - INFO -    Total competitive races: 134
2025-11-12 22:39:01,528 - race_prediction.competitive_field_analyzer - INFO -    Horses with historical data: 18/18
2025-11-12 22:39:01,528 - race_prediction.competitive_field_analyzer - INFO -    Average races per horse: 7.4
2025-11-12 22:39:01,810 - race_prediction.quinte_prediction_storage - INFO - Stored 18 horses for Quint√© race 1606886
2025-11-12 22:39:20,569 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE ANALYSIS DEBUG ===
2025-11-12 22:39:20,578 - race_prediction.competitive_field_analyzer - INFO - Analyzing competitive field for race with 16 horses
2025-11-12 22:39:20,585 - race_prediction.competitive_field_analyzer - INFO - Race data shape: (16, 278)
2025-11-12 22:39:20,591 - race_prediction.competitive_field_analyzer - INFO - Available columns: ['id', 'comp', 'jour', 'hippo', 'reun', 'prix', 'prixnom', 'typec', 'partant', 'dist', 'handi', 'groupe', 'quinte', 'natpis', 'meteo', 'corde', 'temperature', 'forceVent', 'directionVent', 'nebulosite', 'prediction_results', 'actual_results', 'created_at', 'updated_at', 'processed_data', 'cheque', 'handi_raw', 'reclam', 'sex', 'tempscourse', 'handicap_level_score', 'cl', 'numero', 'cheval', 'age', 'cotedirect', 'coteprob', 'recence', 'ecar', 'defoeil', 'defoeilPrec', 'musiqueche', 'musiquejoc', 'entraineur', 'coursescheval', 'victoirescheval', 'placescheval', 'dernierealloc', 'derniernbpartants', 'dernieredist', 'derniereplace', 'dernierecote', 'dernierEnt', 'proprietaire', 'poidmont', 'pourcVictJockHippo', 'pourcPlaceJockHippo', 'pourcVictChevalHippo', 'pourcPlaceChevalHippo', 'tempstot', 'vha', 'recordG', 'txreclam', 'dernierTxreclam', 'gainsCarriere', 'gainsAnneeEnCours', 'handicapDistance', 'handicapPoids', 'TxVictCouple', 'nbVictCouple', 'nbPlaceCouple', 'idche', 'idJockey', 'idEntraineur', 'defFirstTime', 'oeilFirstTime', 'oeil', 'dernierOeil', 'ratio_victoires', 'ratio_places', 'gains_par_course', 'efficacite_couple', 'regularite_couple', 'progression_couple', 'perf_cheval_hippo', 'perf_jockey_hippo', 'blinkers_first_time', 'has_blinkers', 'has_standard_blinkers', 'has_australian_blinkers', 'blinkers_added', 'blinkers_removed', 'blinkers_type_changed', 'blinkers_any_change', 'blinkers_high_impact_change', 'shoeing_first_time', 'fully_shod', 'front_shod_only', 'back_shod_only', 'barefoot', 'shoeing_changed', 'barefoot_to_shod', 'shod_to_barefoot', 'major_shoeing_change', 'shoeing_complexity', 'multiple_equipment_changes', 'equipment_momentum_score', 'high_equipment_momentum', 'multiple_first_time_changes', 'equipment_optimization_score', 'career_strike_rate', 'earnings_per_race', 'earnings_trend', 'last_race_position_normalized', 'last_race_odds_normalized', 'last_race_field_size_factor', 'distance_consistency', 'vha_normalized', 'claiming_tax_trend', 'class_stability', 'che_global_avg_pos', 'che_global_recent_perf', 'che_global_consistency', 'che_global_trend', 'che_global_pct_top3', 'che_global_nb_courses', 'che_global_total_races', 'che_global_dnf_rate', 'che_weighted_avg_pos', 'che_weighted_recent_perf', 'che_weighted_consistency', 'che_weighted_pct_top3', 'che_weighted_nb_courses', 'che_weighted_total_races', 'che_weighted_dnf_rate', 'che_weighted_trend', 'che_bytype_avg_pos', 'che_bytype_recent_perf', 'che_bytype_consistency', 'che_bytype_trend', 'che_bytype_pct_top3', 'che_bytype_nb_courses', 'che_bytype_dnf_rate', 'joc_global_avg_pos', 'joc_global_recent_perf', 'joc_global_consistency', 'joc_global_trend', 'joc_global_pct_top3', 'joc_global_nb_courses', 'joc_global_total_races', 'joc_global_dnf_rate', 'joc_weighted_avg_pos', 'joc_weighted_recent_perf', 'joc_weighted_consistency', 'joc_weighted_pct_top3', 'joc_weighted_nb_courses', 'joc_weighted_total_races', 'joc_weighted_dnf_rate', 'joc_weighted_trend', 'joc_bytype_avg_pos', 'joc_bytype_recent_perf', 'joc_bytype_consistency', 'joc_bytype_trend', 'joc_bytype_pct_top3', 'joc_bytype_nb_courses', 'joc_bytype_dnf_rate', 'class_drop_pct', 'purse_per_starter', 'purse_ratio', 'moving_up_in_class', 'class_shock_indicator', 'handicap_level_change', 'time_per_distance', 'time_vs_record', 'pace_rating', 'speed_figure_proxy', 'market_confidence_shift', 'last_race_improvement', 'bounce_risk', 'layoff_distance_interaction', 'trainer_change', 'connection_stability', 'field_size_change', 'distance_comfort', 'competition_level_shift', 'recence_x_class_drop', 'trainer_change_x_recence', 'distance_change_x_recence', 'che_by_type_avg_pos', 'che_by_type_recent_perf', 'che_by_type_consistency', 'che_by_type_trend', 'che_by_type_pct_top3', 'che_by_type_nb_courses', 'che_by_type_dnf_rate', 'joc_by_type_avg_pos', 'joc_by_type_recent_perf', 'joc_by_type_consistency', 'joc_by_type_trend', 'joc_by_type_pct_top3', 'joc_by_type_nb_courses', 'joc_by_type_dnf_rate', 'trainer_victoires', 'trainer_places', 'trainer_courses', 'trainer_winrate', 'trainer_placerate', 'trainer_quality_score', 'trainer_experience_level', 'handicap_poids', 'handicap_dist', 'prec_handicap_poids', 'prec_handicap_dist', 'handicap_poids_change', 'handicap_poids_increased', 'handicap_poids_decreased', 'handicap_dist_change', 'handicap_dist_increased', 'handicap_dist_decreased', 'total_handicap', 'handicap_momentum', 'last_race_position', 'last_race_distance', 'distance_change', 'distance_change_pct', 'distance_increased', 'distance_decreased', 'same_distance', 'corde_change', 'corde_improved', 'corde_worsened', 'last_race_top3', 'last_race_won', 'che_bytype_total_races', 'joc_bytype_total_races', 'che_form_momentum', 'che_improving_form', 'che_declining_form', 'che_high_consistency', 'che_recent_quality', 'che_elite_performer', 'che_regular_placer', 'joc_form_momentum', 'joc_improving_form', 'joc_high_consistency', 'joc_elite_performer', 'synergy_both_improving', 'synergy_both_consistent', 'synergy_both_elite', 'overall_momentum_score', 'high_momentum', 'quinte_career_starts', 'quinte_win_rate', 'quinte_top5_rate', 'avg_quinte_position', 'days_since_last_quinte', 'quinte_handicap_specialist', 'quinte_conditions_specialist', 'quinte_large_field_ability', 'quinte_track_condition_fit', 'is_handicap_quinte', 'handicap_division', 'purse_level_category', 'field_size_category', 'track_condition_PH', 'track_condition_DUR', 'track_condition_PS', 'track_condition_PSF', 'weather_clear', 'weather_rain', 'weather_cloudy', 'post_position_bias', 'post_position_track_bias', 'raw_tabnet_prediction', 'predicted_position_tabnet', 'raw_rf_prediction', 'predicted_position_rf', 'predicted_position_base']
2025-11-12 22:39:20,607 - race_prediction.competitive_field_analyzer - INFO - === CRITICAL COLUMNS ANALYSIS ===
2025-11-12 22:39:20,607 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ recordG: 16/16 non-null values (100.0%)
2025-11-12 22:39:20,607 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [0.0, 0.0, 0.0]
2025-11-12 22:39:20,607 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ hippo: 16/16 non-null values (100.0%)
2025-11-12 22:39:20,607 - race_prediction.competitive_field_analyzer - INFO -    Sample values: ['Chantilly', 'Chantilly', 'Chantilly']
2025-11-12 22:39:20,608 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ coursescheval: 16/16 non-null values (100.0%)
2025-11-12 22:39:20,608 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [16, 9, 11]
2025-11-12 22:39:20,608 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ victoirescheval: 16/16 non-null values (100.0%)
2025-11-12 22:39:20,608 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [2, 2, 2]
2025-11-12 22:39:20,608 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ placescheval: 16/16 non-null values (100.0%)
2025-11-12 22:39:20,608 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [9, 5, 5]
2025-11-12 22:39:20,608 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ gainsCarriere: 16/16 non-null values (100.0%)
2025-11-12 22:39:20,608 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [8639200, 3460000, 5448200]
2025-11-12 22:39:20,608 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ age: 16/16 non-null values (100.0%)
2025-11-12 22:39:20,608 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [3, 3, 3]
2025-11-12 22:39:20,608 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ derniereplace: 16/16 non-null values (100.0%)
2025-11-12 22:39:20,608 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [1, 8, 13]
2025-11-12 22:39:20,608 - race_prediction.competitive_field_analyzer - INFO - === RACE METADATA ===
2025-11-12 22:39:20,608 - race_prediction.competitive_field_analyzer - INFO - comp: 1606844
2025-11-12 22:39:20,608 - race_prediction.competitive_field_analyzer - INFO - hippo: Chantilly
2025-11-12 22:39:20,608 - race_prediction.competitive_field_analyzer - INFO - dist: 1600
2025-11-12 22:39:20,615 - race_prediction.competitive_field_analyzer - INFO - typec: Plat
2025-11-12 22:39:20,622 - race_prediction.competitive_field_analyzer - INFO - partant: 16
2025-11-12 22:39:20,622 - race_prediction.competitive_field_analyzer - INFO - === SAMPLE RACE DATA ===
2025-11-12 22:39:20,622 - race_prediction.competitive_field_analyzer - INFO - Sample data (columns: ['numero', 'cheval', 'recordG', 'hippo', 'coursescheval']):
2025-11-12 22:39:20,622 - race_prediction.competitive_field_analyzer - INFO -   Horse 0: {'numero': 1, 'cheval': 'El Pequenio', 'recordG': 0.0, 'hippo': 'Chantilly', 'coursescheval': 16}
2025-11-12 22:39:20,622 - race_prediction.competitive_field_analyzer - INFO -   Horse 1: {'numero': 2, 'cheval': 'Lakota Beau', 'recordG': 0.0, 'hippo': 'Chantilly', 'coursescheval': 9}
2025-11-12 22:39:20,623 - race_prediction.competitive_field_analyzer - INFO -   Horse 2: {'numero': 3, 'cheval': 'Acto', 'recordG': 0.0, 'hippo': 'Chantilly', 'coursescheval': 11}
2025-11-12 22:39:20,623 - race_prediction.competitive_field_analyzer - INFO - === END COMPETITIVE ANALYSIS DEBUG ===

2025-11-12 22:39:20,630 - race_prediction.competitive_field_analyzer - INFO - === RETRIEVING HISTORICAL DATA ===
2025-11-12 22:39:20,630 - race_prediction.competitive_field_analyzer - INFO - Fetching historical data for 16 horses: [1718695, 1714596, 1723957, 1728965, 1734355, 1751977, 1741661, 1717206, 1722576, 1720035, 1717191, 1722582, 1723132, 1704246, 1717205, 1740052]
2025-11-12 22:39:20,658 - race_prediction.competitive_field_analyzer - INFO - Batch querying historical data for 16 horses: [1718695, 1714596, 1723957, 1728965, 1734355, 1751977, 1741661, 1717206, 1722576, 1720035, 1717191, 1722582, 1723132, 1704246, 1717205, 1740052]
2025-11-12 22:39:39,399 - race_prediction.competitive_field_analyzer - INFO - Batch query completed in 18.74s, found 147 total records
2025-11-12 22:39:39,421 - race_prediction.competitive_field_analyzer - INFO - Batch query retrieved 147 total historical races
2025-11-12 22:39:39,429 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS PER HORSE ===
2025-11-12 22:39:39,429 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1718695: 13 historical races found
2025-11-12 22:39:39,429 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1714596: 9 historical races found
2025-11-12 22:39:39,429 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1723957: 11 historical races found
2025-11-12 22:39:39,429 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1728965: 8 historical races found
2025-11-12 22:39:39,429 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1734355: 6 historical races found
2025-11-12 22:39:39,429 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1751977: 7 historical races found
2025-11-12 22:39:39,429 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1741661: 7 historical races found
2025-11-12 22:39:39,429 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1717206: 4 historical races found
2025-11-12 22:39:39,429 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1722576: 10 historical races found
2025-11-12 22:39:39,444 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1720035: 11 historical races found
2025-11-12 22:39:39,444 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1717191: 7 historical races found
2025-11-12 22:39:39,444 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1722582: 10 historical races found
2025-11-12 22:39:39,444 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1723132: 8 historical races found
2025-11-12 22:39:39,451 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1704246: 15 historical races found
2025-11-12 22:39:39,451 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1717205: 12 historical races found
2025-11-12 22:39:39,451 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1740052: 9 historical races found
2025-11-12 22:39:39,451 - race_prediction.competitive_field_analyzer - INFO - Retrieved 147 total historical races
2025-11-12 22:39:39,451 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS BY HORSE ===
2025-11-12 22:39:39,459 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1718695: 13 historical races
2025-11-12 22:39:39,459 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1714596: 9 historical races
2025-11-12 22:39:39,466 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1723957: 11 historical races
2025-11-12 22:39:39,466 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1728965: 8 historical races
2025-11-12 22:39:39,466 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1734355: 6 historical races
2025-11-12 22:39:39,466 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1751977: 7 historical races
2025-11-12 22:39:39,466 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1741661: 7 historical races
2025-11-12 22:39:39,466 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1717206: 4 historical races
2025-11-12 22:39:39,466 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1722576: 10 historical races
2025-11-12 22:39:39,466 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1720035: 11 historical races
2025-11-12 22:39:39,480 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1717191: 7 historical races
2025-11-12 22:39:39,492 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1722582: 10 historical races
2025-11-12 22:39:39,507 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1723132: 8 historical races
2025-11-12 22:39:39,507 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1704246: 15 historical races
2025-11-12 22:39:39,515 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1717205: 12 historical races
2025-11-12 22:39:39,515 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1740052: 9 historical races
2025-11-12 22:39:39,515 - race_prediction.competitive_field_analyzer - INFO - === END HISTORICAL DATA RETRIEVAL ===

2025-11-12 22:39:39,515 - race_prediction.competitive_field_analyzer - INFO - === EARNINGS QUALITY ANALYSIS ===
2025-11-12 22:39:39,515 - race_prediction.competitive_field_analyzer - INFO - Valid earnings data: 16/16 horses
2025-11-12 22:39:39,515 - race_prediction.competitive_field_analyzer - INFO - Sample earnings per race: ['539,950', '384,444', '495,291']
2025-11-12 22:39:39,515 - race_prediction.competitive_field_analyzer - INFO - Field earnings stats: avg=388,785, max=539,950
2025-11-12 22:39:39,515 - race_prediction.competitive_field_analyzer - INFO - === TRACK SPECIALIZATION ANALYSIS ===
2025-11-12 22:39:39,522 - race_prediction.competitive_field_analyzer - INFO - Horses with reliable venue data (3+ races): 0/16
2025-11-12 22:39:39,528 - race_prediction.competitive_field_analyzer - INFO - === FORM MOMENTUM ANALYSIS ===
2025-11-12 22:39:39,541 - race_prediction.competitive_field_analyzer - INFO - Field avg horse trend: -0.493, recent perf: 7.17
2025-11-12 22:39:39,547 - race_prediction.competitive_field_analyzer - INFO - Field avg jockey trend: -0.763
2025-11-12 22:39:39,547 - race_prediction.competitive_field_analyzer - INFO - Horses with improving form: 2/16
2025-11-12 22:39:39,548 - race_prediction.competitive_field_analyzer - INFO - === HOT CONNECTIONS ANALYSIS ===
2025-11-12 22:39:39,548 - race_prediction.competitive_field_analyzer - INFO - Jockeys with wins today: 0/16
2025-11-12 22:39:39,548 - race_prediction.competitive_field_analyzer - INFO - Trainers with wins today: 0/16
2025-11-12 22:39:39,548 - race_prediction.competitive_field_analyzer - INFO - === DISTANCE COMFORT ANALYSIS ===
2025-11-12 22:39:39,548 - race_prediction.competitive_field_analyzer - INFO - Current race distance: 1600m
2025-11-12 22:39:39,548 - race_prediction.competitive_field_analyzer - INFO - Horses with similar recent distance: 14/16
2025-11-12 22:39:39,549 - race_prediction.competitive_field_analyzer - INFO - === REALISTIC COMPETITIVE SCORING ===
2025-11-12 22:39:39,549 - race_prediction.competitive_field_analyzer - INFO - üìä COMPETITIVE ANALYSIS SUMMARY:
2025-11-12 22:39:39,549 - race_prediction.competitive_field_analyzer - INFO -    Total competitive races: 147
2025-11-12 22:39:39,549 - race_prediction.competitive_field_analyzer - INFO -    Horses with historical data: 16/16
2025-11-12 22:39:39,557 - race_prediction.competitive_field_analyzer - INFO -    Average races per horse: 9.2
2025-11-12 22:39:39,745 - race_prediction.quinte_prediction_storage - INFO - Stored 16 horses for Quint√© race 1606844
2025-11-12 22:40:01,363 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE ANALYSIS DEBUG ===
2025-11-12 22:40:01,369 - race_prediction.competitive_field_analyzer - INFO - Analyzing competitive field for race with 13 horses
2025-11-12 22:40:01,376 - race_prediction.competitive_field_analyzer - INFO - Race data shape: (13, 278)
2025-11-12 22:40:01,382 - race_prediction.competitive_field_analyzer - INFO - Available columns: ['id', 'comp', 'jour', 'hippo', 'reun', 'prix', 'prixnom', 'typec', 'partant', 'dist', 'handi', 'groupe', 'quinte', 'natpis', 'meteo', 'corde', 'temperature', 'forceVent', 'directionVent', 'nebulosite', 'prediction_results', 'actual_results', 'created_at', 'updated_at', 'processed_data', 'cheque', 'handi_raw', 'reclam', 'sex', 'tempscourse', 'handicap_level_score', 'cl', 'numero', 'cheval', 'age', 'cotedirect', 'coteprob', 'recence', 'ecar', 'defoeil', 'defoeilPrec', 'musiqueche', 'musiquejoc', 'entraineur', 'coursescheval', 'victoirescheval', 'placescheval', 'dernierealloc', 'derniernbpartants', 'dernieredist', 'derniereplace', 'dernierecote', 'dernierEnt', 'proprietaire', 'poidmont', 'pourcVictJockHippo', 'pourcPlaceJockHippo', 'pourcVictChevalHippo', 'pourcPlaceChevalHippo', 'tempstot', 'vha', 'recordG', 'txreclam', 'dernierTxreclam', 'gainsCarriere', 'gainsAnneeEnCours', 'handicapDistance', 'handicapPoids', 'TxVictCouple', 'nbVictCouple', 'nbPlaceCouple', 'idche', 'idJockey', 'idEntraineur', 'defFirstTime', 'oeilFirstTime', 'oeil', 'dernierOeil', 'ratio_victoires', 'ratio_places', 'gains_par_course', 'efficacite_couple', 'regularite_couple', 'progression_couple', 'perf_cheval_hippo', 'perf_jockey_hippo', 'blinkers_first_time', 'has_blinkers', 'has_standard_blinkers', 'has_australian_blinkers', 'blinkers_added', 'blinkers_removed', 'blinkers_type_changed', 'blinkers_any_change', 'blinkers_high_impact_change', 'shoeing_first_time', 'fully_shod', 'front_shod_only', 'back_shod_only', 'barefoot', 'shoeing_changed', 'barefoot_to_shod', 'shod_to_barefoot', 'major_shoeing_change', 'shoeing_complexity', 'multiple_equipment_changes', 'equipment_momentum_score', 'high_equipment_momentum', 'multiple_first_time_changes', 'equipment_optimization_score', 'career_strike_rate', 'earnings_per_race', 'earnings_trend', 'last_race_position_normalized', 'last_race_odds_normalized', 'last_race_field_size_factor', 'distance_consistency', 'vha_normalized', 'claiming_tax_trend', 'class_stability', 'che_global_avg_pos', 'che_global_recent_perf', 'che_global_consistency', 'che_global_trend', 'che_global_pct_top3', 'che_global_nb_courses', 'che_global_total_races', 'che_global_dnf_rate', 'che_weighted_avg_pos', 'che_weighted_recent_perf', 'che_weighted_consistency', 'che_weighted_pct_top3', 'che_weighted_nb_courses', 'che_weighted_total_races', 'che_weighted_dnf_rate', 'che_weighted_trend', 'che_bytype_avg_pos', 'che_bytype_recent_perf', 'che_bytype_consistency', 'che_bytype_trend', 'che_bytype_pct_top3', 'che_bytype_nb_courses', 'che_bytype_dnf_rate', 'joc_global_avg_pos', 'joc_global_recent_perf', 'joc_global_consistency', 'joc_global_trend', 'joc_global_pct_top3', 'joc_global_nb_courses', 'joc_global_total_races', 'joc_global_dnf_rate', 'joc_weighted_avg_pos', 'joc_weighted_recent_perf', 'joc_weighted_consistency', 'joc_weighted_pct_top3', 'joc_weighted_nb_courses', 'joc_weighted_total_races', 'joc_weighted_dnf_rate', 'joc_weighted_trend', 'joc_bytype_avg_pos', 'joc_bytype_recent_perf', 'joc_bytype_consistency', 'joc_bytype_trend', 'joc_bytype_pct_top3', 'joc_bytype_nb_courses', 'joc_bytype_dnf_rate', 'class_drop_pct', 'purse_per_starter', 'purse_ratio', 'moving_up_in_class', 'class_shock_indicator', 'handicap_level_change', 'time_per_distance', 'time_vs_record', 'pace_rating', 'speed_figure_proxy', 'market_confidence_shift', 'last_race_improvement', 'bounce_risk', 'layoff_distance_interaction', 'trainer_change', 'connection_stability', 'field_size_change', 'distance_comfort', 'competition_level_shift', 'recence_x_class_drop', 'trainer_change_x_recence', 'distance_change_x_recence', 'che_by_type_avg_pos', 'che_by_type_recent_perf', 'che_by_type_consistency', 'che_by_type_trend', 'che_by_type_pct_top3', 'che_by_type_nb_courses', 'che_by_type_dnf_rate', 'joc_by_type_avg_pos', 'joc_by_type_recent_perf', 'joc_by_type_consistency', 'joc_by_type_trend', 'joc_by_type_pct_top3', 'joc_by_type_nb_courses', 'joc_by_type_dnf_rate', 'trainer_victoires', 'trainer_places', 'trainer_courses', 'trainer_winrate', 'trainer_placerate', 'trainer_quality_score', 'trainer_experience_level', 'handicap_poids', 'handicap_dist', 'prec_handicap_poids', 'prec_handicap_dist', 'handicap_poids_change', 'handicap_poids_increased', 'handicap_poids_decreased', 'handicap_dist_change', 'handicap_dist_increased', 'handicap_dist_decreased', 'total_handicap', 'handicap_momentum', 'last_race_position', 'last_race_distance', 'distance_change', 'distance_change_pct', 'distance_increased', 'distance_decreased', 'same_distance', 'corde_change', 'corde_improved', 'corde_worsened', 'last_race_top3', 'last_race_won', 'che_bytype_total_races', 'joc_bytype_total_races', 'che_form_momentum', 'che_improving_form', 'che_declining_form', 'che_high_consistency', 'che_recent_quality', 'che_elite_performer', 'che_regular_placer', 'joc_form_momentum', 'joc_improving_form', 'joc_high_consistency', 'joc_elite_performer', 'synergy_both_improving', 'synergy_both_consistent', 'synergy_both_elite', 'overall_momentum_score', 'high_momentum', 'quinte_career_starts', 'quinte_win_rate', 'quinte_top5_rate', 'avg_quinte_position', 'days_since_last_quinte', 'quinte_handicap_specialist', 'quinte_conditions_specialist', 'quinte_large_field_ability', 'quinte_track_condition_fit', 'is_handicap_quinte', 'handicap_division', 'purse_level_category', 'field_size_category', 'track_condition_PH', 'track_condition_DUR', 'track_condition_PS', 'track_condition_PSF', 'weather_clear', 'weather_rain', 'weather_cloudy', 'post_position_bias', 'post_position_track_bias', 'raw_tabnet_prediction', 'predicted_position_tabnet', 'raw_rf_prediction', 'predicted_position_rf', 'predicted_position_base']
2025-11-12 22:40:01,388 - race_prediction.competitive_field_analyzer - INFO - === CRITICAL COLUMNS ANALYSIS ===
2025-11-12 22:40:01,388 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ recordG: 13/13 non-null values (100.0%)
2025-11-12 22:40:01,388 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [0.0, 0.0, 0.0]
2025-11-12 22:40:01,388 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ hippo: 13/13 non-null values (100.0%)
2025-11-12 22:40:01,388 - race_prediction.competitive_field_analyzer - INFO -    Sample values: ['Enghien', 'Enghien', 'Enghien']
2025-11-12 22:40:01,389 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ coursescheval: 13/13 non-null values (100.0%)
2025-11-12 22:40:01,389 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [55, 70, 91]
2025-11-12 22:40:01,389 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ victoirescheval: 13/13 non-null values (100.0%)
2025-11-12 22:40:01,389 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [3, 11, 10]
2025-11-12 22:40:01,395 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ placescheval: 13/13 non-null values (100.0%)
2025-11-12 22:40:01,401 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [18, 23, 37]
2025-11-12 22:40:01,407 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ gainsCarriere: 13/13 non-null values (100.0%)
2025-11-12 22:40:01,407 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [22045000, 22801000, 22384000]
2025-11-12 22:40:01,408 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ age: 13/13 non-null values (100.0%)
2025-11-12 22:40:01,408 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [7, 9, 9]
2025-11-12 22:40:01,408 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ derniereplace: 13/13 non-null values (100.0%)
2025-11-12 22:40:01,408 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [13.0, 15.0, 2.0]
2025-11-12 22:40:01,408 - race_prediction.competitive_field_analyzer - INFO - === RACE METADATA ===
2025-11-12 22:40:01,413 - race_prediction.competitive_field_analyzer - INFO - comp: 1611878
2025-11-12 22:40:01,413 - race_prediction.competitive_field_analyzer - INFO - hippo: Enghien
2025-11-12 22:40:01,420 - race_prediction.competitive_field_analyzer - INFO - dist: 2150
2025-11-12 22:40:01,420 - race_prediction.competitive_field_analyzer - INFO - typec: Attel√©
2025-11-12 22:40:01,420 - race_prediction.competitive_field_analyzer - INFO - partant: 13
2025-11-12 22:40:01,420 - race_prediction.competitive_field_analyzer - INFO - === SAMPLE RACE DATA ===
2025-11-12 22:40:01,425 - race_prediction.competitive_field_analyzer - INFO - Sample data (columns: ['numero', 'cheval', 'recordG', 'hippo', 'coursescheval']):
2025-11-12 22:40:01,432 - race_prediction.competitive_field_analyzer - INFO -   Horse 0: {'numero': 1, 'cheval': 'Instructor', 'recordG': 0.0, 'hippo': 'Enghien', 'coursescheval': 55}
2025-11-12 22:40:01,432 - race_prediction.competitive_field_analyzer - INFO -   Horse 1: {'numero': 2, 'cheval': 'Gourou', 'recordG': 0.0, 'hippo': 'Enghien', 'coursescheval': 70}
2025-11-12 22:40:01,432 - race_prediction.competitive_field_analyzer - INFO -   Horse 2: {'numero': 3, 'cheval': 'Gucci de Barb', 'recordG': 0.0, 'hippo': 'Enghien', 'coursescheval': 91}
2025-11-12 22:40:01,432 - race_prediction.competitive_field_analyzer - INFO - === END COMPETITIVE ANALYSIS DEBUG ===

2025-11-12 22:40:01,444 - race_prediction.competitive_field_analyzer - INFO - === RETRIEVING HISTORICAL DATA ===
2025-11-12 22:40:01,444 - race_prediction.competitive_field_analyzer - INFO - Fetching historical data for 13 horses: [1437359, 1377688, 1349896, 1495175, 1430252, 1449411, 1291128, 1345326, 1461235, 1268908, 1476208, 1379064, 1471729]
2025-11-12 22:40:01,459 - race_prediction.competitive_field_analyzer - INFO - Batch querying historical data for 13 horses: [1437359, 1377688, 1349896, 1495175, 1430252, 1449411, 1291128, 1345326, 1461235, 1268908, 1476208, 1379064, 1471729]
2025-11-12 22:40:26,878 - race_prediction.competitive_field_analyzer - INFO - Batch query completed in 25.41s, found 189 total records
2025-11-12 22:40:26,928 - race_prediction.competitive_field_analyzer - INFO - Batch query retrieved 189 total historical races
2025-11-12 22:40:26,934 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS PER HORSE ===
2025-11-12 22:40:26,940 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1437359: 19 historical races found
2025-11-12 22:40:26,953 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1377688: 16 historical races found
2025-11-12 22:40:26,959 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1349896: 14 historical races found
2025-11-12 22:40:26,971 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1495175: 14 historical races found
2025-11-12 22:40:26,977 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1430252: 13 historical races found
2025-11-12 22:40:26,977 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1449411: 16 historical races found
2025-11-12 22:40:26,989 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1291128: 20 historical races found
2025-11-12 22:40:27,000 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1345326: 12 historical races found
2025-11-12 22:40:27,000 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1461235: 13 historical races found
2025-11-12 22:40:27,006 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1268908: 10 historical races found
2025-11-12 22:40:27,018 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1476208: 12 historical races found
2025-11-12 22:40:27,030 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1379064: 12 historical races found
2025-11-12 22:40:27,037 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1471729: 18 historical races found
2025-11-12 22:40:27,050 - race_prediction.competitive_field_analyzer - INFO - Retrieved 189 total historical races
2025-11-12 22:40:27,061 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS BY HORSE ===
2025-11-12 22:40:27,061 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1437359: 19 historical races
2025-11-12 22:40:27,074 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1377688: 16 historical races
2025-11-12 22:40:27,087 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1349896: 14 historical races
2025-11-12 22:40:27,099 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1495175: 14 historical races
2025-11-12 22:40:27,099 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1430252: 13 historical races
2025-11-12 22:40:27,099 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1449411: 16 historical races
2025-11-12 22:40:27,099 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1291128: 20 historical races
2025-11-12 22:40:27,099 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1345326: 12 historical races
2025-11-12 22:40:27,099 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1461235: 13 historical races
2025-11-12 22:40:27,099 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1268908: 10 historical races
2025-11-12 22:40:27,112 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1476208: 12 historical races
2025-11-12 22:40:27,233 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1379064: 12 historical races
2025-11-12 22:40:27,239 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1471729: 18 historical races
2025-11-12 22:40:27,245 - race_prediction.competitive_field_analyzer - INFO - === END HISTORICAL DATA RETRIEVAL ===

2025-11-12 22:40:27,258 - race_prediction.competitive_field_analyzer - INFO - === EARNINGS QUALITY ANALYSIS ===
2025-11-12 22:40:27,271 - race_prediction.competitive_field_analyzer - INFO - Valid earnings data: 13/13 horses
2025-11-12 22:40:27,271 - race_prediction.competitive_field_analyzer - INFO - Sample earnings per race: ['400,818', '325,729', '245,978']
2025-11-12 22:40:27,277 - race_prediction.competitive_field_analyzer - INFO - Field earnings stats: avg=303,182, max=400,818
2025-11-12 22:40:27,277 - race_prediction.competitive_field_analyzer - INFO - === TRACK SPECIALIZATION ANALYSIS ===
2025-11-12 22:40:27,277 - race_prediction.competitive_field_analyzer - INFO - Horses with reliable venue data (3+ races): 0/13
2025-11-12 22:40:27,285 - race_prediction.competitive_field_analyzer - INFO - === FORM MOMENTUM ANALYSIS ===
2025-11-12 22:40:27,303 - race_prediction.competitive_field_analyzer - INFO - Field avg horse trend: 1.930, recent perf: 7.31
2025-11-12 22:40:27,315 - race_prediction.competitive_field_analyzer - INFO - Field avg jockey trend: 0.123
2025-11-12 22:40:27,315 - race_prediction.competitive_field_analyzer - INFO - Horses with improving form: 3/13
2025-11-12 22:40:27,315 - race_prediction.competitive_field_analyzer - INFO - === HOT CONNECTIONS ANALYSIS ===
2025-11-12 22:40:27,315 - race_prediction.competitive_field_analyzer - INFO - Jockeys with wins today: 0/13
2025-11-12 22:40:27,315 - race_prediction.competitive_field_analyzer - INFO - Trainers with wins today: 0/13
2025-11-12 22:40:27,315 - race_prediction.competitive_field_analyzer - INFO - === DISTANCE COMFORT ANALYSIS ===
2025-11-12 22:40:27,315 - race_prediction.competitive_field_analyzer - INFO - Current race distance: 2150m
2025-11-12 22:40:27,315 - race_prediction.competitive_field_analyzer - INFO - Horses with similar recent distance: 1/13
2025-11-12 22:40:27,316 - race_prediction.competitive_field_analyzer - INFO - === REALISTIC COMPETITIVE SCORING ===
2025-11-12 22:40:27,316 - race_prediction.competitive_field_analyzer - INFO - üìä COMPETITIVE ANALYSIS SUMMARY:
2025-11-12 22:40:27,316 - race_prediction.competitive_field_analyzer - INFO -    Total competitive races: 189
2025-11-12 22:40:27,316 - race_prediction.competitive_field_analyzer - INFO -    Horses with historical data: 13/13
2025-11-12 22:40:27,322 - race_prediction.competitive_field_analyzer - INFO -    Average races per horse: 14.5
2025-11-12 22:40:27,546 - race_prediction.quinte_prediction_storage - INFO - Stored 13 horses for Quint√© race 1611878
2025-11-12 22:40:49,594 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE ANALYSIS DEBUG ===
2025-11-12 22:40:49,601 - race_prediction.competitive_field_analyzer - INFO - Analyzing competitive field for race with 16 horses
2025-11-12 22:40:49,601 - race_prediction.competitive_field_analyzer - INFO - Race data shape: (16, 278)
2025-11-12 22:40:49,601 - race_prediction.competitive_field_analyzer - INFO - Available columns: ['id', 'comp', 'jour', 'hippo', 'reun', 'prix', 'prixnom', 'typec', 'partant', 'dist', 'handi', 'groupe', 'quinte', 'natpis', 'meteo', 'corde', 'temperature', 'forceVent', 'directionVent', 'nebulosite', 'prediction_results', 'actual_results', 'created_at', 'updated_at', 'processed_data', 'cheque', 'handi_raw', 'reclam', 'sex', 'tempscourse', 'handicap_level_score', 'cl', 'numero', 'cheval', 'age', 'cotedirect', 'coteprob', 'recence', 'ecar', 'defoeil', 'defoeilPrec', 'musiqueche', 'musiquejoc', 'entraineur', 'coursescheval', 'victoirescheval', 'placescheval', 'dernierealloc', 'derniernbpartants', 'dernieredist', 'derniereplace', 'dernierecote', 'dernierEnt', 'proprietaire', 'poidmont', 'pourcVictJockHippo', 'pourcPlaceJockHippo', 'pourcVictChevalHippo', 'pourcPlaceChevalHippo', 'tempstot', 'vha', 'recordG', 'txreclam', 'dernierTxreclam', 'gainsCarriere', 'gainsAnneeEnCours', 'handicapDistance', 'handicapPoids', 'TxVictCouple', 'nbVictCouple', 'nbPlaceCouple', 'idche', 'idJockey', 'idEntraineur', 'defFirstTime', 'oeilFirstTime', 'oeil', 'dernierOeil', 'ratio_victoires', 'ratio_places', 'gains_par_course', 'efficacite_couple', 'regularite_couple', 'progression_couple', 'perf_cheval_hippo', 'perf_jockey_hippo', 'blinkers_first_time', 'has_blinkers', 'has_standard_blinkers', 'has_australian_blinkers', 'blinkers_added', 'blinkers_removed', 'blinkers_type_changed', 'blinkers_any_change', 'blinkers_high_impact_change', 'shoeing_first_time', 'fully_shod', 'front_shod_only', 'back_shod_only', 'barefoot', 'shoeing_changed', 'barefoot_to_shod', 'shod_to_barefoot', 'major_shoeing_change', 'shoeing_complexity', 'multiple_equipment_changes', 'equipment_momentum_score', 'high_equipment_momentum', 'multiple_first_time_changes', 'equipment_optimization_score', 'career_strike_rate', 'earnings_per_race', 'earnings_trend', 'last_race_position_normalized', 'last_race_odds_normalized', 'last_race_field_size_factor', 'distance_consistency', 'vha_normalized', 'claiming_tax_trend', 'class_stability', 'che_global_avg_pos', 'che_global_recent_perf', 'che_global_consistency', 'che_global_trend', 'che_global_pct_top3', 'che_global_nb_courses', 'che_global_total_races', 'che_global_dnf_rate', 'che_weighted_avg_pos', 'che_weighted_recent_perf', 'che_weighted_consistency', 'che_weighted_pct_top3', 'che_weighted_nb_courses', 'che_weighted_total_races', 'che_weighted_dnf_rate', 'che_weighted_trend', 'che_bytype_avg_pos', 'che_bytype_recent_perf', 'che_bytype_consistency', 'che_bytype_trend', 'che_bytype_pct_top3', 'che_bytype_nb_courses', 'che_bytype_dnf_rate', 'joc_global_avg_pos', 'joc_global_recent_perf', 'joc_global_consistency', 'joc_global_trend', 'joc_global_pct_top3', 'joc_global_nb_courses', 'joc_global_total_races', 'joc_global_dnf_rate', 'joc_weighted_avg_pos', 'joc_weighted_recent_perf', 'joc_weighted_consistency', 'joc_weighted_pct_top3', 'joc_weighted_nb_courses', 'joc_weighted_total_races', 'joc_weighted_dnf_rate', 'joc_weighted_trend', 'joc_bytype_avg_pos', 'joc_bytype_recent_perf', 'joc_bytype_consistency', 'joc_bytype_trend', 'joc_bytype_pct_top3', 'joc_bytype_nb_courses', 'joc_bytype_dnf_rate', 'class_drop_pct', 'purse_per_starter', 'purse_ratio', 'moving_up_in_class', 'class_shock_indicator', 'handicap_level_change', 'time_per_distance', 'time_vs_record', 'pace_rating', 'speed_figure_proxy', 'market_confidence_shift', 'last_race_improvement', 'bounce_risk', 'layoff_distance_interaction', 'trainer_change', 'connection_stability', 'field_size_change', 'distance_comfort', 'competition_level_shift', 'recence_x_class_drop', 'trainer_change_x_recence', 'distance_change_x_recence', 'che_by_type_avg_pos', 'che_by_type_recent_perf', 'che_by_type_consistency', 'che_by_type_trend', 'che_by_type_pct_top3', 'che_by_type_nb_courses', 'che_by_type_dnf_rate', 'joc_by_type_avg_pos', 'joc_by_type_recent_perf', 'joc_by_type_consistency', 'joc_by_type_trend', 'joc_by_type_pct_top3', 'joc_by_type_nb_courses', 'joc_by_type_dnf_rate', 'trainer_victoires', 'trainer_places', 'trainer_courses', 'trainer_winrate', 'trainer_placerate', 'trainer_quality_score', 'trainer_experience_level', 'handicap_poids', 'handicap_dist', 'prec_handicap_poids', 'prec_handicap_dist', 'handicap_poids_change', 'handicap_poids_increased', 'handicap_poids_decreased', 'handicap_dist_change', 'handicap_dist_increased', 'handicap_dist_decreased', 'total_handicap', 'handicap_momentum', 'last_race_position', 'last_race_distance', 'distance_change', 'distance_change_pct', 'distance_increased', 'distance_decreased', 'same_distance', 'corde_change', 'corde_improved', 'corde_worsened', 'last_race_top3', 'last_race_won', 'che_bytype_total_races', 'joc_bytype_total_races', 'che_form_momentum', 'che_improving_form', 'che_declining_form', 'che_high_consistency', 'che_recent_quality', 'che_elite_performer', 'che_regular_placer', 'joc_form_momentum', 'joc_improving_form', 'joc_high_consistency', 'joc_elite_performer', 'synergy_both_improving', 'synergy_both_consistent', 'synergy_both_elite', 'overall_momentum_score', 'high_momentum', 'quinte_career_starts', 'quinte_win_rate', 'quinte_top5_rate', 'avg_quinte_position', 'days_since_last_quinte', 'quinte_handicap_specialist', 'quinte_conditions_specialist', 'quinte_large_field_ability', 'quinte_track_condition_fit', 'is_handicap_quinte', 'handicap_division', 'purse_level_category', 'field_size_category', 'track_condition_PH', 'track_condition_DUR', 'track_condition_PS', 'track_condition_PSF', 'weather_clear', 'weather_rain', 'weather_cloudy', 'post_position_bias', 'post_position_track_bias', 'raw_tabnet_prediction', 'predicted_position_tabnet', 'raw_rf_prediction', 'predicted_position_rf', 'predicted_position_base']
2025-11-12 22:40:49,608 - race_prediction.competitive_field_analyzer - INFO - === CRITICAL COLUMNS ANALYSIS ===
2025-11-12 22:40:49,621 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ recordG: 16/16 non-null values (100.0%)
2025-11-12 22:40:49,627 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [0.0, 0.0, 0.0]
2025-11-12 22:40:49,640 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ hippo: 16/16 non-null values (100.0%)
2025-11-12 22:40:49,652 - race_prediction.competitive_field_analyzer - INFO -    Sample values: ['Paris-Vincennes', 'Paris-Vincennes', 'Paris-Vincennes']
2025-11-12 22:40:49,665 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ coursescheval: 16/16 non-null values (100.0%)
2025-11-12 22:40:49,672 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [51, 54, 58]
2025-11-12 22:40:49,678 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ victoirescheval: 16/16 non-null values (100.0%)
2025-11-12 22:40:49,685 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [7, 15, 12]
2025-11-12 22:40:49,691 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ placescheval: 16/16 non-null values (100.0%)
2025-11-12 22:40:49,703 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [23, 31, 20]
2025-11-12 22:40:49,716 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ gainsCarriere: 16/16 non-null values (100.0%)
2025-11-12 22:40:49,735 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [15164200, 15887000, 17290000]
2025-11-12 22:40:49,742 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ age: 16/16 non-null values (100.0%)
2025-11-12 22:40:49,753 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [8, 8, 8]
2025-11-12 22:40:49,766 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ derniereplace: 16/16 non-null values (100.0%)
2025-11-12 22:40:49,779 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [10.0, 1.0, 8.0]
2025-11-12 22:40:49,791 - race_prediction.competitive_field_analyzer - INFO - === RACE METADATA ===
2025-11-12 22:40:49,803 - race_prediction.competitive_field_analyzer - INFO - comp: 1611846
2025-11-12 22:40:49,810 - race_prediction.competitive_field_analyzer - INFO - hippo: Paris-Vincennes
2025-11-12 22:40:49,810 - race_prediction.competitive_field_analyzer - INFO - dist: 2850
2025-11-12 22:40:49,810 - race_prediction.competitive_field_analyzer - INFO - typec: Attel√©
2025-11-12 22:40:49,810 - race_prediction.competitive_field_analyzer - INFO - partant: 16
2025-11-12 22:40:49,823 - race_prediction.competitive_field_analyzer - INFO - === SAMPLE RACE DATA ===
2025-11-12 22:40:49,842 - race_prediction.competitive_field_analyzer - INFO - Sample data (columns: ['numero', 'cheval', 'recordG', 'hippo', 'coursescheval']):
2025-11-12 22:40:49,848 - race_prediction.competitive_field_analyzer - INFO -   Horse 0: {'numero': 1, 'cheval': 'Hand Full', 'recordG': 0.0, 'hippo': 'Paris-Vincennes', 'coursescheval': 51}
2025-11-12 22:40:49,848 - race_prediction.competitive_field_analyzer - INFO -   Horse 1: {'numero': 2, 'cheval': 'Neo Turbo', 'recordG': 0.0, 'hippo': 'Paris-Vincennes', 'coursescheval': 54}
2025-11-12 22:40:49,849 - race_prediction.competitive_field_analyzer - INFO -   Horse 2: {'numero': 3, 'cheval': 'Hibiscus de Latom', 'recordG': 0.0, 'hippo': 'Paris-Vincennes', 'coursescheval': 58}
2025-11-12 22:40:49,849 - race_prediction.competitive_field_analyzer - INFO - === END COMPETITIVE ANALYSIS DEBUG ===

2025-11-12 22:40:49,849 - race_prediction.competitive_field_analyzer - INFO - === RETRIEVING HISTORICAL DATA ===
2025-11-12 22:40:49,849 - race_prediction.competitive_field_analyzer - INFO - Fetching historical data for 16 horses: [1406634, 1438113, 1430278, 1430596, 1430400, 1407560, 1433341, 1415077, 1381857, 1403008, 1388158, 1458863, 1384898, 1381710, 1379073, 1403037]
2025-11-12 22:40:49,872 - race_prediction.competitive_field_analyzer - INFO - Batch querying historical data for 16 horses: [1406634, 1438113, 1430278, 1430596, 1430400, 1407560, 1433341, 1415077, 1381857, 1403008, 1388158, 1458863, 1384898, 1381710, 1379073, 1403037]
2025-11-12 22:41:13,880 - race_prediction.competitive_field_analyzer - INFO - Batch query completed in 24.00s, found 214 total records
2025-11-12 22:41:13,914 - race_prediction.competitive_field_analyzer - INFO - Batch query retrieved 214 total historical races
2025-11-12 22:41:13,926 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS PER HORSE ===
2025-11-12 22:41:13,932 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1406634: 9 historical races found
2025-11-12 22:41:13,933 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1438113: 14 historical races found
2025-11-12 22:41:13,945 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1430278: 10 historical races found
2025-11-12 22:41:13,945 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1430596: 11 historical races found
2025-11-12 22:41:13,945 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1430400: 14 historical races found
2025-11-12 22:41:13,945 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1407560: 19 historical races found
2025-11-12 22:41:13,957 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1433341: 6 historical races found
2025-11-12 22:41:13,957 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1415077: 15 historical races found
2025-11-12 22:41:13,957 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1381857: 12 historical races found
2025-11-12 22:41:13,957 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1403008: 18 historical races found
2025-11-12 22:41:13,963 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1388158: 18 historical races found
2025-11-12 22:41:13,970 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1458863: 4 historical races found
2025-11-12 22:41:13,982 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1384898: 20 historical races found
2025-11-12 22:41:13,994 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1381710: 13 historical races found
2025-11-12 22:41:13,994 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1379073: 14 historical races found
2025-11-12 22:41:13,994 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1403037: 17 historical races found
2025-11-12 22:41:13,994 - race_prediction.competitive_field_analyzer - INFO - Retrieved 214 total historical races
2025-11-12 22:41:13,994 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS BY HORSE ===
2025-11-12 22:41:14,006 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1406634: 9 historical races
2025-11-12 22:41:14,013 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1438113: 14 historical races
2025-11-12 22:41:14,013 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1430278: 10 historical races
2025-11-12 22:41:14,013 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1430596: 11 historical races
2025-11-12 22:41:14,013 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1430400: 14 historical races
2025-11-12 22:41:14,013 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1407560: 19 historical races
2025-11-12 22:41:14,013 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1433341: 6 historical races
2025-11-12 22:41:14,013 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1415077: 15 historical races
2025-11-12 22:41:14,019 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1381857: 12 historical races
2025-11-12 22:41:14,025 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1403008: 18 historical races
2025-11-12 22:41:14,036 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1388158: 18 historical races
2025-11-12 22:41:14,043 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1458863: 4 historical races
2025-11-12 22:41:14,055 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1384898: 20 historical races
2025-11-12 22:41:14,062 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1381710: 13 historical races
2025-11-12 22:41:14,074 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1379073: 14 historical races
2025-11-12 22:41:14,080 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1403037: 17 historical races
2025-11-12 22:41:14,080 - race_prediction.competitive_field_analyzer - INFO - === END HISTORICAL DATA RETRIEVAL ===

2025-11-12 22:41:14,094 - race_prediction.competitive_field_analyzer - INFO - === EARNINGS QUALITY ANALYSIS ===
2025-11-12 22:41:14,100 - race_prediction.competitive_field_analyzer - INFO - Valid earnings data: 16/16 horses
2025-11-12 22:41:14,100 - race_prediction.competitive_field_analyzer - INFO - Sample earnings per race: ['297,337', '294,204', '298,103']
2025-11-12 22:41:14,100 - race_prediction.competitive_field_analyzer - INFO - Field earnings stats: avg=275,228, max=426,686
2025-11-12 22:41:14,101 - race_prediction.competitive_field_analyzer - INFO - === TRACK SPECIALIZATION ANALYSIS ===
2025-11-12 22:41:14,101 - race_prediction.competitive_field_analyzer - INFO - Horses with reliable venue data (3+ races): 0/16
2025-11-12 22:41:14,108 - race_prediction.competitive_field_analyzer - INFO - === FORM MOMENTUM ANALYSIS ===
2025-11-12 22:41:14,108 - race_prediction.competitive_field_analyzer - INFO - Field avg horse trend: 1.045, recent perf: 6.87
2025-11-12 22:41:14,108 - race_prediction.competitive_field_analyzer - INFO - Field avg jockey trend: -0.771
2025-11-12 22:41:14,109 - race_prediction.competitive_field_analyzer - INFO - Horses with improving form: 4/16
2025-11-12 22:41:14,109 - race_prediction.competitive_field_analyzer - INFO - === HOT CONNECTIONS ANALYSIS ===
2025-11-12 22:41:14,109 - race_prediction.competitive_field_analyzer - INFO - Jockeys with wins today: 0/16
2025-11-12 22:41:14,109 - race_prediction.competitive_field_analyzer - INFO - Trainers with wins today: 0/16
2025-11-12 22:41:14,109 - race_prediction.competitive_field_analyzer - INFO - === DISTANCE COMFORT ANALYSIS ===
2025-11-12 22:41:14,109 - race_prediction.competitive_field_analyzer - INFO - Current race distance: 2850m
2025-11-12 22:41:14,116 - race_prediction.competitive_field_analyzer - INFO - Horses with similar recent distance: 3/16
2025-11-12 22:41:14,116 - race_prediction.competitive_field_analyzer - INFO - === REALISTIC COMPETITIVE SCORING ===
2025-11-12 22:41:14,116 - race_prediction.competitive_field_analyzer - INFO - üìä COMPETITIVE ANALYSIS SUMMARY:
2025-11-12 22:41:14,117 - race_prediction.competitive_field_analyzer - INFO -    Total competitive races: 214
2025-11-12 22:41:14,117 - race_prediction.competitive_field_analyzer - INFO -    Horses with historical data: 16/16
2025-11-12 22:41:14,117 - race_prediction.competitive_field_analyzer - INFO -    Average races per horse: 13.4
2025-11-12 22:41:14,419 - race_prediction.quinte_prediction_storage - INFO - Stored 16 horses for Quint√© race 1611846
2025-11-12 22:41:35,182 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE ANALYSIS DEBUG ===
2025-11-12 22:41:35,195 - race_prediction.competitive_field_analyzer - INFO - Analyzing competitive field for race with 16 horses
2025-11-12 22:41:35,202 - race_prediction.competitive_field_analyzer - INFO - Race data shape: (16, 278)
2025-11-12 22:41:35,214 - race_prediction.competitive_field_analyzer - INFO - Available columns: ['id', 'comp', 'jour', 'hippo', 'reun', 'prix', 'prixnom', 'typec', 'partant', 'dist', 'handi', 'groupe', 'quinte', 'natpis', 'meteo', 'corde', 'temperature', 'forceVent', 'directionVent', 'nebulosite', 'prediction_results', 'actual_results', 'created_at', 'updated_at', 'processed_data', 'cheque', 'handi_raw', 'reclam', 'sex', 'tempscourse', 'handicap_level_score', 'cl', 'numero', 'cheval', 'age', 'cotedirect', 'coteprob', 'recence', 'ecar', 'defoeil', 'defoeilPrec', 'musiqueche', 'musiquejoc', 'entraineur', 'coursescheval', 'victoirescheval', 'placescheval', 'dernierealloc', 'derniernbpartants', 'dernieredist', 'derniereplace', 'dernierecote', 'dernierEnt', 'proprietaire', 'poidmont', 'pourcVictJockHippo', 'pourcPlaceJockHippo', 'pourcVictChevalHippo', 'pourcPlaceChevalHippo', 'tempstot', 'vha', 'recordG', 'txreclam', 'dernierTxreclam', 'gainsCarriere', 'gainsAnneeEnCours', 'handicapDistance', 'handicapPoids', 'TxVictCouple', 'nbVictCouple', 'nbPlaceCouple', 'idche', 'idJockey', 'idEntraineur', 'defFirstTime', 'oeilFirstTime', 'oeil', 'dernierOeil', 'ratio_victoires', 'ratio_places', 'gains_par_course', 'efficacite_couple', 'regularite_couple', 'progression_couple', 'perf_cheval_hippo', 'perf_jockey_hippo', 'blinkers_first_time', 'has_blinkers', 'has_standard_blinkers', 'has_australian_blinkers', 'blinkers_added', 'blinkers_removed', 'blinkers_type_changed', 'blinkers_any_change', 'blinkers_high_impact_change', 'shoeing_first_time', 'fully_shod', 'front_shod_only', 'back_shod_only', 'barefoot', 'shoeing_changed', 'barefoot_to_shod', 'shod_to_barefoot', 'major_shoeing_change', 'shoeing_complexity', 'multiple_equipment_changes', 'equipment_momentum_score', 'high_equipment_momentum', 'multiple_first_time_changes', 'equipment_optimization_score', 'career_strike_rate', 'earnings_per_race', 'earnings_trend', 'last_race_position_normalized', 'last_race_odds_normalized', 'last_race_field_size_factor', 'distance_consistency', 'vha_normalized', 'claiming_tax_trend', 'class_stability', 'che_global_avg_pos', 'che_global_recent_perf', 'che_global_consistency', 'che_global_trend', 'che_global_pct_top3', 'che_global_nb_courses', 'che_global_total_races', 'che_global_dnf_rate', 'che_weighted_avg_pos', 'che_weighted_recent_perf', 'che_weighted_consistency', 'che_weighted_pct_top3', 'che_weighted_nb_courses', 'che_weighted_total_races', 'che_weighted_dnf_rate', 'che_weighted_trend', 'che_bytype_avg_pos', 'che_bytype_recent_perf', 'che_bytype_consistency', 'che_bytype_trend', 'che_bytype_pct_top3', 'che_bytype_nb_courses', 'che_bytype_dnf_rate', 'joc_global_avg_pos', 'joc_global_recent_perf', 'joc_global_consistency', 'joc_global_trend', 'joc_global_pct_top3', 'joc_global_nb_courses', 'joc_global_total_races', 'joc_global_dnf_rate', 'joc_weighted_avg_pos', 'joc_weighted_recent_perf', 'joc_weighted_consistency', 'joc_weighted_pct_top3', 'joc_weighted_nb_courses', 'joc_weighted_total_races', 'joc_weighted_dnf_rate', 'joc_weighted_trend', 'joc_bytype_avg_pos', 'joc_bytype_recent_perf', 'joc_bytype_consistency', 'joc_bytype_trend', 'joc_bytype_pct_top3', 'joc_bytype_nb_courses', 'joc_bytype_dnf_rate', 'class_drop_pct', 'purse_per_starter', 'purse_ratio', 'moving_up_in_class', 'class_shock_indicator', 'handicap_level_change', 'time_per_distance', 'time_vs_record', 'pace_rating', 'speed_figure_proxy', 'market_confidence_shift', 'last_race_improvement', 'bounce_risk', 'layoff_distance_interaction', 'trainer_change', 'connection_stability', 'field_size_change', 'distance_comfort', 'competition_level_shift', 'recence_x_class_drop', 'trainer_change_x_recence', 'distance_change_x_recence', 'che_by_type_avg_pos', 'che_by_type_recent_perf', 'che_by_type_consistency', 'che_by_type_trend', 'che_by_type_pct_top3', 'che_by_type_nb_courses', 'che_by_type_dnf_rate', 'joc_by_type_avg_pos', 'joc_by_type_recent_perf', 'joc_by_type_consistency', 'joc_by_type_trend', 'joc_by_type_pct_top3', 'joc_by_type_nb_courses', 'joc_by_type_dnf_rate', 'trainer_victoires', 'trainer_places', 'trainer_courses', 'trainer_winrate', 'trainer_placerate', 'trainer_quality_score', 'trainer_experience_level', 'handicap_poids', 'handicap_dist', 'prec_handicap_poids', 'prec_handicap_dist', 'handicap_poids_change', 'handicap_poids_increased', 'handicap_poids_decreased', 'handicap_dist_change', 'handicap_dist_increased', 'handicap_dist_decreased', 'total_handicap', 'handicap_momentum', 'last_race_position', 'last_race_distance', 'distance_change', 'distance_change_pct', 'distance_increased', 'distance_decreased', 'same_distance', 'corde_change', 'corde_improved', 'corde_worsened', 'last_race_top3', 'last_race_won', 'che_bytype_total_races', 'joc_bytype_total_races', 'che_form_momentum', 'che_improving_form', 'che_declining_form', 'che_high_consistency', 'che_recent_quality', 'che_elite_performer', 'che_regular_placer', 'joc_form_momentum', 'joc_improving_form', 'joc_high_consistency', 'joc_elite_performer', 'synergy_both_improving', 'synergy_both_consistent', 'synergy_both_elite', 'overall_momentum_score', 'high_momentum', 'quinte_career_starts', 'quinte_win_rate', 'quinte_top5_rate', 'avg_quinte_position', 'days_since_last_quinte', 'quinte_handicap_specialist', 'quinte_conditions_specialist', 'quinte_large_field_ability', 'quinte_track_condition_fit', 'is_handicap_quinte', 'handicap_division', 'purse_level_category', 'field_size_category', 'track_condition_PH', 'track_condition_DUR', 'track_condition_PS', 'track_condition_PSF', 'weather_clear', 'weather_rain', 'weather_cloudy', 'post_position_bias', 'post_position_track_bias', 'raw_tabnet_prediction', 'predicted_position_tabnet', 'raw_rf_prediction', 'predicted_position_rf', 'predicted_position_base']
2025-11-12 22:41:35,227 - race_prediction.competitive_field_analyzer - INFO - === CRITICAL COLUMNS ANALYSIS ===
2025-11-12 22:41:35,233 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ recordG: 16/16 non-null values (100.0%)
2025-11-12 22:41:35,234 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [0.0, 0.0, 0.0]
2025-11-12 22:41:35,234 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ hippo: 16/16 non-null values (100.0%)
2025-11-12 22:41:35,234 - race_prediction.competitive_field_analyzer - INFO -    Sample values: ['Auteuil', 'Auteuil', 'Auteuil']
2025-11-12 22:41:35,234 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ coursescheval: 16/16 non-null values (100.0%)
2025-11-12 22:41:35,234 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [48, 18, 25]
2025-11-12 22:41:35,234 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ victoirescheval: 16/16 non-null values (100.0%)
2025-11-12 22:41:35,234 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [7, 4, 4]
2025-11-12 22:41:35,234 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ placescheval: 16/16 non-null values (100.0%)
2025-11-12 22:41:35,234 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [14, 14, 12]
2025-11-12 22:41:35,234 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ gainsCarriere: 16/16 non-null values (100.0%)
2025-11-12 22:41:35,234 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [26344200, 28553300, 17633500]
2025-11-12 22:41:35,234 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ age: 16/16 non-null values (100.0%)
2025-11-12 22:41:35,234 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [8, 8, 9]
2025-11-12 22:41:35,234 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ derniereplace: 16/16 non-null values (100.0%)
2025-11-12 22:41:35,234 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [1, 9, 2]
2025-11-12 22:41:35,235 - race_prediction.competitive_field_analyzer - INFO - === RACE METADATA ===
2025-11-12 22:41:35,235 - race_prediction.competitive_field_analyzer - INFO - comp: 1606724
2025-11-12 22:41:35,247 - race_prediction.competitive_field_analyzer - INFO - hippo: Auteuil
2025-11-12 22:41:35,253 - race_prediction.competitive_field_analyzer - INFO - dist: 3900
2025-11-12 22:41:35,253 - race_prediction.competitive_field_analyzer - INFO - typec: Haies
2025-11-12 22:41:35,253 - race_prediction.competitive_field_analyzer - INFO - partant: 16
2025-11-12 22:41:35,253 - race_prediction.competitive_field_analyzer - INFO - === SAMPLE RACE DATA ===
2025-11-12 22:41:35,253 - race_prediction.competitive_field_analyzer - INFO - Sample data (columns: ['numero', 'cheval', 'recordG', 'hippo', 'coursescheval']):
2025-11-12 22:41:35,260 - race_prediction.competitive_field_analyzer - INFO -   Horse 0: {'numero': 1, 'cheval': 'Hamandio', 'recordG': 0.0, 'hippo': 'Auteuil', 'coursescheval': 48}
2025-11-12 22:41:35,260 - race_prediction.competitive_field_analyzer - INFO -   Horse 1: {'numero': 2, 'cheval': 'New President', 'recordG': 0.0, 'hippo': 'Auteuil', 'coursescheval': 18}
2025-11-12 22:41:35,260 - race_prediction.competitive_field_analyzer - INFO -   Horse 2: {'numero': 3, 'cheval': 'Grand Art', 'recordG': 0.0, 'hippo': 'Auteuil', 'coursescheval': 25}
2025-11-12 22:41:35,260 - race_prediction.competitive_field_analyzer - INFO - === END COMPETITIVE ANALYSIS DEBUG ===

2025-11-12 22:41:35,273 - race_prediction.competitive_field_analyzer - INFO - === RETRIEVING HISTORICAL DATA ===
2025-11-12 22:41:35,273 - race_prediction.competitive_field_analyzer - INFO - Fetching historical data for 16 horses: [1398661, 1412451, 1350182, 1400556, 1536715, 1545660, 1415630, 1397720, 1511839, 1537402, 1476552, 1524729, 1533867, 1575110, 1658661, 1536636]
2025-11-12 22:41:35,301 - race_prediction.competitive_field_analyzer - INFO - Batch querying historical data for 16 horses: [1398661, 1412451, 1350182, 1400556, 1536715, 1545660, 1415630, 1397720, 1511839, 1537402, 1476552, 1524729, 1533867, 1575110, 1658661, 1536636]
2025-11-12 22:41:57,033 - race_prediction.competitive_field_analyzer - INFO - Batch query completed in 21.72s, found 119 total records
2025-11-12 22:41:57,058 - race_prediction.competitive_field_analyzer - INFO - Batch query retrieved 119 total historical races
2025-11-12 22:41:57,065 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS PER HORSE ===
2025-11-12 22:41:57,071 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1398661: 11 historical races found
2025-11-12 22:41:57,077 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1412451: 8 historical races found
2025-11-12 22:41:57,083 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1350182: 5 historical races found
2025-11-12 22:41:57,083 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1400556: 7 historical races found
2025-11-12 22:41:57,083 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1536715: 12 historical races found
2025-11-12 22:41:57,089 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1545660: 6 historical races found
2025-11-12 22:41:57,095 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1415630: 6 historical races found
2025-11-12 22:41:57,101 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1397720: 10 historical races found
2025-11-12 22:41:57,107 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1511839: 7 historical races found
2025-11-12 22:41:57,114 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1537402: 9 historical races found
2025-11-12 22:41:57,114 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1476552: 5 historical races found
2025-11-12 22:41:57,114 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1524729: 9 historical races found
2025-11-12 22:41:57,114 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1533867: 10 historical races found
2025-11-12 22:41:57,120 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1575110: 4 historical races found
2025-11-12 22:41:57,120 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1658661: 6 historical races found
2025-11-12 22:41:57,126 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1536636: 4 historical races found
2025-11-12 22:41:57,126 - race_prediction.competitive_field_analyzer - INFO - Retrieved 119 total historical races
2025-11-12 22:41:57,126 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS BY HORSE ===
2025-11-12 22:41:57,132 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1398661: 11 historical races
2025-11-12 22:41:57,132 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1412451: 8 historical races
2025-11-12 22:41:57,132 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1350182: 5 historical races
2025-11-12 22:41:57,139 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1400556: 7 historical races
2025-11-12 22:41:57,139 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1536715: 12 historical races
2025-11-12 22:41:57,139 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1545660: 6 historical races
2025-11-12 22:41:57,139 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1415630: 6 historical races
2025-11-12 22:41:57,139 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1397720: 10 historical races
2025-11-12 22:41:57,139 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1511839: 7 historical races
2025-11-12 22:41:57,145 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1537402: 9 historical races
2025-11-12 22:41:57,145 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1476552: 5 historical races
2025-11-12 22:41:57,151 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1524729: 9 historical races
2025-11-12 22:41:57,151 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1533867: 10 historical races
2025-11-12 22:41:57,151 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1575110: 4 historical races
2025-11-12 22:41:57,151 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1658661: 6 historical races
2025-11-12 22:41:57,151 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1536636: 4 historical races
2025-11-12 22:41:57,151 - race_prediction.competitive_field_analyzer - INFO - === END HISTORICAL DATA RETRIEVAL ===

2025-11-12 22:41:57,158 - race_prediction.competitive_field_analyzer - INFO - === EARNINGS QUALITY ANALYSIS ===
2025-11-12 22:41:57,158 - race_prediction.competitive_field_analyzer - INFO - Valid earnings data: 16/16 horses
2025-11-12 22:41:57,164 - race_prediction.competitive_field_analyzer - INFO - Sample earnings per race: ['548,838', '1,586,294', '705,340']
2025-11-12 22:41:57,164 - race_prediction.competitive_field_analyzer - INFO - Field earnings stats: avg=714,914, max=1,586,294
2025-11-12 22:41:57,165 - race_prediction.competitive_field_analyzer - INFO - === TRACK SPECIALIZATION ANALYSIS ===
2025-11-12 22:41:57,165 - race_prediction.competitive_field_analyzer - INFO - Horses with reliable venue data (3+ races): 0/16
2025-11-12 22:41:57,172 - race_prediction.competitive_field_analyzer - INFO - === FORM MOMENTUM ANALYSIS ===
2025-11-12 22:41:57,178 - race_prediction.competitive_field_analyzer - INFO - Field avg horse trend: 1.675, recent perf: 7.50
2025-11-12 22:41:57,185 - race_prediction.competitive_field_analyzer - INFO - Field avg jockey trend: -0.028
2025-11-12 22:41:57,185 - race_prediction.competitive_field_analyzer - INFO - Horses with improving form: 4/16
2025-11-12 22:41:57,185 - race_prediction.competitive_field_analyzer - INFO - === HOT CONNECTIONS ANALYSIS ===
2025-11-12 22:41:57,185 - race_prediction.competitive_field_analyzer - INFO - Jockeys with wins today: 0/16
2025-11-12 22:41:57,185 - race_prediction.competitive_field_analyzer - INFO - Trainers with wins today: 0/16
2025-11-12 22:41:57,185 - race_prediction.competitive_field_analyzer - INFO - === DISTANCE COMFORT ANALYSIS ===
2025-11-12 22:41:57,185 - race_prediction.competitive_field_analyzer - INFO - Current race distance: 3900m
2025-11-12 22:41:57,185 - race_prediction.competitive_field_analyzer - INFO - Horses with similar recent distance: 3/16
2025-11-12 22:41:57,185 - race_prediction.competitive_field_analyzer - INFO - === REALISTIC COMPETITIVE SCORING ===
2025-11-12 22:41:57,186 - race_prediction.competitive_field_analyzer - INFO - üìä COMPETITIVE ANALYSIS SUMMARY:
2025-11-12 22:41:57,186 - race_prediction.competitive_field_analyzer - INFO -    Total competitive races: 119
2025-11-12 22:41:57,192 - race_prediction.competitive_field_analyzer - INFO -    Horses with historical data: 16/16
2025-11-12 22:41:57,192 - race_prediction.competitive_field_analyzer - INFO -    Average races per horse: 7.4
2025-11-12 22:41:57,389 - race_prediction.quinte_prediction_storage - INFO - Stored 16 horses for Quint√© race 1606724
2025-11-12 22:42:13,009 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE ANALYSIS DEBUG ===
2025-11-12 22:42:13,022 - race_prediction.competitive_field_analyzer - INFO - Analyzing competitive field for race with 16 horses
2025-11-12 22:42:13,028 - race_prediction.competitive_field_analyzer - INFO - Race data shape: (16, 278)
2025-11-12 22:42:13,034 - race_prediction.competitive_field_analyzer - INFO - Available columns: ['id', 'comp', 'jour', 'hippo', 'reun', 'prix', 'prixnom', 'typec', 'partant', 'dist', 'handi', 'groupe', 'quinte', 'natpis', 'meteo', 'corde', 'temperature', 'forceVent', 'directionVent', 'nebulosite', 'prediction_results', 'actual_results', 'created_at', 'updated_at', 'processed_data', 'cheque', 'handi_raw', 'reclam', 'sex', 'tempscourse', 'handicap_level_score', 'cl', 'numero', 'cheval', 'age', 'cotedirect', 'coteprob', 'recence', 'ecar', 'defoeil', 'defoeilPrec', 'musiqueche', 'musiquejoc', 'entraineur', 'coursescheval', 'victoirescheval', 'placescheval', 'dernierealloc', 'derniernbpartants', 'dernieredist', 'derniereplace', 'dernierecote', 'dernierEnt', 'proprietaire', 'poidmont', 'pourcVictJockHippo', 'pourcPlaceJockHippo', 'pourcVictChevalHippo', 'pourcPlaceChevalHippo', 'tempstot', 'vha', 'recordG', 'txreclam', 'dernierTxreclam', 'gainsCarriere', 'gainsAnneeEnCours', 'handicapDistance', 'handicapPoids', 'TxVictCouple', 'nbVictCouple', 'nbPlaceCouple', 'idche', 'idJockey', 'idEntraineur', 'defFirstTime', 'oeilFirstTime', 'oeil', 'dernierOeil', 'ratio_victoires', 'ratio_places', 'gains_par_course', 'efficacite_couple', 'regularite_couple', 'progression_couple', 'perf_cheval_hippo', 'perf_jockey_hippo', 'blinkers_first_time', 'has_blinkers', 'has_standard_blinkers', 'has_australian_blinkers', 'blinkers_added', 'blinkers_removed', 'blinkers_type_changed', 'blinkers_any_change', 'blinkers_high_impact_change', 'shoeing_first_time', 'fully_shod', 'front_shod_only', 'back_shod_only', 'barefoot', 'shoeing_changed', 'barefoot_to_shod', 'shod_to_barefoot', 'major_shoeing_change', 'shoeing_complexity', 'multiple_equipment_changes', 'equipment_momentum_score', 'high_equipment_momentum', 'multiple_first_time_changes', 'equipment_optimization_score', 'career_strike_rate', 'earnings_per_race', 'earnings_trend', 'last_race_position_normalized', 'last_race_odds_normalized', 'last_race_field_size_factor', 'distance_consistency', 'vha_normalized', 'claiming_tax_trend', 'class_stability', 'che_global_avg_pos', 'che_global_recent_perf', 'che_global_consistency', 'che_global_trend', 'che_global_pct_top3', 'che_global_nb_courses', 'che_global_total_races', 'che_global_dnf_rate', 'che_weighted_avg_pos', 'che_weighted_recent_perf', 'che_weighted_consistency', 'che_weighted_pct_top3', 'che_weighted_nb_courses', 'che_weighted_total_races', 'che_weighted_dnf_rate', 'che_weighted_trend', 'che_bytype_avg_pos', 'che_bytype_recent_perf', 'che_bytype_consistency', 'che_bytype_trend', 'che_bytype_pct_top3', 'che_bytype_nb_courses', 'che_bytype_dnf_rate', 'joc_global_avg_pos', 'joc_global_recent_perf', 'joc_global_consistency', 'joc_global_trend', 'joc_global_pct_top3', 'joc_global_nb_courses', 'joc_global_total_races', 'joc_global_dnf_rate', 'joc_weighted_avg_pos', 'joc_weighted_recent_perf', 'joc_weighted_consistency', 'joc_weighted_pct_top3', 'joc_weighted_nb_courses', 'joc_weighted_total_races', 'joc_weighted_dnf_rate', 'joc_weighted_trend', 'joc_bytype_avg_pos', 'joc_bytype_recent_perf', 'joc_bytype_consistency', 'joc_bytype_trend', 'joc_bytype_pct_top3', 'joc_bytype_nb_courses', 'joc_bytype_dnf_rate', 'class_drop_pct', 'purse_per_starter', 'purse_ratio', 'moving_up_in_class', 'class_shock_indicator', 'handicap_level_change', 'time_per_distance', 'time_vs_record', 'pace_rating', 'speed_figure_proxy', 'market_confidence_shift', 'last_race_improvement', 'bounce_risk', 'layoff_distance_interaction', 'trainer_change', 'connection_stability', 'field_size_change', 'distance_comfort', 'competition_level_shift', 'recence_x_class_drop', 'trainer_change_x_recence', 'distance_change_x_recence', 'che_by_type_avg_pos', 'che_by_type_recent_perf', 'che_by_type_consistency', 'che_by_type_trend', 'che_by_type_pct_top3', 'che_by_type_nb_courses', 'che_by_type_dnf_rate', 'joc_by_type_avg_pos', 'joc_by_type_recent_perf', 'joc_by_type_consistency', 'joc_by_type_trend', 'joc_by_type_pct_top3', 'joc_by_type_nb_courses', 'joc_by_type_dnf_rate', 'trainer_victoires', 'trainer_places', 'trainer_courses', 'trainer_winrate', 'trainer_placerate', 'trainer_quality_score', 'trainer_experience_level', 'handicap_poids', 'handicap_dist', 'prec_handicap_poids', 'prec_handicap_dist', 'handicap_poids_change', 'handicap_poids_increased', 'handicap_poids_decreased', 'handicap_dist_change', 'handicap_dist_increased', 'handicap_dist_decreased', 'total_handicap', 'handicap_momentum', 'last_race_position', 'last_race_distance', 'distance_change', 'distance_change_pct', 'distance_increased', 'distance_decreased', 'same_distance', 'corde_change', 'corde_improved', 'corde_worsened', 'last_race_top3', 'last_race_won', 'che_bytype_total_races', 'joc_bytype_total_races', 'che_form_momentum', 'che_improving_form', 'che_declining_form', 'che_high_consistency', 'che_recent_quality', 'che_elite_performer', 'che_regular_placer', 'joc_form_momentum', 'joc_improving_form', 'joc_high_consistency', 'joc_elite_performer', 'synergy_both_improving', 'synergy_both_consistent', 'synergy_both_elite', 'overall_momentum_score', 'high_momentum', 'quinte_career_starts', 'quinte_win_rate', 'quinte_top5_rate', 'avg_quinte_position', 'days_since_last_quinte', 'quinte_handicap_specialist', 'quinte_conditions_specialist', 'quinte_large_field_ability', 'quinte_track_condition_fit', 'is_handicap_quinte', 'handicap_division', 'purse_level_category', 'field_size_category', 'track_condition_PH', 'track_condition_DUR', 'track_condition_PS', 'track_condition_PSF', 'weather_clear', 'weather_rain', 'weather_cloudy', 'post_position_bias', 'post_position_track_bias', 'raw_tabnet_prediction', 'predicted_position_tabnet', 'raw_rf_prediction', 'predicted_position_rf', 'predicted_position_base']
2025-11-12 22:42:13,040 - race_prediction.competitive_field_analyzer - INFO - === CRITICAL COLUMNS ANALYSIS ===
2025-11-12 22:42:13,041 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ recordG: 16/16 non-null values (100.0%)
2025-11-12 22:42:13,041 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [0.0, 0.0, 0.0]
2025-11-12 22:42:13,041 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ hippo: 16/16 non-null values (100.0%)
2025-11-12 22:42:13,041 - race_prediction.competitive_field_analyzer - INFO -    Sample values: ['Paris-Vincennes', 'Paris-Vincennes', 'Paris-Vincennes']
2025-11-12 22:42:13,041 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ coursescheval: 16/16 non-null values (100.0%)
2025-11-12 22:42:13,041 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [107, 79, 127]
2025-11-12 22:42:13,041 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ victoirescheval: 16/16 non-null values (100.0%)
2025-11-12 22:42:13,041 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [6, 10, 11]
2025-11-12 22:42:13,041 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ placescheval: 16/16 non-null values (100.0%)
2025-11-12 22:42:13,041 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [27, 36, 32]
2025-11-12 22:42:13,041 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ gainsCarriere: 16/16 non-null values (100.0%)
2025-11-12 22:42:13,041 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [18153000, 18264500, 18478000]
2025-11-12 22:42:13,041 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ age: 16/16 non-null values (100.0%)
2025-11-12 22:42:13,041 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [9, 10, 9]
2025-11-12 22:42:13,041 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ derniereplace: 16/16 non-null values (100.0%)
2025-11-12 22:42:13,042 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [9.0, 3.0, 10.0]
2025-11-12 22:42:13,042 - race_prediction.competitive_field_analyzer - INFO - === RACE METADATA ===
2025-11-12 22:42:13,059 - race_prediction.competitive_field_analyzer - INFO - comp: 1611759
2025-11-12 22:42:13,059 - race_prediction.competitive_field_analyzer - INFO - hippo: Paris-Vincennes
2025-11-12 22:42:13,060 - race_prediction.competitive_field_analyzer - INFO - dist: 2850
2025-11-12 22:42:13,060 - race_prediction.competitive_field_analyzer - INFO - typec: Attel√©
2025-11-12 22:42:13,066 - race_prediction.competitive_field_analyzer - INFO - partant: 16
2025-11-12 22:42:13,072 - race_prediction.competitive_field_analyzer - INFO - === SAMPLE RACE DATA ===
2025-11-12 22:42:13,077 - race_prediction.competitive_field_analyzer - INFO - Sample data (columns: ['numero', 'cheval', 'recordG', 'hippo', 'coursescheval']):
2025-11-12 22:42:13,078 - race_prediction.competitive_field_analyzer - INFO -   Horse 0: {'numero': 1, 'cheval': 'Guess Fouteau', 'recordG': 0.0, 'hippo': 'Paris-Vincennes', 'coursescheval': 107}
2025-11-12 22:42:13,084 - race_prediction.competitive_field_analyzer - INFO -   Horse 1: {'numero': 2, 'cheval': 'Funny Horse', 'recordG': 0.0, 'hippo': 'Paris-Vincennes', 'coursescheval': 79}
2025-11-12 22:42:13,084 - race_prediction.competitive_field_analyzer - INFO -   Horse 2: {'numero': 3, 'cheval': 'Gamine de Ribeau', 'recordG': 0.0, 'hippo': 'Paris-Vincennes', 'coursescheval': 127}
2025-11-12 22:42:13,084 - race_prediction.competitive_field_analyzer - INFO - === END COMPETITIVE ANALYSIS DEBUG ===

2025-11-12 22:42:13,084 - race_prediction.competitive_field_analyzer - INFO - === RETRIEVING HISTORICAL DATA ===
2025-11-12 22:42:13,084 - race_prediction.competitive_field_analyzer - INFO - Fetching historical data for 16 horses: [1376154, 1325333, 1358535, 1375700, 1372582, 1300190, 1284422, 1326171, 1335702, 1352734, 1293303, 1295566, 1382152, 1354673, 1349957, 1378585]
2025-11-12 22:42:13,100 - race_prediction.competitive_field_analyzer - INFO - Batch querying historical data for 16 horses: [1376154, 1325333, 1358535, 1375700, 1372582, 1300190, 1284422, 1326171, 1335702, 1352734, 1293303, 1295566, 1382152, 1354673, 1349957, 1378585]
2025-11-12 22:42:30,302 - race_prediction.competitive_field_analyzer - INFO - Batch query completed in 17.20s, found 205 total records
2025-11-12 22:42:30,324 - race_prediction.competitive_field_analyzer - INFO - Batch query retrieved 205 total historical races
2025-11-12 22:42:30,324 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS PER HORSE ===
2025-11-12 22:42:30,330 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1376154: 14 historical races found
2025-11-12 22:42:30,336 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1325333: 11 historical races found
2025-11-12 22:42:30,343 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1358535: 13 historical races found
2025-11-12 22:42:30,343 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1375700: 10 historical races found
2025-11-12 22:42:30,343 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1372582: 12 historical races found
2025-11-12 22:42:30,343 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1300190: 16 historical races found
2025-11-12 22:42:30,343 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1284422: 9 historical races found
2025-11-12 22:42:30,343 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1326171: 13 historical races found
2025-11-12 22:42:30,343 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1335702: 18 historical races found
2025-11-12 22:42:30,343 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1352734: 14 historical races found
2025-11-12 22:42:30,343 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1293303: 8 historical races found
2025-11-12 22:42:30,349 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1295566: 20 historical races found
2025-11-12 22:42:30,349 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1382152: 14 historical races found
2025-11-12 22:42:30,349 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1354673: 7 historical races found
2025-11-12 22:42:30,355 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1349957: 16 historical races found
2025-11-12 22:42:30,361 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1378585: 10 historical races found
2025-11-12 22:42:30,361 - race_prediction.competitive_field_analyzer - INFO - Retrieved 205 total historical races
2025-11-12 22:42:30,361 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS BY HORSE ===
2025-11-12 22:42:30,368 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1376154: 14 historical races
2025-11-12 22:42:30,374 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1325333: 11 historical races
2025-11-12 22:42:30,399 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1358535: 13 historical races
2025-11-12 22:42:30,411 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1375700: 10 historical races
2025-11-12 22:42:30,423 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1372582: 12 historical races
2025-11-12 22:42:30,423 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1300190: 16 historical races
2025-11-12 22:42:30,430 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1284422: 9 historical races
2025-11-12 22:42:30,442 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1326171: 13 historical races
2025-11-12 22:42:30,442 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1335702: 18 historical races
2025-11-12 22:42:30,442 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1352734: 14 historical races
2025-11-12 22:42:30,442 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1293303: 8 historical races
2025-11-12 22:42:30,442 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1295566: 20 historical races
2025-11-12 22:42:30,442 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1382152: 14 historical races
2025-11-12 22:42:30,442 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1354673: 7 historical races
2025-11-12 22:42:30,448 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1349957: 16 historical races
2025-11-12 22:42:30,448 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1378585: 10 historical races
2025-11-12 22:42:30,448 - race_prediction.competitive_field_analyzer - INFO - === END HISTORICAL DATA RETRIEVAL ===

2025-11-12 22:42:30,455 - race_prediction.competitive_field_analyzer - INFO - === EARNINGS QUALITY ANALYSIS ===
2025-11-12 22:42:30,455 - race_prediction.competitive_field_analyzer - INFO - Valid earnings data: 16/16 horses
2025-11-12 22:42:30,461 - race_prediction.competitive_field_analyzer - INFO - Sample earnings per race: ['169,654', '231,196', '145,496']
2025-11-12 22:42:30,461 - race_prediction.competitive_field_analyzer - INFO - Field earnings stats: avg=228,347, max=507,615
2025-11-12 22:42:30,461 - race_prediction.competitive_field_analyzer - INFO - === TRACK SPECIALIZATION ANALYSIS ===
2025-11-12 22:42:30,461 - race_prediction.competitive_field_analyzer - INFO - Horses with reliable venue data (3+ races): 0/16
2025-11-12 22:42:30,462 - race_prediction.competitive_field_analyzer - INFO - === FORM MOMENTUM ANALYSIS ===
2025-11-12 22:42:30,462 - race_prediction.competitive_field_analyzer - INFO - Field avg horse trend: 2.001, recent perf: 7.88
2025-11-12 22:42:30,462 - race_prediction.competitive_field_analyzer - INFO - Field avg jockey trend: 0.359
2025-11-12 22:42:30,467 - race_prediction.competitive_field_analyzer - INFO - Horses with improving form: 4/16
2025-11-12 22:42:30,468 - race_prediction.competitive_field_analyzer - INFO - === HOT CONNECTIONS ANALYSIS ===
2025-11-12 22:42:30,468 - race_prediction.competitive_field_analyzer - INFO - Jockeys with wins today: 0/16
2025-11-12 22:42:30,473 - race_prediction.competitive_field_analyzer - INFO - Trainers with wins today: 0/16
2025-11-12 22:42:30,474 - race_prediction.competitive_field_analyzer - INFO - === DISTANCE COMFORT ANALYSIS ===
2025-11-12 22:42:30,474 - race_prediction.competitive_field_analyzer - INFO - Current race distance: 2850m
2025-11-12 22:42:30,480 - race_prediction.competitive_field_analyzer - INFO - Horses with similar recent distance: 9/16
2025-11-12 22:42:30,486 - race_prediction.competitive_field_analyzer - INFO - === REALISTIC COMPETITIVE SCORING ===
2025-11-12 22:42:30,486 - race_prediction.competitive_field_analyzer - INFO - üìä COMPETITIVE ANALYSIS SUMMARY:
2025-11-12 22:42:30,486 - race_prediction.competitive_field_analyzer - INFO -    Total competitive races: 205
2025-11-12 22:42:30,486 - race_prediction.competitive_field_analyzer - INFO -    Horses with historical data: 16/16
2025-11-12 22:42:30,487 - race_prediction.competitive_field_analyzer - INFO -    Average races per horse: 12.8
2025-11-12 22:42:30,702 - race_prediction.quinte_prediction_storage - INFO - Stored 16 horses for Quint√© race 1611759
2025-11-12 22:42:47,180 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE ANALYSIS DEBUG ===
2025-11-12 22:42:47,192 - race_prediction.competitive_field_analyzer - INFO - Analyzing competitive field for race with 16 horses
2025-11-12 22:42:47,192 - race_prediction.competitive_field_analyzer - INFO - Race data shape: (16, 278)
2025-11-12 22:42:47,199 - race_prediction.competitive_field_analyzer - INFO - Available columns: ['id', 'comp', 'jour', 'hippo', 'reun', 'prix', 'prixnom', 'typec', 'partant', 'dist', 'handi', 'groupe', 'quinte', 'natpis', 'meteo', 'corde', 'temperature', 'forceVent', 'directionVent', 'nebulosite', 'prediction_results', 'actual_results', 'created_at', 'updated_at', 'processed_data', 'cheque', 'handi_raw', 'reclam', 'sex', 'tempscourse', 'handicap_level_score', 'cl', 'numero', 'cheval', 'age', 'cotedirect', 'coteprob', 'recence', 'ecar', 'defoeil', 'defoeilPrec', 'musiqueche', 'musiquejoc', 'entraineur', 'coursescheval', 'victoirescheval', 'placescheval', 'dernierealloc', 'derniernbpartants', 'dernieredist', 'derniereplace', 'dernierecote', 'dernierEnt', 'proprietaire', 'poidmont', 'pourcVictJockHippo', 'pourcPlaceJockHippo', 'pourcVictChevalHippo', 'pourcPlaceChevalHippo', 'tempstot', 'vha', 'recordG', 'txreclam', 'dernierTxreclam', 'gainsCarriere', 'gainsAnneeEnCours', 'handicapDistance', 'handicapPoids', 'TxVictCouple', 'nbVictCouple', 'nbPlaceCouple', 'idche', 'idJockey', 'idEntraineur', 'defFirstTime', 'oeilFirstTime', 'oeil', 'dernierOeil', 'ratio_victoires', 'ratio_places', 'gains_par_course', 'efficacite_couple', 'regularite_couple', 'progression_couple', 'perf_cheval_hippo', 'perf_jockey_hippo', 'blinkers_first_time', 'has_blinkers', 'has_standard_blinkers', 'has_australian_blinkers', 'blinkers_added', 'blinkers_removed', 'blinkers_type_changed', 'blinkers_any_change', 'blinkers_high_impact_change', 'shoeing_first_time', 'fully_shod', 'front_shod_only', 'back_shod_only', 'barefoot', 'shoeing_changed', 'barefoot_to_shod', 'shod_to_barefoot', 'major_shoeing_change', 'shoeing_complexity', 'multiple_equipment_changes', 'equipment_momentum_score', 'high_equipment_momentum', 'multiple_first_time_changes', 'equipment_optimization_score', 'career_strike_rate', 'earnings_per_race', 'earnings_trend', 'last_race_position_normalized', 'last_race_odds_normalized', 'last_race_field_size_factor', 'distance_consistency', 'vha_normalized', 'claiming_tax_trend', 'class_stability', 'che_global_avg_pos', 'che_global_recent_perf', 'che_global_consistency', 'che_global_trend', 'che_global_pct_top3', 'che_global_nb_courses', 'che_global_total_races', 'che_global_dnf_rate', 'che_weighted_avg_pos', 'che_weighted_recent_perf', 'che_weighted_consistency', 'che_weighted_pct_top3', 'che_weighted_nb_courses', 'che_weighted_total_races', 'che_weighted_dnf_rate', 'che_weighted_trend', 'che_bytype_avg_pos', 'che_bytype_recent_perf', 'che_bytype_consistency', 'che_bytype_trend', 'che_bytype_pct_top3', 'che_bytype_nb_courses', 'che_bytype_dnf_rate', 'joc_global_avg_pos', 'joc_global_recent_perf', 'joc_global_consistency', 'joc_global_trend', 'joc_global_pct_top3', 'joc_global_nb_courses', 'joc_global_total_races', 'joc_global_dnf_rate', 'joc_weighted_avg_pos', 'joc_weighted_recent_perf', 'joc_weighted_consistency', 'joc_weighted_pct_top3', 'joc_weighted_nb_courses', 'joc_weighted_total_races', 'joc_weighted_dnf_rate', 'joc_weighted_trend', 'joc_bytype_avg_pos', 'joc_bytype_recent_perf', 'joc_bytype_consistency', 'joc_bytype_trend', 'joc_bytype_pct_top3', 'joc_bytype_nb_courses', 'joc_bytype_dnf_rate', 'class_drop_pct', 'purse_per_starter', 'purse_ratio', 'moving_up_in_class', 'class_shock_indicator', 'handicap_level_change', 'time_per_distance', 'time_vs_record', 'pace_rating', 'speed_figure_proxy', 'market_confidence_shift', 'last_race_improvement', 'bounce_risk', 'layoff_distance_interaction', 'trainer_change', 'connection_stability', 'field_size_change', 'distance_comfort', 'competition_level_shift', 'recence_x_class_drop', 'trainer_change_x_recence', 'distance_change_x_recence', 'che_by_type_avg_pos', 'che_by_type_recent_perf', 'che_by_type_consistency', 'che_by_type_trend', 'che_by_type_pct_top3', 'che_by_type_nb_courses', 'che_by_type_dnf_rate', 'joc_by_type_avg_pos', 'joc_by_type_recent_perf', 'joc_by_type_consistency', 'joc_by_type_trend', 'joc_by_type_pct_top3', 'joc_by_type_nb_courses', 'joc_by_type_dnf_rate', 'trainer_victoires', 'trainer_places', 'trainer_courses', 'trainer_winrate', 'trainer_placerate', 'trainer_quality_score', 'trainer_experience_level', 'handicap_poids', 'handicap_dist', 'prec_handicap_poids', 'prec_handicap_dist', 'handicap_poids_change', 'handicap_poids_increased', 'handicap_poids_decreased', 'handicap_dist_change', 'handicap_dist_increased', 'handicap_dist_decreased', 'total_handicap', 'handicap_momentum', 'last_race_position', 'last_race_distance', 'distance_change', 'distance_change_pct', 'distance_increased', 'distance_decreased', 'same_distance', 'corde_change', 'corde_improved', 'corde_worsened', 'last_race_top3', 'last_race_won', 'che_bytype_total_races', 'joc_bytype_total_races', 'che_form_momentum', 'che_improving_form', 'che_declining_form', 'che_high_consistency', 'che_recent_quality', 'che_elite_performer', 'che_regular_placer', 'joc_form_momentum', 'joc_improving_form', 'joc_high_consistency', 'joc_elite_performer', 'synergy_both_improving', 'synergy_both_consistent', 'synergy_both_elite', 'overall_momentum_score', 'high_momentum', 'quinte_career_starts', 'quinte_win_rate', 'quinte_top5_rate', 'avg_quinte_position', 'days_since_last_quinte', 'quinte_handicap_specialist', 'quinte_conditions_specialist', 'quinte_large_field_ability', 'quinte_track_condition_fit', 'is_handicap_quinte', 'handicap_division', 'purse_level_category', 'field_size_category', 'track_condition_PH', 'track_condition_DUR', 'track_condition_PS', 'track_condition_PSF', 'weather_clear', 'weather_rain', 'weather_cloudy', 'post_position_bias', 'post_position_track_bias', 'raw_tabnet_prediction', 'predicted_position_tabnet', 'raw_rf_prediction', 'predicted_position_rf', 'predicted_position_base']
2025-11-12 22:42:47,205 - race_prediction.competitive_field_analyzer - INFO - === CRITICAL COLUMNS ANALYSIS ===
2025-11-12 22:42:47,205 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ recordG: 16/16 non-null values (100.0%)
2025-11-12 22:42:47,205 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [0.0, 0.0, 0.0]
2025-11-12 22:42:47,205 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ hippo: 16/16 non-null values (100.0%)
2025-11-12 22:42:47,206 - race_prediction.competitive_field_analyzer - INFO -    Sample values: ['Chantilly', 'Chantilly', 'Chantilly']
2025-11-12 22:42:47,206 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ coursescheval: 16/16 non-null values (100.0%)
2025-11-12 22:42:47,206 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [24, 13, 33]
2025-11-12 22:42:47,206 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ victoirescheval: 16/16 non-null values (100.0%)
2025-11-12 22:42:47,206 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [7, 5, 6]
2025-11-12 22:42:47,206 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ placescheval: 16/16 non-null values (100.0%)
2025-11-12 22:42:47,206 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [12, 8, 15]
2025-11-12 22:42:47,206 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ gainsCarriere: 16/16 non-null values (100.0%)
2025-11-12 22:42:47,206 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [15966500, 6248800, 13752000]
2025-11-12 22:42:47,206 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ age: 16/16 non-null values (100.0%)
2025-11-12 22:42:47,206 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [8, 4, 5]
2025-11-12 22:42:47,206 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ derniereplace: 16/16 non-null values (100.0%)
2025-11-12 22:42:47,206 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [1, 3, 11]
2025-11-12 22:42:47,206 - race_prediction.competitive_field_analyzer - INFO - === RACE METADATA ===
2025-11-12 22:42:47,206 - race_prediction.competitive_field_analyzer - INFO - comp: 1606698
2025-11-12 22:42:47,206 - race_prediction.competitive_field_analyzer - INFO - hippo: Chantilly
2025-11-12 22:42:47,206 - race_prediction.competitive_field_analyzer - INFO - dist: 1900
2025-11-12 22:42:47,206 - race_prediction.competitive_field_analyzer - INFO - typec: Plat
2025-11-12 22:42:47,206 - race_prediction.competitive_field_analyzer - INFO - partant: 16
2025-11-12 22:42:47,213 - race_prediction.competitive_field_analyzer - INFO - === SAMPLE RACE DATA ===
2025-11-12 22:42:47,213 - race_prediction.competitive_field_analyzer - INFO - Sample data (columns: ['numero', 'cheval', 'recordG', 'hippo', 'coursescheval']):
2025-11-12 22:42:47,219 - race_prediction.competitive_field_analyzer - INFO -   Horse 0: {'numero': 1, 'cheval': 'Kahuna', 'recordG': 0.0, 'hippo': 'Chantilly', 'coursescheval': 24}
2025-11-12 22:42:47,219 - race_prediction.competitive_field_analyzer - INFO -   Horse 1: {'numero': 2, 'cheval': 'Eugene Smith', 'recordG': 0.0, 'hippo': 'Chantilly', 'coursescheval': 13}
2025-11-12 22:42:47,219 - race_prediction.competitive_field_analyzer - INFO -   Horse 2: {'numero': 3, 'cheval': 'No Limit Dream', 'recordG': 0.0, 'hippo': 'Chantilly', 'coursescheval': 33}
2025-11-12 22:42:47,219 - race_prediction.competitive_field_analyzer - INFO - === END COMPETITIVE ANALYSIS DEBUG ===

2025-11-12 22:42:47,226 - race_prediction.competitive_field_analyzer - INFO - === RETRIEVING HISTORICAL DATA ===
2025-11-12 22:42:47,226 - race_prediction.competitive_field_analyzer - INFO - Fetching historical data for 16 horses: [1361490, 1654244, 1554365, 1430346, 1520399, 1553763, 1522211, 1696582, 1572948, 1653958, 1654242, 1559430, 1518271, 1523134, 1559214, 1361409]
2025-11-12 22:42:47,244 - race_prediction.competitive_field_analyzer - INFO - Batch querying historical data for 16 horses: [1361490, 1654244, 1554365, 1430346, 1520399, 1553763, 1522211, 1696582, 1572948, 1653958, 1654242, 1559430, 1518271, 1523134, 1559214, 1361409]
2025-11-12 22:43:06,615 - race_prediction.competitive_field_analyzer - INFO - Batch query completed in 19.36s, found 166 total records
2025-11-12 22:43:06,641 - race_prediction.competitive_field_analyzer - INFO - Batch query retrieved 166 total historical races
2025-11-12 22:43:06,647 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS PER HORSE ===
2025-11-12 22:43:06,647 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1361490: 7 historical races found
2025-11-12 22:43:06,647 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1654244: 9 historical races found
2025-11-12 22:43:06,659 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1554365: 12 historical races found
2025-11-12 22:43:06,666 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1430346: 15 historical races found
2025-11-12 22:43:06,666 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1520399: 7 historical races found
2025-11-12 22:43:06,672 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1553763: 9 historical races found
2025-11-12 22:43:06,672 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1522211: 11 historical races found
2025-11-12 22:43:06,672 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1696582: 9 historical races found
2025-11-12 22:43:06,677 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1572948: 8 historical races found
2025-11-12 22:43:06,677 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1653958: 7 historical races found
2025-11-12 22:43:06,677 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1654242: 6 historical races found
2025-11-12 22:43:06,677 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1559430: 12 historical races found
2025-11-12 22:43:06,677 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1518271: 14 historical races found
2025-11-12 22:43:06,677 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1523134: 10 historical races found
2025-11-12 22:43:06,683 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1559214: 10 historical races found
2025-11-12 22:43:06,683 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1361409: 20 historical races found
2025-11-12 22:43:06,689 - race_prediction.competitive_field_analyzer - INFO - Retrieved 166 total historical races
2025-11-12 22:43:06,696 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS BY HORSE ===
2025-11-12 22:43:06,702 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1361490: 7 historical races
2025-11-12 22:43:06,708 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1654244: 9 historical races
2025-11-12 22:43:06,715 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1554365: 12 historical races
2025-11-12 22:43:06,715 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1430346: 15 historical races
2025-11-12 22:43:06,715 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1520399: 7 historical races
2025-11-12 22:43:06,715 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1553763: 9 historical races
2025-11-12 22:43:06,715 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1522211: 11 historical races
2025-11-12 22:43:06,715 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1696582: 9 historical races
2025-11-12 22:43:06,715 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1572948: 8 historical races
2025-11-12 22:43:06,721 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1653958: 7 historical races
2025-11-12 22:43:06,721 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1654242: 6 historical races
2025-11-12 22:43:06,727 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1559430: 12 historical races
2025-11-12 22:43:06,727 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1518271: 14 historical races
2025-11-12 22:43:06,727 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1523134: 10 historical races
2025-11-12 22:43:06,734 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1559214: 10 historical races
2025-11-12 22:43:06,739 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1361409: 20 historical races
2025-11-12 22:43:06,750 - race_prediction.competitive_field_analyzer - INFO - === END HISTORICAL DATA RETRIEVAL ===

2025-11-12 22:43:06,750 - race_prediction.competitive_field_analyzer - INFO - === EARNINGS QUALITY ANALYSIS ===
2025-11-12 22:43:06,750 - race_prediction.competitive_field_analyzer - INFO - Valid earnings data: 16/16 horses
2025-11-12 22:43:06,750 - race_prediction.competitive_field_analyzer - INFO - Sample earnings per race: ['665,271', '480,677', '416,727']
2025-11-12 22:43:06,751 - race_prediction.competitive_field_analyzer - INFO - Field earnings stats: avg=379,791, max=665,271
2025-11-12 22:43:06,751 - race_prediction.competitive_field_analyzer - INFO - === TRACK SPECIALIZATION ANALYSIS ===
2025-11-12 22:43:06,751 - race_prediction.competitive_field_analyzer - INFO - Horses with reliable venue data (3+ races): 0/16
2025-11-12 22:43:06,764 - race_prediction.competitive_field_analyzer - INFO - === FORM MOMENTUM ANALYSIS ===
2025-11-12 22:43:06,777 - race_prediction.competitive_field_analyzer - INFO - Field avg horse trend: -0.434, recent perf: 6.38
2025-11-12 22:43:06,783 - race_prediction.competitive_field_analyzer - INFO - Field avg jockey trend: -0.372
2025-11-12 22:43:06,783 - race_prediction.competitive_field_analyzer - INFO - Horses with improving form: 4/16
2025-11-12 22:43:06,784 - race_prediction.competitive_field_analyzer - INFO - === HOT CONNECTIONS ANALYSIS ===
2025-11-12 22:43:06,784 - race_prediction.competitive_field_analyzer - INFO - Jockeys with wins today: 0/16
2025-11-12 22:43:06,796 - race_prediction.competitive_field_analyzer - INFO - Trainers with wins today: 0/16
2025-11-12 22:43:06,802 - race_prediction.competitive_field_analyzer - INFO - === DISTANCE COMFORT ANALYSIS ===
2025-11-12 22:43:06,802 - race_prediction.competitive_field_analyzer - INFO - Current race distance: 1900m
2025-11-12 22:43:06,802 - race_prediction.competitive_field_analyzer - INFO - Horses with similar recent distance: 9/16
2025-11-12 22:43:06,808 - race_prediction.competitive_field_analyzer - INFO - === REALISTIC COMPETITIVE SCORING ===
2025-11-12 22:43:06,809 - race_prediction.competitive_field_analyzer - INFO - üìä COMPETITIVE ANALYSIS SUMMARY:
2025-11-12 22:43:06,809 - race_prediction.competitive_field_analyzer - INFO -    Total competitive races: 166
2025-11-12 22:43:06,809 - race_prediction.competitive_field_analyzer - INFO -    Horses with historical data: 16/16
2025-11-12 22:43:06,809 - race_prediction.competitive_field_analyzer - INFO -    Average races per horse: 10.4
2025-11-12 22:43:06,997 - race_prediction.quinte_prediction_storage - INFO - Stored 16 horses for Quint√© race 1606698
2025-11-12 22:43:22,216 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE ANALYSIS DEBUG ===
2025-11-12 22:43:22,223 - race_prediction.competitive_field_analyzer - INFO - Analyzing competitive field for race with 16 horses
2025-11-12 22:43:22,229 - race_prediction.competitive_field_analyzer - INFO - Race data shape: (16, 278)
2025-11-12 22:43:22,229 - race_prediction.competitive_field_analyzer - INFO - Available columns: ['id', 'comp', 'jour', 'hippo', 'reun', 'prix', 'prixnom', 'typec', 'partant', 'dist', 'handi', 'groupe', 'quinte', 'natpis', 'meteo', 'corde', 'temperature', 'forceVent', 'directionVent', 'nebulosite', 'prediction_results', 'actual_results', 'created_at', 'updated_at', 'processed_data', 'cheque', 'handi_raw', 'reclam', 'sex', 'tempscourse', 'handicap_level_score', 'cl', 'numero', 'cheval', 'age', 'cotedirect', 'coteprob', 'recence', 'ecar', 'defoeil', 'defoeilPrec', 'musiqueche', 'musiquejoc', 'entraineur', 'coursescheval', 'victoirescheval', 'placescheval', 'dernierealloc', 'derniernbpartants', 'dernieredist', 'derniereplace', 'dernierecote', 'dernierEnt', 'proprietaire', 'poidmont', 'pourcVictJockHippo', 'pourcPlaceJockHippo', 'pourcVictChevalHippo', 'pourcPlaceChevalHippo', 'tempstot', 'vha', 'recordG', 'txreclam', 'dernierTxreclam', 'gainsCarriere', 'gainsAnneeEnCours', 'handicapDistance', 'handicapPoids', 'TxVictCouple', 'nbVictCouple', 'nbPlaceCouple', 'idche', 'idJockey', 'idEntraineur', 'defFirstTime', 'oeilFirstTime', 'oeil', 'dernierOeil', 'ratio_victoires', 'ratio_places', 'gains_par_course', 'efficacite_couple', 'regularite_couple', 'progression_couple', 'perf_cheval_hippo', 'perf_jockey_hippo', 'blinkers_first_time', 'has_blinkers', 'has_standard_blinkers', 'has_australian_blinkers', 'blinkers_added', 'blinkers_removed', 'blinkers_type_changed', 'blinkers_any_change', 'blinkers_high_impact_change', 'shoeing_first_time', 'fully_shod', 'front_shod_only', 'back_shod_only', 'barefoot', 'shoeing_changed', 'barefoot_to_shod', 'shod_to_barefoot', 'major_shoeing_change', 'shoeing_complexity', 'multiple_equipment_changes', 'equipment_momentum_score', 'high_equipment_momentum', 'multiple_first_time_changes', 'equipment_optimization_score', 'career_strike_rate', 'earnings_per_race', 'earnings_trend', 'last_race_position_normalized', 'last_race_odds_normalized', 'last_race_field_size_factor', 'distance_consistency', 'vha_normalized', 'claiming_tax_trend', 'class_stability', 'che_global_avg_pos', 'che_global_recent_perf', 'che_global_consistency', 'che_global_trend', 'che_global_pct_top3', 'che_global_nb_courses', 'che_global_total_races', 'che_global_dnf_rate', 'che_weighted_avg_pos', 'che_weighted_recent_perf', 'che_weighted_consistency', 'che_weighted_pct_top3', 'che_weighted_nb_courses', 'che_weighted_total_races', 'che_weighted_dnf_rate', 'che_weighted_trend', 'che_bytype_avg_pos', 'che_bytype_recent_perf', 'che_bytype_consistency', 'che_bytype_trend', 'che_bytype_pct_top3', 'che_bytype_nb_courses', 'che_bytype_dnf_rate', 'joc_global_avg_pos', 'joc_global_recent_perf', 'joc_global_consistency', 'joc_global_trend', 'joc_global_pct_top3', 'joc_global_nb_courses', 'joc_global_total_races', 'joc_global_dnf_rate', 'joc_weighted_avg_pos', 'joc_weighted_recent_perf', 'joc_weighted_consistency', 'joc_weighted_pct_top3', 'joc_weighted_nb_courses', 'joc_weighted_total_races', 'joc_weighted_dnf_rate', 'joc_weighted_trend', 'joc_bytype_avg_pos', 'joc_bytype_recent_perf', 'joc_bytype_consistency', 'joc_bytype_trend', 'joc_bytype_pct_top3', 'joc_bytype_nb_courses', 'joc_bytype_dnf_rate', 'class_drop_pct', 'purse_per_starter', 'purse_ratio', 'moving_up_in_class', 'class_shock_indicator', 'handicap_level_change', 'time_per_distance', 'time_vs_record', 'pace_rating', 'speed_figure_proxy', 'market_confidence_shift', 'last_race_improvement', 'bounce_risk', 'layoff_distance_interaction', 'trainer_change', 'connection_stability', 'field_size_change', 'distance_comfort', 'competition_level_shift', 'recence_x_class_drop', 'trainer_change_x_recence', 'distance_change_x_recence', 'che_by_type_avg_pos', 'che_by_type_recent_perf', 'che_by_type_consistency', 'che_by_type_trend', 'che_by_type_pct_top3', 'che_by_type_nb_courses', 'che_by_type_dnf_rate', 'joc_by_type_avg_pos', 'joc_by_type_recent_perf', 'joc_by_type_consistency', 'joc_by_type_trend', 'joc_by_type_pct_top3', 'joc_by_type_nb_courses', 'joc_by_type_dnf_rate', 'trainer_victoires', 'trainer_places', 'trainer_courses', 'trainer_winrate', 'trainer_placerate', 'trainer_quality_score', 'trainer_experience_level', 'handicap_poids', 'handicap_dist', 'prec_handicap_poids', 'prec_handicap_dist', 'handicap_poids_change', 'handicap_poids_increased', 'handicap_poids_decreased', 'handicap_dist_change', 'handicap_dist_increased', 'handicap_dist_decreased', 'total_handicap', 'handicap_momentum', 'last_race_position', 'last_race_distance', 'distance_change', 'distance_change_pct', 'distance_increased', 'distance_decreased', 'same_distance', 'corde_change', 'corde_improved', 'corde_worsened', 'last_race_top3', 'last_race_won', 'che_bytype_total_races', 'joc_bytype_total_races', 'che_form_momentum', 'che_improving_form', 'che_declining_form', 'che_high_consistency', 'che_recent_quality', 'che_elite_performer', 'che_regular_placer', 'joc_form_momentum', 'joc_improving_form', 'joc_high_consistency', 'joc_elite_performer', 'synergy_both_improving', 'synergy_both_consistent', 'synergy_both_elite', 'overall_momentum_score', 'high_momentum', 'quinte_career_starts', 'quinte_win_rate', 'quinte_top5_rate', 'avg_quinte_position', 'days_since_last_quinte', 'quinte_handicap_specialist', 'quinte_conditions_specialist', 'quinte_large_field_ability', 'quinte_track_condition_fit', 'is_handicap_quinte', 'handicap_division', 'purse_level_category', 'field_size_category', 'track_condition_PH', 'track_condition_DUR', 'track_condition_PS', 'track_condition_PSF', 'weather_clear', 'weather_rain', 'weather_cloudy', 'post_position_bias', 'post_position_track_bias', 'raw_tabnet_prediction', 'predicted_position_tabnet', 'raw_rf_prediction', 'predicted_position_rf', 'predicted_position_base']
2025-11-12 22:43:22,235 - race_prediction.competitive_field_analyzer - INFO - === CRITICAL COLUMNS ANALYSIS ===
2025-11-12 22:43:22,235 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ recordG: 16/16 non-null values (100.0%)
2025-11-12 22:43:22,235 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [0.0, 0.0, 0.0]
2025-11-12 22:43:22,235 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ hippo: 16/16 non-null values (100.0%)
2025-11-12 22:43:22,235 - race_prediction.competitive_field_analyzer - INFO -    Sample values: ['Lisieux', 'Lisieux', 'Lisieux']
2025-11-12 22:43:22,248 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ coursescheval: 16/16 non-null values (100.0%)
2025-11-12 22:43:22,248 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [32, 53, 70]
2025-11-12 22:43:22,248 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ victoirescheval: 16/16 non-null values (100.0%)
2025-11-12 22:43:22,248 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [5, 10, 17]
2025-11-12 22:43:22,248 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ placescheval: 16/16 non-null values (100.0%)
2025-11-12 22:43:22,248 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [11, 19, 26]
2025-11-12 22:43:22,248 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ gainsCarriere: 16/16 non-null values (100.0%)
2025-11-12 22:43:22,248 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [26923000, 27238000, 27714000]
2025-11-12 22:43:22,248 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ age: 16/16 non-null values (100.0%)
2025-11-12 22:43:22,248 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [5, 6, 7]
2025-11-12 22:43:22,248 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ derniereplace: 16/16 non-null values (100.0%)
2025-11-12 22:43:22,248 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [8.0, 15.0, 1.0]
2025-11-12 22:43:22,248 - race_prediction.competitive_field_analyzer - INFO - === RACE METADATA ===
2025-11-12 22:43:22,248 - race_prediction.competitive_field_analyzer - INFO - comp: 1610765
2025-11-12 22:43:22,248 - race_prediction.competitive_field_analyzer - INFO - hippo: Lisieux
2025-11-12 22:43:22,248 - race_prediction.competitive_field_analyzer - INFO - dist: 2725
2025-11-12 22:43:22,248 - race_prediction.competitive_field_analyzer - INFO - typec: Attel√©
2025-11-12 22:43:22,248 - race_prediction.competitive_field_analyzer - INFO - partant: 16
2025-11-12 22:43:22,254 - race_prediction.competitive_field_analyzer - INFO - === SAMPLE RACE DATA ===
2025-11-12 22:43:22,254 - race_prediction.competitive_field_analyzer - INFO - Sample data (columns: ['numero', 'cheval', 'recordG', 'hippo', 'coursescheval']):
2025-11-12 22:43:22,254 - race_prediction.competitive_field_analyzer - INFO -   Horse 0: {'numero': 1, 'cheval': 'Keen Winner', 'recordG': 0.0, 'hippo': 'Lisieux', 'coursescheval': 32}
2025-11-12 22:43:22,254 - race_prediction.competitive_field_analyzer - INFO -   Horse 1: {'numero': 2, 'cheval': 'Jeannette Priory', 'recordG': 0.0, 'hippo': 'Lisieux', 'coursescheval': 53}
2025-11-12 22:43:22,261 - race_prediction.competitive_field_analyzer - INFO -   Horse 2: {'numero': 3, 'cheval': 'Idole of Love', 'recordG': 0.0, 'hippo': 'Lisieux', 'coursescheval': 70}
2025-11-12 22:43:22,267 - race_prediction.competitive_field_analyzer - INFO - === END COMPETITIVE ANALYSIS DEBUG ===

2025-11-12 22:43:22,273 - race_prediction.competitive_field_analyzer - INFO - === RETRIEVING HISTORICAL DATA ===
2025-11-12 22:43:22,273 - race_prediction.competitive_field_analyzer - INFO - Fetching historical data for 16 horses: [1572676, 1510765, 1491964, 1438306, 1380598, 1430681, 1430635, 1430387, 1463732, 1497360, 1289057, 1388348, 1437164, 1508812, 1393225, 1318509]
2025-11-12 22:43:22,312 - race_prediction.competitive_field_analyzer - INFO - Batch querying historical data for 16 horses: [1572676, 1510765, 1491964, 1438306, 1380598, 1430681, 1430635, 1430387, 1463732, 1497360, 1289057, 1388348, 1437164, 1508812, 1393225, 1318509]
2025-11-12 22:43:40,377 - race_prediction.competitive_field_analyzer - INFO - Batch query completed in 18.06s, found 182 total records
2025-11-12 22:43:40,409 - race_prediction.competitive_field_analyzer - INFO - Batch query retrieved 182 total historical races
2025-11-12 22:43:40,416 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS PER HORSE ===
2025-11-12 22:43:40,422 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1572676: 14 historical races found
2025-11-12 22:43:40,428 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1510765: 16 historical races found
2025-11-12 22:43:40,435 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1491964: 14 historical races found
2025-11-12 22:43:40,435 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1438306: 8 historical races found
2025-11-12 22:43:40,435 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1380598: 16 historical races found
2025-11-12 22:43:40,435 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1430681: 12 historical races found
2025-11-12 22:43:40,435 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1430635: 5 historical races found
2025-11-12 22:43:40,435 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1430387: 5 historical races found
2025-11-12 22:43:40,435 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1463732: 14 historical races found
2025-11-12 22:43:40,435 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1497360: 16 historical races found
2025-11-12 22:43:40,435 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1289057: 16 historical races found
2025-11-12 22:43:40,441 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1388348: 10 historical races found
2025-11-12 22:43:40,441 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1437164: 12 historical races found
2025-11-12 22:43:40,441 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1508812: 9 historical races found
2025-11-12 22:43:40,447 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1393225: 9 historical races found
2025-11-12 22:43:40,447 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1318509: 6 historical races found
2025-11-12 22:43:40,447 - race_prediction.competitive_field_analyzer - INFO - Retrieved 182 total historical races
2025-11-12 22:43:40,447 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS BY HORSE ===
2025-11-12 22:43:40,453 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1572676: 14 historical races
2025-11-12 22:43:40,453 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1510765: 16 historical races
2025-11-12 22:43:40,453 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1491964: 14 historical races
2025-11-12 22:43:40,453 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1438306: 8 historical races
2025-11-12 22:43:40,459 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1380598: 16 historical races
2025-11-12 22:43:40,465 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1430681: 12 historical races
2025-11-12 22:43:40,465 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1430635: 5 historical races
2025-11-12 22:43:40,465 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1430387: 5 historical races
2025-11-12 22:43:40,465 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1463732: 14 historical races
2025-11-12 22:43:40,465 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1497360: 16 historical races
2025-11-12 22:43:40,472 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1289057: 16 historical races
2025-11-12 22:43:40,472 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1388348: 10 historical races
2025-11-12 22:43:40,472 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1437164: 12 historical races
2025-11-12 22:43:40,478 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1508812: 9 historical races
2025-11-12 22:43:40,484 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1393225: 9 historical races
2025-11-12 22:43:40,484 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1318509: 6 historical races
2025-11-12 22:43:40,484 - race_prediction.competitive_field_analyzer - INFO - === END HISTORICAL DATA RETRIEVAL ===

2025-11-12 22:43:40,484 - race_prediction.competitive_field_analyzer - INFO - === EARNINGS QUALITY ANALYSIS ===
2025-11-12 22:43:40,484 - race_prediction.competitive_field_analyzer - INFO - Valid earnings data: 16/16 horses
2025-11-12 22:43:40,491 - race_prediction.competitive_field_analyzer - INFO - Sample earnings per race: ['841,344', '513,925', '395,914']
2025-11-12 22:43:40,507 - race_prediction.competitive_field_analyzer - INFO - Field earnings stats: avg=731,939, max=1,324,103
2025-11-12 22:43:40,508 - race_prediction.competitive_field_analyzer - INFO - === TRACK SPECIALIZATION ANALYSIS ===
2025-11-12 22:43:40,508 - race_prediction.competitive_field_analyzer - INFO - Horses with reliable venue data (3+ races): 0/16
2025-11-12 22:43:40,514 - race_prediction.competitive_field_analyzer - INFO - === FORM MOMENTUM ANALYSIS ===
2025-11-12 22:43:40,514 - race_prediction.competitive_field_analyzer - INFO - Field avg horse trend: 0.768, recent perf: 7.42
2025-11-12 22:43:40,520 - race_prediction.competitive_field_analyzer - INFO - Field avg jockey trend: 1.613
2025-11-12 22:43:40,526 - race_prediction.competitive_field_analyzer - INFO - Horses with improving form: 2/16
2025-11-12 22:43:40,526 - race_prediction.competitive_field_analyzer - INFO - === HOT CONNECTIONS ANALYSIS ===
2025-11-12 22:43:40,526 - race_prediction.competitive_field_analyzer - INFO - Jockeys with wins today: 0/16
2025-11-12 22:43:40,526 - race_prediction.competitive_field_analyzer - INFO - Trainers with wins today: 0/16
2025-11-12 22:43:40,527 - race_prediction.competitive_field_analyzer - INFO - === DISTANCE COMFORT ANALYSIS ===
2025-11-12 22:43:40,527 - race_prediction.competitive_field_analyzer - INFO - Current race distance: 2725m
2025-11-12 22:43:40,533 - race_prediction.competitive_field_analyzer - INFO - Horses with similar recent distance: 12/16
2025-11-12 22:43:40,533 - race_prediction.competitive_field_analyzer - INFO - === REALISTIC COMPETITIVE SCORING ===
2025-11-12 22:43:40,534 - race_prediction.competitive_field_analyzer - INFO - üìä COMPETITIVE ANALYSIS SUMMARY:
2025-11-12 22:43:40,534 - race_prediction.competitive_field_analyzer - INFO -    Total competitive races: 182
2025-11-12 22:43:40,534 - race_prediction.competitive_field_analyzer - INFO -    Horses with historical data: 16/16
2025-11-12 22:43:40,534 - race_prediction.competitive_field_analyzer - INFO -    Average races per horse: 11.4
2025-11-12 22:43:40,704 - race_prediction.quinte_prediction_storage - INFO - Stored 16 horses for Quint√© race 1610765
2025-11-12 22:43:58,459 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE ANALYSIS DEBUG ===
2025-11-12 22:43:58,468 - race_prediction.competitive_field_analyzer - INFO - Analyzing competitive field for race with 16 horses
2025-11-12 22:43:58,468 - race_prediction.competitive_field_analyzer - INFO - Race data shape: (16, 278)
2025-11-12 22:43:58,468 - race_prediction.competitive_field_analyzer - INFO - Available columns: ['id', 'comp', 'jour', 'hippo', 'reun', 'prix', 'prixnom', 'typec', 'partant', 'dist', 'handi', 'groupe', 'quinte', 'natpis', 'meteo', 'corde', 'temperature', 'forceVent', 'directionVent', 'nebulosite', 'prediction_results', 'actual_results', 'created_at', 'updated_at', 'processed_data', 'cheque', 'handi_raw', 'reclam', 'sex', 'tempscourse', 'handicap_level_score', 'cl', 'numero', 'cheval', 'age', 'cotedirect', 'coteprob', 'recence', 'ecar', 'defoeil', 'defoeilPrec', 'musiqueche', 'musiquejoc', 'entraineur', 'coursescheval', 'victoirescheval', 'placescheval', 'dernierealloc', 'derniernbpartants', 'dernieredist', 'derniereplace', 'dernierecote', 'dernierEnt', 'proprietaire', 'poidmont', 'pourcVictJockHippo', 'pourcPlaceJockHippo', 'pourcVictChevalHippo', 'pourcPlaceChevalHippo', 'tempstot', 'vha', 'recordG', 'txreclam', 'dernierTxreclam', 'gainsCarriere', 'gainsAnneeEnCours', 'handicapDistance', 'handicapPoids', 'TxVictCouple', 'nbVictCouple', 'nbPlaceCouple', 'idche', 'idJockey', 'idEntraineur', 'defFirstTime', 'oeilFirstTime', 'oeil', 'dernierOeil', 'ratio_victoires', 'ratio_places', 'gains_par_course', 'efficacite_couple', 'regularite_couple', 'progression_couple', 'perf_cheval_hippo', 'perf_jockey_hippo', 'blinkers_first_time', 'has_blinkers', 'has_standard_blinkers', 'has_australian_blinkers', 'blinkers_added', 'blinkers_removed', 'blinkers_type_changed', 'blinkers_any_change', 'blinkers_high_impact_change', 'shoeing_first_time', 'fully_shod', 'front_shod_only', 'back_shod_only', 'barefoot', 'shoeing_changed', 'barefoot_to_shod', 'shod_to_barefoot', 'major_shoeing_change', 'shoeing_complexity', 'multiple_equipment_changes', 'equipment_momentum_score', 'high_equipment_momentum', 'multiple_first_time_changes', 'equipment_optimization_score', 'career_strike_rate', 'earnings_per_race', 'earnings_trend', 'last_race_position_normalized', 'last_race_odds_normalized', 'last_race_field_size_factor', 'distance_consistency', 'vha_normalized', 'claiming_tax_trend', 'class_stability', 'che_global_avg_pos', 'che_global_recent_perf', 'che_global_consistency', 'che_global_trend', 'che_global_pct_top3', 'che_global_nb_courses', 'che_global_total_races', 'che_global_dnf_rate', 'che_weighted_avg_pos', 'che_weighted_recent_perf', 'che_weighted_consistency', 'che_weighted_pct_top3', 'che_weighted_nb_courses', 'che_weighted_total_races', 'che_weighted_dnf_rate', 'che_weighted_trend', 'che_bytype_avg_pos', 'che_bytype_recent_perf', 'che_bytype_consistency', 'che_bytype_trend', 'che_bytype_pct_top3', 'che_bytype_nb_courses', 'che_bytype_dnf_rate', 'joc_global_avg_pos', 'joc_global_recent_perf', 'joc_global_consistency', 'joc_global_trend', 'joc_global_pct_top3', 'joc_global_nb_courses', 'joc_global_total_races', 'joc_global_dnf_rate', 'joc_weighted_avg_pos', 'joc_weighted_recent_perf', 'joc_weighted_consistency', 'joc_weighted_pct_top3', 'joc_weighted_nb_courses', 'joc_weighted_total_races', 'joc_weighted_dnf_rate', 'joc_weighted_trend', 'joc_bytype_avg_pos', 'joc_bytype_recent_perf', 'joc_bytype_consistency', 'joc_bytype_trend', 'joc_bytype_pct_top3', 'joc_bytype_nb_courses', 'joc_bytype_dnf_rate', 'class_drop_pct', 'purse_per_starter', 'purse_ratio', 'moving_up_in_class', 'class_shock_indicator', 'handicap_level_change', 'time_per_distance', 'time_vs_record', 'pace_rating', 'speed_figure_proxy', 'market_confidence_shift', 'last_race_improvement', 'bounce_risk', 'layoff_distance_interaction', 'trainer_change', 'connection_stability', 'field_size_change', 'distance_comfort', 'competition_level_shift', 'recence_x_class_drop', 'trainer_change_x_recence', 'distance_change_x_recence', 'che_by_type_avg_pos', 'che_by_type_recent_perf', 'che_by_type_consistency', 'che_by_type_trend', 'che_by_type_pct_top3', 'che_by_type_nb_courses', 'che_by_type_dnf_rate', 'joc_by_type_avg_pos', 'joc_by_type_recent_perf', 'joc_by_type_consistency', 'joc_by_type_trend', 'joc_by_type_pct_top3', 'joc_by_type_nb_courses', 'joc_by_type_dnf_rate', 'trainer_victoires', 'trainer_places', 'trainer_courses', 'trainer_winrate', 'trainer_placerate', 'trainer_quality_score', 'trainer_experience_level', 'handicap_poids', 'handicap_dist', 'prec_handicap_poids', 'prec_handicap_dist', 'handicap_poids_change', 'handicap_poids_increased', 'handicap_poids_decreased', 'handicap_dist_change', 'handicap_dist_increased', 'handicap_dist_decreased', 'total_handicap', 'handicap_momentum', 'last_race_position', 'last_race_distance', 'distance_change', 'distance_change_pct', 'distance_increased', 'distance_decreased', 'same_distance', 'corde_change', 'corde_improved', 'corde_worsened', 'last_race_top3', 'last_race_won', 'che_bytype_total_races', 'joc_bytype_total_races', 'che_form_momentum', 'che_improving_form', 'che_declining_form', 'che_high_consistency', 'che_recent_quality', 'che_elite_performer', 'che_regular_placer', 'joc_form_momentum', 'joc_improving_form', 'joc_high_consistency', 'joc_elite_performer', 'synergy_both_improving', 'synergy_both_consistent', 'synergy_both_elite', 'overall_momentum_score', 'high_momentum', 'quinte_career_starts', 'quinte_win_rate', 'quinte_top5_rate', 'avg_quinte_position', 'days_since_last_quinte', 'quinte_handicap_specialist', 'quinte_conditions_specialist', 'quinte_large_field_ability', 'quinte_track_condition_fit', 'is_handicap_quinte', 'handicap_division', 'purse_level_category', 'field_size_category', 'track_condition_PH', 'track_condition_DUR', 'track_condition_PS', 'track_condition_PSF', 'weather_clear', 'weather_rain', 'weather_cloudy', 'post_position_bias', 'post_position_track_bias', 'raw_tabnet_prediction', 'predicted_position_tabnet', 'raw_rf_prediction', 'predicted_position_rf', 'predicted_position_base']
2025-11-12 22:43:58,474 - race_prediction.competitive_field_analyzer - INFO - === CRITICAL COLUMNS ANALYSIS ===
2025-11-12 22:43:58,475 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ recordG: 16/16 non-null values (100.0%)
2025-11-12 22:43:58,475 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [0.0, 0.0, 0.0]
2025-11-12 22:43:58,475 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ hippo: 16/16 non-null values (100.0%)
2025-11-12 22:43:58,475 - race_prediction.competitive_field_analyzer - INFO -    Sample values: ['Auteuil', 'Auteuil', 'Auteuil']
2025-11-12 22:43:58,475 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ coursescheval: 16/16 non-null values (100.0%)
2025-11-12 22:43:58,475 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [15, 13, 14]
2025-11-12 22:43:58,475 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ victoirescheval: 16/16 non-null values (100.0%)
2025-11-12 22:43:58,475 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [2, 2, 3]
2025-11-12 22:43:58,475 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ placescheval: 16/16 non-null values (100.0%)
2025-11-12 22:43:58,475 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [5, 7, 7]
2025-11-12 22:43:58,475 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ gainsCarriere: 16/16 non-null values (100.0%)
2025-11-12 22:43:58,475 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [12214000, 5804000, 6793000]
2025-11-12 22:43:58,475 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ age: 16/16 non-null values (100.0%)
2025-11-12 22:43:58,475 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [5, 4, 5]
2025-11-12 22:43:58,475 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ derniereplace: 16/16 non-null values (100.0%)
2025-11-12 22:43:58,475 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [10.0, 4.0, 2.0]
2025-11-12 22:43:58,475 - race_prediction.competitive_field_analyzer - INFO - === RACE METADATA ===
2025-11-12 22:43:58,475 - race_prediction.competitive_field_analyzer - INFO - comp: 1606667
2025-11-12 22:43:58,476 - race_prediction.competitive_field_analyzer - INFO - hippo: Auteuil
2025-11-12 22:43:58,476 - race_prediction.competitive_field_analyzer - INFO - dist: 3600
2025-11-12 22:43:58,476 - race_prediction.competitive_field_analyzer - INFO - typec: Haies
2025-11-12 22:43:58,476 - race_prediction.competitive_field_analyzer - INFO - partant: 16
2025-11-12 22:43:58,483 - race_prediction.competitive_field_analyzer - INFO - === SAMPLE RACE DATA ===
2025-11-12 22:43:58,483 - race_prediction.competitive_field_analyzer - INFO - Sample data (columns: ['numero', 'cheval', 'recordG', 'hippo', 'coursescheval']):
2025-11-12 22:43:58,483 - race_prediction.competitive_field_analyzer - INFO -   Horse 0: {'numero': 1, 'cheval': 'Ocre', 'recordG': 0.0, 'hippo': 'Auteuil', 'coursescheval': 15}
2025-11-12 22:43:58,483 - race_prediction.competitive_field_analyzer - INFO -   Horse 1: {'numero': 2, 'cheval': "Gino's Line", 'recordG': 0.0, 'hippo': 'Auteuil', 'coursescheval': 13}
2025-11-12 22:43:58,484 - race_prediction.competitive_field_analyzer - INFO -   Horse 2: {'numero': 3, 'cheval': 'Balling de Juilley', 'recordG': 0.0, 'hippo': 'Auteuil', 'coursescheval': 14}
2025-11-12 22:43:58,484 - race_prediction.competitive_field_analyzer - INFO - === END COMPETITIVE ANALYSIS DEBUG ===

2025-11-12 22:43:58,498 - race_prediction.competitive_field_analyzer - INFO - === RETRIEVING HISTORICAL DATA ===
2025-11-12 22:43:58,506 - race_prediction.competitive_field_analyzer - INFO - Fetching historical data for 16 horses: [1641958, 1722759, 1656919, 1650835, 1724352, 1698138, 1725764, 1667100, 1647372, 1726661, 1579592, 1699706, 1701033, 1650228, 1704425, 1755392]
2025-11-12 22:43:58,522 - race_prediction.competitive_field_analyzer - INFO - Batch querying historical data for 16 horses: [1641958, 1722759, 1656919, 1650835, 1724352, 1698138, 1725764, 1667100, 1647372, 1726661, 1579592, 1699706, 1701033, 1650228, 1704425, 1755392]
2025-11-12 22:44:20,133 - race_prediction.competitive_field_analyzer - INFO - Batch query completed in 21.60s, found 122 total records
2025-11-12 22:44:20,155 - race_prediction.competitive_field_analyzer - INFO - Batch query retrieved 122 total historical races
2025-11-12 22:44:20,162 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS PER HORSE ===
2025-11-12 22:44:20,162 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1641958: 7 historical races found
2025-11-12 22:44:20,170 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1722759: 12 historical races found
2025-11-12 22:44:20,170 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1656919: 6 historical races found
2025-11-12 22:44:20,185 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1650835: 7 historical races found
2025-11-12 22:44:20,185 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1724352: 8 historical races found
2025-11-12 22:44:20,185 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1698138: 10 historical races found
2025-11-12 22:44:20,185 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1725764: 7 historical races found
2025-11-12 22:44:20,185 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1667100: 5 historical races found
2025-11-12 22:44:20,185 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1647372: 7 historical races found
2025-11-12 22:44:20,185 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1726661: 5 historical races found
2025-11-12 22:44:20,185 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1579592: 9 historical races found
2025-11-12 22:44:20,192 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1699706: 9 historical races found
2025-11-12 22:44:20,199 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1701033: 8 historical races found
2025-11-12 22:44:20,199 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1650228: 7 historical races found
2025-11-12 22:44:20,199 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1704425: 7 historical races found
2025-11-12 22:44:20,199 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1755392: 8 historical races found
2025-11-12 22:44:20,199 - race_prediction.competitive_field_analyzer - INFO - Retrieved 122 total historical races
2025-11-12 22:44:20,199 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS BY HORSE ===
2025-11-12 22:44:20,199 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1641958: 7 historical races
2025-11-12 22:44:20,199 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1722759: 12 historical races
2025-11-12 22:44:20,207 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1656919: 6 historical races
2025-11-12 22:44:20,214 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1650835: 7 historical races
2025-11-12 22:44:20,221 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1724352: 8 historical races
2025-11-12 22:44:20,226 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1698138: 10 historical races
2025-11-12 22:44:20,234 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1725764: 7 historical races
2025-11-12 22:44:20,234 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1667100: 5 historical races
2025-11-12 22:44:20,234 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1647372: 7 historical races
2025-11-12 22:44:20,234 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1726661: 5 historical races
2025-11-12 22:44:20,241 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1579592: 9 historical races
2025-11-12 22:44:20,254 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1699706: 9 historical races
2025-11-12 22:44:20,255 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1701033: 8 historical races
2025-11-12 22:44:20,282 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1650228: 7 historical races
2025-11-12 22:44:20,282 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1704425: 7 historical races
2025-11-12 22:44:20,282 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1755392: 8 historical races
2025-11-12 22:44:20,290 - race_prediction.competitive_field_analyzer - INFO - === END HISTORICAL DATA RETRIEVAL ===

2025-11-12 22:44:20,290 - race_prediction.competitive_field_analyzer - INFO - === EARNINGS QUALITY ANALYSIS ===
2025-11-12 22:44:20,290 - race_prediction.competitive_field_analyzer - INFO - Valid earnings data: 16/16 horses
2025-11-12 22:44:20,297 - race_prediction.competitive_field_analyzer - INFO - Sample earnings per race: ['814,267', '446,462', '485,214']
2025-11-12 22:44:20,297 - race_prediction.competitive_field_analyzer - INFO - Field earnings stats: avg=517,638, max=1,046,929
2025-11-12 22:44:20,298 - race_prediction.competitive_field_analyzer - INFO - === TRACK SPECIALIZATION ANALYSIS ===
2025-11-12 22:44:20,298 - race_prediction.competitive_field_analyzer - INFO - Horses with reliable venue data (3+ races): 0/16
2025-11-12 22:44:20,307 - race_prediction.competitive_field_analyzer - INFO - === FORM MOMENTUM ANALYSIS ===
2025-11-12 22:44:20,307 - race_prediction.competitive_field_analyzer - INFO - Field avg horse trend: -1.843, recent perf: 5.04
2025-11-12 22:44:20,307 - race_prediction.competitive_field_analyzer - INFO - Field avg jockey trend: 0.029
2025-11-12 22:44:20,307 - race_prediction.competitive_field_analyzer - INFO - Horses with improving form: 2/16
2025-11-12 22:44:20,307 - race_prediction.competitive_field_analyzer - INFO - === HOT CONNECTIONS ANALYSIS ===
2025-11-12 22:44:20,307 - race_prediction.competitive_field_analyzer - INFO - Jockeys with wins today: 0/16
2025-11-12 22:44:20,307 - race_prediction.competitive_field_analyzer - INFO - Trainers with wins today: 0/16
2025-11-12 22:44:20,307 - race_prediction.competitive_field_analyzer - INFO - === DISTANCE COMFORT ANALYSIS ===
2025-11-12 22:44:20,307 - race_prediction.competitive_field_analyzer - INFO - Current race distance: 3600m
2025-11-12 22:44:20,307 - race_prediction.competitive_field_analyzer - INFO - Horses with similar recent distance: 11/16
2025-11-12 22:44:20,315 - race_prediction.competitive_field_analyzer - INFO - === REALISTIC COMPETITIVE SCORING ===
2025-11-12 22:44:20,316 - race_prediction.competitive_field_analyzer - INFO - üìä COMPETITIVE ANALYSIS SUMMARY:
2025-11-12 22:44:20,316 - race_prediction.competitive_field_analyzer - INFO -    Total competitive races: 122
2025-11-12 22:44:20,316 - race_prediction.competitive_field_analyzer - INFO -    Horses with historical data: 16/16
2025-11-12 22:44:20,316 - race_prediction.competitive_field_analyzer - INFO -    Average races per horse: 7.6
2025-11-12 22:44:20,572 - race_prediction.quinte_prediction_storage - INFO - Stored 16 horses for Quint√© race 1606667
2025-11-12 23:09:08,123 - model_training.features.couple_embedding - INFO - Epoch 1/4 - Train Loss: 0.5933 - Valid Loss: 0.5954 - Train Acc: 0.7238 - Valid Acc: 0.7234
2025-11-12 23:09:08,983 - model_training.features.couple_embedding - INFO - Epoch 2/4 - Train Loss: 0.5886 - Valid Loss: 0.5917 - Train Acc: 0.7238 - Valid Acc: 0.7234
2025-11-12 23:09:09,832 - model_training.features.couple_embedding - INFO - Epoch 3/4 - Train Loss: 0.5848 - Valid Loss: 0.5926 - Train Acc: 0.7238 - Valid Acc: 0.7234
2025-11-12 23:09:10,678 - model_training.features.couple_embedding - INFO - Epoch 4/4 - Train Loss: 0.5770 - Valid Loss: 0.5983 - Train Acc: 0.7238 - Valid Acc: 0.7234
2025-11-12 23:13:18,244 - core.orchestrators.feature_selector - INFO - RF features: 110 domain features (no embeddings)
2025-11-12 23:13:18,621 - core.orchestrators.feature_selector - INFO - Dropped 118 features for rf model
2025-11-12 23:13:18,664 - core.orchestrators.feature_selector - INFO - RF features: 110 domain features (no embeddings)
2025-11-12 23:15:40,427 - core.orchestrators.feature_selector - INFO - RF features: 110 domain features (no embeddings)
2025-11-12 23:15:56,087 - core.orchestrators.feature_selector - INFO - TabNet features: 37 optimized domain features
2025-11-12 23:15:56,379 - core.orchestrators.feature_selector - INFO - Dropped 191 features for tabnet model
2025-11-12 23:15:56,415 - core.orchestrators.feature_selector - INFO - TabNet features: 37 optimized domain features
2025-11-12 23:17:59,942 - core.orchestrators.feature_selector - INFO - TabNet features: 37 optimized domain features
2025-11-13 09:35:19,462 - race_prediction.quinte_prediction_storage - INFO - Quint√© prediction storage initialized at data/hippique2.db
2025-11-13 09:35:23,361 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE ANALYSIS DEBUG ===
2025-11-13 09:35:23,361 - race_prediction.competitive_field_analyzer - INFO - Analyzing competitive field for race with 14 horses
2025-11-13 09:35:23,361 - race_prediction.competitive_field_analyzer - INFO - Race data shape: (14, 280)
2025-11-13 09:35:23,362 - race_prediction.competitive_field_analyzer - INFO - Available columns: ['id', 'comp', 'jour', 'hippo', 'reun', 'prix', 'prixnom', 'typec', 'partant', 'dist', 'handi', 'groupe', 'quinte', 'natpis', 'meteo', 'corde', 'temperature', 'forceVent', 'directionVent', 'nebulosite', 'prediction_results', 'actual_results', 'created_at', 'updated_at', 'processed_data', 'cheque', 'handi_raw', 'reclam', 'sex', 'tempscourse', 'handicap_level_score', 'cl', 'numero', 'cheval', 'age', 'cotedirect', 'coteprob', 'recence', 'ecar', 'defoeil', 'defoeilPrec', 'musiqueche', 'musiquejoc', 'entraineur', 'coursescheval', 'victoirescheval', 'placescheval', 'dernierealloc', 'derniernbpartants', 'dernieredist', 'derniereplace', 'dernierecote', 'dernierEnt', 'proprietaire', 'poidmont', 'pourcVictJockHippo', 'pourcPlaceJockHippo', 'pourcVictChevalHippo', 'pourcPlaceChevalHippo', 'tempstot', 'vha', 'recordG', 'txreclam', 'dernierTxreclam', 'gainsCarriere', 'gainsAnneeEnCours', 'handicapDistance', 'handicapPoids', 'TxVictCouple', 'nbVictCouple', 'nbPlaceCouple', 'idche', 'idJockey', 'idEntraineur', 'defFirstTime', 'oeilFirstTime', 'oeil', 'dernierOeil', 'ratio_victoires', 'ratio_places', 'gains_par_course', 'efficacite_couple', 'regularite_couple', 'progression_couple', 'perf_cheval_hippo', 'perf_jockey_hippo', 'trainer_victoires', 'trainer_places', 'trainer_courses', 'trainer_winrate', 'trainer_placerate', 'trainer_quality_score', 'trainer_experience_level', 'handicap_poids', 'handicap_dist', 'prec_handicap_poids', 'prec_handicap_dist', 'handicap_poids_change', 'handicap_poids_increased', 'handicap_poids_decreased', 'handicap_dist_change', 'handicap_dist_increased', 'handicap_dist_decreased', 'total_handicap', 'handicap_momentum', 'last_race_position', 'last_race_distance', 'distance_change', 'distance_change_pct', 'distance_increased', 'distance_decreased', 'same_distance', 'corde_change', 'corde_improved', 'corde_worsened', 'last_race_top3', 'last_race_won', 'blinkers_first_time', 'has_blinkers', 'has_standard_blinkers', 'has_australian_blinkers', 'blinkers_added', 'blinkers_removed', 'blinkers_type_changed', 'blinkers_any_change', 'blinkers_high_impact_change', 'shoeing_first_time', 'fully_shod', 'front_shod_only', 'back_shod_only', 'barefoot', 'shoeing_changed', 'barefoot_to_shod', 'shod_to_barefoot', 'major_shoeing_change', 'shoeing_complexity', 'multiple_equipment_changes', 'equipment_momentum_score', 'high_equipment_momentum', 'multiple_first_time_changes', 'equipment_optimization_score', 'career_strike_rate', 'earnings_per_race', 'earnings_trend', 'last_race_position_normalized', 'last_race_odds_normalized', 'last_race_field_size_factor', 'distance_consistency', 'vha_normalized', 'claiming_tax_trend', 'class_stability', 'che_global_avg_pos', 'che_global_recent_perf', 'che_global_consistency', 'che_global_trend', 'che_global_pct_top3', 'che_global_nb_courses', 'che_global_total_races', 'che_global_dnf_rate', 'che_weighted_avg_pos', 'che_weighted_recent_perf', 'che_weighted_consistency', 'che_weighted_pct_top3', 'che_weighted_nb_courses', 'che_weighted_total_races', 'che_weighted_dnf_rate', 'che_weighted_trend', 'che_bytype_avg_pos', 'che_bytype_recent_perf', 'che_bytype_consistency', 'che_bytype_trend', 'che_bytype_pct_top3', 'che_bytype_nb_courses', 'che_bytype_total_races', 'che_bytype_dnf_rate', 'joc_global_avg_pos', 'joc_global_recent_perf', 'joc_global_consistency', 'joc_global_trend', 'joc_global_pct_top3', 'joc_global_nb_courses', 'joc_global_total_races', 'joc_global_dnf_rate', 'joc_weighted_avg_pos', 'joc_weighted_recent_perf', 'joc_weighted_consistency', 'joc_weighted_pct_top3', 'joc_weighted_nb_courses', 'joc_weighted_total_races', 'joc_weighted_dnf_rate', 'joc_weighted_trend', 'joc_bytype_avg_pos', 'joc_bytype_recent_perf', 'joc_bytype_consistency', 'joc_bytype_trend', 'joc_bytype_pct_top3', 'joc_bytype_nb_courses', 'joc_bytype_total_races', 'joc_bytype_dnf_rate', 'che_form_momentum', 'che_improving_form', 'che_declining_form', 'che_high_consistency', 'che_recent_quality', 'che_elite_performer', 'che_regular_placer', 'joc_form_momentum', 'joc_improving_form', 'joc_high_consistency', 'joc_elite_performer', 'synergy_both_improving', 'synergy_both_consistent', 'synergy_both_elite', 'overall_momentum_score', 'high_momentum', 'class_drop_pct', 'purse_per_starter', 'purse_ratio', 'moving_up_in_class', 'class_shock_indicator', 'handicap_level_change', 'time_per_distance', 'time_vs_record', 'pace_rating', 'speed_figure_proxy', 'market_confidence_shift', 'last_race_improvement', 'bounce_risk', 'layoff_distance_interaction', 'trainer_change', 'connection_stability', 'field_size_change', 'distance_comfort', 'competition_level_shift', 'recence_x_class_drop', 'trainer_change_x_recence', 'distance_change_x_recence', 'che_by_type_avg_pos', 'che_by_type_recent_perf', 'che_by_type_consistency', 'che_by_type_trend', 'che_by_type_pct_top3', 'che_by_type_nb_courses', 'che_by_type_total_races', 'che_by_type_dnf_rate', 'joc_by_type_avg_pos', 'joc_by_type_recent_perf', 'joc_by_type_consistency', 'joc_by_type_trend', 'joc_by_type_pct_top3', 'joc_by_type_nb_courses', 'joc_by_type_total_races', 'joc_by_type_dnf_rate', 'quinte_career_starts', 'quinte_win_rate', 'quinte_top5_rate', 'avg_quinte_position', 'days_since_last_quinte', 'quinte_handicap_specialist', 'quinte_conditions_specialist', 'quinte_large_field_ability', 'quinte_track_condition_fit', 'is_handicap_quinte', 'handicap_division', 'purse_level_category', 'field_size_category', 'track_condition_PH', 'track_condition_DUR', 'track_condition_PS', 'track_condition_PSF', 'weather_clear', 'weather_rain', 'weather_cloudy', 'post_position_bias', 'post_position_track_bias', 'raw_tabnet_prediction', 'predicted_position_tabnet', 'raw_rf_prediction', 'predicted_position_rf', 'predicted_position_base']
2025-11-13 09:35:23,362 - race_prediction.competitive_field_analyzer - INFO - === CRITICAL COLUMNS ANALYSIS ===
2025-11-13 09:35:23,362 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ recordG: 14/14 non-null values (100.0%)
2025-11-13 09:35:23,362 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [0.0, 0.0, 0.0]
2025-11-13 09:35:23,362 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ hippo: 14/14 non-null values (100.0%)
2025-11-13 09:35:23,362 - race_prediction.competitive_field_analyzer - INFO -    Sample values: ['Bordeaux - Le Bouscat', 'Bordeaux - Le Bouscat', 'Bordeaux - Le Bouscat']
2025-11-13 09:35:23,362 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ coursescheval: 14/14 non-null values (100.0%)
2025-11-13 09:35:23,363 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [50, 45, 27]
2025-11-13 09:35:23,363 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ victoirescheval: 14/14 non-null values (100.0%)
2025-11-13 09:35:23,363 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [8, 3, 10]
2025-11-13 09:35:23,363 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ placescheval: 14/14 non-null values (100.0%)
2025-11-13 09:35:23,363 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [14, 6, 15]
2025-11-13 09:35:23,365 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ gainsCarriere: 14/14 non-null values (100.0%)
2025-11-13 09:35:23,365 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [9845500, 10848000, 11219500]
2025-11-13 09:35:23,366 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ age: 14/14 non-null values (100.0%)
2025-11-13 09:35:23,366 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [6, 6, 6]
2025-11-13 09:35:23,366 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ derniereplace: 14/14 non-null values (100.0%)
2025-11-13 09:35:23,366 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [15.0, 8.0, 1.0]
2025-11-13 09:35:23,366 - race_prediction.competitive_field_analyzer - INFO - === RACE METADATA ===
2025-11-13 09:35:23,366 - race_prediction.competitive_field_analyzer - INFO - comp: 1620115
2025-11-13 09:35:23,366 - race_prediction.competitive_field_analyzer - INFO - hippo: Bordeaux - Le Bouscat
2025-11-13 09:35:23,366 - race_prediction.competitive_field_analyzer - INFO - dist: 2650
2025-11-13 09:35:23,366 - race_prediction.competitive_field_analyzer - INFO - typec: Attel√©
2025-11-13 09:35:23,366 - race_prediction.competitive_field_analyzer - INFO - partant: 14
2025-11-13 09:35:23,366 - race_prediction.competitive_field_analyzer - INFO - === SAMPLE RACE DATA ===
2025-11-13 09:35:23,366 - race_prediction.competitive_field_analyzer - INFO - Sample data (columns: ['numero', 'cheval', 'recordG', 'hippo', 'coursescheval']):
2025-11-13 09:35:23,367 - race_prediction.competitive_field_analyzer - INFO -   Horse 0: {'numero': 1, 'cheval': 'Jason Blue', 'recordG': 0.0, 'hippo': 'Bordeaux - Le Bouscat', 'coursescheval': 50}
2025-11-13 09:35:23,367 - race_prediction.competitive_field_analyzer - INFO -   Horse 1: {'numero': 2, 'cheval': 'Jasmin M√©rit√©', 'recordG': 0.0, 'hippo': 'Bordeaux - Le Bouscat', 'coursescheval': 45}
2025-11-13 09:35:23,367 - race_prediction.competitive_field_analyzer - INFO -   Horse 2: {'numero': 3, 'cheval': 'Jalto du Tr√©mont', 'recordG': 0.0, 'hippo': 'Bordeaux - Le Bouscat', 'coursescheval': 27}
2025-11-13 09:35:23,367 - race_prediction.competitive_field_analyzer - INFO - === END COMPETITIVE ANALYSIS DEBUG ===

2025-11-13 09:35:23,367 - race_prediction.competitive_field_analyzer - INFO - === RETRIEVING HISTORICAL DATA ===
2025-11-13 09:35:23,367 - race_prediction.competitive_field_analyzer - INFO - Fetching historical data for 14 horses: [1543500, 1502198, 1558647, 1508696, 1549568, 1385552, 1380632, 1477641, 1379064, 1514170, 1453169, 1326710, 1379329, 1409950]
2025-11-13 09:35:23,370 - race_prediction.competitive_field_analyzer - INFO - Batch querying historical data for 14 horses: [1543500, 1502198, 1558647, 1508696, 1549568, 1385552, 1380632, 1477641, 1379064, 1514170, 1453169, 1326710, 1379329, 1409950]
2025-11-13 09:35:49,174 - race_prediction.competitive_field_analyzer - INFO - Batch query completed in 25.80s, found 181 total records
2025-11-13 09:35:49,183 - race_prediction.competitive_field_analyzer - INFO - Batch query retrieved 181 total historical races
2025-11-13 09:35:49,183 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS PER HORSE ===
2025-11-13 09:35:49,183 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1543500: 18 historical races found
2025-11-13 09:35:49,183 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1502198: 10 historical races found
2025-11-13 09:35:49,183 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1558647: 9 historical races found
2025-11-13 09:35:49,183 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1508696: 6 historical races found
2025-11-13 09:35:49,183 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1549568: 12 historical races found
2025-11-13 09:35:49,183 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1385552: 15 historical races found
2025-11-13 09:35:49,183 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1380632: 14 historical races found
2025-11-13 09:35:49,183 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1477641: 10 historical races found
2025-11-13 09:35:49,183 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1379064: 12 historical races found
2025-11-13 09:35:49,183 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1514170: 17 historical races found
2025-11-13 09:35:49,183 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1453169: 12 historical races found
2025-11-13 09:35:49,183 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1326710: 9 historical races found
2025-11-13 09:35:49,183 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1379329: 20 historical races found
2025-11-13 09:35:49,183 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1409950: 17 historical races found
2025-11-13 09:35:49,183 - race_prediction.competitive_field_analyzer - INFO - Retrieved 181 total historical races
2025-11-13 09:35:49,183 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS BY HORSE ===
2025-11-13 09:35:49,183 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1543500: 18 historical races
2025-11-13 09:35:49,183 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1502198: 10 historical races
2025-11-13 09:35:49,183 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1558647: 9 historical races
2025-11-13 09:35:49,183 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1508696: 6 historical races
2025-11-13 09:35:49,183 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1549568: 12 historical races
2025-11-13 09:35:49,183 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1385552: 15 historical races
2025-11-13 09:35:49,183 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1380632: 14 historical races
2025-11-13 09:35:49,183 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1477641: 10 historical races
2025-11-13 09:35:49,183 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1379064: 12 historical races
2025-11-13 09:35:49,183 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1514170: 17 historical races
2025-11-13 09:35:49,183 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1453169: 12 historical races
2025-11-13 09:35:49,183 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1326710: 9 historical races
2025-11-13 09:35:49,183 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1379329: 20 historical races
2025-11-13 09:35:49,183 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1409950: 17 historical races
2025-11-13 09:35:49,183 - race_prediction.competitive_field_analyzer - INFO - === END HISTORICAL DATA RETRIEVAL ===

2025-11-13 09:35:49,184 - race_prediction.competitive_field_analyzer - INFO - === EARNINGS QUALITY ANALYSIS ===
2025-11-13 09:35:49,184 - race_prediction.competitive_field_analyzer - INFO - Valid earnings data: 14/14 horses
2025-11-13 09:35:49,184 - race_prediction.competitive_field_analyzer - INFO - Sample earnings per race: ['196,910', '241,067', '415,537']
2025-11-13 09:35:49,184 - race_prediction.competitive_field_analyzer - INFO - Field earnings stats: avg=317,099, max=485,827
2025-11-13 09:35:49,184 - race_prediction.competitive_field_analyzer - INFO - === TRACK SPECIALIZATION ANALYSIS ===
2025-11-13 09:35:49,184 - race_prediction.competitive_field_analyzer - INFO - Horses with reliable venue data (3+ races): 0/14
2025-11-13 09:35:49,185 - race_prediction.competitive_field_analyzer - INFO - === FORM MOMENTUM ANALYSIS ===
2025-11-13 09:35:49,185 - race_prediction.competitive_field_analyzer - INFO - Field avg horse trend: 0.657, recent perf: 5.17
2025-11-13 09:35:49,185 - race_prediction.competitive_field_analyzer - INFO - Field avg jockey trend: 0.138
2025-11-13 09:35:49,185 - race_prediction.competitive_field_analyzer - INFO - Horses with improving form: 2/14
2025-11-13 09:35:49,186 - race_prediction.competitive_field_analyzer - INFO - === HOT CONNECTIONS ANALYSIS ===
2025-11-13 09:35:49,186 - race_prediction.competitive_field_analyzer - INFO - Jockeys with wins today: 0/14
2025-11-13 09:35:49,186 - race_prediction.competitive_field_analyzer - INFO - Trainers with wins today: 0/14
2025-11-13 09:35:49,186 - race_prediction.competitive_field_analyzer - INFO - === DISTANCE COMFORT ANALYSIS ===
2025-11-13 09:35:49,186 - race_prediction.competitive_field_analyzer - INFO - Current race distance: 2650m
2025-11-13 09:35:49,186 - race_prediction.competitive_field_analyzer - INFO - Horses with similar recent distance: 10/14
2025-11-13 09:35:49,186 - race_prediction.competitive_field_analyzer - INFO - === REALISTIC COMPETITIVE SCORING ===
2025-11-13 09:35:49,187 - race_prediction.competitive_field_analyzer - INFO - üìä COMPETITIVE ANALYSIS SUMMARY:
2025-11-13 09:35:49,187 - race_prediction.competitive_field_analyzer - INFO -    Total competitive races: 181
2025-11-13 09:35:49,187 - race_prediction.competitive_field_analyzer - INFO -    Horses with historical data: 14/14
2025-11-13 09:35:49,187 - race_prediction.competitive_field_analyzer - INFO -    Average races per horse: 12.9
2025-11-13 09:35:49,210 - race_prediction.quinte_prediction_storage - INFO - Stored 14 horses for Quint√© race 1620115
2025-11-13 09:35:51,406 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE ANALYSIS DEBUG ===
2025-11-13 09:35:51,406 - race_prediction.competitive_field_analyzer - INFO - Analyzing competitive field for race with 16 horses
2025-11-13 09:35:51,406 - race_prediction.competitive_field_analyzer - INFO - Race data shape: (16, 280)
2025-11-13 09:35:51,406 - race_prediction.competitive_field_analyzer - INFO - Available columns: ['id', 'comp', 'jour', 'hippo', 'reun', 'prix', 'prixnom', 'typec', 'partant', 'dist', 'handi', 'groupe', 'quinte', 'natpis', 'meteo', 'corde', 'temperature', 'forceVent', 'directionVent', 'nebulosite', 'prediction_results', 'actual_results', 'created_at', 'updated_at', 'processed_data', 'cheque', 'handi_raw', 'reclam', 'sex', 'tempscourse', 'handicap_level_score', 'cl', 'numero', 'cheval', 'age', 'cotedirect', 'coteprob', 'recence', 'ecar', 'defoeil', 'defoeilPrec', 'musiqueche', 'musiquejoc', 'entraineur', 'coursescheval', 'victoirescheval', 'placescheval', 'dernierealloc', 'derniernbpartants', 'dernieredist', 'derniereplace', 'dernierecote', 'dernierEnt', 'proprietaire', 'poidmont', 'pourcVictJockHippo', 'pourcPlaceJockHippo', 'pourcVictChevalHippo', 'pourcPlaceChevalHippo', 'tempstot', 'vha', 'recordG', 'txreclam', 'dernierTxreclam', 'gainsCarriere', 'gainsAnneeEnCours', 'handicapDistance', 'handicapPoids', 'TxVictCouple', 'nbVictCouple', 'nbPlaceCouple', 'idche', 'idJockey', 'idEntraineur', 'defFirstTime', 'oeilFirstTime', 'oeil', 'dernierOeil', 'ratio_victoires', 'ratio_places', 'gains_par_course', 'efficacite_couple', 'regularite_couple', 'progression_couple', 'perf_cheval_hippo', 'perf_jockey_hippo', 'trainer_victoires', 'trainer_places', 'trainer_courses', 'trainer_winrate', 'trainer_placerate', 'trainer_quality_score', 'trainer_experience_level', 'handicap_poids', 'handicap_dist', 'prec_handicap_poids', 'prec_handicap_dist', 'handicap_poids_change', 'handicap_poids_increased', 'handicap_poids_decreased', 'handicap_dist_change', 'handicap_dist_increased', 'handicap_dist_decreased', 'total_handicap', 'handicap_momentum', 'last_race_position', 'last_race_distance', 'distance_change', 'distance_change_pct', 'distance_increased', 'distance_decreased', 'same_distance', 'corde_change', 'corde_improved', 'corde_worsened', 'last_race_top3', 'last_race_won', 'blinkers_first_time', 'has_blinkers', 'has_standard_blinkers', 'has_australian_blinkers', 'blinkers_added', 'blinkers_removed', 'blinkers_type_changed', 'blinkers_any_change', 'blinkers_high_impact_change', 'shoeing_first_time', 'fully_shod', 'front_shod_only', 'back_shod_only', 'barefoot', 'shoeing_changed', 'barefoot_to_shod', 'shod_to_barefoot', 'major_shoeing_change', 'shoeing_complexity', 'multiple_equipment_changes', 'equipment_momentum_score', 'high_equipment_momentum', 'multiple_first_time_changes', 'equipment_optimization_score', 'career_strike_rate', 'earnings_per_race', 'earnings_trend', 'last_race_position_normalized', 'last_race_odds_normalized', 'last_race_field_size_factor', 'distance_consistency', 'vha_normalized', 'claiming_tax_trend', 'class_stability', 'che_global_avg_pos', 'che_global_recent_perf', 'che_global_consistency', 'che_global_trend', 'che_global_pct_top3', 'che_global_nb_courses', 'che_global_total_races', 'che_global_dnf_rate', 'che_weighted_avg_pos', 'che_weighted_recent_perf', 'che_weighted_consistency', 'che_weighted_pct_top3', 'che_weighted_nb_courses', 'che_weighted_total_races', 'che_weighted_dnf_rate', 'che_weighted_trend', 'che_bytype_avg_pos', 'che_bytype_recent_perf', 'che_bytype_consistency', 'che_bytype_trend', 'che_bytype_pct_top3', 'che_bytype_nb_courses', 'che_bytype_total_races', 'che_bytype_dnf_rate', 'joc_global_avg_pos', 'joc_global_recent_perf', 'joc_global_consistency', 'joc_global_trend', 'joc_global_pct_top3', 'joc_global_nb_courses', 'joc_global_total_races', 'joc_global_dnf_rate', 'joc_weighted_avg_pos', 'joc_weighted_recent_perf', 'joc_weighted_consistency', 'joc_weighted_pct_top3', 'joc_weighted_nb_courses', 'joc_weighted_total_races', 'joc_weighted_dnf_rate', 'joc_weighted_trend', 'joc_bytype_avg_pos', 'joc_bytype_recent_perf', 'joc_bytype_consistency', 'joc_bytype_trend', 'joc_bytype_pct_top3', 'joc_bytype_nb_courses', 'joc_bytype_total_races', 'joc_bytype_dnf_rate', 'che_form_momentum', 'che_improving_form', 'che_declining_form', 'che_high_consistency', 'che_recent_quality', 'che_elite_performer', 'che_regular_placer', 'joc_form_momentum', 'joc_improving_form', 'joc_high_consistency', 'joc_elite_performer', 'synergy_both_improving', 'synergy_both_consistent', 'synergy_both_elite', 'overall_momentum_score', 'high_momentum', 'class_drop_pct', 'purse_per_starter', 'purse_ratio', 'moving_up_in_class', 'class_shock_indicator', 'handicap_level_change', 'time_per_distance', 'time_vs_record', 'pace_rating', 'speed_figure_proxy', 'market_confidence_shift', 'last_race_improvement', 'bounce_risk', 'layoff_distance_interaction', 'trainer_change', 'connection_stability', 'field_size_change', 'distance_comfort', 'competition_level_shift', 'recence_x_class_drop', 'trainer_change_x_recence', 'distance_change_x_recence', 'che_by_type_avg_pos', 'che_by_type_recent_perf', 'che_by_type_consistency', 'che_by_type_trend', 'che_by_type_pct_top3', 'che_by_type_nb_courses', 'che_by_type_total_races', 'che_by_type_dnf_rate', 'joc_by_type_avg_pos', 'joc_by_type_recent_perf', 'joc_by_type_consistency', 'joc_by_type_trend', 'joc_by_type_pct_top3', 'joc_by_type_nb_courses', 'joc_by_type_total_races', 'joc_by_type_dnf_rate', 'quinte_career_starts', 'quinte_win_rate', 'quinte_top5_rate', 'avg_quinte_position', 'days_since_last_quinte', 'quinte_handicap_specialist', 'quinte_conditions_specialist', 'quinte_large_field_ability', 'quinte_track_condition_fit', 'is_handicap_quinte', 'handicap_division', 'purse_level_category', 'field_size_category', 'track_condition_PH', 'track_condition_DUR', 'track_condition_PS', 'track_condition_PSF', 'weather_clear', 'weather_rain', 'weather_cloudy', 'post_position_bias', 'post_position_track_bias', 'raw_tabnet_prediction', 'predicted_position_tabnet', 'raw_rf_prediction', 'predicted_position_rf', 'predicted_position_base']
2025-11-13 09:35:51,406 - race_prediction.competitive_field_analyzer - INFO - === CRITICAL COLUMNS ANALYSIS ===
2025-11-13 09:35:51,407 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ recordG: 16/16 non-null values (100.0%)
2025-11-13 09:35:51,407 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [0.0, 0.0, 0.0]
2025-11-13 09:35:51,407 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ hippo: 16/16 non-null values (100.0%)
2025-11-13 09:35:51,407 - race_prediction.competitive_field_analyzer - INFO -    Sample values: ['Toulouse', 'Toulouse', 'Toulouse']
2025-11-13 09:35:51,407 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ coursescheval: 16/16 non-null values (100.0%)
2025-11-13 09:35:51,407 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [38, 18, 32]
2025-11-13 09:35:51,407 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ victoirescheval: 16/16 non-null values (100.0%)
2025-11-13 09:35:51,407 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [5, 5, 3]
2025-11-13 09:35:51,407 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ placescheval: 16/16 non-null values (100.0%)
2025-11-13 09:35:51,407 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [13, 8, 12]
2025-11-13 09:35:51,408 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ gainsCarriere: 16/16 non-null values (100.0%)
2025-11-13 09:35:51,408 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [11364100, 6467200, 14380900]
2025-11-13 09:35:51,408 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ age: 16/16 non-null values (100.0%)
2025-11-13 09:35:51,408 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [6, 4, 7]
2025-11-13 09:35:51,408 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ derniereplace: 16/16 non-null values (100.0%)
2025-11-13 09:35:51,408 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [4, 2, 8]
2025-11-13 09:35:51,408 - race_prediction.competitive_field_analyzer - INFO - === RACE METADATA ===
2025-11-13 09:35:51,408 - race_prediction.competitive_field_analyzer - INFO - comp: 1621509
2025-11-13 09:35:51,408 - race_prediction.competitive_field_analyzer - INFO - hippo: Toulouse
2025-11-13 09:35:51,408 - race_prediction.competitive_field_analyzer - INFO - dist: 2400
2025-11-13 09:35:51,408 - race_prediction.competitive_field_analyzer - INFO - typec: Plat
2025-11-13 09:35:51,408 - race_prediction.competitive_field_analyzer - INFO - partant: 16
2025-11-13 09:35:51,408 - race_prediction.competitive_field_analyzer - INFO - === SAMPLE RACE DATA ===
2025-11-13 09:35:51,408 - race_prediction.competitive_field_analyzer - INFO - Sample data (columns: ['numero', 'cheval', 'recordG', 'hippo', 'coursescheval']):
2025-11-13 09:35:51,408 - race_prediction.competitive_field_analyzer - INFO -   Horse 0: {'numero': 1, 'cheval': 'Poca Gen', 'recordG': 0.0, 'hippo': 'Toulouse', 'coursescheval': 38}
2025-11-13 09:35:51,409 - race_prediction.competitive_field_analyzer - INFO -   Horse 1: {'numero': 2, 'cheval': 'Xylophone', 'recordG': 0.0, 'hippo': 'Toulouse', 'coursescheval': 18}
2025-11-13 09:35:51,409 - race_prediction.competitive_field_analyzer - INFO -   Horse 2: {'numero': 3, 'cheval': 'Partenit', 'recordG': 0.0, 'hippo': 'Toulouse', 'coursescheval': 32}
2025-11-13 09:35:51,409 - race_prediction.competitive_field_analyzer - INFO - === END COMPETITIVE ANALYSIS DEBUG ===

2025-11-13 09:35:51,409 - race_prediction.competitive_field_analyzer - INFO - === RETRIEVING HISTORICAL DATA ===
2025-11-13 09:35:51,409 - race_prediction.competitive_field_analyzer - INFO - Fetching historical data for 16 horses: [1523391, 1692653, 1489807, 1559962, 1664933, 1432521, 1556177, 1710838, 1661959, 1493602, 1676627, 1560971, 1724288, 1653563, 1741397, 1696803]
2025-11-13 09:35:51,410 - race_prediction.competitive_field_analyzer - INFO - Batch querying historical data for 16 horses: [1523391, 1692653, 1489807, 1559962, 1664933, 1432521, 1556177, 1710838, 1661959, 1493602, 1676627, 1560971, 1724288, 1653563, 1741397, 1696803]
2025-11-13 09:36:10,997 - race_prediction.competitive_field_analyzer - INFO - Batch query completed in 19.59s, found 145 total records
2025-11-13 09:36:11,004 - race_prediction.competitive_field_analyzer - INFO - Batch query retrieved 145 total historical races
2025-11-13 09:36:11,005 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS PER HORSE ===
2025-11-13 09:36:11,005 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1523391: 10 historical races found
2025-11-13 09:36:11,005 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1692653: 10 historical races found
2025-11-13 09:36:11,005 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1489807: 9 historical races found
2025-11-13 09:36:11,005 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1559962: 16 historical races found
2025-11-13 09:36:11,005 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1664933: 8 historical races found
2025-11-13 09:36:11,005 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1432521: 6 historical races found
2025-11-13 09:36:11,005 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1556177: 18 historical races found
2025-11-13 09:36:11,005 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1710838: 11 historical races found
2025-11-13 09:36:11,005 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1661959: 4 historical races found
2025-11-13 09:36:11,005 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1493602: 13 historical races found
2025-11-13 09:36:11,005 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1676627: 9 historical races found
2025-11-13 09:36:11,005 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1560971: 7 historical races found
2025-11-13 09:36:11,005 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1724288: 7 historical races found
2025-11-13 09:36:11,005 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1653563: 6 historical races found
2025-11-13 09:36:11,005 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1741397: 8 historical races found
2025-11-13 09:36:11,005 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1696803: 3 historical races found
2025-11-13 09:36:11,005 - race_prediction.competitive_field_analyzer - INFO - Retrieved 145 total historical races
2025-11-13 09:36:11,005 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS BY HORSE ===
2025-11-13 09:36:11,005 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1523391: 10 historical races
2025-11-13 09:36:11,005 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1692653: 10 historical races
2025-11-13 09:36:11,005 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1489807: 9 historical races
2025-11-13 09:36:11,005 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1559962: 16 historical races
2025-11-13 09:36:11,005 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1664933: 8 historical races
2025-11-13 09:36:11,005 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1432521: 6 historical races
2025-11-13 09:36:11,005 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1556177: 18 historical races
2025-11-13 09:36:11,005 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1710838: 11 historical races
2025-11-13 09:36:11,005 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1661959: 4 historical races
2025-11-13 09:36:11,005 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1493602: 13 historical races
2025-11-13 09:36:11,005 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1676627: 9 historical races
2025-11-13 09:36:11,005 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1560971: 7 historical races
2025-11-13 09:36:11,005 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1724288: 7 historical races
2025-11-13 09:36:11,006 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1653563: 6 historical races
2025-11-13 09:36:11,006 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1741397: 8 historical races
2025-11-13 09:36:11,006 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1696803: 3 historical races
2025-11-13 09:36:11,006 - race_prediction.competitive_field_analyzer - INFO - === END HISTORICAL DATA RETRIEVAL ===

2025-11-13 09:36:11,006 - race_prediction.competitive_field_analyzer - INFO - === EARNINGS QUALITY ANALYSIS ===
2025-11-13 09:36:11,006 - race_prediction.competitive_field_analyzer - INFO - Valid earnings data: 16/16 horses
2025-11-13 09:36:11,006 - race_prediction.competitive_field_analyzer - INFO - Sample earnings per race: ['299,055', '359,289', '449,403']
2025-11-13 09:36:11,007 - race_prediction.competitive_field_analyzer - INFO - Field earnings stats: avg=392,304, max=727,675
2025-11-13 09:36:11,007 - race_prediction.competitive_field_analyzer - INFO - === TRACK SPECIALIZATION ANALYSIS ===
2025-11-13 09:36:11,007 - race_prediction.competitive_field_analyzer - INFO - Horses with reliable venue data (3+ races): 0/16
2025-11-13 09:36:11,009 - race_prediction.competitive_field_analyzer - INFO - === FORM MOMENTUM ANALYSIS ===
2025-11-13 09:36:11,009 - race_prediction.competitive_field_analyzer - INFO - Field avg horse trend: 0.245, recent perf: 7.10
2025-11-13 09:36:11,009 - race_prediction.competitive_field_analyzer - INFO - Field avg jockey trend: -1.515
2025-11-13 09:36:11,009 - race_prediction.competitive_field_analyzer - INFO - Horses with improving form: 4/16
2025-11-13 09:36:11,009 - race_prediction.competitive_field_analyzer - INFO - === HOT CONNECTIONS ANALYSIS ===
2025-11-13 09:36:11,009 - race_prediction.competitive_field_analyzer - INFO - Jockeys with wins today: 0/16
2025-11-13 09:36:11,009 - race_prediction.competitive_field_analyzer - INFO - Trainers with wins today: 0/16
2025-11-13 09:36:11,009 - race_prediction.competitive_field_analyzer - INFO - === DISTANCE COMFORT ANALYSIS ===
2025-11-13 09:36:11,009 - race_prediction.competitive_field_analyzer - INFO - Current race distance: 2400m
2025-11-13 09:36:11,009 - race_prediction.competitive_field_analyzer - INFO - Horses with similar recent distance: 8/16
2025-11-13 09:36:11,010 - race_prediction.competitive_field_analyzer - INFO - === REALISTIC COMPETITIVE SCORING ===
2025-11-13 09:36:11,010 - race_prediction.competitive_field_analyzer - INFO - üìä COMPETITIVE ANALYSIS SUMMARY:
2025-11-13 09:36:11,010 - race_prediction.competitive_field_analyzer - INFO -    Total competitive races: 145
2025-11-13 09:36:11,010 - race_prediction.competitive_field_analyzer - INFO -    Horses with historical data: 16/16
2025-11-13 09:36:11,010 - race_prediction.competitive_field_analyzer - INFO -    Average races per horse: 9.1
2025-11-13 09:36:11,023 - race_prediction.quinte_prediction_storage - INFO - Stored 16 horses for Quint√© race 1621509
2025-11-13 09:36:12,981 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE ANALYSIS DEBUG ===
2025-11-13 09:36:12,981 - race_prediction.competitive_field_analyzer - INFO - Analyzing competitive field for race with 16 horses
2025-11-13 09:36:12,981 - race_prediction.competitive_field_analyzer - INFO - Race data shape: (16, 280)
2025-11-13 09:36:12,981 - race_prediction.competitive_field_analyzer - INFO - Available columns: ['id', 'comp', 'jour', 'hippo', 'reun', 'prix', 'prixnom', 'typec', 'partant', 'dist', 'handi', 'groupe', 'quinte', 'natpis', 'meteo', 'corde', 'temperature', 'forceVent', 'directionVent', 'nebulosite', 'prediction_results', 'actual_results', 'created_at', 'updated_at', 'processed_data', 'cheque', 'handi_raw', 'reclam', 'sex', 'tempscourse', 'handicap_level_score', 'cl', 'numero', 'cheval', 'age', 'cotedirect', 'coteprob', 'recence', 'ecar', 'defoeil', 'defoeilPrec', 'musiqueche', 'musiquejoc', 'entraineur', 'coursescheval', 'victoirescheval', 'placescheval', 'dernierealloc', 'derniernbpartants', 'dernieredist', 'derniereplace', 'dernierecote', 'dernierEnt', 'proprietaire', 'poidmont', 'pourcVictJockHippo', 'pourcPlaceJockHippo', 'pourcVictChevalHippo', 'pourcPlaceChevalHippo', 'tempstot', 'vha', 'recordG', 'txreclam', 'dernierTxreclam', 'gainsCarriere', 'gainsAnneeEnCours', 'handicapDistance', 'handicapPoids', 'TxVictCouple', 'nbVictCouple', 'nbPlaceCouple', 'idche', 'idJockey', 'idEntraineur', 'defFirstTime', 'oeilFirstTime', 'oeil', 'dernierOeil', 'ratio_victoires', 'ratio_places', 'gains_par_course', 'efficacite_couple', 'regularite_couple', 'progression_couple', 'perf_cheval_hippo', 'perf_jockey_hippo', 'trainer_victoires', 'trainer_places', 'trainer_courses', 'trainer_winrate', 'trainer_placerate', 'trainer_quality_score', 'trainer_experience_level', 'handicap_poids', 'handicap_dist', 'prec_handicap_poids', 'prec_handicap_dist', 'handicap_poids_change', 'handicap_poids_increased', 'handicap_poids_decreased', 'handicap_dist_change', 'handicap_dist_increased', 'handicap_dist_decreased', 'total_handicap', 'handicap_momentum', 'last_race_position', 'last_race_distance', 'distance_change', 'distance_change_pct', 'distance_increased', 'distance_decreased', 'same_distance', 'corde_change', 'corde_improved', 'corde_worsened', 'last_race_top3', 'last_race_won', 'blinkers_first_time', 'has_blinkers', 'has_standard_blinkers', 'has_australian_blinkers', 'blinkers_added', 'blinkers_removed', 'blinkers_type_changed', 'blinkers_any_change', 'blinkers_high_impact_change', 'shoeing_first_time', 'fully_shod', 'front_shod_only', 'back_shod_only', 'barefoot', 'shoeing_changed', 'barefoot_to_shod', 'shod_to_barefoot', 'major_shoeing_change', 'shoeing_complexity', 'multiple_equipment_changes', 'equipment_momentum_score', 'high_equipment_momentum', 'multiple_first_time_changes', 'equipment_optimization_score', 'career_strike_rate', 'earnings_per_race', 'earnings_trend', 'last_race_position_normalized', 'last_race_odds_normalized', 'last_race_field_size_factor', 'distance_consistency', 'vha_normalized', 'claiming_tax_trend', 'class_stability', 'che_global_avg_pos', 'che_global_recent_perf', 'che_global_consistency', 'che_global_trend', 'che_global_pct_top3', 'che_global_nb_courses', 'che_global_total_races', 'che_global_dnf_rate', 'che_weighted_avg_pos', 'che_weighted_recent_perf', 'che_weighted_consistency', 'che_weighted_pct_top3', 'che_weighted_nb_courses', 'che_weighted_total_races', 'che_weighted_dnf_rate', 'che_weighted_trend', 'che_bytype_avg_pos', 'che_bytype_recent_perf', 'che_bytype_consistency', 'che_bytype_trend', 'che_bytype_pct_top3', 'che_bytype_nb_courses', 'che_bytype_total_races', 'che_bytype_dnf_rate', 'joc_global_avg_pos', 'joc_global_recent_perf', 'joc_global_consistency', 'joc_global_trend', 'joc_global_pct_top3', 'joc_global_nb_courses', 'joc_global_total_races', 'joc_global_dnf_rate', 'joc_weighted_avg_pos', 'joc_weighted_recent_perf', 'joc_weighted_consistency', 'joc_weighted_pct_top3', 'joc_weighted_nb_courses', 'joc_weighted_total_races', 'joc_weighted_dnf_rate', 'joc_weighted_trend', 'joc_bytype_avg_pos', 'joc_bytype_recent_perf', 'joc_bytype_consistency', 'joc_bytype_trend', 'joc_bytype_pct_top3', 'joc_bytype_nb_courses', 'joc_bytype_total_races', 'joc_bytype_dnf_rate', 'che_form_momentum', 'che_improving_form', 'che_declining_form', 'che_high_consistency', 'che_recent_quality', 'che_elite_performer', 'che_regular_placer', 'joc_form_momentum', 'joc_improving_form', 'joc_high_consistency', 'joc_elite_performer', 'synergy_both_improving', 'synergy_both_consistent', 'synergy_both_elite', 'overall_momentum_score', 'high_momentum', 'class_drop_pct', 'purse_per_starter', 'purse_ratio', 'moving_up_in_class', 'class_shock_indicator', 'handicap_level_change', 'time_per_distance', 'time_vs_record', 'pace_rating', 'speed_figure_proxy', 'market_confidence_shift', 'last_race_improvement', 'bounce_risk', 'layoff_distance_interaction', 'trainer_change', 'connection_stability', 'field_size_change', 'distance_comfort', 'competition_level_shift', 'recence_x_class_drop', 'trainer_change_x_recence', 'distance_change_x_recence', 'che_by_type_avg_pos', 'che_by_type_recent_perf', 'che_by_type_consistency', 'che_by_type_trend', 'che_by_type_pct_top3', 'che_by_type_nb_courses', 'che_by_type_total_races', 'che_by_type_dnf_rate', 'joc_by_type_avg_pos', 'joc_by_type_recent_perf', 'joc_by_type_consistency', 'joc_by_type_trend', 'joc_by_type_pct_top3', 'joc_by_type_nb_courses', 'joc_by_type_total_races', 'joc_by_type_dnf_rate', 'quinte_career_starts', 'quinte_win_rate', 'quinte_top5_rate', 'avg_quinte_position', 'days_since_last_quinte', 'quinte_handicap_specialist', 'quinte_conditions_specialist', 'quinte_large_field_ability', 'quinte_track_condition_fit', 'is_handicap_quinte', 'handicap_division', 'purse_level_category', 'field_size_category', 'track_condition_PH', 'track_condition_DUR', 'track_condition_PS', 'track_condition_PSF', 'weather_clear', 'weather_rain', 'weather_cloudy', 'post_position_bias', 'post_position_track_bias', 'raw_tabnet_prediction', 'predicted_position_tabnet', 'raw_rf_prediction', 'predicted_position_rf', 'predicted_position_base']
2025-11-13 09:36:12,982 - race_prediction.competitive_field_analyzer - INFO - === CRITICAL COLUMNS ANALYSIS ===
2025-11-13 09:36:12,982 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ recordG: 16/16 non-null values (100.0%)
2025-11-13 09:36:12,982 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [0.0, 0.0, 0.0]
2025-11-13 09:36:12,982 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ hippo: 16/16 non-null values (100.0%)
2025-11-13 09:36:12,982 - race_prediction.competitive_field_analyzer - INFO -    Sample values: ['Chantilly', 'Chantilly', 'Chantilly']
2025-11-13 09:36:12,983 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ coursescheval: 16/16 non-null values (100.0%)
2025-11-13 09:36:12,983 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [15, 45, 18]
2025-11-13 09:36:12,983 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ victoirescheval: 16/16 non-null values (100.0%)
2025-11-13 09:36:12,983 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [3, 14, 2]
2025-11-13 09:36:12,984 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ placescheval: 16/16 non-null values (100.0%)
2025-11-13 09:36:12,984 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [10, 23, 8]
2025-11-13 09:36:12,984 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ gainsCarriere: 16/16 non-null values (100.0%)
2025-11-13 09:36:12,984 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [9541000, 31493500, 10844400]
2025-11-13 09:36:12,984 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ age: 16/16 non-null values (100.0%)
2025-11-13 09:36:12,984 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [4, 8, 5]
2025-11-13 09:36:12,984 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ derniereplace: 16/16 non-null values (100.0%)
2025-11-13 09:36:12,984 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [13.0, 2.0, 6.0]
2025-11-13 09:36:12,984 - race_prediction.competitive_field_analyzer - INFO - === RACE METADATA ===
2025-11-13 09:36:12,984 - race_prediction.competitive_field_analyzer - INFO - comp: 1621458
2025-11-13 09:36:12,984 - race_prediction.competitive_field_analyzer - INFO - hippo: Chantilly
2025-11-13 09:36:12,984 - race_prediction.competitive_field_analyzer - INFO - dist: 1900
2025-11-13 09:36:12,984 - race_prediction.competitive_field_analyzer - INFO - typec: Plat
2025-11-13 09:36:12,984 - race_prediction.competitive_field_analyzer - INFO - partant: 16
2025-11-13 09:36:12,984 - race_prediction.competitive_field_analyzer - INFO - === SAMPLE RACE DATA ===
2025-11-13 09:36:12,984 - race_prediction.competitive_field_analyzer - INFO - Sample data (columns: ['numero', 'cheval', 'recordG', 'hippo', 'coursescheval']):
2025-11-13 09:36:12,985 - race_prediction.competitive_field_analyzer - INFO -   Horse 0: {'numero': 1, 'cheval': "O'Wood", 'recordG': 0.0, 'hippo': 'Chantilly', 'coursescheval': 15}
2025-11-13 09:36:12,985 - race_prediction.competitive_field_analyzer - INFO -   Horse 1: {'numero': 2, 'cheval': 'Rock Blanc', 'recordG': 0.0, 'hippo': 'Chantilly', 'coursescheval': 45}
2025-11-13 09:36:12,985 - race_prediction.competitive_field_analyzer - INFO -   Horse 2: {'numero': 3, 'cheval': 'Zvaroshka', 'recordG': 0.0, 'hippo': 'Chantilly', 'coursescheval': 18}
2025-11-13 09:36:12,985 - race_prediction.competitive_field_analyzer - INFO - === END COMPETITIVE ANALYSIS DEBUG ===

2025-11-13 09:36:12,985 - race_prediction.competitive_field_analyzer - INFO - === RETRIEVING HISTORICAL DATA ===
2025-11-13 09:36:12,985 - race_prediction.competitive_field_analyzer - INFO - Fetching historical data for 16 horses: [1662842, 1362456, 1570962, 1522211, 1416740, 1654163, 1546787, 1547421, 1409128, 1661687, 1664057, 1651290, 1559430, 1720975, 1523134, 1415638]
2025-11-13 09:36:12,986 - race_prediction.competitive_field_analyzer - INFO - Batch querying historical data for 16 horses: [1662842, 1362456, 1570962, 1522211, 1416740, 1654163, 1546787, 1547421, 1409128, 1661687, 1664057, 1651290, 1559430, 1720975, 1523134, 1415638]
2025-11-13 09:36:31,859 - race_prediction.competitive_field_analyzer - INFO - Batch query completed in 18.87s, found 158 total records
2025-11-13 09:36:31,866 - race_prediction.competitive_field_analyzer - INFO - Batch query retrieved 158 total historical races
2025-11-13 09:36:31,866 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS PER HORSE ===
2025-11-13 09:36:31,866 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1662842: 7 historical races found
2025-11-13 09:36:31,866 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1362456: 8 historical races found
2025-11-13 09:36:31,866 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1570962: 5 historical races found
2025-11-13 09:36:31,866 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1522211: 10 historical races found
2025-11-13 09:36:31,866 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1416740: 13 historical races found
2025-11-13 09:36:31,866 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1654163: 9 historical races found
2025-11-13 09:36:31,866 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1546787: 9 historical races found
2025-11-13 09:36:31,866 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1547421: 14 historical races found
2025-11-13 09:36:31,866 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1409128: 17 historical races found
2025-11-13 09:36:31,866 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1661687: 7 historical races found
2025-11-13 09:36:31,866 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1664057: 5 historical races found
2025-11-13 09:36:31,866 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1651290: 7 historical races found
2025-11-13 09:36:31,866 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1559430: 12 historical races found
2025-11-13 09:36:31,866 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1720975: 15 historical races found
2025-11-13 09:36:31,867 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1523134: 10 historical races found
2025-11-13 09:36:31,867 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1415638: 10 historical races found
2025-11-13 09:36:31,867 - race_prediction.competitive_field_analyzer - INFO - Retrieved 158 total historical races
2025-11-13 09:36:31,867 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS BY HORSE ===
2025-11-13 09:36:31,867 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1662842: 7 historical races
2025-11-13 09:36:31,867 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1362456: 8 historical races
2025-11-13 09:36:31,867 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1570962: 5 historical races
2025-11-13 09:36:31,867 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1522211: 10 historical races
2025-11-13 09:36:31,867 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1416740: 13 historical races
2025-11-13 09:36:31,867 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1654163: 9 historical races
2025-11-13 09:36:31,867 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1546787: 9 historical races
2025-11-13 09:36:31,867 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1547421: 14 historical races
2025-11-13 09:36:31,867 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1409128: 17 historical races
2025-11-13 09:36:31,867 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1661687: 7 historical races
2025-11-13 09:36:31,867 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1664057: 5 historical races
2025-11-13 09:36:31,867 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1651290: 7 historical races
2025-11-13 09:36:31,867 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1559430: 12 historical races
2025-11-13 09:36:31,867 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1720975: 15 historical races
2025-11-13 09:36:31,868 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1523134: 10 historical races
2025-11-13 09:36:31,868 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1415638: 10 historical races
2025-11-13 09:36:31,868 - race_prediction.competitive_field_analyzer - INFO - === END HISTORICAL DATA RETRIEVAL ===

2025-11-13 09:36:31,868 - race_prediction.competitive_field_analyzer - INFO - === EARNINGS QUALITY ANALYSIS ===
2025-11-13 09:36:31,868 - race_prediction.competitive_field_analyzer - INFO - Valid earnings data: 16/16 horses
2025-11-13 09:36:31,868 - race_prediction.competitive_field_analyzer - INFO - Sample earnings per race: ['636,067', '699,856', '602,467']
2025-11-13 09:36:31,868 - race_prediction.competitive_field_analyzer - INFO - Field earnings stats: avg=390,247, max=699,856
2025-11-13 09:36:31,868 - race_prediction.competitive_field_analyzer - INFO - === TRACK SPECIALIZATION ANALYSIS ===
2025-11-13 09:36:31,869 - race_prediction.competitive_field_analyzer - INFO - Horses with reliable venue data (3+ races): 0/16
2025-11-13 09:36:31,870 - race_prediction.competitive_field_analyzer - INFO - === FORM MOMENTUM ANALYSIS ===
2025-11-13 09:36:31,870 - race_prediction.competitive_field_analyzer - INFO - Field avg horse trend: 0.587, recent perf: 6.90
2025-11-13 09:36:31,870 - race_prediction.competitive_field_analyzer - INFO - Field avg jockey trend: -2.909
2025-11-13 09:36:31,870 - race_prediction.competitive_field_analyzer - INFO - Horses with improving form: 4/16
2025-11-13 09:36:31,870 - race_prediction.competitive_field_analyzer - INFO - === HOT CONNECTIONS ANALYSIS ===
2025-11-13 09:36:31,870 - race_prediction.competitive_field_analyzer - INFO - Jockeys with wins today: 0/16
2025-11-13 09:36:31,870 - race_prediction.competitive_field_analyzer - INFO - Trainers with wins today: 0/16
2025-11-13 09:36:31,870 - race_prediction.competitive_field_analyzer - INFO - === DISTANCE COMFORT ANALYSIS ===
2025-11-13 09:36:31,870 - race_prediction.competitive_field_analyzer - INFO - Current race distance: 1900m
2025-11-13 09:36:31,870 - race_prediction.competitive_field_analyzer - INFO - Horses with similar recent distance: 15/16
2025-11-13 09:36:31,870 - race_prediction.competitive_field_analyzer - INFO - === REALISTIC COMPETITIVE SCORING ===
2025-11-13 09:36:31,871 - race_prediction.competitive_field_analyzer - INFO - üìä COMPETITIVE ANALYSIS SUMMARY:
2025-11-13 09:36:31,871 - race_prediction.competitive_field_analyzer - INFO -    Total competitive races: 158
2025-11-13 09:36:31,871 - race_prediction.competitive_field_analyzer - INFO -    Horses with historical data: 16/16
2025-11-13 09:36:31,871 - race_prediction.competitive_field_analyzer - INFO -    Average races per horse: 9.9
2025-11-13 09:36:31,882 - race_prediction.quinte_prediction_storage - INFO - Stored 16 horses for Quint√© race 1621458
2025-11-13 09:36:33,945 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE ANALYSIS DEBUG ===
2025-11-13 09:36:33,945 - race_prediction.competitive_field_analyzer - INFO - Analyzing competitive field for race with 16 horses
2025-11-13 09:36:33,945 - race_prediction.competitive_field_analyzer - INFO - Race data shape: (16, 280)
2025-11-13 09:36:33,945 - race_prediction.competitive_field_analyzer - INFO - Available columns: ['id', 'comp', 'jour', 'hippo', 'reun', 'prix', 'prixnom', 'typec', 'partant', 'dist', 'handi', 'groupe', 'quinte', 'natpis', 'meteo', 'corde', 'temperature', 'forceVent', 'directionVent', 'nebulosite', 'prediction_results', 'actual_results', 'created_at', 'updated_at', 'processed_data', 'cheque', 'handi_raw', 'reclam', 'sex', 'tempscourse', 'handicap_level_score', 'cl', 'numero', 'cheval', 'age', 'cotedirect', 'coteprob', 'recence', 'ecar', 'defoeil', 'defoeilPrec', 'musiqueche', 'musiquejoc', 'entraineur', 'coursescheval', 'victoirescheval', 'placescheval', 'dernierealloc', 'derniernbpartants', 'dernieredist', 'derniereplace', 'dernierecote', 'dernierEnt', 'proprietaire', 'poidmont', 'pourcVictJockHippo', 'pourcPlaceJockHippo', 'pourcVictChevalHippo', 'pourcPlaceChevalHippo', 'tempstot', 'vha', 'recordG', 'txreclam', 'dernierTxreclam', 'gainsCarriere', 'gainsAnneeEnCours', 'handicapDistance', 'handicapPoids', 'TxVictCouple', 'nbVictCouple', 'nbPlaceCouple', 'idche', 'idJockey', 'idEntraineur', 'defFirstTime', 'oeilFirstTime', 'oeil', 'dernierOeil', 'ratio_victoires', 'ratio_places', 'gains_par_course', 'efficacite_couple', 'regularite_couple', 'progression_couple', 'perf_cheval_hippo', 'perf_jockey_hippo', 'trainer_victoires', 'trainer_places', 'trainer_courses', 'trainer_winrate', 'trainer_placerate', 'trainer_quality_score', 'trainer_experience_level', 'handicap_poids', 'handicap_dist', 'prec_handicap_poids', 'prec_handicap_dist', 'handicap_poids_change', 'handicap_poids_increased', 'handicap_poids_decreased', 'handicap_dist_change', 'handicap_dist_increased', 'handicap_dist_decreased', 'total_handicap', 'handicap_momentum', 'last_race_position', 'last_race_distance', 'distance_change', 'distance_change_pct', 'distance_increased', 'distance_decreased', 'same_distance', 'corde_change', 'corde_improved', 'corde_worsened', 'last_race_top3', 'last_race_won', 'blinkers_first_time', 'has_blinkers', 'has_standard_blinkers', 'has_australian_blinkers', 'blinkers_added', 'blinkers_removed', 'blinkers_type_changed', 'blinkers_any_change', 'blinkers_high_impact_change', 'shoeing_first_time', 'fully_shod', 'front_shod_only', 'back_shod_only', 'barefoot', 'shoeing_changed', 'barefoot_to_shod', 'shod_to_barefoot', 'major_shoeing_change', 'shoeing_complexity', 'multiple_equipment_changes', 'equipment_momentum_score', 'high_equipment_momentum', 'multiple_first_time_changes', 'equipment_optimization_score', 'career_strike_rate', 'earnings_per_race', 'earnings_trend', 'last_race_position_normalized', 'last_race_odds_normalized', 'last_race_field_size_factor', 'distance_consistency', 'vha_normalized', 'claiming_tax_trend', 'class_stability', 'che_global_avg_pos', 'che_global_recent_perf', 'che_global_consistency', 'che_global_trend', 'che_global_pct_top3', 'che_global_nb_courses', 'che_global_total_races', 'che_global_dnf_rate', 'che_weighted_avg_pos', 'che_weighted_recent_perf', 'che_weighted_consistency', 'che_weighted_pct_top3', 'che_weighted_nb_courses', 'che_weighted_total_races', 'che_weighted_dnf_rate', 'che_weighted_trend', 'che_bytype_avg_pos', 'che_bytype_recent_perf', 'che_bytype_consistency', 'che_bytype_trend', 'che_bytype_pct_top3', 'che_bytype_nb_courses', 'che_bytype_total_races', 'che_bytype_dnf_rate', 'joc_global_avg_pos', 'joc_global_recent_perf', 'joc_global_consistency', 'joc_global_trend', 'joc_global_pct_top3', 'joc_global_nb_courses', 'joc_global_total_races', 'joc_global_dnf_rate', 'joc_weighted_avg_pos', 'joc_weighted_recent_perf', 'joc_weighted_consistency', 'joc_weighted_pct_top3', 'joc_weighted_nb_courses', 'joc_weighted_total_races', 'joc_weighted_dnf_rate', 'joc_weighted_trend', 'joc_bytype_avg_pos', 'joc_bytype_recent_perf', 'joc_bytype_consistency', 'joc_bytype_trend', 'joc_bytype_pct_top3', 'joc_bytype_nb_courses', 'joc_bytype_total_races', 'joc_bytype_dnf_rate', 'che_form_momentum', 'che_improving_form', 'che_declining_form', 'che_high_consistency', 'che_recent_quality', 'che_elite_performer', 'che_regular_placer', 'joc_form_momentum', 'joc_improving_form', 'joc_high_consistency', 'joc_elite_performer', 'synergy_both_improving', 'synergy_both_consistent', 'synergy_both_elite', 'overall_momentum_score', 'high_momentum', 'class_drop_pct', 'purse_per_starter', 'purse_ratio', 'moving_up_in_class', 'class_shock_indicator', 'handicap_level_change', 'time_per_distance', 'time_vs_record', 'pace_rating', 'speed_figure_proxy', 'market_confidence_shift', 'last_race_improvement', 'bounce_risk', 'layoff_distance_interaction', 'trainer_change', 'connection_stability', 'field_size_change', 'distance_comfort', 'competition_level_shift', 'recence_x_class_drop', 'trainer_change_x_recence', 'distance_change_x_recence', 'che_by_type_avg_pos', 'che_by_type_recent_perf', 'che_by_type_consistency', 'che_by_type_trend', 'che_by_type_pct_top3', 'che_by_type_nb_courses', 'che_by_type_total_races', 'che_by_type_dnf_rate', 'joc_by_type_avg_pos', 'joc_by_type_recent_perf', 'joc_by_type_consistency', 'joc_by_type_trend', 'joc_by_type_pct_top3', 'joc_by_type_nb_courses', 'joc_by_type_total_races', 'joc_by_type_dnf_rate', 'quinte_career_starts', 'quinte_win_rate', 'quinte_top5_rate', 'avg_quinte_position', 'days_since_last_quinte', 'quinte_handicap_specialist', 'quinte_conditions_specialist', 'quinte_large_field_ability', 'quinte_track_condition_fit', 'is_handicap_quinte', 'handicap_division', 'purse_level_category', 'field_size_category', 'track_condition_PH', 'track_condition_DUR', 'track_condition_PS', 'track_condition_PSF', 'weather_clear', 'weather_rain', 'weather_cloudy', 'post_position_bias', 'post_position_track_bias', 'raw_tabnet_prediction', 'predicted_position_tabnet', 'raw_rf_prediction', 'predicted_position_rf', 'predicted_position_base']
2025-11-13 09:36:33,945 - race_prediction.competitive_field_analyzer - INFO - === CRITICAL COLUMNS ANALYSIS ===
2025-11-13 09:36:33,945 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ recordG: 16/16 non-null values (100.0%)
2025-11-13 09:36:33,946 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [0.0, 0.0, 0.0]
2025-11-13 09:36:33,946 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ hippo: 16/16 non-null values (100.0%)
2025-11-13 09:36:33,946 - race_prediction.competitive_field_analyzer - INFO -    Sample values: ['Saint-Cloud', 'Saint-Cloud', 'Saint-Cloud']
2025-11-13 09:36:33,946 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ coursescheval: 16/16 non-null values (100.0%)
2025-11-13 09:36:33,946 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [21, 35, 18]
2025-11-13 09:36:33,946 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ victoirescheval: 16/16 non-null values (100.0%)
2025-11-13 09:36:33,946 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [3, 6, 3]
2025-11-13 09:36:33,946 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ placescheval: 16/16 non-null values (100.0%)
2025-11-13 09:36:33,946 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [8, 22, 7]
2025-11-13 09:36:33,946 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ gainsCarriere: 16/16 non-null values (100.0%)
2025-11-13 09:36:33,946 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [10650100, 23140400, 8457900]
2025-11-13 09:36:33,946 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ age: 16/16 non-null values (100.0%)
2025-11-13 09:36:33,946 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [5, 7, 4]
2025-11-13 09:36:33,946 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ derniereplace: 16/16 non-null values (100.0%)
2025-11-13 09:36:33,946 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [2.0, 5.0, 4.0]
2025-11-13 09:36:33,946 - race_prediction.competitive_field_analyzer - INFO - === RACE METADATA ===
2025-11-13 09:36:33,946 - race_prediction.competitive_field_analyzer - INFO - comp: 1621443
2025-11-13 09:36:33,946 - race_prediction.competitive_field_analyzer - INFO - hippo: Saint-Cloud
2025-11-13 09:36:33,946 - race_prediction.competitive_field_analyzer - INFO - dist: 1600
2025-11-13 09:36:33,946 - race_prediction.competitive_field_analyzer - INFO - typec: Plat
2025-11-13 09:36:33,946 - race_prediction.competitive_field_analyzer - INFO - partant: 16
2025-11-13 09:36:33,946 - race_prediction.competitive_field_analyzer - INFO - === SAMPLE RACE DATA ===
2025-11-13 09:36:33,947 - race_prediction.competitive_field_analyzer - INFO - Sample data (columns: ['numero', 'cheval', 'recordG', 'hippo', 'coursescheval']):
2025-11-13 09:36:33,947 - race_prediction.competitive_field_analyzer - INFO -   Horse 0: {'numero': 1, 'cheval': 'Olympic Message', 'recordG': 0.0, 'hippo': 'Saint-Cloud', 'coursescheval': 21}
2025-11-13 09:36:33,947 - race_prediction.competitive_field_analyzer - INFO -   Horse 1: {'numero': 2, 'cheval': 'Harper', 'recordG': 0.0, 'hippo': 'Saint-Cloud', 'coursescheval': 35}
2025-11-13 09:36:33,947 - race_prediction.competitive_field_analyzer - INFO -   Horse 2: {'numero': 3, 'cheval': 'Divide And Rule', 'recordG': 0.0, 'hippo': 'Saint-Cloud', 'coursescheval': 18}
2025-11-13 09:36:33,947 - race_prediction.competitive_field_analyzer - INFO - === END COMPETITIVE ANALYSIS DEBUG ===

2025-11-13 09:36:33,947 - race_prediction.competitive_field_analyzer - INFO - === RETRIEVING HISTORICAL DATA ===
2025-11-13 09:36:33,947 - race_prediction.competitive_field_analyzer - INFO - Fetching historical data for 16 horses: [1561006, 1408356, 1676665, 1657763, 1523301, 1724362, 1655542, 1654258, 1723957, 1523186, 1572946, 1741661, 1520399, 1653870, 1641065, 1741448]
2025-11-13 09:36:33,948 - race_prediction.competitive_field_analyzer - INFO - Batch querying historical data for 16 horses: [1561006, 1408356, 1676665, 1657763, 1523301, 1724362, 1655542, 1654258, 1723957, 1523186, 1572946, 1741661, 1520399, 1653870, 1641065, 1741448]
2025-11-13 09:36:52,846 - race_prediction.competitive_field_analyzer - INFO - Batch query completed in 18.90s, found 144 total records
2025-11-13 09:36:52,852 - race_prediction.competitive_field_analyzer - INFO - Batch query retrieved 144 total historical races
2025-11-13 09:36:52,852 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS PER HORSE ===
2025-11-13 09:36:52,852 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1561006: 5 historical races found
2025-11-13 09:36:52,852 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1408356: 4 historical races found
2025-11-13 09:36:52,853 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1676665: 9 historical races found
2025-11-13 09:36:52,853 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1657763: 7 historical races found
2025-11-13 09:36:52,853 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1523301: 18 historical races found
2025-11-13 09:36:52,853 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1724362: 12 historical races found
2025-11-13 09:36:52,853 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1655542: 12 historical races found
2025-11-13 09:36:52,853 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1654258: 5 historical races found
2025-11-13 09:36:52,853 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1723957: 11 historical races found
2025-11-13 09:36:52,853 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1523186: 10 historical races found
2025-11-13 09:36:52,853 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1572946: 9 historical races found
2025-11-13 09:36:52,853 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1741661: 7 historical races found
2025-11-13 09:36:52,853 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1520399: 6 historical races found
2025-11-13 09:36:52,853 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1653870: 15 historical races found
2025-11-13 09:36:52,853 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1641065: 11 historical races found
2025-11-13 09:36:52,853 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1741448: 3 historical races found
2025-11-13 09:36:52,853 - race_prediction.competitive_field_analyzer - INFO - Retrieved 144 total historical races
2025-11-13 09:36:52,853 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS BY HORSE ===
2025-11-13 09:36:52,854 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1561006: 5 historical races
2025-11-13 09:36:52,854 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1408356: 4 historical races
2025-11-13 09:36:52,854 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1676665: 9 historical races
2025-11-13 09:36:52,854 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1657763: 7 historical races
2025-11-13 09:36:52,854 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1523301: 18 historical races
2025-11-13 09:36:52,854 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1724362: 12 historical races
2025-11-13 09:36:52,854 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1655542: 12 historical races
2025-11-13 09:36:52,854 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1654258: 5 historical races
2025-11-13 09:36:52,854 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1723957: 11 historical races
2025-11-13 09:36:52,854 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1523186: 10 historical races
2025-11-13 09:36:52,854 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1572946: 9 historical races
2025-11-13 09:36:52,854 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1741661: 7 historical races
2025-11-13 09:36:52,854 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1520399: 6 historical races
2025-11-13 09:36:52,854 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1653870: 15 historical races
2025-11-13 09:36:52,854 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1641065: 11 historical races
2025-11-13 09:36:52,855 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1741448: 3 historical races
2025-11-13 09:36:52,855 - race_prediction.competitive_field_analyzer - INFO - === END HISTORICAL DATA RETRIEVAL ===

2025-11-13 09:36:52,855 - race_prediction.competitive_field_analyzer - INFO - === EARNINGS QUALITY ANALYSIS ===
2025-11-13 09:36:52,855 - race_prediction.competitive_field_analyzer - INFO - Valid earnings data: 16/16 horses
2025-11-13 09:36:52,855 - race_prediction.competitive_field_analyzer - INFO - Sample earnings per race: ['507,148', '661,154', '469,883']
2025-11-13 09:36:52,855 - race_prediction.competitive_field_analyzer - INFO - Field earnings stats: avg=425,329, max=661,154
2025-11-13 09:36:52,855 - race_prediction.competitive_field_analyzer - INFO - === TRACK SPECIALIZATION ANALYSIS ===
2025-11-13 09:36:52,855 - race_prediction.competitive_field_analyzer - INFO - Horses with reliable venue data (3+ races): 0/16
2025-11-13 09:36:52,856 - race_prediction.competitive_field_analyzer - INFO - === FORM MOMENTUM ANALYSIS ===
2025-11-13 09:36:52,856 - race_prediction.competitive_field_analyzer - INFO - Field avg horse trend: 0.564, recent perf: 6.25
2025-11-13 09:36:52,856 - race_prediction.competitive_field_analyzer - INFO - Field avg jockey trend: -1.174
2025-11-13 09:36:52,856 - race_prediction.competitive_field_analyzer - INFO - Horses with improving form: 2/16
2025-11-13 09:36:52,857 - race_prediction.competitive_field_analyzer - INFO - === HOT CONNECTIONS ANALYSIS ===
2025-11-13 09:36:52,857 - race_prediction.competitive_field_analyzer - INFO - Jockeys with wins today: 0/16
2025-11-13 09:36:52,857 - race_prediction.competitive_field_analyzer - INFO - Trainers with wins today: 0/16
2025-11-13 09:36:52,857 - race_prediction.competitive_field_analyzer - INFO - === DISTANCE COMFORT ANALYSIS ===
2025-11-13 09:36:52,857 - race_prediction.competitive_field_analyzer - INFO - Current race distance: 1600m
2025-11-13 09:36:52,857 - race_prediction.competitive_field_analyzer - INFO - Horses with similar recent distance: 14/16
2025-11-13 09:36:52,857 - race_prediction.competitive_field_analyzer - INFO - === REALISTIC COMPETITIVE SCORING ===
2025-11-13 09:36:52,858 - race_prediction.competitive_field_analyzer - INFO - üìä COMPETITIVE ANALYSIS SUMMARY:
2025-11-13 09:36:52,858 - race_prediction.competitive_field_analyzer - INFO -    Total competitive races: 144
2025-11-13 09:36:52,858 - race_prediction.competitive_field_analyzer - INFO -    Horses with historical data: 16/16
2025-11-13 09:36:52,858 - race_prediction.competitive_field_analyzer - INFO -    Average races per horse: 9.0
2025-11-13 09:36:52,868 - race_prediction.quinte_prediction_storage - INFO - Stored 16 horses for Quint√© race 1621443
2025-11-13 09:36:54,790 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE ANALYSIS DEBUG ===
2025-11-13 09:36:54,790 - race_prediction.competitive_field_analyzer - INFO - Analyzing competitive field for race with 13 horses
2025-11-13 09:36:54,790 - race_prediction.competitive_field_analyzer - INFO - Race data shape: (13, 280)
2025-11-13 09:36:54,790 - race_prediction.competitive_field_analyzer - INFO - Available columns: ['id', 'comp', 'jour', 'hippo', 'reun', 'prix', 'prixnom', 'typec', 'partant', 'dist', 'handi', 'groupe', 'quinte', 'natpis', 'meteo', 'corde', 'temperature', 'forceVent', 'directionVent', 'nebulosite', 'prediction_results', 'actual_results', 'created_at', 'updated_at', 'processed_data', 'cheque', 'handi_raw', 'reclam', 'sex', 'tempscourse', 'handicap_level_score', 'cl', 'numero', 'cheval', 'age', 'cotedirect', 'coteprob', 'recence', 'ecar', 'defoeil', 'defoeilPrec', 'musiqueche', 'musiquejoc', 'entraineur', 'coursescheval', 'victoirescheval', 'placescheval', 'dernierealloc', 'derniernbpartants', 'dernieredist', 'derniereplace', 'dernierecote', 'dernierEnt', 'proprietaire', 'poidmont', 'pourcVictJockHippo', 'pourcPlaceJockHippo', 'pourcVictChevalHippo', 'pourcPlaceChevalHippo', 'tempstot', 'vha', 'recordG', 'txreclam', 'dernierTxreclam', 'gainsCarriere', 'gainsAnneeEnCours', 'handicapDistance', 'handicapPoids', 'TxVictCouple', 'nbVictCouple', 'nbPlaceCouple', 'idche', 'idJockey', 'idEntraineur', 'defFirstTime', 'oeilFirstTime', 'oeil', 'dernierOeil', 'ratio_victoires', 'ratio_places', 'gains_par_course', 'efficacite_couple', 'regularite_couple', 'progression_couple', 'perf_cheval_hippo', 'perf_jockey_hippo', 'trainer_victoires', 'trainer_places', 'trainer_courses', 'trainer_winrate', 'trainer_placerate', 'trainer_quality_score', 'trainer_experience_level', 'handicap_poids', 'handicap_dist', 'prec_handicap_poids', 'prec_handicap_dist', 'handicap_poids_change', 'handicap_poids_increased', 'handicap_poids_decreased', 'handicap_dist_change', 'handicap_dist_increased', 'handicap_dist_decreased', 'total_handicap', 'handicap_momentum', 'last_race_position', 'last_race_distance', 'distance_change', 'distance_change_pct', 'distance_increased', 'distance_decreased', 'same_distance', 'corde_change', 'corde_improved', 'corde_worsened', 'last_race_top3', 'last_race_won', 'blinkers_first_time', 'has_blinkers', 'has_standard_blinkers', 'has_australian_blinkers', 'blinkers_added', 'blinkers_removed', 'blinkers_type_changed', 'blinkers_any_change', 'blinkers_high_impact_change', 'shoeing_first_time', 'fully_shod', 'front_shod_only', 'back_shod_only', 'barefoot', 'shoeing_changed', 'barefoot_to_shod', 'shod_to_barefoot', 'major_shoeing_change', 'shoeing_complexity', 'multiple_equipment_changes', 'equipment_momentum_score', 'high_equipment_momentum', 'multiple_first_time_changes', 'equipment_optimization_score', 'career_strike_rate', 'earnings_per_race', 'earnings_trend', 'last_race_position_normalized', 'last_race_odds_normalized', 'last_race_field_size_factor', 'distance_consistency', 'vha_normalized', 'claiming_tax_trend', 'class_stability', 'che_global_avg_pos', 'che_global_recent_perf', 'che_global_consistency', 'che_global_trend', 'che_global_pct_top3', 'che_global_nb_courses', 'che_global_total_races', 'che_global_dnf_rate', 'che_weighted_avg_pos', 'che_weighted_recent_perf', 'che_weighted_consistency', 'che_weighted_pct_top3', 'che_weighted_nb_courses', 'che_weighted_total_races', 'che_weighted_dnf_rate', 'che_weighted_trend', 'che_bytype_avg_pos', 'che_bytype_recent_perf', 'che_bytype_consistency', 'che_bytype_trend', 'che_bytype_pct_top3', 'che_bytype_nb_courses', 'che_bytype_total_races', 'che_bytype_dnf_rate', 'joc_global_avg_pos', 'joc_global_recent_perf', 'joc_global_consistency', 'joc_global_trend', 'joc_global_pct_top3', 'joc_global_nb_courses', 'joc_global_total_races', 'joc_global_dnf_rate', 'joc_weighted_avg_pos', 'joc_weighted_recent_perf', 'joc_weighted_consistency', 'joc_weighted_pct_top3', 'joc_weighted_nb_courses', 'joc_weighted_total_races', 'joc_weighted_dnf_rate', 'joc_weighted_trend', 'joc_bytype_avg_pos', 'joc_bytype_recent_perf', 'joc_bytype_consistency', 'joc_bytype_trend', 'joc_bytype_pct_top3', 'joc_bytype_nb_courses', 'joc_bytype_total_races', 'joc_bytype_dnf_rate', 'che_form_momentum', 'che_improving_form', 'che_declining_form', 'che_high_consistency', 'che_recent_quality', 'che_elite_performer', 'che_regular_placer', 'joc_form_momentum', 'joc_improving_form', 'joc_high_consistency', 'joc_elite_performer', 'synergy_both_improving', 'synergy_both_consistent', 'synergy_both_elite', 'overall_momentum_score', 'high_momentum', 'class_drop_pct', 'purse_per_starter', 'purse_ratio', 'moving_up_in_class', 'class_shock_indicator', 'handicap_level_change', 'time_per_distance', 'time_vs_record', 'pace_rating', 'speed_figure_proxy', 'market_confidence_shift', 'last_race_improvement', 'bounce_risk', 'layoff_distance_interaction', 'trainer_change', 'connection_stability', 'field_size_change', 'distance_comfort', 'competition_level_shift', 'recence_x_class_drop', 'trainer_change_x_recence', 'distance_change_x_recence', 'che_by_type_avg_pos', 'che_by_type_recent_perf', 'che_by_type_consistency', 'che_by_type_trend', 'che_by_type_pct_top3', 'che_by_type_nb_courses', 'che_by_type_total_races', 'che_by_type_dnf_rate', 'joc_by_type_avg_pos', 'joc_by_type_recent_perf', 'joc_by_type_consistency', 'joc_by_type_trend', 'joc_by_type_pct_top3', 'joc_by_type_nb_courses', 'joc_by_type_total_races', 'joc_by_type_dnf_rate', 'quinte_career_starts', 'quinte_win_rate', 'quinte_top5_rate', 'avg_quinte_position', 'days_since_last_quinte', 'quinte_handicap_specialist', 'quinte_conditions_specialist', 'quinte_large_field_ability', 'quinte_track_condition_fit', 'is_handicap_quinte', 'handicap_division', 'purse_level_category', 'field_size_category', 'track_condition_PH', 'track_condition_DUR', 'track_condition_PS', 'track_condition_PSF', 'weather_clear', 'weather_rain', 'weather_cloudy', 'post_position_bias', 'post_position_track_bias', 'raw_tabnet_prediction', 'predicted_position_tabnet', 'raw_rf_prediction', 'predicted_position_rf', 'predicted_position_base']
2025-11-13 09:36:54,790 - race_prediction.competitive_field_analyzer - INFO - === CRITICAL COLUMNS ANALYSIS ===
2025-11-13 09:36:54,790 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ recordG: 13/13 non-null values (100.0%)
2025-11-13 09:36:54,790 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [0.0, 0.0, 0.0]
2025-11-13 09:36:54,791 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ hippo: 13/13 non-null values (100.0%)
2025-11-13 09:36:54,791 - race_prediction.competitive_field_analyzer - INFO -    Sample values: ['Paris-Vincennes', 'Paris-Vincennes', 'Paris-Vincennes']
2025-11-13 09:36:54,791 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ coursescheval: 13/13 non-null values (100.0%)
2025-11-13 09:36:54,791 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [56, 42, 82]
2025-11-13 09:36:54,791 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ victoirescheval: 13/13 non-null values (100.0%)
2025-11-13 09:36:54,792 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [8, 11, 10]
2025-11-13 09:36:54,792 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ placescheval: 13/13 non-null values (100.0%)
2025-11-13 09:36:54,792 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [18, 19, 33]
2025-11-13 09:36:54,792 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ gainsCarriere: 13/13 non-null values (100.0%)
2025-11-13 09:36:54,792 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [27138000, 27381500, 30011500]
2025-11-13 09:36:54,792 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ age: 13/13 non-null values (100.0%)
2025-11-13 09:36:54,792 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [7, 6, 8]
2025-11-13 09:36:54,792 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ derniereplace: 13/13 non-null values (100.0%)
2025-11-13 09:36:54,792 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [7.0, 4.0, 6.0]
2025-11-13 09:36:54,792 - race_prediction.competitive_field_analyzer - INFO - === RACE METADATA ===
2025-11-13 09:36:54,792 - race_prediction.competitive_field_analyzer - INFO - comp: 1619992
2025-11-13 09:36:54,792 - race_prediction.competitive_field_analyzer - INFO - hippo: Paris-Vincennes
2025-11-13 09:36:54,792 - race_prediction.competitive_field_analyzer - INFO - dist: 2700
2025-11-13 09:36:54,792 - race_prediction.competitive_field_analyzer - INFO - typec: Attel√©
2025-11-13 09:36:54,792 - race_prediction.competitive_field_analyzer - INFO - partant: 13
2025-11-13 09:36:54,792 - race_prediction.competitive_field_analyzer - INFO - === SAMPLE RACE DATA ===
2025-11-13 09:36:54,792 - race_prediction.competitive_field_analyzer - INFO - Sample data (columns: ['numero', 'cheval', 'recordG', 'hippo', 'coursescheval']):
2025-11-13 09:36:54,792 - race_prediction.competitive_field_analyzer - INFO -   Horse 0: {'numero': 1, 'cheval': 'Ivanof', 'recordG': 0.0, 'hippo': 'Paris-Vincennes', 'coursescheval': 56}
2025-11-13 09:36:54,792 - race_prediction.competitive_field_analyzer - INFO -   Horse 1: {'numero': 2, 'cheval': 'Jappeloup Turgot', 'recordG': 0.0, 'hippo': 'Paris-Vincennes', 'coursescheval': 42}
2025-11-13 09:36:54,793 - race_prediction.competitive_field_analyzer - INFO -   Horse 2: {'numero': 3, 'cheval': 'Himberland', 'recordG': 0.0, 'hippo': 'Paris-Vincennes', 'coursescheval': 82}
2025-11-13 09:36:54,793 - race_prediction.competitive_field_analyzer - INFO - === END COMPETITIVE ANALYSIS DEBUG ===

2025-11-13 09:36:54,793 - race_prediction.competitive_field_analyzer - INFO - === RETRIEVING HISTORICAL DATA ===
2025-11-13 09:36:54,793 - race_prediction.competitive_field_analyzer - INFO - Fetching historical data for 13 horses: [1474742, 1520426, 1389845, 1485998, 1430681, 1385711, 1431509, 1499311, 1403418, 1444935, 1534739, 1492670, 1498657]
2025-11-13 09:36:54,795 - race_prediction.competitive_field_analyzer - INFO - Batch querying historical data for 13 horses: [1474742, 1520426, 1389845, 1485998, 1430681, 1385711, 1431509, 1499311, 1403418, 1444935, 1534739, 1492670, 1498657]
2025-11-13 09:37:13,279 - race_prediction.competitive_field_analyzer - INFO - Batch query completed in 18.48s, found 158 total records
2025-11-13 09:37:13,288 - race_prediction.competitive_field_analyzer - INFO - Batch query retrieved 158 total historical races
2025-11-13 09:37:13,288 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS PER HORSE ===
2025-11-13 09:37:13,288 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1474742: 15 historical races found
2025-11-13 09:37:13,288 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1520426: 13 historical races found
2025-11-13 09:37:13,288 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1389845: 18 historical races found
2025-11-13 09:37:13,288 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1485998: 7 historical races found
2025-11-13 09:37:13,288 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1430681: 12 historical races found
2025-11-13 09:37:13,288 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1385711: 15 historical races found
2025-11-13 09:37:13,288 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1431509: 13 historical races found
2025-11-13 09:37:13,288 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1499311: 11 historical races found
2025-11-13 09:37:13,288 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1403418: 13 historical races found
2025-11-13 09:37:13,288 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1444935: 9 historical races found
2025-11-13 09:37:13,288 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1534739: 9 historical races found
2025-11-13 09:37:13,288 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1492670: 14 historical races found
2025-11-13 09:37:13,288 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1498657: 9 historical races found
2025-11-13 09:37:13,288 - race_prediction.competitive_field_analyzer - INFO - Retrieved 158 total historical races
2025-11-13 09:37:13,288 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS BY HORSE ===
2025-11-13 09:37:13,289 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1474742: 15 historical races
2025-11-13 09:37:13,289 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1520426: 13 historical races
2025-11-13 09:37:13,289 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1389845: 18 historical races
2025-11-13 09:37:13,289 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1485998: 7 historical races
2025-11-13 09:37:13,289 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1430681: 12 historical races
2025-11-13 09:37:13,289 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1385711: 15 historical races
2025-11-13 09:37:13,289 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1431509: 13 historical races
2025-11-13 09:37:13,289 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1499311: 11 historical races
2025-11-13 09:37:13,289 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1403418: 13 historical races
2025-11-13 09:37:13,289 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1444935: 9 historical races
2025-11-13 09:37:13,289 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1534739: 9 historical races
2025-11-13 09:37:13,289 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1492670: 14 historical races
2025-11-13 09:37:13,289 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1498657: 9 historical races
2025-11-13 09:37:13,289 - race_prediction.competitive_field_analyzer - INFO - === END HISTORICAL DATA RETRIEVAL ===

2025-11-13 09:37:13,289 - race_prediction.competitive_field_analyzer - INFO - === EARNINGS QUALITY ANALYSIS ===
2025-11-13 09:37:13,289 - race_prediction.competitive_field_analyzer - INFO - Valid earnings data: 13/13 horses
2025-11-13 09:37:13,289 - race_prediction.competitive_field_analyzer - INFO - Sample earnings per race: ['484,607', '651,940', '365,994']
2025-11-13 09:37:13,289 - race_prediction.competitive_field_analyzer - INFO - Field earnings stats: avg=601,427, max=951,944
2025-11-13 09:37:13,289 - race_prediction.competitive_field_analyzer - INFO - === TRACK SPECIALIZATION ANALYSIS ===
2025-11-13 09:37:13,289 - race_prediction.competitive_field_analyzer - INFO - Horses with reliable venue data (3+ races): 0/13
2025-11-13 09:37:13,290 - race_prediction.competitive_field_analyzer - INFO - === FORM MOMENTUM ANALYSIS ===
2025-11-13 09:37:13,290 - race_prediction.competitive_field_analyzer - INFO - Field avg horse trend: 1.174, recent perf: 6.46
2025-11-13 09:37:13,290 - race_prediction.competitive_field_analyzer - INFO - Field avg jockey trend: 0.347
2025-11-13 09:37:13,290 - race_prediction.competitive_field_analyzer - INFO - Horses with improving form: 4/13
2025-11-13 09:37:13,291 - race_prediction.competitive_field_analyzer - INFO - === HOT CONNECTIONS ANALYSIS ===
2025-11-13 09:37:13,291 - race_prediction.competitive_field_analyzer - INFO - Jockeys with wins today: 0/13
2025-11-13 09:37:13,291 - race_prediction.competitive_field_analyzer - INFO - Trainers with wins today: 0/13
2025-11-13 09:37:13,291 - race_prediction.competitive_field_analyzer - INFO - === DISTANCE COMFORT ANALYSIS ===
2025-11-13 09:37:13,291 - race_prediction.competitive_field_analyzer - INFO - Current race distance: 2700m
2025-11-13 09:37:13,291 - race_prediction.competitive_field_analyzer - INFO - Horses with similar recent distance: 8/13
2025-11-13 09:37:13,291 - race_prediction.competitive_field_analyzer - INFO - === REALISTIC COMPETITIVE SCORING ===
2025-11-13 09:37:13,292 - race_prediction.competitive_field_analyzer - INFO - üìä COMPETITIVE ANALYSIS SUMMARY:
2025-11-13 09:37:13,292 - race_prediction.competitive_field_analyzer - INFO -    Total competitive races: 158
2025-11-13 09:37:13,292 - race_prediction.competitive_field_analyzer - INFO -    Horses with historical data: 13/13
2025-11-13 09:37:13,292 - race_prediction.competitive_field_analyzer - INFO -    Average races per horse: 12.2
2025-11-13 09:37:13,302 - race_prediction.quinte_prediction_storage - INFO - Stored 13 horses for Quint√© race 1619992
2025-11-13 09:37:15,232 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE ANALYSIS DEBUG ===
2025-11-13 09:37:15,232 - race_prediction.competitive_field_analyzer - INFO - Analyzing competitive field for race with 16 horses
2025-11-13 09:37:15,232 - race_prediction.competitive_field_analyzer - INFO - Race data shape: (16, 280)
2025-11-13 09:37:15,232 - race_prediction.competitive_field_analyzer - INFO - Available columns: ['id', 'comp', 'jour', 'hippo', 'reun', 'prix', 'prixnom', 'typec', 'partant', 'dist', 'handi', 'groupe', 'quinte', 'natpis', 'meteo', 'corde', 'temperature', 'forceVent', 'directionVent', 'nebulosite', 'prediction_results', 'actual_results', 'created_at', 'updated_at', 'processed_data', 'cheque', 'handi_raw', 'reclam', 'sex', 'tempscourse', 'handicap_level_score', 'cl', 'numero', 'cheval', 'age', 'cotedirect', 'coteprob', 'recence', 'ecar', 'defoeil', 'defoeilPrec', 'musiqueche', 'musiquejoc', 'entraineur', 'coursescheval', 'victoirescheval', 'placescheval', 'dernierealloc', 'derniernbpartants', 'dernieredist', 'derniereplace', 'dernierecote', 'dernierEnt', 'proprietaire', 'poidmont', 'pourcVictJockHippo', 'pourcPlaceJockHippo', 'pourcVictChevalHippo', 'pourcPlaceChevalHippo', 'tempstot', 'vha', 'recordG', 'txreclam', 'dernierTxreclam', 'gainsCarriere', 'gainsAnneeEnCours', 'handicapDistance', 'handicapPoids', 'TxVictCouple', 'nbVictCouple', 'nbPlaceCouple', 'idche', 'idJockey', 'idEntraineur', 'defFirstTime', 'oeilFirstTime', 'oeil', 'dernierOeil', 'ratio_victoires', 'ratio_places', 'gains_par_course', 'efficacite_couple', 'regularite_couple', 'progression_couple', 'perf_cheval_hippo', 'perf_jockey_hippo', 'trainer_victoires', 'trainer_places', 'trainer_courses', 'trainer_winrate', 'trainer_placerate', 'trainer_quality_score', 'trainer_experience_level', 'handicap_poids', 'handicap_dist', 'prec_handicap_poids', 'prec_handicap_dist', 'handicap_poids_change', 'handicap_poids_increased', 'handicap_poids_decreased', 'handicap_dist_change', 'handicap_dist_increased', 'handicap_dist_decreased', 'total_handicap', 'handicap_momentum', 'last_race_position', 'last_race_distance', 'distance_change', 'distance_change_pct', 'distance_increased', 'distance_decreased', 'same_distance', 'corde_change', 'corde_improved', 'corde_worsened', 'last_race_top3', 'last_race_won', 'blinkers_first_time', 'has_blinkers', 'has_standard_blinkers', 'has_australian_blinkers', 'blinkers_added', 'blinkers_removed', 'blinkers_type_changed', 'blinkers_any_change', 'blinkers_high_impact_change', 'shoeing_first_time', 'fully_shod', 'front_shod_only', 'back_shod_only', 'barefoot', 'shoeing_changed', 'barefoot_to_shod', 'shod_to_barefoot', 'major_shoeing_change', 'shoeing_complexity', 'multiple_equipment_changes', 'equipment_momentum_score', 'high_equipment_momentum', 'multiple_first_time_changes', 'equipment_optimization_score', 'career_strike_rate', 'earnings_per_race', 'earnings_trend', 'last_race_position_normalized', 'last_race_odds_normalized', 'last_race_field_size_factor', 'distance_consistency', 'vha_normalized', 'claiming_tax_trend', 'class_stability', 'che_global_avg_pos', 'che_global_recent_perf', 'che_global_consistency', 'che_global_trend', 'che_global_pct_top3', 'che_global_nb_courses', 'che_global_total_races', 'che_global_dnf_rate', 'che_weighted_avg_pos', 'che_weighted_recent_perf', 'che_weighted_consistency', 'che_weighted_pct_top3', 'che_weighted_nb_courses', 'che_weighted_total_races', 'che_weighted_dnf_rate', 'che_weighted_trend', 'che_bytype_avg_pos', 'che_bytype_recent_perf', 'che_bytype_consistency', 'che_bytype_trend', 'che_bytype_pct_top3', 'che_bytype_nb_courses', 'che_bytype_total_races', 'che_bytype_dnf_rate', 'joc_global_avg_pos', 'joc_global_recent_perf', 'joc_global_consistency', 'joc_global_trend', 'joc_global_pct_top3', 'joc_global_nb_courses', 'joc_global_total_races', 'joc_global_dnf_rate', 'joc_weighted_avg_pos', 'joc_weighted_recent_perf', 'joc_weighted_consistency', 'joc_weighted_pct_top3', 'joc_weighted_nb_courses', 'joc_weighted_total_races', 'joc_weighted_dnf_rate', 'joc_weighted_trend', 'joc_bytype_avg_pos', 'joc_bytype_recent_perf', 'joc_bytype_consistency', 'joc_bytype_trend', 'joc_bytype_pct_top3', 'joc_bytype_nb_courses', 'joc_bytype_total_races', 'joc_bytype_dnf_rate', 'che_form_momentum', 'che_improving_form', 'che_declining_form', 'che_high_consistency', 'che_recent_quality', 'che_elite_performer', 'che_regular_placer', 'joc_form_momentum', 'joc_improving_form', 'joc_high_consistency', 'joc_elite_performer', 'synergy_both_improving', 'synergy_both_consistent', 'synergy_both_elite', 'overall_momentum_score', 'high_momentum', 'class_drop_pct', 'purse_per_starter', 'purse_ratio', 'moving_up_in_class', 'class_shock_indicator', 'handicap_level_change', 'time_per_distance', 'time_vs_record', 'pace_rating', 'speed_figure_proxy', 'market_confidence_shift', 'last_race_improvement', 'bounce_risk', 'layoff_distance_interaction', 'trainer_change', 'connection_stability', 'field_size_change', 'distance_comfort', 'competition_level_shift', 'recence_x_class_drop', 'trainer_change_x_recence', 'distance_change_x_recence', 'che_by_type_avg_pos', 'che_by_type_recent_perf', 'che_by_type_consistency', 'che_by_type_trend', 'che_by_type_pct_top3', 'che_by_type_nb_courses', 'che_by_type_total_races', 'che_by_type_dnf_rate', 'joc_by_type_avg_pos', 'joc_by_type_recent_perf', 'joc_by_type_consistency', 'joc_by_type_trend', 'joc_by_type_pct_top3', 'joc_by_type_nb_courses', 'joc_by_type_total_races', 'joc_by_type_dnf_rate', 'quinte_career_starts', 'quinte_win_rate', 'quinte_top5_rate', 'avg_quinte_position', 'days_since_last_quinte', 'quinte_handicap_specialist', 'quinte_conditions_specialist', 'quinte_large_field_ability', 'quinte_track_condition_fit', 'is_handicap_quinte', 'handicap_division', 'purse_level_category', 'field_size_category', 'track_condition_PH', 'track_condition_DUR', 'track_condition_PS', 'track_condition_PSF', 'weather_clear', 'weather_rain', 'weather_cloudy', 'post_position_bias', 'post_position_track_bias', 'raw_tabnet_prediction', 'predicted_position_tabnet', 'raw_rf_prediction', 'predicted_position_rf', 'predicted_position_base']
2025-11-13 09:37:15,233 - race_prediction.competitive_field_analyzer - INFO - === CRITICAL COLUMNS ANALYSIS ===
2025-11-13 09:37:15,233 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ recordG: 16/16 non-null values (100.0%)
2025-11-13 09:37:15,233 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [0.0, 0.0, 0.0]
2025-11-13 09:37:15,233 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ hippo: 16/16 non-null values (100.0%)
2025-11-13 09:37:15,233 - race_prediction.competitive_field_analyzer - INFO -    Sample values: ['Paris-Vincennes', 'Paris-Vincennes', 'Paris-Vincennes']
2025-11-13 09:37:15,233 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ coursescheval: 16/16 non-null values (100.0%)
2025-11-13 09:37:15,233 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [26, 17, 21]
2025-11-13 09:37:15,233 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ victoirescheval: 16/16 non-null values (100.0%)
2025-11-13 09:37:15,233 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [4, 5, 5]
2025-11-13 09:37:15,233 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ placescheval: 16/16 non-null values (100.0%)
2025-11-13 09:37:15,234 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [8, 9, 7]
2025-11-13 09:37:15,234 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ gainsCarriere: 16/16 non-null values (100.0%)
2025-11-13 09:37:15,234 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [7921000, 9031000, 11717500]
2025-11-13 09:37:15,234 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ age: 16/16 non-null values (100.0%)
2025-11-13 09:37:15,234 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [5, 5, 5]
2025-11-13 09:37:15,234 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ derniereplace: 16/16 non-null values (100.0%)
2025-11-13 09:37:15,234 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [5.0, 7.0, 15.0]
2025-11-13 09:37:15,234 - race_prediction.competitive_field_analyzer - INFO - === RACE METADATA ===
2025-11-13 09:37:15,234 - race_prediction.competitive_field_analyzer - INFO - comp: 1619965
2025-11-13 09:37:15,234 - race_prediction.competitive_field_analyzer - INFO - hippo: Paris-Vincennes
2025-11-13 09:37:15,234 - race_prediction.competitive_field_analyzer - INFO - dist: 2700
2025-11-13 09:37:15,234 - race_prediction.competitive_field_analyzer - INFO - typec: Attel√©
2025-11-13 09:37:15,234 - race_prediction.competitive_field_analyzer - INFO - partant: 16
2025-11-13 09:37:15,234 - race_prediction.competitive_field_analyzer - INFO - === SAMPLE RACE DATA ===
2025-11-13 09:37:15,234 - race_prediction.competitive_field_analyzer - INFO - Sample data (columns: ['numero', 'cheval', 'recordG', 'hippo', 'coursescheval']):
2025-11-13 09:37:15,234 - race_prediction.competitive_field_analyzer - INFO -   Horse 0: {'numero': 1, 'cheval': 'Kingston de Blary', 'recordG': 0.0, 'hippo': 'Paris-Vincennes', 'coursescheval': 26}
2025-11-13 09:37:15,234 - race_prediction.competitive_field_analyzer - INFO -   Horse 1: {'numero': 2, 'cheval': 'Kamour', 'recordG': 0.0, 'hippo': 'Paris-Vincennes', 'coursescheval': 17}
2025-11-13 09:37:15,234 - race_prediction.competitive_field_analyzer - INFO -   Horse 2: {'numero': 3, 'cheval': 'King Georges', 'recordG': 0.0, 'hippo': 'Paris-Vincennes', 'coursescheval': 21}
2025-11-13 09:37:15,234 - race_prediction.competitive_field_analyzer - INFO - === END COMPETITIVE ANALYSIS DEBUG ===

2025-11-13 09:37:15,235 - race_prediction.competitive_field_analyzer - INFO - === RETRIEVING HISTORICAL DATA ===
2025-11-13 09:37:15,235 - race_prediction.competitive_field_analyzer - INFO - Fetching historical data for 16 horses: [1575813, 1663009, 1576834, 1656229, 1572477, 1660540, 1576402, 1561752, 1582067, 1575455, 1563340, 1581994, 1560715, 1590089, 1587413, 1555299]
2025-11-13 09:37:15,236 - race_prediction.competitive_field_analyzer - INFO - Batch querying historical data for 16 horses: [1575813, 1663009, 1576834, 1656229, 1572477, 1660540, 1576402, 1561752, 1582067, 1575455, 1563340, 1581994, 1560715, 1590089, 1587413, 1555299]
2025-11-13 09:37:33,838 - race_prediction.competitive_field_analyzer - INFO - Batch query completed in 18.60s, found 154 total records
2025-11-13 09:37:33,847 - race_prediction.competitive_field_analyzer - INFO - Batch query retrieved 154 total historical races
2025-11-13 09:37:33,847 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS PER HORSE ===
2025-11-13 09:37:33,847 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1575813: 9 historical races found
2025-11-13 09:37:33,847 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1663009: 5 historical races found
2025-11-13 09:37:33,847 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1576834: 7 historical races found
2025-11-13 09:37:33,847 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1656229: 11 historical races found
2025-11-13 09:37:33,847 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1572477: 14 historical races found
2025-11-13 09:37:33,847 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1660540: 13 historical races found
2025-11-13 09:37:33,847 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1576402: 11 historical races found
2025-11-13 09:37:33,847 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1561752: 7 historical races found
2025-11-13 09:37:33,847 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1582067: 5 historical races found
2025-11-13 09:37:33,847 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1575455: 13 historical races found
2025-11-13 09:37:33,847 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1563340: 8 historical races found
2025-11-13 09:37:33,847 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1581994: 13 historical races found
2025-11-13 09:37:33,847 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1560715: 7 historical races found
2025-11-13 09:37:33,847 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1590089: 13 historical races found
2025-11-13 09:37:33,847 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1587413: 5 historical races found
2025-11-13 09:37:33,847 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1555299: 13 historical races found
2025-11-13 09:37:33,847 - race_prediction.competitive_field_analyzer - INFO - Retrieved 154 total historical races
2025-11-13 09:37:33,847 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS BY HORSE ===
2025-11-13 09:37:33,847 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1575813: 9 historical races
2025-11-13 09:37:33,847 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1663009: 5 historical races
2025-11-13 09:37:33,847 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1576834: 7 historical races
2025-11-13 09:37:33,847 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1656229: 11 historical races
2025-11-13 09:37:33,847 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1572477: 14 historical races
2025-11-13 09:37:33,847 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1660540: 13 historical races
2025-11-13 09:37:33,847 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1576402: 11 historical races
2025-11-13 09:37:33,847 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1561752: 7 historical races
2025-11-13 09:37:33,848 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1582067: 5 historical races
2025-11-13 09:37:33,848 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1575455: 13 historical races
2025-11-13 09:37:33,848 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1563340: 8 historical races
2025-11-13 09:37:33,848 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1581994: 13 historical races
2025-11-13 09:37:33,848 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1560715: 7 historical races
2025-11-13 09:37:33,848 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1590089: 13 historical races
2025-11-13 09:37:33,848 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1587413: 5 historical races
2025-11-13 09:37:33,848 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1555299: 13 historical races
2025-11-13 09:37:33,848 - race_prediction.competitive_field_analyzer - INFO - === END HISTORICAL DATA RETRIEVAL ===

2025-11-13 09:37:33,848 - race_prediction.competitive_field_analyzer - INFO - === EARNINGS QUALITY ANALYSIS ===
2025-11-13 09:37:33,848 - race_prediction.competitive_field_analyzer - INFO - Valid earnings data: 16/16 horses
2025-11-13 09:37:33,848 - race_prediction.competitive_field_analyzer - INFO - Sample earnings per race: ['304,654', '531,235', '557,976']
2025-11-13 09:37:33,848 - race_prediction.competitive_field_analyzer - INFO - Field earnings stats: avg=584,061, max=1,084,062
2025-11-13 09:37:33,848 - race_prediction.competitive_field_analyzer - INFO - === TRACK SPECIALIZATION ANALYSIS ===
2025-11-13 09:37:33,848 - race_prediction.competitive_field_analyzer - INFO - Horses with reliable venue data (3+ races): 0/16
2025-11-13 09:37:33,849 - race_prediction.competitive_field_analyzer - INFO - === FORM MOMENTUM ANALYSIS ===
2025-11-13 09:37:33,849 - race_prediction.competitive_field_analyzer - INFO - Field avg horse trend: 1.984, recent perf: 6.90
2025-11-13 09:37:33,849 - race_prediction.competitive_field_analyzer - INFO - Field avg jockey trend: -0.236
2025-11-13 09:37:33,850 - race_prediction.competitive_field_analyzer - INFO - Horses with improving form: 3/16
2025-11-13 09:37:33,850 - race_prediction.competitive_field_analyzer - INFO - === HOT CONNECTIONS ANALYSIS ===
2025-11-13 09:37:33,850 - race_prediction.competitive_field_analyzer - INFO - Jockeys with wins today: 0/16
2025-11-13 09:37:33,850 - race_prediction.competitive_field_analyzer - INFO - Trainers with wins today: 0/16
2025-11-13 09:37:33,850 - race_prediction.competitive_field_analyzer - INFO - === DISTANCE COMFORT ANALYSIS ===
2025-11-13 09:37:33,850 - race_prediction.competitive_field_analyzer - INFO - Current race distance: 2700m
2025-11-13 09:37:33,850 - race_prediction.competitive_field_analyzer - INFO - Horses with similar recent distance: 10/16
2025-11-13 09:37:33,850 - race_prediction.competitive_field_analyzer - INFO - === REALISTIC COMPETITIVE SCORING ===
2025-11-13 09:37:33,851 - race_prediction.competitive_field_analyzer - INFO - üìä COMPETITIVE ANALYSIS SUMMARY:
2025-11-13 09:37:33,851 - race_prediction.competitive_field_analyzer - INFO -    Total competitive races: 154
2025-11-13 09:37:33,851 - race_prediction.competitive_field_analyzer - INFO -    Horses with historical data: 16/16
2025-11-13 09:37:33,851 - race_prediction.competitive_field_analyzer - INFO -    Average races per horse: 9.6
2025-11-13 09:37:33,860 - race_prediction.quinte_prediction_storage - INFO - Stored 16 horses for Quint√© race 1619965
2025-11-13 09:37:35,804 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE ANALYSIS DEBUG ===
2025-11-13 09:37:35,804 - race_prediction.competitive_field_analyzer - INFO - Analyzing competitive field for race with 14 horses
2025-11-13 09:37:35,804 - race_prediction.competitive_field_analyzer - INFO - Race data shape: (14, 280)
2025-11-13 09:37:35,804 - race_prediction.competitive_field_analyzer - INFO - Available columns: ['id', 'comp', 'jour', 'hippo', 'reun', 'prix', 'prixnom', 'typec', 'partant', 'dist', 'handi', 'groupe', 'quinte', 'natpis', 'meteo', 'corde', 'temperature', 'forceVent', 'directionVent', 'nebulosite', 'prediction_results', 'actual_results', 'created_at', 'updated_at', 'processed_data', 'cheque', 'handi_raw', 'reclam', 'sex', 'tempscourse', 'handicap_level_score', 'cl', 'numero', 'cheval', 'age', 'cotedirect', 'coteprob', 'recence', 'ecar', 'defoeil', 'defoeilPrec', 'musiqueche', 'musiquejoc', 'entraineur', 'coursescheval', 'victoirescheval', 'placescheval', 'dernierealloc', 'derniernbpartants', 'dernieredist', 'derniereplace', 'dernierecote', 'dernierEnt', 'proprietaire', 'poidmont', 'pourcVictJockHippo', 'pourcPlaceJockHippo', 'pourcVictChevalHippo', 'pourcPlaceChevalHippo', 'tempstot', 'vha', 'recordG', 'txreclam', 'dernierTxreclam', 'gainsCarriere', 'gainsAnneeEnCours', 'handicapDistance', 'handicapPoids', 'TxVictCouple', 'nbVictCouple', 'nbPlaceCouple', 'idche', 'idJockey', 'idEntraineur', 'defFirstTime', 'oeilFirstTime', 'oeil', 'dernierOeil', 'ratio_victoires', 'ratio_places', 'gains_par_course', 'efficacite_couple', 'regularite_couple', 'progression_couple', 'perf_cheval_hippo', 'perf_jockey_hippo', 'trainer_victoires', 'trainer_places', 'trainer_courses', 'trainer_winrate', 'trainer_placerate', 'trainer_quality_score', 'trainer_experience_level', 'handicap_poids', 'handicap_dist', 'prec_handicap_poids', 'prec_handicap_dist', 'handicap_poids_change', 'handicap_poids_increased', 'handicap_poids_decreased', 'handicap_dist_change', 'handicap_dist_increased', 'handicap_dist_decreased', 'total_handicap', 'handicap_momentum', 'last_race_position', 'last_race_distance', 'distance_change', 'distance_change_pct', 'distance_increased', 'distance_decreased', 'same_distance', 'corde_change', 'corde_improved', 'corde_worsened', 'last_race_top3', 'last_race_won', 'blinkers_first_time', 'has_blinkers', 'has_standard_blinkers', 'has_australian_blinkers', 'blinkers_added', 'blinkers_removed', 'blinkers_type_changed', 'blinkers_any_change', 'blinkers_high_impact_change', 'shoeing_first_time', 'fully_shod', 'front_shod_only', 'back_shod_only', 'barefoot', 'shoeing_changed', 'barefoot_to_shod', 'shod_to_barefoot', 'major_shoeing_change', 'shoeing_complexity', 'multiple_equipment_changes', 'equipment_momentum_score', 'high_equipment_momentum', 'multiple_first_time_changes', 'equipment_optimization_score', 'career_strike_rate', 'earnings_per_race', 'earnings_trend', 'last_race_position_normalized', 'last_race_odds_normalized', 'last_race_field_size_factor', 'distance_consistency', 'vha_normalized', 'claiming_tax_trend', 'class_stability', 'che_global_avg_pos', 'che_global_recent_perf', 'che_global_consistency', 'che_global_trend', 'che_global_pct_top3', 'che_global_nb_courses', 'che_global_total_races', 'che_global_dnf_rate', 'che_weighted_avg_pos', 'che_weighted_recent_perf', 'che_weighted_consistency', 'che_weighted_pct_top3', 'che_weighted_nb_courses', 'che_weighted_total_races', 'che_weighted_dnf_rate', 'che_weighted_trend', 'che_bytype_avg_pos', 'che_bytype_recent_perf', 'che_bytype_consistency', 'che_bytype_trend', 'che_bytype_pct_top3', 'che_bytype_nb_courses', 'che_bytype_total_races', 'che_bytype_dnf_rate', 'joc_global_avg_pos', 'joc_global_recent_perf', 'joc_global_consistency', 'joc_global_trend', 'joc_global_pct_top3', 'joc_global_nb_courses', 'joc_global_total_races', 'joc_global_dnf_rate', 'joc_weighted_avg_pos', 'joc_weighted_recent_perf', 'joc_weighted_consistency', 'joc_weighted_pct_top3', 'joc_weighted_nb_courses', 'joc_weighted_total_races', 'joc_weighted_dnf_rate', 'joc_weighted_trend', 'joc_bytype_avg_pos', 'joc_bytype_recent_perf', 'joc_bytype_consistency', 'joc_bytype_trend', 'joc_bytype_pct_top3', 'joc_bytype_nb_courses', 'joc_bytype_total_races', 'joc_bytype_dnf_rate', 'che_form_momentum', 'che_improving_form', 'che_declining_form', 'che_high_consistency', 'che_recent_quality', 'che_elite_performer', 'che_regular_placer', 'joc_form_momentum', 'joc_improving_form', 'joc_high_consistency', 'joc_elite_performer', 'synergy_both_improving', 'synergy_both_consistent', 'synergy_both_elite', 'overall_momentum_score', 'high_momentum', 'class_drop_pct', 'purse_per_starter', 'purse_ratio', 'moving_up_in_class', 'class_shock_indicator', 'handicap_level_change', 'time_per_distance', 'time_vs_record', 'pace_rating', 'speed_figure_proxy', 'market_confidence_shift', 'last_race_improvement', 'bounce_risk', 'layoff_distance_interaction', 'trainer_change', 'connection_stability', 'field_size_change', 'distance_comfort', 'competition_level_shift', 'recence_x_class_drop', 'trainer_change_x_recence', 'distance_change_x_recence', 'che_by_type_avg_pos', 'che_by_type_recent_perf', 'che_by_type_consistency', 'che_by_type_trend', 'che_by_type_pct_top3', 'che_by_type_nb_courses', 'che_by_type_total_races', 'che_by_type_dnf_rate', 'joc_by_type_avg_pos', 'joc_by_type_recent_perf', 'joc_by_type_consistency', 'joc_by_type_trend', 'joc_by_type_pct_top3', 'joc_by_type_nb_courses', 'joc_by_type_total_races', 'joc_by_type_dnf_rate', 'quinte_career_starts', 'quinte_win_rate', 'quinte_top5_rate', 'avg_quinte_position', 'days_since_last_quinte', 'quinte_handicap_specialist', 'quinte_conditions_specialist', 'quinte_large_field_ability', 'quinte_track_condition_fit', 'is_handicap_quinte', 'handicap_division', 'purse_level_category', 'field_size_category', 'track_condition_PH', 'track_condition_DUR', 'track_condition_PS', 'track_condition_PSF', 'weather_clear', 'weather_rain', 'weather_cloudy', 'post_position_bias', 'post_position_track_bias', 'raw_tabnet_prediction', 'predicted_position_tabnet', 'raw_rf_prediction', 'predicted_position_rf', 'predicted_position_base']
2025-11-13 09:37:35,804 - race_prediction.competitive_field_analyzer - INFO - === CRITICAL COLUMNS ANALYSIS ===
2025-11-13 09:37:35,805 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ recordG: 14/14 non-null values (100.0%)
2025-11-13 09:37:35,805 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [0.0, 0.0, 0.0]
2025-11-13 09:37:35,805 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ hippo: 14/14 non-null values (100.0%)
2025-11-13 09:37:35,805 - race_prediction.competitive_field_analyzer - INFO -    Sample values: ['Paris-Vincennes', 'Paris-Vincennes', 'Paris-Vincennes']
2025-11-13 09:37:35,805 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ coursescheval: 14/14 non-null values (100.0%)
2025-11-13 09:37:35,805 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [32, 33, 13]
2025-11-13 09:37:35,805 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ victoirescheval: 14/14 non-null values (100.0%)
2025-11-13 09:37:35,805 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [8, 4, 2]
2025-11-13 09:37:35,805 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ placescheval: 14/14 non-null values (100.0%)
2025-11-13 09:37:35,805 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [13, 12, 7]
2025-11-13 09:37:35,805 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ gainsCarriere: 14/14 non-null values (100.0%)
2025-11-13 09:37:35,805 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [42628000, 30300500, 59663300]
2025-11-13 09:37:35,805 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ age: 14/14 non-null values (100.0%)
2025-11-13 09:37:35,805 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [5, 4, 5]
2025-11-13 09:37:35,806 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ derniereplace: 14/14 non-null values (100.0%)
2025-11-13 09:37:35,806 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [15.0, 4.0, 6.0]
2025-11-13 09:37:35,806 - race_prediction.competitive_field_analyzer - INFO - === RACE METADATA ===
2025-11-13 09:37:35,806 - race_prediction.competitive_field_analyzer - INFO - comp: 1618804
2025-11-13 09:37:35,806 - race_prediction.competitive_field_analyzer - INFO - hippo: Paris-Vincennes
2025-11-13 09:37:35,806 - race_prediction.competitive_field_analyzer - INFO - dist: 2100
2025-11-13 09:37:35,806 - race_prediction.competitive_field_analyzer - INFO - typec: Attel√©
2025-11-13 09:37:35,806 - race_prediction.competitive_field_analyzer - INFO - partant: 14
2025-11-13 09:37:35,806 - race_prediction.competitive_field_analyzer - INFO - === SAMPLE RACE DATA ===
2025-11-13 09:37:35,806 - race_prediction.competitive_field_analyzer - INFO - Sample data (columns: ['numero', 'cheval', 'recordG', 'hippo', 'coursescheval']):
2025-11-13 09:37:35,806 - race_prediction.competitive_field_analyzer - INFO -   Horse 0: {'numero': 1, 'cheval': 'Kokote', 'recordG': 0.0, 'hippo': 'Paris-Vincennes', 'coursescheval': 32}
2025-11-13 09:37:35,806 - race_prediction.competitive_field_analyzer - INFO -   Horse 1: {'numero': 2, 'cheval': 'Learn To Fly', 'recordG': 0.0, 'hippo': 'Paris-Vincennes', 'coursescheval': 33}
2025-11-13 09:37:35,806 - race_prediction.competitive_field_analyzer - INFO -   Horse 2: {'numero': 3, 'cheval': 'East Asia', 'recordG': 0.0, 'hippo': 'Paris-Vincennes', 'coursescheval': 13}
2025-11-13 09:37:35,806 - race_prediction.competitive_field_analyzer - INFO - === END COMPETITIVE ANALYSIS DEBUG ===

2025-11-13 09:37:35,806 - race_prediction.competitive_field_analyzer - INFO - === RETRIEVING HISTORICAL DATA ===
2025-11-13 09:37:35,806 - race_prediction.competitive_field_analyzer - INFO - Fetching historical data for 14 horses: [1576750, 1665539, 1578262, 1553537, 1585391, 1565653, 1666500, 1553531, 1688648, 1661600, 1578244, 1571244, 1561739, 1562064]
2025-11-13 09:37:35,808 - race_prediction.competitive_field_analyzer - INFO - Batch querying historical data for 14 horses: [1576750, 1665539, 1578262, 1553537, 1585391, 1565653, 1666500, 1553531, 1688648, 1661600, 1578244, 1571244, 1561739, 1562064]
2025-11-13 09:37:54,993 - race_prediction.competitive_field_analyzer - INFO - Batch query completed in 19.18s, found 118 total records
2025-11-13 09:37:54,999 - race_prediction.competitive_field_analyzer - INFO - Batch query retrieved 118 total historical races
2025-11-13 09:37:54,999 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS PER HORSE ===
2025-11-13 09:37:54,999 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1576750: 11 historical races found
2025-11-13 09:37:54,999 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1665539: 14 historical races found
2025-11-13 09:37:54,999 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1578262: 5 historical races found
2025-11-13 09:37:54,999 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1553537: 10 historical races found
2025-11-13 09:37:54,999 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1585391: 5 historical races found
2025-11-13 09:37:54,999 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1565653: 13 historical races found
2025-11-13 09:37:54,999 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1666500: 7 historical races found
2025-11-13 09:37:54,999 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1553531: 12 historical races found
2025-11-13 09:37:54,999 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1688648: 4 historical races found
2025-11-13 09:37:54,999 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1661600: 7 historical races found
2025-11-13 09:37:54,999 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1578244: 4 historical races found
2025-11-13 09:37:54,999 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1571244: 4 historical races found
2025-11-13 09:37:54,999 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1561739: 9 historical races found
2025-11-13 09:37:54,999 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1562064: 13 historical races found
2025-11-13 09:37:54,999 - race_prediction.competitive_field_analyzer - INFO - Retrieved 118 total historical races
2025-11-13 09:37:54,999 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS BY HORSE ===
2025-11-13 09:37:54,999 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1576750: 11 historical races
2025-11-13 09:37:54,999 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1665539: 14 historical races
2025-11-13 09:37:54,999 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1578262: 5 historical races
2025-11-13 09:37:54,999 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1553537: 10 historical races
2025-11-13 09:37:54,999 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1585391: 5 historical races
2025-11-13 09:37:54,999 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1565653: 13 historical races
2025-11-13 09:37:54,999 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1666500: 7 historical races
2025-11-13 09:37:54,999 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1553531: 12 historical races
2025-11-13 09:37:54,999 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1688648: 4 historical races
2025-11-13 09:37:54,999 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1661600: 7 historical races
2025-11-13 09:37:54,999 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1578244: 4 historical races
2025-11-13 09:37:54,999 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1571244: 4 historical races
2025-11-13 09:37:55,000 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1561739: 9 historical races
2025-11-13 09:37:55,000 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1562064: 13 historical races
2025-11-13 09:37:55,000 - race_prediction.competitive_field_analyzer - INFO - === END HISTORICAL DATA RETRIEVAL ===

2025-11-13 09:37:55,000 - race_prediction.competitive_field_analyzer - INFO - === EARNINGS QUALITY ANALYSIS ===
2025-11-13 09:37:55,000 - race_prediction.competitive_field_analyzer - INFO - Valid earnings data: 14/14 horses
2025-11-13 09:37:55,000 - race_prediction.competitive_field_analyzer - INFO - Sample earnings per race: ['1,332,125', '918,197', '4,589,485']
2025-11-13 09:37:55,000 - race_prediction.competitive_field_analyzer - INFO - Field earnings stats: avg=2,560,695, max=12,615,550
2025-11-13 09:37:55,000 - race_prediction.competitive_field_analyzer - INFO - === TRACK SPECIALIZATION ANALYSIS ===
2025-11-13 09:37:55,000 - race_prediction.competitive_field_analyzer - INFO - Horses with reliable venue data (3+ races): 0/14
2025-11-13 09:37:55,001 - race_prediction.competitive_field_analyzer - INFO - === FORM MOMENTUM ANALYSIS ===
2025-11-13 09:37:55,001 - race_prediction.competitive_field_analyzer - INFO - Field avg horse trend: 1.845, recent perf: 6.52
2025-11-13 09:37:55,001 - race_prediction.competitive_field_analyzer - INFO - Field avg jockey trend: -1.451
2025-11-13 09:37:55,001 - race_prediction.competitive_field_analyzer - INFO - Horses with improving form: 5/14
2025-11-13 09:37:55,002 - race_prediction.competitive_field_analyzer - INFO - === HOT CONNECTIONS ANALYSIS ===
2025-11-13 09:37:55,002 - race_prediction.competitive_field_analyzer - INFO - Jockeys with wins today: 0/14
2025-11-13 09:37:55,002 - race_prediction.competitive_field_analyzer - INFO - Trainers with wins today: 0/14
2025-11-13 09:37:55,002 - race_prediction.competitive_field_analyzer - INFO - === DISTANCE COMFORT ANALYSIS ===
2025-11-13 09:37:55,002 - race_prediction.competitive_field_analyzer - INFO - Current race distance: 2100m
2025-11-13 09:37:55,002 - race_prediction.competitive_field_analyzer - INFO - Horses with similar recent distance: 3/14
2025-11-13 09:37:55,002 - race_prediction.competitive_field_analyzer - INFO - === REALISTIC COMPETITIVE SCORING ===
2025-11-13 09:37:55,003 - race_prediction.competitive_field_analyzer - INFO - üìä COMPETITIVE ANALYSIS SUMMARY:
2025-11-13 09:37:55,003 - race_prediction.competitive_field_analyzer - INFO -    Total competitive races: 118
2025-11-13 09:37:55,003 - race_prediction.competitive_field_analyzer - INFO -    Horses with historical data: 14/14
2025-11-13 09:37:55,003 - race_prediction.competitive_field_analyzer - INFO -    Average races per horse: 8.4
2025-11-13 09:37:55,013 - race_prediction.quinte_prediction_storage - INFO - Stored 14 horses for Quint√© race 1618804
2025-11-13 09:37:57,123 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE ANALYSIS DEBUG ===
2025-11-13 09:37:57,123 - race_prediction.competitive_field_analyzer - INFO - Analyzing competitive field for race with 16 horses
2025-11-13 09:37:57,123 - race_prediction.competitive_field_analyzer - INFO - Race data shape: (16, 280)
2025-11-13 09:37:57,123 - race_prediction.competitive_field_analyzer - INFO - Available columns: ['id', 'comp', 'jour', 'hippo', 'reun', 'prix', 'prixnom', 'typec', 'partant', 'dist', 'handi', 'groupe', 'quinte', 'natpis', 'meteo', 'corde', 'temperature', 'forceVent', 'directionVent', 'nebulosite', 'prediction_results', 'actual_results', 'created_at', 'updated_at', 'processed_data', 'cheque', 'handi_raw', 'reclam', 'sex', 'tempscourse', 'handicap_level_score', 'cl', 'numero', 'cheval', 'age', 'cotedirect', 'coteprob', 'recence', 'ecar', 'defoeil', 'defoeilPrec', 'musiqueche', 'musiquejoc', 'entraineur', 'coursescheval', 'victoirescheval', 'placescheval', 'dernierealloc', 'derniernbpartants', 'dernieredist', 'derniereplace', 'dernierecote', 'dernierEnt', 'proprietaire', 'poidmont', 'pourcVictJockHippo', 'pourcPlaceJockHippo', 'pourcVictChevalHippo', 'pourcPlaceChevalHippo', 'tempstot', 'vha', 'recordG', 'txreclam', 'dernierTxreclam', 'gainsCarriere', 'gainsAnneeEnCours', 'handicapDistance', 'handicapPoids', 'TxVictCouple', 'nbVictCouple', 'nbPlaceCouple', 'idche', 'idJockey', 'idEntraineur', 'defFirstTime', 'oeilFirstTime', 'oeil', 'dernierOeil', 'ratio_victoires', 'ratio_places', 'gains_par_course', 'efficacite_couple', 'regularite_couple', 'progression_couple', 'perf_cheval_hippo', 'perf_jockey_hippo', 'trainer_victoires', 'trainer_places', 'trainer_courses', 'trainer_winrate', 'trainer_placerate', 'trainer_quality_score', 'trainer_experience_level', 'handicap_poids', 'handicap_dist', 'prec_handicap_poids', 'prec_handicap_dist', 'handicap_poids_change', 'handicap_poids_increased', 'handicap_poids_decreased', 'handicap_dist_change', 'handicap_dist_increased', 'handicap_dist_decreased', 'total_handicap', 'handicap_momentum', 'last_race_position', 'last_race_distance', 'distance_change', 'distance_change_pct', 'distance_increased', 'distance_decreased', 'same_distance', 'corde_change', 'corde_improved', 'corde_worsened', 'last_race_top3', 'last_race_won', 'blinkers_first_time', 'has_blinkers', 'has_standard_blinkers', 'has_australian_blinkers', 'blinkers_added', 'blinkers_removed', 'blinkers_type_changed', 'blinkers_any_change', 'blinkers_high_impact_change', 'shoeing_first_time', 'fully_shod', 'front_shod_only', 'back_shod_only', 'barefoot', 'shoeing_changed', 'barefoot_to_shod', 'shod_to_barefoot', 'major_shoeing_change', 'shoeing_complexity', 'multiple_equipment_changes', 'equipment_momentum_score', 'high_equipment_momentum', 'multiple_first_time_changes', 'equipment_optimization_score', 'career_strike_rate', 'earnings_per_race', 'earnings_trend', 'last_race_position_normalized', 'last_race_odds_normalized', 'last_race_field_size_factor', 'distance_consistency', 'vha_normalized', 'claiming_tax_trend', 'class_stability', 'che_global_avg_pos', 'che_global_recent_perf', 'che_global_consistency', 'che_global_trend', 'che_global_pct_top3', 'che_global_nb_courses', 'che_global_total_races', 'che_global_dnf_rate', 'che_weighted_avg_pos', 'che_weighted_recent_perf', 'che_weighted_consistency', 'che_weighted_pct_top3', 'che_weighted_nb_courses', 'che_weighted_total_races', 'che_weighted_dnf_rate', 'che_weighted_trend', 'che_bytype_avg_pos', 'che_bytype_recent_perf', 'che_bytype_consistency', 'che_bytype_trend', 'che_bytype_pct_top3', 'che_bytype_nb_courses', 'che_bytype_total_races', 'che_bytype_dnf_rate', 'joc_global_avg_pos', 'joc_global_recent_perf', 'joc_global_consistency', 'joc_global_trend', 'joc_global_pct_top3', 'joc_global_nb_courses', 'joc_global_total_races', 'joc_global_dnf_rate', 'joc_weighted_avg_pos', 'joc_weighted_recent_perf', 'joc_weighted_consistency', 'joc_weighted_pct_top3', 'joc_weighted_nb_courses', 'joc_weighted_total_races', 'joc_weighted_dnf_rate', 'joc_weighted_trend', 'joc_bytype_avg_pos', 'joc_bytype_recent_perf', 'joc_bytype_consistency', 'joc_bytype_trend', 'joc_bytype_pct_top3', 'joc_bytype_nb_courses', 'joc_bytype_total_races', 'joc_bytype_dnf_rate', 'che_form_momentum', 'che_improving_form', 'che_declining_form', 'che_high_consistency', 'che_recent_quality', 'che_elite_performer', 'che_regular_placer', 'joc_form_momentum', 'joc_improving_form', 'joc_high_consistency', 'joc_elite_performer', 'synergy_both_improving', 'synergy_both_consistent', 'synergy_both_elite', 'overall_momentum_score', 'high_momentum', 'class_drop_pct', 'purse_per_starter', 'purse_ratio', 'moving_up_in_class', 'class_shock_indicator', 'handicap_level_change', 'time_per_distance', 'time_vs_record', 'pace_rating', 'speed_figure_proxy', 'market_confidence_shift', 'last_race_improvement', 'bounce_risk', 'layoff_distance_interaction', 'trainer_change', 'connection_stability', 'field_size_change', 'distance_comfort', 'competition_level_shift', 'recence_x_class_drop', 'trainer_change_x_recence', 'distance_change_x_recence', 'che_by_type_avg_pos', 'che_by_type_recent_perf', 'che_by_type_consistency', 'che_by_type_trend', 'che_by_type_pct_top3', 'che_by_type_nb_courses', 'che_by_type_total_races', 'che_by_type_dnf_rate', 'joc_by_type_avg_pos', 'joc_by_type_recent_perf', 'joc_by_type_consistency', 'joc_by_type_trend', 'joc_by_type_pct_top3', 'joc_by_type_nb_courses', 'joc_by_type_total_races', 'joc_by_type_dnf_rate', 'quinte_career_starts', 'quinte_win_rate', 'quinte_top5_rate', 'avg_quinte_position', 'days_since_last_quinte', 'quinte_handicap_specialist', 'quinte_conditions_specialist', 'quinte_large_field_ability', 'quinte_track_condition_fit', 'is_handicap_quinte', 'handicap_division', 'purse_level_category', 'field_size_category', 'track_condition_PH', 'track_condition_DUR', 'track_condition_PS', 'track_condition_PSF', 'weather_clear', 'weather_rain', 'weather_cloudy', 'post_position_bias', 'post_position_track_bias', 'raw_tabnet_prediction', 'predicted_position_tabnet', 'raw_rf_prediction', 'predicted_position_rf', 'predicted_position_base']
2025-11-13 09:37:57,124 - race_prediction.competitive_field_analyzer - INFO - === CRITICAL COLUMNS ANALYSIS ===
2025-11-13 09:37:57,124 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ recordG: 16/16 non-null values (100.0%)
2025-11-13 09:37:57,124 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [0.0, 0.0, 0.0]
2025-11-13 09:37:57,124 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ hippo: 16/16 non-null values (100.0%)
2025-11-13 09:37:57,124 - race_prediction.competitive_field_analyzer - INFO -    Sample values: ['Nantes', 'Nantes', 'Nantes']
2025-11-13 09:37:57,124 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ coursescheval: 16/16 non-null values (100.0%)
2025-11-13 09:37:57,124 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [48, 57, 40]
2025-11-13 09:37:57,124 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ victoirescheval: 16/16 non-null values (100.0%)
2025-11-13 09:37:57,124 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [8, 17, 7]
2025-11-13 09:37:57,124 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ placescheval: 16/16 non-null values (100.0%)
2025-11-13 09:37:57,125 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [21, 28, 18]
2025-11-13 09:37:57,125 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ gainsCarriere: 16/16 non-null values (100.0%)
2025-11-13 09:37:57,125 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [27407000, 27703500, 28295000]
2025-11-13 09:37:57,125 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ age: 16/16 non-null values (100.0%)
2025-11-13 09:37:57,125 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [7, 8, 6]
2025-11-13 09:37:57,125 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ derniereplace: 16/16 non-null values (100.0%)
2025-11-13 09:37:57,125 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [7.0, 1.0, 10.0]
2025-11-13 09:37:57,125 - race_prediction.competitive_field_analyzer - INFO - === RACE METADATA ===
2025-11-13 09:37:57,125 - race_prediction.competitive_field_analyzer - INFO - comp: 1619950
2025-11-13 09:37:57,125 - race_prediction.competitive_field_analyzer - INFO - hippo: Nantes
2025-11-13 09:37:57,125 - race_prediction.competitive_field_analyzer - INFO - dist: 3000
2025-11-13 09:37:57,125 - race_prediction.competitive_field_analyzer - INFO - typec: Attel√©
2025-11-13 09:37:57,125 - race_prediction.competitive_field_analyzer - INFO - partant: 16
2025-11-13 09:37:57,125 - race_prediction.competitive_field_analyzer - INFO - === SAMPLE RACE DATA ===
2025-11-13 09:37:57,125 - race_prediction.competitive_field_analyzer - INFO - Sample data (columns: ['numero', 'cheval', 'recordG', 'hippo', 'coursescheval']):
2025-11-13 09:37:57,125 - race_prediction.competitive_field_analyzer - INFO -   Horse 0: {'numero': 1, 'cheval': 'Idylle Express', 'recordG': 0.0, 'hippo': 'Nantes', 'coursescheval': 48}
2025-11-13 09:37:57,125 - race_prediction.competitive_field_analyzer - INFO -   Horse 1: {'numero': 2, 'cheval': 'Hiwi Rocq', 'recordG': 0.0, 'hippo': 'Nantes', 'coursescheval': 57}
2025-11-13 09:37:57,126 - race_prediction.competitive_field_analyzer - INFO -   Horse 2: {'numero': 3, 'cheval': 'Jongleuse de Lune', 'recordG': 0.0, 'hippo': 'Nantes', 'coursescheval': 40}
2025-11-13 09:37:57,126 - race_prediction.competitive_field_analyzer - INFO - === END COMPETITIVE ANALYSIS DEBUG ===

2025-11-13 09:37:57,126 - race_prediction.competitive_field_analyzer - INFO - === RETRIEVING HISTORICAL DATA ===
2025-11-13 09:37:57,126 - race_prediction.competitive_field_analyzer - INFO - Fetching historical data for 16 horses: [1491747, 1389850, 1515214, 1438306, 1387981, 1553530, 1380598, 1519607, 1460254, 1382982, 1497360, 1382150, 1556553, 1434377, 1468153, 1574234]
2025-11-13 09:37:57,127 - race_prediction.competitive_field_analyzer - INFO - Batch querying historical data for 16 horses: [1491747, 1389850, 1515214, 1438306, 1387981, 1553530, 1380598, 1519607, 1460254, 1382982, 1497360, 1382150, 1556553, 1434377, 1468153, 1574234]
2025-11-13 09:38:16,356 - race_prediction.competitive_field_analyzer - INFO - Batch query completed in 19.23s, found 200 total records
2025-11-13 09:38:16,366 - race_prediction.competitive_field_analyzer - INFO - Batch query retrieved 200 total historical races
2025-11-13 09:38:16,366 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS PER HORSE ===
2025-11-13 09:38:16,366 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1491747: 11 historical races found
2025-11-13 09:38:16,366 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1389850: 4 historical races found
2025-11-13 09:38:16,366 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1515214: 15 historical races found
2025-11-13 09:38:16,366 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1438306: 8 historical races found
2025-11-13 09:38:16,366 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1387981: 9 historical races found
2025-11-13 09:38:16,366 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1553530: 13 historical races found
2025-11-13 09:38:16,366 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1380598: 16 historical races found
2025-11-13 09:38:16,366 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1519607: 19 historical races found
2025-11-13 09:38:16,366 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1460254: 8 historical races found
2025-11-13 09:38:16,366 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1382982: 16 historical races found
2025-11-13 09:38:16,366 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1497360: 16 historical races found
2025-11-13 09:38:16,366 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1382150: 15 historical races found
2025-11-13 09:38:16,366 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1556553: 6 historical races found
2025-11-13 09:38:16,366 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1434377: 20 historical races found
2025-11-13 09:38:16,366 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1468153: 11 historical races found
2025-11-13 09:38:16,366 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1574234: 13 historical races found
2025-11-13 09:38:16,366 - race_prediction.competitive_field_analyzer - INFO - Retrieved 200 total historical races
2025-11-13 09:38:16,366 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS BY HORSE ===
2025-11-13 09:38:16,366 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1491747: 11 historical races
2025-11-13 09:38:16,366 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1389850: 4 historical races
2025-11-13 09:38:16,366 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1515214: 15 historical races
2025-11-13 09:38:16,366 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1438306: 8 historical races
2025-11-13 09:38:16,366 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1387981: 9 historical races
2025-11-13 09:38:16,366 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1553530: 13 historical races
2025-11-13 09:38:16,366 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1380598: 16 historical races
2025-11-13 09:38:16,367 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1519607: 19 historical races
2025-11-13 09:38:16,367 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1460254: 8 historical races
2025-11-13 09:38:16,367 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1382982: 16 historical races
2025-11-13 09:38:16,367 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1497360: 16 historical races
2025-11-13 09:38:16,367 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1382150: 15 historical races
2025-11-13 09:38:16,367 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1556553: 6 historical races
2025-11-13 09:38:16,367 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1434377: 20 historical races
2025-11-13 09:38:16,367 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1468153: 11 historical races
2025-11-13 09:38:16,367 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1574234: 13 historical races
2025-11-13 09:38:16,367 - race_prediction.competitive_field_analyzer - INFO - === END HISTORICAL DATA RETRIEVAL ===

2025-11-13 09:38:16,367 - race_prediction.competitive_field_analyzer - INFO - === EARNINGS QUALITY ANALYSIS ===
2025-11-13 09:38:16,367 - race_prediction.competitive_field_analyzer - INFO - Valid earnings data: 16/16 horses
2025-11-13 09:38:16,367 - race_prediction.competitive_field_analyzer - INFO - Sample earnings per race: ['570,979', '486,026', '707,375']
2025-11-13 09:38:16,367 - race_prediction.competitive_field_analyzer - INFO - Field earnings stats: avg=815,220, max=2,183,902
2025-11-13 09:38:16,367 - race_prediction.competitive_field_analyzer - INFO - === TRACK SPECIALIZATION ANALYSIS ===
2025-11-13 09:38:16,367 - race_prediction.competitive_field_analyzer - INFO - Horses with reliable venue data (3+ races): 0/16
2025-11-13 09:38:16,368 - race_prediction.competitive_field_analyzer - INFO - === FORM MOMENTUM ANALYSIS ===
2025-11-13 09:38:16,368 - race_prediction.competitive_field_analyzer - INFO - Field avg horse trend: -2.065, recent perf: 6.77
2025-11-13 09:38:16,368 - race_prediction.competitive_field_analyzer - INFO - Field avg jockey trend: -1.440
2025-11-13 09:38:16,368 - race_prediction.competitive_field_analyzer - INFO - Horses with improving form: 1/16
2025-11-13 09:38:16,369 - race_prediction.competitive_field_analyzer - INFO - === HOT CONNECTIONS ANALYSIS ===
2025-11-13 09:38:16,369 - race_prediction.competitive_field_analyzer - INFO - Jockeys with wins today: 0/16
2025-11-13 09:38:16,369 - race_prediction.competitive_field_analyzer - INFO - Trainers with wins today: 0/16
2025-11-13 09:38:16,369 - race_prediction.competitive_field_analyzer - INFO - === DISTANCE COMFORT ANALYSIS ===
2025-11-13 09:38:16,369 - race_prediction.competitive_field_analyzer - INFO - Current race distance: 3000m
2025-11-13 09:38:16,369 - race_prediction.competitive_field_analyzer - INFO - Horses with similar recent distance: 10/16
2025-11-13 09:38:16,369 - race_prediction.competitive_field_analyzer - INFO - === REALISTIC COMPETITIVE SCORING ===
2025-11-13 09:38:16,370 - race_prediction.competitive_field_analyzer - INFO - üìä COMPETITIVE ANALYSIS SUMMARY:
2025-11-13 09:38:16,370 - race_prediction.competitive_field_analyzer - INFO -    Total competitive races: 200
2025-11-13 09:38:16,370 - race_prediction.competitive_field_analyzer - INFO -    Horses with historical data: 16/16
2025-11-13 09:38:16,370 - race_prediction.competitive_field_analyzer - INFO -    Average races per horse: 12.5
2025-11-13 09:38:16,382 - race_prediction.quinte_prediction_storage - INFO - Stored 16 horses for Quint√© race 1619950
2025-11-13 09:38:18,249 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE ANALYSIS DEBUG ===
2025-11-13 09:38:18,249 - race_prediction.competitive_field_analyzer - INFO - Analyzing competitive field for race with 16 horses
2025-11-13 09:38:18,249 - race_prediction.competitive_field_analyzer - INFO - Race data shape: (16, 280)
2025-11-13 09:38:18,249 - race_prediction.competitive_field_analyzer - INFO - Available columns: ['id', 'comp', 'jour', 'hippo', 'reun', 'prix', 'prixnom', 'typec', 'partant', 'dist', 'handi', 'groupe', 'quinte', 'natpis', 'meteo', 'corde', 'temperature', 'forceVent', 'directionVent', 'nebulosite', 'prediction_results', 'actual_results', 'created_at', 'updated_at', 'processed_data', 'cheque', 'handi_raw', 'reclam', 'sex', 'tempscourse', 'handicap_level_score', 'cl', 'numero', 'cheval', 'age', 'cotedirect', 'coteprob', 'recence', 'ecar', 'defoeil', 'defoeilPrec', 'musiqueche', 'musiquejoc', 'entraineur', 'coursescheval', 'victoirescheval', 'placescheval', 'dernierealloc', 'derniernbpartants', 'dernieredist', 'derniereplace', 'dernierecote', 'dernierEnt', 'proprietaire', 'poidmont', 'pourcVictJockHippo', 'pourcPlaceJockHippo', 'pourcVictChevalHippo', 'pourcPlaceChevalHippo', 'tempstot', 'vha', 'recordG', 'txreclam', 'dernierTxreclam', 'gainsCarriere', 'gainsAnneeEnCours', 'handicapDistance', 'handicapPoids', 'TxVictCouple', 'nbVictCouple', 'nbPlaceCouple', 'idche', 'idJockey', 'idEntraineur', 'defFirstTime', 'oeilFirstTime', 'oeil', 'dernierOeil', 'ratio_victoires', 'ratio_places', 'gains_par_course', 'efficacite_couple', 'regularite_couple', 'progression_couple', 'perf_cheval_hippo', 'perf_jockey_hippo', 'trainer_victoires', 'trainer_places', 'trainer_courses', 'trainer_winrate', 'trainer_placerate', 'trainer_quality_score', 'trainer_experience_level', 'handicap_poids', 'handicap_dist', 'prec_handicap_poids', 'prec_handicap_dist', 'handicap_poids_change', 'handicap_poids_increased', 'handicap_poids_decreased', 'handicap_dist_change', 'handicap_dist_increased', 'handicap_dist_decreased', 'total_handicap', 'handicap_momentum', 'last_race_position', 'last_race_distance', 'distance_change', 'distance_change_pct', 'distance_increased', 'distance_decreased', 'same_distance', 'corde_change', 'corde_improved', 'corde_worsened', 'last_race_top3', 'last_race_won', 'blinkers_first_time', 'has_blinkers', 'has_standard_blinkers', 'has_australian_blinkers', 'blinkers_added', 'blinkers_removed', 'blinkers_type_changed', 'blinkers_any_change', 'blinkers_high_impact_change', 'shoeing_first_time', 'fully_shod', 'front_shod_only', 'back_shod_only', 'barefoot', 'shoeing_changed', 'barefoot_to_shod', 'shod_to_barefoot', 'major_shoeing_change', 'shoeing_complexity', 'multiple_equipment_changes', 'equipment_momentum_score', 'high_equipment_momentum', 'multiple_first_time_changes', 'equipment_optimization_score', 'career_strike_rate', 'earnings_per_race', 'earnings_trend', 'last_race_position_normalized', 'last_race_odds_normalized', 'last_race_field_size_factor', 'distance_consistency', 'vha_normalized', 'claiming_tax_trend', 'class_stability', 'che_global_avg_pos', 'che_global_recent_perf', 'che_global_consistency', 'che_global_trend', 'che_global_pct_top3', 'che_global_nb_courses', 'che_global_total_races', 'che_global_dnf_rate', 'che_weighted_avg_pos', 'che_weighted_recent_perf', 'che_weighted_consistency', 'che_weighted_pct_top3', 'che_weighted_nb_courses', 'che_weighted_total_races', 'che_weighted_dnf_rate', 'che_weighted_trend', 'che_bytype_avg_pos', 'che_bytype_recent_perf', 'che_bytype_consistency', 'che_bytype_trend', 'che_bytype_pct_top3', 'che_bytype_nb_courses', 'che_bytype_total_races', 'che_bytype_dnf_rate', 'joc_global_avg_pos', 'joc_global_recent_perf', 'joc_global_consistency', 'joc_global_trend', 'joc_global_pct_top3', 'joc_global_nb_courses', 'joc_global_total_races', 'joc_global_dnf_rate', 'joc_weighted_avg_pos', 'joc_weighted_recent_perf', 'joc_weighted_consistency', 'joc_weighted_pct_top3', 'joc_weighted_nb_courses', 'joc_weighted_total_races', 'joc_weighted_dnf_rate', 'joc_weighted_trend', 'joc_bytype_avg_pos', 'joc_bytype_recent_perf', 'joc_bytype_consistency', 'joc_bytype_trend', 'joc_bytype_pct_top3', 'joc_bytype_nb_courses', 'joc_bytype_total_races', 'joc_bytype_dnf_rate', 'che_form_momentum', 'che_improving_form', 'che_declining_form', 'che_high_consistency', 'che_recent_quality', 'che_elite_performer', 'che_regular_placer', 'joc_form_momentum', 'joc_improving_form', 'joc_high_consistency', 'joc_elite_performer', 'synergy_both_improving', 'synergy_both_consistent', 'synergy_both_elite', 'overall_momentum_score', 'high_momentum', 'class_drop_pct', 'purse_per_starter', 'purse_ratio', 'moving_up_in_class', 'class_shock_indicator', 'handicap_level_change', 'time_per_distance', 'time_vs_record', 'pace_rating', 'speed_figure_proxy', 'market_confidence_shift', 'last_race_improvement', 'bounce_risk', 'layoff_distance_interaction', 'trainer_change', 'connection_stability', 'field_size_change', 'distance_comfort', 'competition_level_shift', 'recence_x_class_drop', 'trainer_change_x_recence', 'distance_change_x_recence', 'che_by_type_avg_pos', 'che_by_type_recent_perf', 'che_by_type_consistency', 'che_by_type_trend', 'che_by_type_pct_top3', 'che_by_type_nb_courses', 'che_by_type_total_races', 'che_by_type_dnf_rate', 'joc_by_type_avg_pos', 'joc_by_type_recent_perf', 'joc_by_type_consistency', 'joc_by_type_trend', 'joc_by_type_pct_top3', 'joc_by_type_nb_courses', 'joc_by_type_total_races', 'joc_by_type_dnf_rate', 'quinte_career_starts', 'quinte_win_rate', 'quinte_top5_rate', 'avg_quinte_position', 'days_since_last_quinte', 'quinte_handicap_specialist', 'quinte_conditions_specialist', 'quinte_large_field_ability', 'quinte_track_condition_fit', 'is_handicap_quinte', 'handicap_division', 'purse_level_category', 'field_size_category', 'track_condition_PH', 'track_condition_DUR', 'track_condition_PS', 'track_condition_PSF', 'weather_clear', 'weather_rain', 'weather_cloudy', 'post_position_bias', 'post_position_track_bias', 'raw_tabnet_prediction', 'predicted_position_tabnet', 'raw_rf_prediction', 'predicted_position_rf', 'predicted_position_base']
2025-11-13 09:38:18,251 - race_prediction.competitive_field_analyzer - INFO - === CRITICAL COLUMNS ANALYSIS ===
2025-11-13 09:38:18,251 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ recordG: 16/16 non-null values (100.0%)
2025-11-13 09:38:18,251 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [0.0, 0.0, 0.0]
2025-11-13 09:38:18,251 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ hippo: 16/16 non-null values (100.0%)
2025-11-13 09:38:18,252 - race_prediction.competitive_field_analyzer - INFO -    Sample values: ['Paris-Vincennes', 'Paris-Vincennes', 'Paris-Vincennes']
2025-11-13 09:38:18,252 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ coursescheval: 16/16 non-null values (100.0%)
2025-11-13 09:38:18,252 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [25, 22, 40]
2025-11-13 09:38:18,252 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ victoirescheval: 16/16 non-null values (100.0%)
2025-11-13 09:38:18,252 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [5, 3, 3]
2025-11-13 09:38:18,252 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ placescheval: 16/16 non-null values (100.0%)
2025-11-13 09:38:18,252 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [9, 7, 9]
2025-11-13 09:38:18,252 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ gainsCarriere: 16/16 non-null values (100.0%)
2025-11-13 09:38:18,252 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [8792000, 8806000, 8993000]
2025-11-13 09:38:18,252 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ age: 16/16 non-null values (100.0%)
2025-11-13 09:38:18,252 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [5, 5, 5]
2025-11-13 09:38:18,252 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ derniereplace: 16/16 non-null values (100.0%)
2025-11-13 09:38:18,252 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [9.0, 7.0, 15.0]
2025-11-13 09:38:18,252 - race_prediction.competitive_field_analyzer - INFO - === RACE METADATA ===
2025-11-13 09:38:18,252 - race_prediction.competitive_field_analyzer - INFO - comp: 1618791
2025-11-13 09:38:18,252 - race_prediction.competitive_field_analyzer - INFO - hippo: Paris-Vincennes
2025-11-13 09:38:18,252 - race_prediction.competitive_field_analyzer - INFO - dist: 2700
2025-11-13 09:38:18,252 - race_prediction.competitive_field_analyzer - INFO - typec: Attel√©
2025-11-13 09:38:18,252 - race_prediction.competitive_field_analyzer - INFO - partant: 16
2025-11-13 09:38:18,252 - race_prediction.competitive_field_analyzer - INFO - === SAMPLE RACE DATA ===
2025-11-13 09:38:18,252 - race_prediction.competitive_field_analyzer - INFO - Sample data (columns: ['numero', 'cheval', 'recordG', 'hippo', 'coursescheval']):
2025-11-13 09:38:18,253 - race_prediction.competitive_field_analyzer - INFO -   Horse 0: {'numero': 1, 'cheval': "Karvina d'Ela", 'recordG': 0.0, 'hippo': 'Paris-Vincennes', 'coursescheval': 25}
2025-11-13 09:38:18,253 - race_prediction.competitive_field_analyzer - INFO -   Horse 1: {'numero': 2, 'cheval': 'Koh Samui', 'recordG': 0.0, 'hippo': 'Paris-Vincennes', 'coursescheval': 22}
2025-11-13 09:38:18,253 - race_prediction.competitive_field_analyzer - INFO -   Horse 2: {'numero': 3, 'cheval': 'Kelle Class', 'recordG': 0.0, 'hippo': 'Paris-Vincennes', 'coursescheval': 40}
2025-11-13 09:38:18,253 - race_prediction.competitive_field_analyzer - INFO - === END COMPETITIVE ANALYSIS DEBUG ===

2025-11-13 09:38:18,253 - race_prediction.competitive_field_analyzer - INFO - === RETRIEVING HISTORICAL DATA ===
2025-11-13 09:38:18,253 - race_prediction.competitive_field_analyzer - INFO - Fetching historical data for 16 horses: [1580126, 1575520, 1566866, 1572457, 1565635, 1583971, 1552861, 1657540, 1557734, 1581928, 1660138, 1580185, 1584739, 1558628, 1552859, 1575465]
2025-11-13 09:38:18,255 - race_prediction.competitive_field_analyzer - INFO - Batch querying historical data for 16 horses: [1580126, 1575520, 1566866, 1572457, 1565635, 1583971, 1552861, 1657540, 1557734, 1581928, 1660138, 1580185, 1584739, 1558628, 1552859, 1575465]
2025-11-13 09:38:37,405 - race_prediction.competitive_field_analyzer - INFO - Batch query completed in 19.15s, found 181 total records
2025-11-13 09:38:37,413 - race_prediction.competitive_field_analyzer - INFO - Batch query retrieved 181 total historical races
2025-11-13 09:38:37,413 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS PER HORSE ===
2025-11-13 09:38:37,413 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1580126: 9 historical races found
2025-11-13 09:38:37,413 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1575520: 10 historical races found
2025-11-13 09:38:37,413 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1566866: 14 historical races found
2025-11-13 09:38:37,413 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1572457: 15 historical races found
2025-11-13 09:38:37,413 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1565635: 7 historical races found
2025-11-13 09:38:37,413 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1583971: 9 historical races found
2025-11-13 09:38:37,413 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1552861: 14 historical races found
2025-11-13 09:38:37,413 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1657540: 8 historical races found
2025-11-13 09:38:37,413 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1557734: 12 historical races found
2025-11-13 09:38:37,414 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1581928: 17 historical races found
2025-11-13 09:38:37,414 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1660138: 10 historical races found
2025-11-13 09:38:37,414 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1580185: 12 historical races found
2025-11-13 09:38:37,414 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1584739: 9 historical races found
2025-11-13 09:38:37,414 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1558628: 9 historical races found
2025-11-13 09:38:37,414 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1552859: 12 historical races found
2025-11-13 09:38:37,414 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1575465: 14 historical races found
2025-11-13 09:38:37,414 - race_prediction.competitive_field_analyzer - INFO - Retrieved 181 total historical races
2025-11-13 09:38:37,414 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS BY HORSE ===
2025-11-13 09:38:37,414 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1580126: 9 historical races
2025-11-13 09:38:37,414 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1575520: 10 historical races
2025-11-13 09:38:37,414 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1566866: 14 historical races
2025-11-13 09:38:37,414 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1572457: 15 historical races
2025-11-13 09:38:37,414 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1565635: 7 historical races
2025-11-13 09:38:37,414 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1583971: 9 historical races
2025-11-13 09:38:37,414 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1552861: 14 historical races
2025-11-13 09:38:37,414 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1657540: 8 historical races
2025-11-13 09:38:37,414 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1557734: 12 historical races
2025-11-13 09:38:37,414 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1581928: 17 historical races
2025-11-13 09:38:37,414 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1660138: 10 historical races
2025-11-13 09:38:37,414 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1580185: 12 historical races
2025-11-13 09:38:37,414 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1584739: 9 historical races
2025-11-13 09:38:37,414 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1558628: 9 historical races
2025-11-13 09:38:37,414 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1552859: 12 historical races
2025-11-13 09:38:37,414 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1575465: 14 historical races
2025-11-13 09:38:37,414 - race_prediction.competitive_field_analyzer - INFO - === END HISTORICAL DATA RETRIEVAL ===

2025-11-13 09:38:37,414 - race_prediction.competitive_field_analyzer - INFO - === EARNINGS QUALITY ANALYSIS ===
2025-11-13 09:38:37,414 - race_prediction.competitive_field_analyzer - INFO - Valid earnings data: 16/16 horses
2025-11-13 09:38:37,414 - race_prediction.competitive_field_analyzer - INFO - Sample earnings per race: ['351,680', '400,273', '224,825']
2025-11-13 09:38:37,414 - race_prediction.competitive_field_analyzer - INFO - Field earnings stats: avg=368,848, max=666,214
2025-11-13 09:38:37,415 - race_prediction.competitive_field_analyzer - INFO - === TRACK SPECIALIZATION ANALYSIS ===
2025-11-13 09:38:37,415 - race_prediction.competitive_field_analyzer - INFO - Horses with reliable venue data (3+ races): 0/16
2025-11-13 09:38:37,416 - race_prediction.competitive_field_analyzer - INFO - === FORM MOMENTUM ANALYSIS ===
2025-11-13 09:38:37,416 - race_prediction.competitive_field_analyzer - INFO - Field avg horse trend: 0.689, recent perf: 7.75
2025-11-13 09:38:37,416 - race_prediction.competitive_field_analyzer - INFO - Field avg jockey trend: -0.681
2025-11-13 09:38:37,416 - race_prediction.competitive_field_analyzer - INFO - Horses with improving form: 4/16
2025-11-13 09:38:37,416 - race_prediction.competitive_field_analyzer - INFO - === HOT CONNECTIONS ANALYSIS ===
2025-11-13 09:38:37,416 - race_prediction.competitive_field_analyzer - INFO - Jockeys with wins today: 0/16
2025-11-13 09:38:37,416 - race_prediction.competitive_field_analyzer - INFO - Trainers with wins today: 0/16
2025-11-13 09:38:37,417 - race_prediction.competitive_field_analyzer - INFO - === DISTANCE COMFORT ANALYSIS ===
2025-11-13 09:38:37,417 - race_prediction.competitive_field_analyzer - INFO - Current race distance: 2700m
2025-11-13 09:38:37,417 - race_prediction.competitive_field_analyzer - INFO - Horses with similar recent distance: 13/16
2025-11-13 09:38:37,417 - race_prediction.competitive_field_analyzer - INFO - === REALISTIC COMPETITIVE SCORING ===
2025-11-13 09:38:37,417 - race_prediction.competitive_field_analyzer - INFO - üìä COMPETITIVE ANALYSIS SUMMARY:
2025-11-13 09:38:37,417 - race_prediction.competitive_field_analyzer - INFO -    Total competitive races: 181
2025-11-13 09:38:37,417 - race_prediction.competitive_field_analyzer - INFO -    Horses with historical data: 16/16
2025-11-13 09:38:37,417 - race_prediction.competitive_field_analyzer - INFO -    Average races per horse: 11.3
2025-11-13 09:38:37,427 - race_prediction.quinte_prediction_storage - INFO - Stored 16 horses for Quint√© race 1618791
2025-11-13 09:38:39,304 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE ANALYSIS DEBUG ===
2025-11-13 09:38:39,304 - race_prediction.competitive_field_analyzer - INFO - Analyzing competitive field for race with 14 horses
2025-11-13 09:38:39,304 - race_prediction.competitive_field_analyzer - INFO - Race data shape: (14, 280)
2025-11-13 09:38:39,304 - race_prediction.competitive_field_analyzer - INFO - Available columns: ['id', 'comp', 'jour', 'hippo', 'reun', 'prix', 'prixnom', 'typec', 'partant', 'dist', 'handi', 'groupe', 'quinte', 'natpis', 'meteo', 'corde', 'temperature', 'forceVent', 'directionVent', 'nebulosite', 'prediction_results', 'actual_results', 'created_at', 'updated_at', 'processed_data', 'cheque', 'handi_raw', 'reclam', 'sex', 'tempscourse', 'handicap_level_score', 'cl', 'numero', 'cheval', 'age', 'cotedirect', 'coteprob', 'recence', 'ecar', 'defoeil', 'defoeilPrec', 'musiqueche', 'musiquejoc', 'entraineur', 'coursescheval', 'victoirescheval', 'placescheval', 'dernierealloc', 'derniernbpartants', 'dernieredist', 'derniereplace', 'dernierecote', 'dernierEnt', 'proprietaire', 'poidmont', 'pourcVictJockHippo', 'pourcPlaceJockHippo', 'pourcVictChevalHippo', 'pourcPlaceChevalHippo', 'tempstot', 'vha', 'recordG', 'txreclam', 'dernierTxreclam', 'gainsCarriere', 'gainsAnneeEnCours', 'handicapDistance', 'handicapPoids', 'TxVictCouple', 'nbVictCouple', 'nbPlaceCouple', 'idche', 'idJockey', 'idEntraineur', 'defFirstTime', 'oeilFirstTime', 'oeil', 'dernierOeil', 'ratio_victoires', 'ratio_places', 'gains_par_course', 'efficacite_couple', 'regularite_couple', 'progression_couple', 'perf_cheval_hippo', 'perf_jockey_hippo', 'trainer_victoires', 'trainer_places', 'trainer_courses', 'trainer_winrate', 'trainer_placerate', 'trainer_quality_score', 'trainer_experience_level', 'handicap_poids', 'handicap_dist', 'prec_handicap_poids', 'prec_handicap_dist', 'handicap_poids_change', 'handicap_poids_increased', 'handicap_poids_decreased', 'handicap_dist_change', 'handicap_dist_increased', 'handicap_dist_decreased', 'total_handicap', 'handicap_momentum', 'last_race_position', 'last_race_distance', 'distance_change', 'distance_change_pct', 'distance_increased', 'distance_decreased', 'same_distance', 'corde_change', 'corde_improved', 'corde_worsened', 'last_race_top3', 'last_race_won', 'blinkers_first_time', 'has_blinkers', 'has_standard_blinkers', 'has_australian_blinkers', 'blinkers_added', 'blinkers_removed', 'blinkers_type_changed', 'blinkers_any_change', 'blinkers_high_impact_change', 'shoeing_first_time', 'fully_shod', 'front_shod_only', 'back_shod_only', 'barefoot', 'shoeing_changed', 'barefoot_to_shod', 'shod_to_barefoot', 'major_shoeing_change', 'shoeing_complexity', 'multiple_equipment_changes', 'equipment_momentum_score', 'high_equipment_momentum', 'multiple_first_time_changes', 'equipment_optimization_score', 'career_strike_rate', 'earnings_per_race', 'earnings_trend', 'last_race_position_normalized', 'last_race_odds_normalized', 'last_race_field_size_factor', 'distance_consistency', 'vha_normalized', 'claiming_tax_trend', 'class_stability', 'che_global_avg_pos', 'che_global_recent_perf', 'che_global_consistency', 'che_global_trend', 'che_global_pct_top3', 'che_global_nb_courses', 'che_global_total_races', 'che_global_dnf_rate', 'che_weighted_avg_pos', 'che_weighted_recent_perf', 'che_weighted_consistency', 'che_weighted_pct_top3', 'che_weighted_nb_courses', 'che_weighted_total_races', 'che_weighted_dnf_rate', 'che_weighted_trend', 'che_bytype_avg_pos', 'che_bytype_recent_perf', 'che_bytype_consistency', 'che_bytype_trend', 'che_bytype_pct_top3', 'che_bytype_nb_courses', 'che_bytype_total_races', 'che_bytype_dnf_rate', 'joc_global_avg_pos', 'joc_global_recent_perf', 'joc_global_consistency', 'joc_global_trend', 'joc_global_pct_top3', 'joc_global_nb_courses', 'joc_global_total_races', 'joc_global_dnf_rate', 'joc_weighted_avg_pos', 'joc_weighted_recent_perf', 'joc_weighted_consistency', 'joc_weighted_pct_top3', 'joc_weighted_nb_courses', 'joc_weighted_total_races', 'joc_weighted_dnf_rate', 'joc_weighted_trend', 'joc_bytype_avg_pos', 'joc_bytype_recent_perf', 'joc_bytype_consistency', 'joc_bytype_trend', 'joc_bytype_pct_top3', 'joc_bytype_nb_courses', 'joc_bytype_total_races', 'joc_bytype_dnf_rate', 'che_form_momentum', 'che_improving_form', 'che_declining_form', 'che_high_consistency', 'che_recent_quality', 'che_elite_performer', 'che_regular_placer', 'joc_form_momentum', 'joc_improving_form', 'joc_high_consistency', 'joc_elite_performer', 'synergy_both_improving', 'synergy_both_consistent', 'synergy_both_elite', 'overall_momentum_score', 'high_momentum', 'class_drop_pct', 'purse_per_starter', 'purse_ratio', 'moving_up_in_class', 'class_shock_indicator', 'handicap_level_change', 'time_per_distance', 'time_vs_record', 'pace_rating', 'speed_figure_proxy', 'market_confidence_shift', 'last_race_improvement', 'bounce_risk', 'layoff_distance_interaction', 'trainer_change', 'connection_stability', 'field_size_change', 'distance_comfort', 'competition_level_shift', 'recence_x_class_drop', 'trainer_change_x_recence', 'distance_change_x_recence', 'che_by_type_avg_pos', 'che_by_type_recent_perf', 'che_by_type_consistency', 'che_by_type_trend', 'che_by_type_pct_top3', 'che_by_type_nb_courses', 'che_by_type_total_races', 'che_by_type_dnf_rate', 'joc_by_type_avg_pos', 'joc_by_type_recent_perf', 'joc_by_type_consistency', 'joc_by_type_trend', 'joc_by_type_pct_top3', 'joc_by_type_nb_courses', 'joc_by_type_total_races', 'joc_by_type_dnf_rate', 'quinte_career_starts', 'quinte_win_rate', 'quinte_top5_rate', 'avg_quinte_position', 'days_since_last_quinte', 'quinte_handicap_specialist', 'quinte_conditions_specialist', 'quinte_large_field_ability', 'quinte_track_condition_fit', 'is_handicap_quinte', 'handicap_division', 'purse_level_category', 'field_size_category', 'track_condition_PH', 'track_condition_DUR', 'track_condition_PS', 'track_condition_PSF', 'weather_clear', 'weather_rain', 'weather_cloudy', 'post_position_bias', 'post_position_track_bias', 'raw_tabnet_prediction', 'predicted_position_tabnet', 'raw_rf_prediction', 'predicted_position_rf', 'predicted_position_base']
2025-11-13 09:38:39,305 - race_prediction.competitive_field_analyzer - INFO - === CRITICAL COLUMNS ANALYSIS ===
2025-11-13 09:38:39,305 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ recordG: 14/14 non-null values (100.0%)
2025-11-13 09:38:39,305 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [0.0, 0.0, 0.0]
2025-11-13 09:38:39,305 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ hippo: 14/14 non-null values (100.0%)
2025-11-13 09:38:39,306 - race_prediction.competitive_field_analyzer - INFO -    Sample values: ['Beaumont-de-Lomagne', 'Beaumont-de-Lomagne', 'Beaumont-de-Lomagne']
2025-11-13 09:38:39,306 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ coursescheval: 14/14 non-null values (100.0%)
2025-11-13 09:38:39,306 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [28, 38, 44]
2025-11-13 09:38:39,306 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ victoirescheval: 14/14 non-null values (100.0%)
2025-11-13 09:38:39,306 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [9, 7, 5]
2025-11-13 09:38:39,306 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ placescheval: 14/14 non-null values (100.0%)
2025-11-13 09:38:39,306 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [16, 21, 15]
2025-11-13 09:38:39,306 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ gainsCarriere: 14/14 non-null values (100.0%)
2025-11-13 09:38:39,306 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [21669500, 20948000, 21108000]
2025-11-13 09:38:39,306 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ age: 14/14 non-null values (100.0%)
2025-11-13 09:38:39,306 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [6, 6, 7]
2025-11-13 09:38:39,307 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ derniereplace: 14/14 non-null values (100.0%)
2025-11-13 09:38:39,307 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [3, 1, 5]
2025-11-13 09:38:39,307 - race_prediction.competitive_field_analyzer - INFO - === RACE METADATA ===
2025-11-13 09:38:39,307 - race_prediction.competitive_field_analyzer - INFO - comp: 1615378
2025-11-13 09:38:39,307 - race_prediction.competitive_field_analyzer - INFO - hippo: Beaumont-de-Lomagne
2025-11-13 09:38:39,307 - race_prediction.competitive_field_analyzer - INFO - dist: 2400
2025-11-13 09:38:39,307 - race_prediction.competitive_field_analyzer - INFO - typec: Attel√©
2025-11-13 09:38:39,307 - race_prediction.competitive_field_analyzer - INFO - partant: 14
2025-11-13 09:38:39,307 - race_prediction.competitive_field_analyzer - INFO - === SAMPLE RACE DATA ===
2025-11-13 09:38:39,307 - race_prediction.competitive_field_analyzer - INFO - Sample data (columns: ['numero', 'cheval', 'recordG', 'hippo', 'coursescheval']):
2025-11-13 09:38:39,307 - race_prediction.competitive_field_analyzer - INFO -   Horse 0: {'numero': 1, 'cheval': 'Joyce Delto', 'recordG': 0.0, 'hippo': 'Beaumont-de-Lomagne', 'coursescheval': 28}
2025-11-13 09:38:39,307 - race_prediction.competitive_field_analyzer - INFO -   Horse 1: {'numero': 2, 'cheval': 'Jojo Toons', 'recordG': 0.0, 'hippo': 'Beaumont-de-Lomagne', 'coursescheval': 38}
2025-11-13 09:38:39,307 - race_prediction.competitive_field_analyzer - INFO -   Horse 2: {'numero': 3, 'cheval': 'Ivrig Viking', 'recordG': 0.0, 'hippo': 'Beaumont-de-Lomagne', 'coursescheval': 44}
2025-11-13 09:38:39,307 - race_prediction.competitive_field_analyzer - INFO - === END COMPETITIVE ANALYSIS DEBUG ===

2025-11-13 09:38:39,307 - race_prediction.competitive_field_analyzer - INFO - === RETRIEVING HISTORICAL DATA ===
2025-11-13 09:38:39,307 - race_prediction.competitive_field_analyzer - INFO - Fetching historical data for 14 horses: [1521761, 1557632, 1463210, 1521583, 1571199, 1430643, 1389154, 1430819, 1515024, 1526420, 1335733, 1403264, 1510772, 1513940]
2025-11-13 09:38:39,308 - race_prediction.competitive_field_analyzer - INFO - Batch querying historical data for 14 horses: [1521761, 1557632, 1463210, 1521583, 1571199, 1430643, 1389154, 1430819, 1515024, 1526420, 1335733, 1403264, 1510772, 1513940]
2025-11-13 09:38:58,621 - race_prediction.competitive_field_analyzer - INFO - Batch query completed in 19.31s, found 179 total records
2025-11-13 09:38:58,629 - race_prediction.competitive_field_analyzer - INFO - Batch query retrieved 179 total historical races
2025-11-13 09:38:58,629 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS PER HORSE ===
2025-11-13 09:38:58,629 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1521761: 11 historical races found
2025-11-13 09:38:58,629 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1557632: 15 historical races found
2025-11-13 09:38:58,629 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1463210: 7 historical races found
2025-11-13 09:38:58,629 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1521583: 11 historical races found
2025-11-13 09:38:58,629 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1571199: 15 historical races found
2025-11-13 09:38:58,629 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1430643: 20 historical races found
2025-11-13 09:38:58,629 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1389154: 9 historical races found
2025-11-13 09:38:58,629 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1430819: 13 historical races found
2025-11-13 09:38:58,629 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1515024: 6 historical races found
2025-11-13 09:38:58,629 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1526420: 12 historical races found
2025-11-13 09:38:58,629 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1335733: 19 historical races found
2025-11-13 09:38:58,629 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1403264: 10 historical races found
2025-11-13 09:38:58,629 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1510772: 18 historical races found
2025-11-13 09:38:58,629 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1513940: 13 historical races found
2025-11-13 09:38:58,630 - race_prediction.competitive_field_analyzer - INFO - Retrieved 179 total historical races
2025-11-13 09:38:58,630 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS BY HORSE ===
2025-11-13 09:38:58,630 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1521761: 11 historical races
2025-11-13 09:38:58,630 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1557632: 15 historical races
2025-11-13 09:38:58,630 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1463210: 7 historical races
2025-11-13 09:38:58,630 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1521583: 11 historical races
2025-11-13 09:38:58,630 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1571199: 15 historical races
2025-11-13 09:38:58,630 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1430643: 20 historical races
2025-11-13 09:38:58,630 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1389154: 9 historical races
2025-11-13 09:38:58,630 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1430819: 13 historical races
2025-11-13 09:38:58,630 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1515024: 6 historical races
2025-11-13 09:38:58,630 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1526420: 12 historical races
2025-11-13 09:38:58,630 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1335733: 19 historical races
2025-11-13 09:38:58,630 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1403264: 10 historical races
2025-11-13 09:38:58,630 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1510772: 18 historical races
2025-11-13 09:38:58,630 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1513940: 13 historical races
2025-11-13 09:38:58,630 - race_prediction.competitive_field_analyzer - INFO - === END HISTORICAL DATA RETRIEVAL ===

2025-11-13 09:38:58,630 - race_prediction.competitive_field_analyzer - INFO - === EARNINGS QUALITY ANALYSIS ===
2025-11-13 09:38:58,630 - race_prediction.competitive_field_analyzer - INFO - Valid earnings data: 14/14 horses
2025-11-13 09:38:58,630 - race_prediction.competitive_field_analyzer - INFO - Sample earnings per race: ['773,911', '551,263', '479,727']
2025-11-13 09:38:58,630 - race_prediction.competitive_field_analyzer - INFO - Field earnings stats: avg=449,186, max=773,911
2025-11-13 09:38:58,631 - race_prediction.competitive_field_analyzer - INFO - === TRACK SPECIALIZATION ANALYSIS ===
2025-11-13 09:38:58,631 - race_prediction.competitive_field_analyzer - INFO - Horses with reliable venue data (3+ races): 0/14
2025-11-13 09:38:58,631 - race_prediction.competitive_field_analyzer - INFO - === FORM MOMENTUM ANALYSIS ===
2025-11-13 09:38:58,631 - race_prediction.competitive_field_analyzer - INFO - Field avg horse trend: 2.359, recent perf: 5.81
2025-11-13 09:38:58,631 - race_prediction.competitive_field_analyzer - INFO - Field avg jockey trend: 0.306
2025-11-13 09:38:58,632 - race_prediction.competitive_field_analyzer - INFO - Horses with improving form: 3/14
2025-11-13 09:38:58,632 - race_prediction.competitive_field_analyzer - INFO - === HOT CONNECTIONS ANALYSIS ===
2025-11-13 09:38:58,632 - race_prediction.competitive_field_analyzer - INFO - Jockeys with wins today: 0/14
2025-11-13 09:38:58,632 - race_prediction.competitive_field_analyzer - INFO - Trainers with wins today: 0/14
2025-11-13 09:38:58,632 - race_prediction.competitive_field_analyzer - INFO - === DISTANCE COMFORT ANALYSIS ===
2025-11-13 09:38:58,632 - race_prediction.competitive_field_analyzer - INFO - Current race distance: 2400m
2025-11-13 09:38:58,632 - race_prediction.competitive_field_analyzer - INFO - Horses with similar recent distance: 4/14
2025-11-13 09:38:58,632 - race_prediction.competitive_field_analyzer - INFO - === REALISTIC COMPETITIVE SCORING ===
2025-11-13 09:38:58,637 - race_prediction.competitive_field_analyzer - INFO - üìä COMPETITIVE ANALYSIS SUMMARY:
2025-11-13 09:38:58,637 - race_prediction.competitive_field_analyzer - INFO -    Total competitive races: 179
2025-11-13 09:38:58,637 - race_prediction.competitive_field_analyzer - INFO -    Horses with historical data: 14/14
2025-11-13 09:38:58,637 - race_prediction.competitive_field_analyzer - INFO -    Average races per horse: 12.8
2025-11-13 09:38:58,648 - race_prediction.quinte_prediction_storage - INFO - Stored 14 horses for Quint√© race 1615378
2025-11-13 09:39:00,574 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE ANALYSIS DEBUG ===
2025-11-13 09:39:00,574 - race_prediction.competitive_field_analyzer - INFO - Analyzing competitive field for race with 16 horses
2025-11-13 09:39:00,574 - race_prediction.competitive_field_analyzer - INFO - Race data shape: (16, 280)
2025-11-13 09:39:00,574 - race_prediction.competitive_field_analyzer - INFO - Available columns: ['id', 'comp', 'jour', 'hippo', 'reun', 'prix', 'prixnom', 'typec', 'partant', 'dist', 'handi', 'groupe', 'quinte', 'natpis', 'meteo', 'corde', 'temperature', 'forceVent', 'directionVent', 'nebulosite', 'prediction_results', 'actual_results', 'created_at', 'updated_at', 'processed_data', 'cheque', 'handi_raw', 'reclam', 'sex', 'tempscourse', 'handicap_level_score', 'cl', 'numero', 'cheval', 'age', 'cotedirect', 'coteprob', 'recence', 'ecar', 'defoeil', 'defoeilPrec', 'musiqueche', 'musiquejoc', 'entraineur', 'coursescheval', 'victoirescheval', 'placescheval', 'dernierealloc', 'derniernbpartants', 'dernieredist', 'derniereplace', 'dernierecote', 'dernierEnt', 'proprietaire', 'poidmont', 'pourcVictJockHippo', 'pourcPlaceJockHippo', 'pourcVictChevalHippo', 'pourcPlaceChevalHippo', 'tempstot', 'vha', 'recordG', 'txreclam', 'dernierTxreclam', 'gainsCarriere', 'gainsAnneeEnCours', 'handicapDistance', 'handicapPoids', 'TxVictCouple', 'nbVictCouple', 'nbPlaceCouple', 'idche', 'idJockey', 'idEntraineur', 'defFirstTime', 'oeilFirstTime', 'oeil', 'dernierOeil', 'ratio_victoires', 'ratio_places', 'gains_par_course', 'efficacite_couple', 'regularite_couple', 'progression_couple', 'perf_cheval_hippo', 'perf_jockey_hippo', 'trainer_victoires', 'trainer_places', 'trainer_courses', 'trainer_winrate', 'trainer_placerate', 'trainer_quality_score', 'trainer_experience_level', 'handicap_poids', 'handicap_dist', 'prec_handicap_poids', 'prec_handicap_dist', 'handicap_poids_change', 'handicap_poids_increased', 'handicap_poids_decreased', 'handicap_dist_change', 'handicap_dist_increased', 'handicap_dist_decreased', 'total_handicap', 'handicap_momentum', 'last_race_position', 'last_race_distance', 'distance_change', 'distance_change_pct', 'distance_increased', 'distance_decreased', 'same_distance', 'corde_change', 'corde_improved', 'corde_worsened', 'last_race_top3', 'last_race_won', 'blinkers_first_time', 'has_blinkers', 'has_standard_blinkers', 'has_australian_blinkers', 'blinkers_added', 'blinkers_removed', 'blinkers_type_changed', 'blinkers_any_change', 'blinkers_high_impact_change', 'shoeing_first_time', 'fully_shod', 'front_shod_only', 'back_shod_only', 'barefoot', 'shoeing_changed', 'barefoot_to_shod', 'shod_to_barefoot', 'major_shoeing_change', 'shoeing_complexity', 'multiple_equipment_changes', 'equipment_momentum_score', 'high_equipment_momentum', 'multiple_first_time_changes', 'equipment_optimization_score', 'career_strike_rate', 'earnings_per_race', 'earnings_trend', 'last_race_position_normalized', 'last_race_odds_normalized', 'last_race_field_size_factor', 'distance_consistency', 'vha_normalized', 'claiming_tax_trend', 'class_stability', 'che_global_avg_pos', 'che_global_recent_perf', 'che_global_consistency', 'che_global_trend', 'che_global_pct_top3', 'che_global_nb_courses', 'che_global_total_races', 'che_global_dnf_rate', 'che_weighted_avg_pos', 'che_weighted_recent_perf', 'che_weighted_consistency', 'che_weighted_pct_top3', 'che_weighted_nb_courses', 'che_weighted_total_races', 'che_weighted_dnf_rate', 'che_weighted_trend', 'che_bytype_avg_pos', 'che_bytype_recent_perf', 'che_bytype_consistency', 'che_bytype_trend', 'che_bytype_pct_top3', 'che_bytype_nb_courses', 'che_bytype_total_races', 'che_bytype_dnf_rate', 'joc_global_avg_pos', 'joc_global_recent_perf', 'joc_global_consistency', 'joc_global_trend', 'joc_global_pct_top3', 'joc_global_nb_courses', 'joc_global_total_races', 'joc_global_dnf_rate', 'joc_weighted_avg_pos', 'joc_weighted_recent_perf', 'joc_weighted_consistency', 'joc_weighted_pct_top3', 'joc_weighted_nb_courses', 'joc_weighted_total_races', 'joc_weighted_dnf_rate', 'joc_weighted_trend', 'joc_bytype_avg_pos', 'joc_bytype_recent_perf', 'joc_bytype_consistency', 'joc_bytype_trend', 'joc_bytype_pct_top3', 'joc_bytype_nb_courses', 'joc_bytype_total_races', 'joc_bytype_dnf_rate', 'che_form_momentum', 'che_improving_form', 'che_declining_form', 'che_high_consistency', 'che_recent_quality', 'che_elite_performer', 'che_regular_placer', 'joc_form_momentum', 'joc_improving_form', 'joc_high_consistency', 'joc_elite_performer', 'synergy_both_improving', 'synergy_both_consistent', 'synergy_both_elite', 'overall_momentum_score', 'high_momentum', 'class_drop_pct', 'purse_per_starter', 'purse_ratio', 'moving_up_in_class', 'class_shock_indicator', 'handicap_level_change', 'time_per_distance', 'time_vs_record', 'pace_rating', 'speed_figure_proxy', 'market_confidence_shift', 'last_race_improvement', 'bounce_risk', 'layoff_distance_interaction', 'trainer_change', 'connection_stability', 'field_size_change', 'distance_comfort', 'competition_level_shift', 'recence_x_class_drop', 'trainer_change_x_recence', 'distance_change_x_recence', 'che_by_type_avg_pos', 'che_by_type_recent_perf', 'che_by_type_consistency', 'che_by_type_trend', 'che_by_type_pct_top3', 'che_by_type_nb_courses', 'che_by_type_total_races', 'che_by_type_dnf_rate', 'joc_by_type_avg_pos', 'joc_by_type_recent_perf', 'joc_by_type_consistency', 'joc_by_type_trend', 'joc_by_type_pct_top3', 'joc_by_type_nb_courses', 'joc_by_type_total_races', 'joc_by_type_dnf_rate', 'quinte_career_starts', 'quinte_win_rate', 'quinte_top5_rate', 'avg_quinte_position', 'days_since_last_quinte', 'quinte_handicap_specialist', 'quinte_conditions_specialist', 'quinte_large_field_ability', 'quinte_track_condition_fit', 'is_handicap_quinte', 'handicap_division', 'purse_level_category', 'field_size_category', 'track_condition_PH', 'track_condition_DUR', 'track_condition_PS', 'track_condition_PSF', 'weather_clear', 'weather_rain', 'weather_cloudy', 'post_position_bias', 'post_position_track_bias', 'raw_tabnet_prediction', 'predicted_position_tabnet', 'raw_rf_prediction', 'predicted_position_rf', 'predicted_position_base']
2025-11-13 09:39:00,574 - race_prediction.competitive_field_analyzer - INFO - === CRITICAL COLUMNS ANALYSIS ===
2025-11-13 09:39:00,574 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ recordG: 16/16 non-null values (100.0%)
2025-11-13 09:39:00,574 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [0.0, 0.0, 0.0]
2025-11-13 09:39:00,574 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ hippo: 16/16 non-null values (100.0%)
2025-11-13 09:39:00,574 - race_prediction.competitive_field_analyzer - INFO -    Sample values: ['Deauville', 'Deauville', 'Deauville']
2025-11-13 09:39:00,575 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ coursescheval: 16/16 non-null values (100.0%)
2025-11-13 09:39:00,575 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [25, 9, 17]
2025-11-13 09:39:00,575 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ victoirescheval: 16/16 non-null values (100.0%)
2025-11-13 09:39:00,575 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [7, 3, 2]
2025-11-13 09:39:00,575 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ placescheval: 16/16 non-null values (100.0%)
2025-11-13 09:39:00,575 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [12, 4, 8]
2025-11-13 09:39:00,575 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ gainsCarriere: 16/16 non-null values (100.0%)
2025-11-13 09:39:00,575 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [15966500, 4109200, 10717200]
2025-11-13 09:39:00,575 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ age: 16/16 non-null values (100.0%)
2025-11-13 09:39:00,575 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [8, 4, 5]
2025-11-13 09:39:00,575 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ derniereplace: 16/16 non-null values (100.0%)
2025-11-13 09:39:00,575 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [8, 6, 6]
2025-11-13 09:39:00,575 - race_prediction.competitive_field_analyzer - INFO - === RACE METADATA ===
2025-11-13 09:39:00,575 - race_prediction.competitive_field_analyzer - INFO - comp: 1607304
2025-11-13 09:39:00,575 - race_prediction.competitive_field_analyzer - INFO - hippo: Deauville
2025-11-13 09:39:00,575 - race_prediction.competitive_field_analyzer - INFO - dist: 1900
2025-11-13 09:39:00,575 - race_prediction.competitive_field_analyzer - INFO - typec: Plat
2025-11-13 09:39:00,575 - race_prediction.competitive_field_analyzer - INFO - partant: 16
2025-11-13 09:39:00,575 - race_prediction.competitive_field_analyzer - INFO - === SAMPLE RACE DATA ===
2025-11-13 09:39:00,575 - race_prediction.competitive_field_analyzer - INFO - Sample data (columns: ['numero', 'cheval', 'recordG', 'hippo', 'coursescheval']):
2025-11-13 09:39:00,576 - race_prediction.competitive_field_analyzer - INFO -   Horse 0: {'numero': 1, 'cheval': 'Kahuna', 'recordG': 0.0, 'hippo': 'Deauville', 'coursescheval': 25}
2025-11-13 09:39:00,576 - race_prediction.competitive_field_analyzer - INFO -   Horse 1: {'numero': 2, 'cheval': 'Prince des Villes', 'recordG': 0.0, 'hippo': 'Deauville', 'coursescheval': 9}
2025-11-13 09:39:00,576 - race_prediction.competitive_field_analyzer - INFO -   Horse 2: {'numero': 3, 'cheval': 'Zvaroshka', 'recordG': 0.0, 'hippo': 'Deauville', 'coursescheval': 17}
2025-11-13 09:39:00,576 - race_prediction.competitive_field_analyzer - INFO - === END COMPETITIVE ANALYSIS DEBUG ===

2025-11-13 09:39:00,576 - race_prediction.competitive_field_analyzer - INFO - === RETRIEVING HISTORICAL DATA ===
2025-11-13 09:39:00,576 - race_prediction.competitive_field_analyzer - INFO - Fetching historical data for 16 horses: [1361490, 1653818, 1570962, 1416740, 1559477, 1523271, 1649377, 1520399, 1553763, 1655545, 1661687, 1572948, 1654163, 1409128, 1696582, 1651290]
2025-11-13 09:39:00,577 - race_prediction.competitive_field_analyzer - INFO - Batch querying historical data for 16 horses: [1361490, 1653818, 1570962, 1416740, 1559477, 1523271, 1649377, 1520399, 1553763, 1655545, 1661687, 1572948, 1654163, 1409128, 1696582, 1651290]
2025-11-13 09:39:19,881 - race_prediction.competitive_field_analyzer - INFO - Batch query completed in 19.30s, found 138 total records
2025-11-13 09:39:19,888 - race_prediction.competitive_field_analyzer - INFO - Batch query retrieved 138 total historical races
2025-11-13 09:39:19,888 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS PER HORSE ===
2025-11-13 09:39:19,888 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1361490: 7 historical races found
2025-11-13 09:39:19,888 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1653818: 6 historical races found
2025-11-13 09:39:19,888 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1570962: 5 historical races found
2025-11-13 09:39:19,888 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1416740: 13 historical races found
2025-11-13 09:39:19,888 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1559477: 4 historical races found
2025-11-13 09:39:19,888 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1523271: 13 historical races found
2025-11-13 09:39:19,888 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1649377: 11 historical races found
2025-11-13 09:39:19,888 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1520399: 6 historical races found
2025-11-13 09:39:19,888 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1553763: 9 historical races found
2025-11-13 09:39:19,888 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1655545: 7 historical races found
2025-11-13 09:39:19,888 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1661687: 7 historical races found
2025-11-13 09:39:19,888 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1572948: 8 historical races found
2025-11-13 09:39:19,888 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1654163: 9 historical races found
2025-11-13 09:39:19,888 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1409128: 17 historical races found
2025-11-13 09:39:19,888 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1696582: 9 historical races found
2025-11-13 09:39:19,888 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1651290: 7 historical races found
2025-11-13 09:39:19,888 - race_prediction.competitive_field_analyzer - INFO - Retrieved 138 total historical races
2025-11-13 09:39:19,888 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS BY HORSE ===
2025-11-13 09:39:19,888 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1361490: 7 historical races
2025-11-13 09:39:19,888 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1653818: 6 historical races
2025-11-13 09:39:19,888 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1570962: 5 historical races
2025-11-13 09:39:19,888 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1416740: 13 historical races
2025-11-13 09:39:19,888 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1559477: 4 historical races
2025-11-13 09:39:19,888 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1523271: 13 historical races
2025-11-13 09:39:19,888 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1649377: 11 historical races
2025-11-13 09:39:19,888 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1520399: 6 historical races
2025-11-13 09:39:19,889 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1553763: 9 historical races
2025-11-13 09:39:19,889 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1655545: 7 historical races
2025-11-13 09:39:19,889 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1661687: 7 historical races
2025-11-13 09:39:19,889 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1572948: 8 historical races
2025-11-13 09:39:19,889 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1654163: 9 historical races
2025-11-13 09:39:19,889 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1409128: 17 historical races
2025-11-13 09:39:19,889 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1696582: 9 historical races
2025-11-13 09:39:19,889 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1651290: 7 historical races
2025-11-13 09:39:19,889 - race_prediction.competitive_field_analyzer - INFO - === END HISTORICAL DATA RETRIEVAL ===

2025-11-13 09:39:19,889 - race_prediction.competitive_field_analyzer - INFO - === EARNINGS QUALITY ANALYSIS ===
2025-11-13 09:39:19,889 - race_prediction.competitive_field_analyzer - INFO - Valid earnings data: 16/16 horses
2025-11-13 09:39:19,889 - race_prediction.competitive_field_analyzer - INFO - Sample earnings per race: ['638,660', '456,578', '630,424']
2025-11-13 09:39:19,889 - race_prediction.competitive_field_analyzer - INFO - Field earnings stats: avg=407,481, max=638,660
2025-11-13 09:39:19,890 - race_prediction.competitive_field_analyzer - INFO - === TRACK SPECIALIZATION ANALYSIS ===
2025-11-13 09:39:19,890 - race_prediction.competitive_field_analyzer - INFO - Horses with reliable venue data (3+ races): 0/16
2025-11-13 09:39:19,891 - race_prediction.competitive_field_analyzer - INFO - === FORM MOMENTUM ANALYSIS ===
2025-11-13 09:39:19,891 - race_prediction.competitive_field_analyzer - INFO - Field avg horse trend: -1.788, recent perf: 8.44
2025-11-13 09:39:19,891 - race_prediction.competitive_field_analyzer - INFO - Field avg jockey trend: -2.168
2025-11-13 09:39:19,891 - race_prediction.competitive_field_analyzer - INFO - Horses with improving form: 4/16
2025-11-13 09:39:19,891 - race_prediction.competitive_field_analyzer - INFO - === HOT CONNECTIONS ANALYSIS ===
2025-11-13 09:39:19,891 - race_prediction.competitive_field_analyzer - INFO - Jockeys with wins today: 0/16
2025-11-13 09:39:19,891 - race_prediction.competitive_field_analyzer - INFO - Trainers with wins today: 0/16
2025-11-13 09:39:19,891 - race_prediction.competitive_field_analyzer - INFO - === DISTANCE COMFORT ANALYSIS ===
2025-11-13 09:39:19,891 - race_prediction.competitive_field_analyzer - INFO - Current race distance: 1900m
2025-11-13 09:39:19,891 - race_prediction.competitive_field_analyzer - INFO - Horses with similar recent distance: 11/16
2025-11-13 09:39:19,892 - race_prediction.competitive_field_analyzer - INFO - === REALISTIC COMPETITIVE SCORING ===
2025-11-13 09:39:19,892 - race_prediction.competitive_field_analyzer - INFO - üìä COMPETITIVE ANALYSIS SUMMARY:
2025-11-13 09:39:19,892 - race_prediction.competitive_field_analyzer - INFO -    Total competitive races: 138
2025-11-13 09:39:19,892 - race_prediction.competitive_field_analyzer - INFO -    Horses with historical data: 16/16
2025-11-13 09:39:19,892 - race_prediction.competitive_field_analyzer - INFO -    Average races per horse: 8.6
2025-11-13 09:39:19,902 - race_prediction.quinte_prediction_storage - INFO - Stored 16 horses for Quint√© race 1607304
2025-11-13 09:39:21,762 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE ANALYSIS DEBUG ===
2025-11-13 09:39:21,763 - race_prediction.competitive_field_analyzer - INFO - Analyzing competitive field for race with 16 horses
2025-11-13 09:39:21,763 - race_prediction.competitive_field_analyzer - INFO - Race data shape: (16, 280)
2025-11-13 09:39:21,763 - race_prediction.competitive_field_analyzer - INFO - Available columns: ['id', 'comp', 'jour', 'hippo', 'reun', 'prix', 'prixnom', 'typec', 'partant', 'dist', 'handi', 'groupe', 'quinte', 'natpis', 'meteo', 'corde', 'temperature', 'forceVent', 'directionVent', 'nebulosite', 'prediction_results', 'actual_results', 'created_at', 'updated_at', 'processed_data', 'cheque', 'handi_raw', 'reclam', 'sex', 'tempscourse', 'handicap_level_score', 'cl', 'numero', 'cheval', 'age', 'cotedirect', 'coteprob', 'recence', 'ecar', 'defoeil', 'defoeilPrec', 'musiqueche', 'musiquejoc', 'entraineur', 'coursescheval', 'victoirescheval', 'placescheval', 'dernierealloc', 'derniernbpartants', 'dernieredist', 'derniereplace', 'dernierecote', 'dernierEnt', 'proprietaire', 'poidmont', 'pourcVictJockHippo', 'pourcPlaceJockHippo', 'pourcVictChevalHippo', 'pourcPlaceChevalHippo', 'tempstot', 'vha', 'recordG', 'txreclam', 'dernierTxreclam', 'gainsCarriere', 'gainsAnneeEnCours', 'handicapDistance', 'handicapPoids', 'TxVictCouple', 'nbVictCouple', 'nbPlaceCouple', 'idche', 'idJockey', 'idEntraineur', 'defFirstTime', 'oeilFirstTime', 'oeil', 'dernierOeil', 'ratio_victoires', 'ratio_places', 'gains_par_course', 'efficacite_couple', 'regularite_couple', 'progression_couple', 'perf_cheval_hippo', 'perf_jockey_hippo', 'trainer_victoires', 'trainer_places', 'trainer_courses', 'trainer_winrate', 'trainer_placerate', 'trainer_quality_score', 'trainer_experience_level', 'handicap_poids', 'handicap_dist', 'prec_handicap_poids', 'prec_handicap_dist', 'handicap_poids_change', 'handicap_poids_increased', 'handicap_poids_decreased', 'handicap_dist_change', 'handicap_dist_increased', 'handicap_dist_decreased', 'total_handicap', 'handicap_momentum', 'last_race_position', 'last_race_distance', 'distance_change', 'distance_change_pct', 'distance_increased', 'distance_decreased', 'same_distance', 'corde_change', 'corde_improved', 'corde_worsened', 'last_race_top3', 'last_race_won', 'blinkers_first_time', 'has_blinkers', 'has_standard_blinkers', 'has_australian_blinkers', 'blinkers_added', 'blinkers_removed', 'blinkers_type_changed', 'blinkers_any_change', 'blinkers_high_impact_change', 'shoeing_first_time', 'fully_shod', 'front_shod_only', 'back_shod_only', 'barefoot', 'shoeing_changed', 'barefoot_to_shod', 'shod_to_barefoot', 'major_shoeing_change', 'shoeing_complexity', 'multiple_equipment_changes', 'equipment_momentum_score', 'high_equipment_momentum', 'multiple_first_time_changes', 'equipment_optimization_score', 'career_strike_rate', 'earnings_per_race', 'earnings_trend', 'last_race_position_normalized', 'last_race_odds_normalized', 'last_race_field_size_factor', 'distance_consistency', 'vha_normalized', 'claiming_tax_trend', 'class_stability', 'che_global_avg_pos', 'che_global_recent_perf', 'che_global_consistency', 'che_global_trend', 'che_global_pct_top3', 'che_global_nb_courses', 'che_global_total_races', 'che_global_dnf_rate', 'che_weighted_avg_pos', 'che_weighted_recent_perf', 'che_weighted_consistency', 'che_weighted_pct_top3', 'che_weighted_nb_courses', 'che_weighted_total_races', 'che_weighted_dnf_rate', 'che_weighted_trend', 'che_bytype_avg_pos', 'che_bytype_recent_perf', 'che_bytype_consistency', 'che_bytype_trend', 'che_bytype_pct_top3', 'che_bytype_nb_courses', 'che_bytype_total_races', 'che_bytype_dnf_rate', 'joc_global_avg_pos', 'joc_global_recent_perf', 'joc_global_consistency', 'joc_global_trend', 'joc_global_pct_top3', 'joc_global_nb_courses', 'joc_global_total_races', 'joc_global_dnf_rate', 'joc_weighted_avg_pos', 'joc_weighted_recent_perf', 'joc_weighted_consistency', 'joc_weighted_pct_top3', 'joc_weighted_nb_courses', 'joc_weighted_total_races', 'joc_weighted_dnf_rate', 'joc_weighted_trend', 'joc_bytype_avg_pos', 'joc_bytype_recent_perf', 'joc_bytype_consistency', 'joc_bytype_trend', 'joc_bytype_pct_top3', 'joc_bytype_nb_courses', 'joc_bytype_total_races', 'joc_bytype_dnf_rate', 'che_form_momentum', 'che_improving_form', 'che_declining_form', 'che_high_consistency', 'che_recent_quality', 'che_elite_performer', 'che_regular_placer', 'joc_form_momentum', 'joc_improving_form', 'joc_high_consistency', 'joc_elite_performer', 'synergy_both_improving', 'synergy_both_consistent', 'synergy_both_elite', 'overall_momentum_score', 'high_momentum', 'class_drop_pct', 'purse_per_starter', 'purse_ratio', 'moving_up_in_class', 'class_shock_indicator', 'handicap_level_change', 'time_per_distance', 'time_vs_record', 'pace_rating', 'speed_figure_proxy', 'market_confidence_shift', 'last_race_improvement', 'bounce_risk', 'layoff_distance_interaction', 'trainer_change', 'connection_stability', 'field_size_change', 'distance_comfort', 'competition_level_shift', 'recence_x_class_drop', 'trainer_change_x_recence', 'distance_change_x_recence', 'che_by_type_avg_pos', 'che_by_type_recent_perf', 'che_by_type_consistency', 'che_by_type_trend', 'che_by_type_pct_top3', 'che_by_type_nb_courses', 'che_by_type_total_races', 'che_by_type_dnf_rate', 'joc_by_type_avg_pos', 'joc_by_type_recent_perf', 'joc_by_type_consistency', 'joc_by_type_trend', 'joc_by_type_pct_top3', 'joc_by_type_nb_courses', 'joc_by_type_total_races', 'joc_by_type_dnf_rate', 'quinte_career_starts', 'quinte_win_rate', 'quinte_top5_rate', 'avg_quinte_position', 'days_since_last_quinte', 'quinte_handicap_specialist', 'quinte_conditions_specialist', 'quinte_large_field_ability', 'quinte_track_condition_fit', 'is_handicap_quinte', 'handicap_division', 'purse_level_category', 'field_size_category', 'track_condition_PH', 'track_condition_DUR', 'track_condition_PS', 'track_condition_PSF', 'weather_clear', 'weather_rain', 'weather_cloudy', 'post_position_bias', 'post_position_track_bias', 'raw_tabnet_prediction', 'predicted_position_tabnet', 'raw_rf_prediction', 'predicted_position_rf', 'predicted_position_base']
2025-11-13 09:39:21,775 - race_prediction.competitive_field_analyzer - INFO - === CRITICAL COLUMNS ANALYSIS ===
2025-11-13 09:39:21,775 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ recordG: 16/16 non-null values (100.0%)
2025-11-13 09:39:21,775 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [0.0, 0.0, 0.0]
2025-11-13 09:39:21,775 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ hippo: 16/16 non-null values (100.0%)
2025-11-13 09:39:21,776 - race_prediction.competitive_field_analyzer - INFO -    Sample values: ['Enghien', 'Enghien', 'Enghien']
2025-11-13 09:39:21,776 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ coursescheval: 16/16 non-null values (100.0%)
2025-11-13 09:39:21,776 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [47, 73, 62]
2025-11-13 09:39:21,776 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ victoirescheval: 16/16 non-null values (100.0%)
2025-11-13 09:39:21,776 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [4, 4, 0]
2025-11-13 09:39:21,776 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ placescheval: 16/16 non-null values (100.0%)
2025-11-13 09:39:21,776 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [11, 8, 12]
2025-11-13 09:39:21,776 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ gainsCarriere: 16/16 non-null values (100.0%)
2025-11-13 09:39:21,776 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [6988500, 7042000, 7062500]
2025-11-13 09:39:21,776 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ age: 16/16 non-null values (100.0%)
2025-11-13 09:39:21,776 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [6, 7, 6]
2025-11-13 09:39:21,776 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ derniereplace: 16/16 non-null values (100.0%)
2025-11-13 09:39:21,776 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [15.0, 15.0, 8.0]
2025-11-13 09:39:21,776 - race_prediction.competitive_field_analyzer - INFO - === RACE METADATA ===
2025-11-13 09:39:21,776 - race_prediction.competitive_field_analyzer - INFO - comp: 1613016
2025-11-13 09:39:21,776 - race_prediction.competitive_field_analyzer - INFO - hippo: Enghien
2025-11-13 09:39:21,776 - race_prediction.competitive_field_analyzer - INFO - dist: 2875
2025-11-13 09:39:21,776 - race_prediction.competitive_field_analyzer - INFO - typec: Attel√©
2025-11-13 09:39:21,776 - race_prediction.competitive_field_analyzer - INFO - partant: 16
2025-11-13 09:39:21,776 - race_prediction.competitive_field_analyzer - INFO - === SAMPLE RACE DATA ===
2025-11-13 09:39:21,776 - race_prediction.competitive_field_analyzer - INFO - Sample data (columns: ['numero', 'cheval', 'recordG', 'hippo', 'coursescheval']):
2025-11-13 09:39:21,777 - race_prediction.competitive_field_analyzer - INFO -   Horse 0: {'numero': 1, 'cheval': 'Jaguar de Rozevic', 'recordG': 0.0, 'hippo': 'Enghien', 'coursescheval': 47}
2025-11-13 09:39:21,777 - race_prediction.competitive_field_analyzer - INFO -   Horse 1: {'numero': 2, 'cheval': "Id√©ale d'Arcey", 'recordG': 0.0, 'hippo': 'Enghien', 'coursescheval': 73}
2025-11-13 09:39:21,777 - race_prediction.competitive_field_analyzer - INFO -   Horse 2: {'numero': 3, 'cheval': 'Jackson Hill', 'recordG': 0.0, 'hippo': 'Enghien', 'coursescheval': 62}
2025-11-13 09:39:21,777 - race_prediction.competitive_field_analyzer - INFO - === END COMPETITIVE ANALYSIS DEBUG ===

2025-11-13 09:39:21,777 - race_prediction.competitive_field_analyzer - INFO - === RETRIEVING HISTORICAL DATA ===
2025-11-13 09:39:21,777 - race_prediction.competitive_field_analyzer - INFO - Fetching historical data for 16 horses: [1543005, 1445416, 1516162, 1519564, 1643171, 1548033, 1520947, 1549672, 1517913, 1474737, 1527398, 1534198, 1528809, 1576404, 1535030, 1522817]
2025-11-13 09:39:21,778 - race_prediction.competitive_field_analyzer - INFO - Batch querying historical data for 16 horses: [1543005, 1445416, 1516162, 1519564, 1643171, 1548033, 1520947, 1549672, 1517913, 1474737, 1527398, 1534198, 1528809, 1576404, 1535030, 1522817]
2025-11-13 09:39:41,371 - race_prediction.competitive_field_analyzer - INFO - Batch query completed in 19.59s, found 218 total records
2025-11-13 09:39:41,381 - race_prediction.competitive_field_analyzer - INFO - Batch query retrieved 218 total historical races
2025-11-13 09:39:41,381 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS PER HORSE ===
2025-11-13 09:39:41,381 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1543005: 17 historical races found
2025-11-13 09:39:41,381 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1445416: 12 historical races found
2025-11-13 09:39:41,381 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1516162: 17 historical races found
2025-11-13 09:39:41,381 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1519564: 7 historical races found
2025-11-13 09:39:41,381 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1643171: 17 historical races found
2025-11-13 09:39:41,381 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1548033: 14 historical races found
2025-11-13 09:39:41,381 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1520947: 14 historical races found
2025-11-13 09:39:41,381 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1549672: 16 historical races found
2025-11-13 09:39:41,382 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1517913: 14 historical races found
2025-11-13 09:39:41,382 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1474737: 14 historical races found
2025-11-13 09:39:41,382 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1527398: 14 historical races found
2025-11-13 09:39:41,382 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1534198: 14 historical races found
2025-11-13 09:39:41,382 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1528809: 17 historical races found
2025-11-13 09:39:41,382 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1576404: 10 historical races found
2025-11-13 09:39:41,382 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1535030: 6 historical races found
2025-11-13 09:39:41,382 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1522817: 15 historical races found
2025-11-13 09:39:41,382 - race_prediction.competitive_field_analyzer - INFO - Retrieved 218 total historical races
2025-11-13 09:39:41,382 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS BY HORSE ===
2025-11-13 09:39:41,382 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1543005: 17 historical races
2025-11-13 09:39:41,382 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1445416: 12 historical races
2025-11-13 09:39:41,382 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1516162: 17 historical races
2025-11-13 09:39:41,382 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1519564: 7 historical races
2025-11-13 09:39:41,382 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1643171: 17 historical races
2025-11-13 09:39:41,382 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1548033: 14 historical races
2025-11-13 09:39:41,382 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1520947: 14 historical races
2025-11-13 09:39:41,382 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1549672: 16 historical races
2025-11-13 09:39:41,382 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1517913: 14 historical races
2025-11-13 09:39:41,382 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1474737: 14 historical races
2025-11-13 09:39:41,382 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1527398: 14 historical races
2025-11-13 09:39:41,382 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1534198: 14 historical races
2025-11-13 09:39:41,382 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1528809: 17 historical races
2025-11-13 09:39:41,382 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1576404: 10 historical races
2025-11-13 09:39:41,382 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1535030: 6 historical races
2025-11-13 09:39:41,382 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1522817: 15 historical races
2025-11-13 09:39:41,382 - race_prediction.competitive_field_analyzer - INFO - === END HISTORICAL DATA RETRIEVAL ===

2025-11-13 09:39:41,382 - race_prediction.competitive_field_analyzer - INFO - === EARNINGS QUALITY ANALYSIS ===
2025-11-13 09:39:41,382 - race_prediction.competitive_field_analyzer - INFO - Valid earnings data: 16/16 horses
2025-11-13 09:39:41,382 - race_prediction.competitive_field_analyzer - INFO - Sample earnings per race: ['148,691', '96,466', '113,911']
2025-11-13 09:39:41,383 - race_prediction.competitive_field_analyzer - INFO - Field earnings stats: avg=225,864, max=462,926
2025-11-13 09:39:41,383 - race_prediction.competitive_field_analyzer - INFO - === TRACK SPECIALIZATION ANALYSIS ===
2025-11-13 09:39:41,383 - race_prediction.competitive_field_analyzer - INFO - Horses with reliable venue data (3+ races): 0/16
2025-11-13 09:39:41,384 - race_prediction.competitive_field_analyzer - INFO - === FORM MOMENTUM ANALYSIS ===
2025-11-13 09:39:41,384 - race_prediction.competitive_field_analyzer - INFO - Field avg horse trend: 0.697, recent perf: 6.17
2025-11-13 09:39:41,384 - race_prediction.competitive_field_analyzer - INFO - Field avg jockey trend: -2.352
2025-11-13 09:39:41,384 - race_prediction.competitive_field_analyzer - INFO - Horses with improving form: 4/16
2025-11-13 09:39:41,385 - race_prediction.competitive_field_analyzer - INFO - === HOT CONNECTIONS ANALYSIS ===
2025-11-13 09:39:41,385 - race_prediction.competitive_field_analyzer - INFO - Jockeys with wins today: 0/16
2025-11-13 09:39:41,385 - race_prediction.competitive_field_analyzer - INFO - Trainers with wins today: 0/16
2025-11-13 09:39:41,385 - race_prediction.competitive_field_analyzer - INFO - === DISTANCE COMFORT ANALYSIS ===
2025-11-13 09:39:41,385 - race_prediction.competitive_field_analyzer - INFO - Current race distance: 2875m
2025-11-13 09:39:41,385 - race_prediction.competitive_field_analyzer - INFO - Horses with similar recent distance: 11/16
2025-11-13 09:39:41,385 - race_prediction.competitive_field_analyzer - INFO - === REALISTIC COMPETITIVE SCORING ===
2025-11-13 09:39:41,385 - race_prediction.competitive_field_analyzer - INFO - üìä COMPETITIVE ANALYSIS SUMMARY:
2025-11-13 09:39:41,386 - race_prediction.competitive_field_analyzer - INFO -    Total competitive races: 218
2025-11-13 09:39:41,386 - race_prediction.competitive_field_analyzer - INFO -    Horses with historical data: 16/16
2025-11-13 09:39:41,386 - race_prediction.competitive_field_analyzer - INFO -    Average races per horse: 13.6
2025-11-13 09:39:41,396 - race_prediction.quinte_prediction_storage - INFO - Stored 16 horses for Quint√© race 1613016
2025-11-13 09:39:43,362 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE ANALYSIS DEBUG ===
2025-11-13 09:39:43,362 - race_prediction.competitive_field_analyzer - INFO - Analyzing competitive field for race with 14 horses
2025-11-13 09:39:43,362 - race_prediction.competitive_field_analyzer - INFO - Race data shape: (14, 278)
2025-11-13 09:39:43,363 - race_prediction.competitive_field_analyzer - INFO - Available columns: ['id', 'comp', 'jour', 'hippo', 'reun', 'prix', 'prixnom', 'typec', 'partant', 'dist', 'handi', 'groupe', 'quinte', 'natpis', 'meteo', 'corde', 'temperature', 'forceVent', 'directionVent', 'nebulosite', 'prediction_results', 'actual_results', 'created_at', 'updated_at', 'processed_data', 'cheque', 'handi_raw', 'reclam', 'sex', 'tempscourse', 'handicap_level_score', 'cl', 'numero', 'cheval', 'age', 'cotedirect', 'coteprob', 'recence', 'ecar', 'defoeil', 'defoeilPrec', 'musiqueche', 'musiquejoc', 'entraineur', 'coursescheval', 'victoirescheval', 'placescheval', 'dernierealloc', 'derniernbpartants', 'dernieredist', 'derniereplace', 'dernierecote', 'dernierEnt', 'proprietaire', 'poidmont', 'pourcVictJockHippo', 'pourcPlaceJockHippo', 'pourcVictChevalHippo', 'pourcPlaceChevalHippo', 'tempstot', 'vha', 'recordG', 'txreclam', 'dernierTxreclam', 'gainsCarriere', 'gainsAnneeEnCours', 'handicapDistance', 'handicapPoids', 'TxVictCouple', 'nbVictCouple', 'nbPlaceCouple', 'idche', 'idJockey', 'idEntraineur', 'defFirstTime', 'oeilFirstTime', 'oeil', 'dernierOeil', 'ratio_victoires', 'ratio_places', 'gains_par_course', 'efficacite_couple', 'regularite_couple', 'progression_couple', 'perf_cheval_hippo', 'perf_jockey_hippo', 'blinkers_first_time', 'has_blinkers', 'has_standard_blinkers', 'has_australian_blinkers', 'blinkers_added', 'blinkers_removed', 'blinkers_type_changed', 'blinkers_any_change', 'blinkers_high_impact_change', 'shoeing_first_time', 'fully_shod', 'front_shod_only', 'back_shod_only', 'barefoot', 'shoeing_changed', 'barefoot_to_shod', 'shod_to_barefoot', 'major_shoeing_change', 'shoeing_complexity', 'multiple_equipment_changes', 'equipment_momentum_score', 'high_equipment_momentum', 'multiple_first_time_changes', 'equipment_optimization_score', 'career_strike_rate', 'earnings_per_race', 'earnings_trend', 'last_race_position_normalized', 'last_race_odds_normalized', 'last_race_field_size_factor', 'distance_consistency', 'vha_normalized', 'claiming_tax_trend', 'class_stability', 'che_global_avg_pos', 'che_global_recent_perf', 'che_global_consistency', 'che_global_trend', 'che_global_pct_top3', 'che_global_nb_courses', 'che_global_total_races', 'che_global_dnf_rate', 'che_weighted_avg_pos', 'che_weighted_recent_perf', 'che_weighted_consistency', 'che_weighted_pct_top3', 'che_weighted_nb_courses', 'che_weighted_total_races', 'che_weighted_dnf_rate', 'che_weighted_trend', 'che_bytype_avg_pos', 'che_bytype_recent_perf', 'che_bytype_consistency', 'che_bytype_trend', 'che_bytype_pct_top3', 'che_bytype_nb_courses', 'che_bytype_dnf_rate', 'joc_global_avg_pos', 'joc_global_recent_perf', 'joc_global_consistency', 'joc_global_trend', 'joc_global_pct_top3', 'joc_global_nb_courses', 'joc_global_total_races', 'joc_global_dnf_rate', 'joc_weighted_avg_pos', 'joc_weighted_recent_perf', 'joc_weighted_consistency', 'joc_weighted_pct_top3', 'joc_weighted_nb_courses', 'joc_weighted_total_races', 'joc_weighted_dnf_rate', 'joc_weighted_trend', 'joc_bytype_avg_pos', 'joc_bytype_recent_perf', 'joc_bytype_consistency', 'joc_bytype_trend', 'joc_bytype_pct_top3', 'joc_bytype_nb_courses', 'joc_bytype_dnf_rate', 'class_drop_pct', 'purse_per_starter', 'purse_ratio', 'moving_up_in_class', 'class_shock_indicator', 'handicap_level_change', 'time_per_distance', 'time_vs_record', 'pace_rating', 'speed_figure_proxy', 'market_confidence_shift', 'last_race_improvement', 'bounce_risk', 'layoff_distance_interaction', 'trainer_change', 'connection_stability', 'field_size_change', 'distance_comfort', 'competition_level_shift', 'recence_x_class_drop', 'trainer_change_x_recence', 'distance_change_x_recence', 'che_by_type_avg_pos', 'che_by_type_recent_perf', 'che_by_type_consistency', 'che_by_type_trend', 'che_by_type_pct_top3', 'che_by_type_nb_courses', 'che_by_type_dnf_rate', 'joc_by_type_avg_pos', 'joc_by_type_recent_perf', 'joc_by_type_consistency', 'joc_by_type_trend', 'joc_by_type_pct_top3', 'joc_by_type_nb_courses', 'joc_by_type_dnf_rate', 'trainer_victoires', 'trainer_places', 'trainer_courses', 'trainer_winrate', 'trainer_placerate', 'trainer_quality_score', 'trainer_experience_level', 'handicap_poids', 'handicap_dist', 'prec_handicap_poids', 'prec_handicap_dist', 'handicap_poids_change', 'handicap_poids_increased', 'handicap_poids_decreased', 'handicap_dist_change', 'handicap_dist_increased', 'handicap_dist_decreased', 'total_handicap', 'handicap_momentum', 'last_race_position', 'last_race_distance', 'distance_change', 'distance_change_pct', 'distance_increased', 'distance_decreased', 'same_distance', 'corde_change', 'corde_improved', 'corde_worsened', 'last_race_top3', 'last_race_won', 'che_bytype_total_races', 'joc_bytype_total_races', 'che_form_momentum', 'che_improving_form', 'che_declining_form', 'che_high_consistency', 'che_recent_quality', 'che_elite_performer', 'che_regular_placer', 'joc_form_momentum', 'joc_improving_form', 'joc_high_consistency', 'joc_elite_performer', 'synergy_both_improving', 'synergy_both_consistent', 'synergy_both_elite', 'overall_momentum_score', 'high_momentum', 'quinte_career_starts', 'quinte_win_rate', 'quinte_top5_rate', 'avg_quinte_position', 'days_since_last_quinte', 'quinte_handicap_specialist', 'quinte_conditions_specialist', 'quinte_large_field_ability', 'quinte_track_condition_fit', 'is_handicap_quinte', 'handicap_division', 'purse_level_category', 'field_size_category', 'track_condition_PH', 'track_condition_DUR', 'track_condition_PS', 'track_condition_PSF', 'weather_clear', 'weather_rain', 'weather_cloudy', 'post_position_bias', 'post_position_track_bias', 'raw_tabnet_prediction', 'predicted_position_tabnet', 'raw_rf_prediction', 'predicted_position_rf', 'predicted_position_base']
2025-11-13 09:39:43,363 - race_prediction.competitive_field_analyzer - INFO - === CRITICAL COLUMNS ANALYSIS ===
2025-11-13 09:39:43,363 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ recordG: 14/14 non-null values (100.0%)
2025-11-13 09:39:43,363 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [0.0, 0.0, 0.0]
2025-11-13 09:39:43,363 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ hippo: 14/14 non-null values (100.0%)
2025-11-13 09:39:43,363 - race_prediction.competitive_field_analyzer - INFO -    Sample values: ['Enghien', 'Enghien', 'Enghien']
2025-11-13 09:39:43,363 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ coursescheval: 14/14 non-null values (100.0%)
2025-11-13 09:39:43,363 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [54, 56, 60]
2025-11-13 09:39:43,364 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ victoirescheval: 14/14 non-null values (100.0%)
2025-11-13 09:39:43,364 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [5, 8, 8]
2025-11-13 09:39:43,364 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ placescheval: 14/14 non-null values (100.0%)
2025-11-13 09:39:43,364 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [13, 15, 20]
2025-11-13 09:39:43,364 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ gainsCarriere: 14/14 non-null values (100.0%)
2025-11-13 09:39:43,364 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [10604400, 11160000, 11434000]
2025-11-13 09:39:43,364 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ age: 14/14 non-null values (100.0%)
2025-11-13 09:39:43,366 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [7, 7, 7]
2025-11-13 09:39:43,366 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ derniereplace: 14/14 non-null values (100.0%)
2025-11-13 09:39:43,366 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [3.0, 5.0, 2.0]
2025-11-13 09:39:43,366 - race_prediction.competitive_field_analyzer - INFO - === RACE METADATA ===
2025-11-13 09:39:43,366 - race_prediction.competitive_field_analyzer - INFO - comp: 1612996
2025-11-13 09:39:43,366 - race_prediction.competitive_field_analyzer - INFO - hippo: Enghien
2025-11-13 09:39:43,366 - race_prediction.competitive_field_analyzer - INFO - dist: 2875
2025-11-13 09:39:43,366 - race_prediction.competitive_field_analyzer - INFO - typec: Attel√©
2025-11-13 09:39:43,366 - race_prediction.competitive_field_analyzer - INFO - partant: 14
2025-11-13 09:39:43,366 - race_prediction.competitive_field_analyzer - INFO - === SAMPLE RACE DATA ===
2025-11-13 09:39:43,366 - race_prediction.competitive_field_analyzer - INFO - Sample data (columns: ['numero', 'cheval', 'recordG', 'hippo', 'coursescheval']):
2025-11-13 09:39:43,367 - race_prediction.competitive_field_analyzer - INFO -   Horse 0: {'numero': 1, 'cheval': 'Ivon de la Monerie', 'recordG': 0.0, 'hippo': 'Enghien', 'coursescheval': 54}
2025-11-13 09:39:43,367 - race_prediction.competitive_field_analyzer - INFO -   Horse 1: {'numero': 2, 'cheval': 'Issi Top', 'recordG': 0.0, 'hippo': 'Enghien', 'coursescheval': 56}
2025-11-13 09:39:43,367 - race_prediction.competitive_field_analyzer - INFO -   Horse 2: {'numero': 3, 'cheval': 'Indigo du Perche', 'recordG': 0.0, 'hippo': 'Enghien', 'coursescheval': 60}
2025-11-13 09:39:43,367 - race_prediction.competitive_field_analyzer - INFO - === END COMPETITIVE ANALYSIS DEBUG ===

2025-11-13 09:39:43,367 - race_prediction.competitive_field_analyzer - INFO - === RETRIEVING HISTORICAL DATA ===
2025-11-13 09:39:43,367 - race_prediction.competitive_field_analyzer - INFO - Fetching historical data for 14 horses: [1495111, 1456976, 1431146, 1432334, 1382940, 1472472, 1469007, 1446131, 1383552, 1520911, 1239944, 1377688, 1457376, 1471736]
2025-11-13 09:39:43,368 - race_prediction.competitive_field_analyzer - INFO - Batch querying historical data for 14 horses: [1495111, 1456976, 1431146, 1432334, 1382940, 1472472, 1469007, 1446131, 1383552, 1520911, 1239944, 1377688, 1457376, 1471736]
2025-11-13 09:40:02,509 - race_prediction.competitive_field_analyzer - INFO - Batch query completed in 19.14s, found 205 total records
2025-11-13 09:40:02,518 - race_prediction.competitive_field_analyzer - INFO - Batch query retrieved 205 total historical races
2025-11-13 09:40:02,518 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS PER HORSE ===
2025-11-13 09:40:02,518 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1495111: 10 historical races found
2025-11-13 09:40:02,518 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1456976: 12 historical races found
2025-11-13 09:40:02,518 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1431146: 17 historical races found
2025-11-13 09:40:02,518 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1432334: 18 historical races found
2025-11-13 09:40:02,518 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1382940: 16 historical races found
2025-11-13 09:40:02,518 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1472472: 7 historical races found
2025-11-13 09:40:02,518 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1469007: 14 historical races found
2025-11-13 09:40:02,518 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1446131: 13 historical races found
2025-11-13 09:40:02,518 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1383552: 15 historical races found
2025-11-13 09:40:02,518 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1520911: 19 historical races found
2025-11-13 09:40:02,518 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1239944: 18 historical races found
2025-11-13 09:40:02,518 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1377688: 16 historical races found
2025-11-13 09:40:02,518 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1457376: 12 historical races found
2025-11-13 09:40:02,518 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1471736: 18 historical races found
2025-11-13 09:40:02,518 - race_prediction.competitive_field_analyzer - INFO - Retrieved 205 total historical races
2025-11-13 09:40:02,519 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS BY HORSE ===
2025-11-13 09:40:02,519 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1495111: 10 historical races
2025-11-13 09:40:02,519 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1456976: 12 historical races
2025-11-13 09:40:02,519 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1431146: 17 historical races
2025-11-13 09:40:02,519 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1432334: 18 historical races
2025-11-13 09:40:02,519 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1382940: 16 historical races
2025-11-13 09:40:02,519 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1472472: 7 historical races
2025-11-13 09:40:02,519 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1469007: 14 historical races
2025-11-13 09:40:02,519 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1446131: 13 historical races
2025-11-13 09:40:02,519 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1383552: 15 historical races
2025-11-13 09:40:02,519 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1520911: 19 historical races
2025-11-13 09:40:02,519 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1239944: 18 historical races
2025-11-13 09:40:02,519 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1377688: 16 historical races
2025-11-13 09:40:02,519 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1457376: 12 historical races
2025-11-13 09:40:02,519 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1471736: 18 historical races
2025-11-13 09:40:02,519 - race_prediction.competitive_field_analyzer - INFO - === END HISTORICAL DATA RETRIEVAL ===

2025-11-13 09:40:02,519 - race_prediction.competitive_field_analyzer - INFO - === EARNINGS QUALITY ANALYSIS ===
2025-11-13 09:40:02,519 - race_prediction.competitive_field_analyzer - INFO - Valid earnings data: 14/14 horses
2025-11-13 09:40:02,519 - race_prediction.competitive_field_analyzer - INFO - Sample earnings per race: ['196,378', '199,286', '190,567']
2025-11-13 09:40:02,519 - race_prediction.competitive_field_analyzer - INFO - Field earnings stats: avg=239,818, max=391,656
2025-11-13 09:40:02,520 - race_prediction.competitive_field_analyzer - INFO - === TRACK SPECIALIZATION ANALYSIS ===
2025-11-13 09:40:02,520 - race_prediction.competitive_field_analyzer - INFO - Horses with reliable venue data (3+ races): 0/14
2025-11-13 09:40:02,520 - race_prediction.competitive_field_analyzer - INFO - === FORM MOMENTUM ANALYSIS ===
2025-11-13 09:40:02,520 - race_prediction.competitive_field_analyzer - INFO - Field avg horse trend: 3.993, recent perf: 7.69
2025-11-13 09:40:02,521 - race_prediction.competitive_field_analyzer - INFO - Field avg jockey trend: 0.039
2025-11-13 09:40:02,521 - race_prediction.competitive_field_analyzer - INFO - Horses with improving form: 4/14
2025-11-13 09:40:02,521 - race_prediction.competitive_field_analyzer - INFO - === HOT CONNECTIONS ANALYSIS ===
2025-11-13 09:40:02,521 - race_prediction.competitive_field_analyzer - INFO - Jockeys with wins today: 0/14
2025-11-13 09:40:02,521 - race_prediction.competitive_field_analyzer - INFO - Trainers with wins today: 0/14
2025-11-13 09:40:02,521 - race_prediction.competitive_field_analyzer - INFO - === DISTANCE COMFORT ANALYSIS ===
2025-11-13 09:40:02,521 - race_prediction.competitive_field_analyzer - INFO - Current race distance: 2875m
2025-11-13 09:40:02,521 - race_prediction.competitive_field_analyzer - INFO - Horses with similar recent distance: 9/14
2025-11-13 09:40:02,521 - race_prediction.competitive_field_analyzer - INFO - === REALISTIC COMPETITIVE SCORING ===
2025-11-13 09:40:02,522 - race_prediction.competitive_field_analyzer - INFO - üìä COMPETITIVE ANALYSIS SUMMARY:
2025-11-13 09:40:02,522 - race_prediction.competitive_field_analyzer - INFO -    Total competitive races: 205
2025-11-13 09:40:02,522 - race_prediction.competitive_field_analyzer - INFO -    Horses with historical data: 14/14
2025-11-13 09:40:02,522 - race_prediction.competitive_field_analyzer - INFO -    Average races per horse: 14.6
2025-11-13 09:40:02,530 - race_prediction.quinte_prediction_storage - INFO - Stored 14 horses for Quint√© race 1612996
2025-11-13 09:40:04,477 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE ANALYSIS DEBUG ===
2025-11-13 09:40:04,477 - race_prediction.competitive_field_analyzer - INFO - Analyzing competitive field for race with 18 horses
2025-11-13 09:40:04,477 - race_prediction.competitive_field_analyzer - INFO - Race data shape: (18, 278)
2025-11-13 09:40:04,477 - race_prediction.competitive_field_analyzer - INFO - Available columns: ['id', 'comp', 'jour', 'hippo', 'reun', 'prix', 'prixnom', 'typec', 'partant', 'dist', 'handi', 'groupe', 'quinte', 'natpis', 'meteo', 'corde', 'temperature', 'forceVent', 'directionVent', 'nebulosite', 'prediction_results', 'actual_results', 'created_at', 'updated_at', 'processed_data', 'cheque', 'handi_raw', 'reclam', 'sex', 'tempscourse', 'handicap_level_score', 'cl', 'numero', 'cheval', 'age', 'cotedirect', 'coteprob', 'recence', 'ecar', 'defoeil', 'defoeilPrec', 'musiqueche', 'musiquejoc', 'entraineur', 'coursescheval', 'victoirescheval', 'placescheval', 'dernierealloc', 'derniernbpartants', 'dernieredist', 'derniereplace', 'dernierecote', 'dernierEnt', 'proprietaire', 'poidmont', 'pourcVictJockHippo', 'pourcPlaceJockHippo', 'pourcVictChevalHippo', 'pourcPlaceChevalHippo', 'tempstot', 'vha', 'recordG', 'txreclam', 'dernierTxreclam', 'gainsCarriere', 'gainsAnneeEnCours', 'handicapDistance', 'handicapPoids', 'TxVictCouple', 'nbVictCouple', 'nbPlaceCouple', 'idche', 'idJockey', 'idEntraineur', 'defFirstTime', 'oeilFirstTime', 'oeil', 'dernierOeil', 'ratio_victoires', 'ratio_places', 'gains_par_course', 'efficacite_couple', 'regularite_couple', 'progression_couple', 'perf_cheval_hippo', 'perf_jockey_hippo', 'blinkers_first_time', 'has_blinkers', 'has_standard_blinkers', 'has_australian_blinkers', 'blinkers_added', 'blinkers_removed', 'blinkers_type_changed', 'blinkers_any_change', 'blinkers_high_impact_change', 'shoeing_first_time', 'fully_shod', 'front_shod_only', 'back_shod_only', 'barefoot', 'shoeing_changed', 'barefoot_to_shod', 'shod_to_barefoot', 'major_shoeing_change', 'shoeing_complexity', 'multiple_equipment_changes', 'equipment_momentum_score', 'high_equipment_momentum', 'multiple_first_time_changes', 'equipment_optimization_score', 'career_strike_rate', 'earnings_per_race', 'earnings_trend', 'last_race_position_normalized', 'last_race_odds_normalized', 'last_race_field_size_factor', 'distance_consistency', 'vha_normalized', 'claiming_tax_trend', 'class_stability', 'che_global_avg_pos', 'che_global_recent_perf', 'che_global_consistency', 'che_global_trend', 'che_global_pct_top3', 'che_global_nb_courses', 'che_global_total_races', 'che_global_dnf_rate', 'che_weighted_avg_pos', 'che_weighted_recent_perf', 'che_weighted_consistency', 'che_weighted_pct_top3', 'che_weighted_nb_courses', 'che_weighted_total_races', 'che_weighted_dnf_rate', 'che_weighted_trend', 'che_bytype_avg_pos', 'che_bytype_recent_perf', 'che_bytype_consistency', 'che_bytype_trend', 'che_bytype_pct_top3', 'che_bytype_nb_courses', 'che_bytype_dnf_rate', 'joc_global_avg_pos', 'joc_global_recent_perf', 'joc_global_consistency', 'joc_global_trend', 'joc_global_pct_top3', 'joc_global_nb_courses', 'joc_global_total_races', 'joc_global_dnf_rate', 'joc_weighted_avg_pos', 'joc_weighted_recent_perf', 'joc_weighted_consistency', 'joc_weighted_pct_top3', 'joc_weighted_nb_courses', 'joc_weighted_total_races', 'joc_weighted_dnf_rate', 'joc_weighted_trend', 'joc_bytype_avg_pos', 'joc_bytype_recent_perf', 'joc_bytype_consistency', 'joc_bytype_trend', 'joc_bytype_pct_top3', 'joc_bytype_nb_courses', 'joc_bytype_dnf_rate', 'class_drop_pct', 'purse_per_starter', 'purse_ratio', 'moving_up_in_class', 'class_shock_indicator', 'handicap_level_change', 'time_per_distance', 'time_vs_record', 'pace_rating', 'speed_figure_proxy', 'market_confidence_shift', 'last_race_improvement', 'bounce_risk', 'layoff_distance_interaction', 'trainer_change', 'connection_stability', 'field_size_change', 'distance_comfort', 'competition_level_shift', 'recence_x_class_drop', 'trainer_change_x_recence', 'distance_change_x_recence', 'che_by_type_avg_pos', 'che_by_type_recent_perf', 'che_by_type_consistency', 'che_by_type_trend', 'che_by_type_pct_top3', 'che_by_type_nb_courses', 'che_by_type_dnf_rate', 'joc_by_type_avg_pos', 'joc_by_type_recent_perf', 'joc_by_type_consistency', 'joc_by_type_trend', 'joc_by_type_pct_top3', 'joc_by_type_nb_courses', 'joc_by_type_dnf_rate', 'trainer_victoires', 'trainer_places', 'trainer_courses', 'trainer_winrate', 'trainer_placerate', 'trainer_quality_score', 'trainer_experience_level', 'handicap_poids', 'handicap_dist', 'prec_handicap_poids', 'prec_handicap_dist', 'handicap_poids_change', 'handicap_poids_increased', 'handicap_poids_decreased', 'handicap_dist_change', 'handicap_dist_increased', 'handicap_dist_decreased', 'total_handicap', 'handicap_momentum', 'last_race_position', 'last_race_distance', 'distance_change', 'distance_change_pct', 'distance_increased', 'distance_decreased', 'same_distance', 'corde_change', 'corde_improved', 'corde_worsened', 'last_race_top3', 'last_race_won', 'che_bytype_total_races', 'joc_bytype_total_races', 'che_form_momentum', 'che_improving_form', 'che_declining_form', 'che_high_consistency', 'che_recent_quality', 'che_elite_performer', 'che_regular_placer', 'joc_form_momentum', 'joc_improving_form', 'joc_high_consistency', 'joc_elite_performer', 'synergy_both_improving', 'synergy_both_consistent', 'synergy_both_elite', 'overall_momentum_score', 'high_momentum', 'quinte_career_starts', 'quinte_win_rate', 'quinte_top5_rate', 'avg_quinte_position', 'days_since_last_quinte', 'quinte_handicap_specialist', 'quinte_conditions_specialist', 'quinte_large_field_ability', 'quinte_track_condition_fit', 'is_handicap_quinte', 'handicap_division', 'purse_level_category', 'field_size_category', 'track_condition_PH', 'track_condition_DUR', 'track_condition_PS', 'track_condition_PSF', 'weather_clear', 'weather_rain', 'weather_cloudy', 'post_position_bias', 'post_position_track_bias', 'raw_tabnet_prediction', 'predicted_position_tabnet', 'raw_rf_prediction', 'predicted_position_rf', 'predicted_position_base']
2025-11-13 09:40:04,478 - race_prediction.competitive_field_analyzer - INFO - === CRITICAL COLUMNS ANALYSIS ===
2025-11-13 09:40:04,478 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ recordG: 18/18 non-null values (100.0%)
2025-11-13 09:40:04,478 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [0.0, 0.0, 0.0]
2025-11-13 09:40:04,478 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ hippo: 18/18 non-null values (100.0%)
2025-11-13 09:40:04,478 - race_prediction.competitive_field_analyzer - INFO -    Sample values: ['ParisLongchamp', 'ParisLongchamp', 'ParisLongchamp']
2025-11-13 09:40:04,478 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ coursescheval: 18/18 non-null values (100.0%)
2025-11-13 09:40:04,478 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [18, 10, 11]
2025-11-13 09:40:04,479 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ victoirescheval: 18/18 non-null values (100.0%)
2025-11-13 09:40:04,479 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [7, 3, 6]
2025-11-13 09:40:04,479 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ placescheval: 18/18 non-null values (100.0%)
2025-11-13 09:40:04,479 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [13, 6, 8]
2025-11-13 09:40:04,479 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ gainsCarriere: 18/18 non-null values (100.0%)
2025-11-13 09:40:04,479 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [271473900, 75932400, 21585000]
2025-11-13 09:40:04,479 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ age: 18/18 non-null values (100.0%)
2025-11-13 09:40:04,479 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [6, 5, 4]
2025-11-13 09:40:04,479 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ derniereplace: 18/18 non-null values (100.0%)
2025-11-13 09:40:04,479 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [1, 5, 6]
2025-11-13 09:40:04,479 - race_prediction.competitive_field_analyzer - INFO - === RACE METADATA ===
2025-11-13 09:40:04,479 - race_prediction.competitive_field_analyzer - INFO - comp: 1592537
2025-11-13 09:40:04,479 - race_prediction.competitive_field_analyzer - INFO - hippo: ParisLongchamp
2025-11-13 09:40:04,479 - race_prediction.competitive_field_analyzer - INFO - dist: 2400
2025-11-13 09:40:04,479 - race_prediction.competitive_field_analyzer - INFO - typec: Plat
2025-11-13 09:40:04,479 - race_prediction.competitive_field_analyzer - INFO - partant: 18
2025-11-13 09:40:04,479 - race_prediction.competitive_field_analyzer - INFO - === SAMPLE RACE DATA ===
2025-11-13 09:40:04,479 - race_prediction.competitive_field_analyzer - INFO - Sample data (columns: ['numero', 'cheval', 'recordG', 'hippo', 'coursescheval']):
2025-11-13 09:40:04,480 - race_prediction.competitive_field_analyzer - INFO -   Horse 0: {'numero': 1, 'cheval': 'Giavellotto', 'recordG': 0.0, 'hippo': 'ParisLongchamp', 'coursescheval': 18}
2025-11-13 09:40:04,480 - race_prediction.competitive_field_analyzer - INFO -   Horse 1: {'numero': 2, 'cheval': 'White Birch', 'recordG': 0.0, 'hippo': 'ParisLongchamp', 'coursescheval': 10}
2025-11-13 09:40:04,480 - race_prediction.competitive_field_analyzer - INFO -   Horse 2: {'numero': 3, 'cheval': 'Arrow Eagle', 'recordG': 0.0, 'hippo': 'ParisLongchamp', 'coursescheval': 11}
2025-11-13 09:40:04,480 - race_prediction.competitive_field_analyzer - INFO - === END COMPETITIVE ANALYSIS DEBUG ===

2025-11-13 09:40:04,480 - race_prediction.competitive_field_analyzer - INFO - === RETRIEVING HISTORICAL DATA ===
2025-11-13 09:40:04,480 - race_prediction.competitive_field_analyzer - INFO - Fetching historical data for 18 horses: [1535382, 1584656, 1654418, 1654324, 1667455, 1723503, 1725716, 1559787, 1695821, 1654205, 1741434, 1741620, 1734424, 1713366, 1759442, 1759443, 1730327, 1720861]
2025-11-13 09:40:04,481 - race_prediction.competitive_field_analyzer - INFO - Batch querying historical data for 18 horses: [1535382, 1584656, 1654418, 1654324, 1667455, 1723503, 1725716, 1559787, 1695821, 1654205, 1741434, 1741620, 1734424, 1713366, 1759442, 1759443, 1730327, 1720861]
2025-11-13 09:40:23,582 - race_prediction.competitive_field_analyzer - INFO - Batch query completed in 19.10s, found 86 total records
2025-11-13 09:40:23,587 - race_prediction.competitive_field_analyzer - INFO - Batch query retrieved 86 total historical races
2025-11-13 09:40:23,587 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS PER HORSE ===
2025-11-13 09:40:23,587 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1535382: 5 historical races found
2025-11-13 09:40:23,587 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1584656: 4 historical races found
2025-11-13 09:40:23,587 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1654418: 7 historical races found
2025-11-13 09:40:23,587 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1654324: 5 historical races found
2025-11-13 09:40:23,587 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1667455: 5 historical races found
2025-11-13 09:40:23,588 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1723503: 3 historical races found
2025-11-13 09:40:23,588 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1725716: 2 historical races found
2025-11-13 09:40:23,588 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1559787: 4 historical races found
2025-11-13 09:40:23,588 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1695821: 5 historical races found
2025-11-13 09:40:23,588 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1654205: 5 historical races found
2025-11-13 09:40:23,588 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1741434: 7 historical races found
2025-11-13 09:40:23,588 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1741620: 7 historical races found
2025-11-13 09:40:23,588 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1734424: 8 historical races found
2025-11-13 09:40:23,588 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1713366: 6 historical races found
2025-11-13 09:40:23,588 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1759442: 2 historical races found
2025-11-13 09:40:23,588 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1759443: 2 historical races found
2025-11-13 09:40:23,588 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1730327: 4 historical races found
2025-11-13 09:40:23,588 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1720861: 5 historical races found
2025-11-13 09:40:23,588 - race_prediction.competitive_field_analyzer - INFO - Retrieved 86 total historical races
2025-11-13 09:40:23,588 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS BY HORSE ===
2025-11-13 09:40:23,588 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1535382: 5 historical races
2025-11-13 09:40:23,588 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1584656: 4 historical races
2025-11-13 09:40:23,588 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1654418: 7 historical races
2025-11-13 09:40:23,588 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1654324: 5 historical races
2025-11-13 09:40:23,588 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1667455: 5 historical races
2025-11-13 09:40:23,588 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1723503: 3 historical races
2025-11-13 09:40:23,588 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1725716: 2 historical races
2025-11-13 09:40:23,588 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1559787: 4 historical races
2025-11-13 09:40:23,588 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1695821: 5 historical races
2025-11-13 09:40:23,588 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1654205: 5 historical races
2025-11-13 09:40:23,588 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1741434: 7 historical races
2025-11-13 09:40:23,617 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1741620: 7 historical races
2025-11-13 09:40:23,617 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1734424: 8 historical races
2025-11-13 09:40:23,617 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1713366: 6 historical races
2025-11-13 09:40:23,617 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1759442: 2 historical races
2025-11-13 09:40:23,617 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1759443: 2 historical races
2025-11-13 09:40:23,617 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1730327: 4 historical races
2025-11-13 09:40:23,617 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1720861: 5 historical races
2025-11-13 09:40:23,617 - race_prediction.competitive_field_analyzer - INFO - === END HISTORICAL DATA RETRIEVAL ===

2025-11-13 09:40:23,617 - race_prediction.competitive_field_analyzer - INFO - === EARNINGS QUALITY ANALYSIS ===
2025-11-13 09:40:23,617 - race_prediction.competitive_field_analyzer - INFO - Valid earnings data: 18/18 horses
2025-11-13 09:40:23,618 - race_prediction.competitive_field_analyzer - INFO - Sample earnings per race: ['15,081,883', '7,593,240', '1,962,273']
2025-11-13 09:40:23,618 - race_prediction.competitive_field_analyzer - INFO - Field earnings stats: avg=35,832,643, max=333,227,300
2025-11-13 09:40:23,618 - race_prediction.competitive_field_analyzer - INFO - === TRACK SPECIALIZATION ANALYSIS ===
2025-11-13 09:40:23,618 - race_prediction.competitive_field_analyzer - INFO - Horses with reliable venue data (3+ races): 0/18
2025-11-13 09:40:23,619 - race_prediction.competitive_field_analyzer - INFO - === FORM MOMENTUM ANALYSIS ===
2025-11-13 09:40:23,619 - race_prediction.competitive_field_analyzer - INFO - Field avg horse trend: -2.711, recent perf: 3.85
2025-11-13 09:40:23,619 - race_prediction.competitive_field_analyzer - INFO - Field avg jockey trend: 0.968
2025-11-13 09:40:23,619 - race_prediction.competitive_field_analyzer - INFO - Horses with improving form: 1/18
2025-11-13 09:40:23,619 - race_prediction.competitive_field_analyzer - INFO - === HOT CONNECTIONS ANALYSIS ===
2025-11-13 09:40:23,619 - race_prediction.competitive_field_analyzer - INFO - Jockeys with wins today: 0/18
2025-11-13 09:40:23,620 - race_prediction.competitive_field_analyzer - INFO - Trainers with wins today: 0/18
2025-11-13 09:40:23,620 - race_prediction.competitive_field_analyzer - INFO - === DISTANCE COMFORT ANALYSIS ===
2025-11-13 09:40:23,620 - race_prediction.competitive_field_analyzer - INFO - Current race distance: 2400m
2025-11-13 09:40:23,620 - race_prediction.competitive_field_analyzer - INFO - Horses with similar recent distance: 12/18
2025-11-13 09:40:23,620 - race_prediction.competitive_field_analyzer - INFO - === REALISTIC COMPETITIVE SCORING ===
2025-11-13 09:40:23,620 - race_prediction.competitive_field_analyzer - INFO - üìä COMPETITIVE ANALYSIS SUMMARY:
2025-11-13 09:40:23,620 - race_prediction.competitive_field_analyzer - INFO -    Total competitive races: 86
2025-11-13 09:40:23,621 - race_prediction.competitive_field_analyzer - INFO -    Horses with historical data: 18/18
2025-11-13 09:40:23,621 - race_prediction.competitive_field_analyzer - INFO -    Average races per horse: 4.8
2025-11-13 09:40:23,630 - race_prediction.quinte_prediction_storage - INFO - Stored 18 horses for Quint√© race 1592537
2025-11-13 09:40:25,721 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE ANALYSIS DEBUG ===
2025-11-13 09:40:25,722 - race_prediction.competitive_field_analyzer - INFO - Analyzing competitive field for race with 18 horses
2025-11-13 09:40:25,722 - race_prediction.competitive_field_analyzer - INFO - Race data shape: (18, 278)
2025-11-13 09:40:25,722 - race_prediction.competitive_field_analyzer - INFO - Available columns: ['id', 'comp', 'jour', 'hippo', 'reun', 'prix', 'prixnom', 'typec', 'partant', 'dist', 'handi', 'groupe', 'quinte', 'natpis', 'meteo', 'corde', 'temperature', 'forceVent', 'directionVent', 'nebulosite', 'prediction_results', 'actual_results', 'created_at', 'updated_at', 'processed_data', 'cheque', 'handi_raw', 'reclam', 'sex', 'tempscourse', 'handicap_level_score', 'cl', 'numero', 'cheval', 'age', 'cotedirect', 'coteprob', 'recence', 'ecar', 'defoeil', 'defoeilPrec', 'musiqueche', 'musiquejoc', 'entraineur', 'coursescheval', 'victoirescheval', 'placescheval', 'dernierealloc', 'derniernbpartants', 'dernieredist', 'derniereplace', 'dernierecote', 'dernierEnt', 'proprietaire', 'poidmont', 'pourcVictJockHippo', 'pourcPlaceJockHippo', 'pourcVictChevalHippo', 'pourcPlaceChevalHippo', 'tempstot', 'vha', 'recordG', 'txreclam', 'dernierTxreclam', 'gainsCarriere', 'gainsAnneeEnCours', 'handicapDistance', 'handicapPoids', 'TxVictCouple', 'nbVictCouple', 'nbPlaceCouple', 'idche', 'idJockey', 'idEntraineur', 'defFirstTime', 'oeilFirstTime', 'oeil', 'dernierOeil', 'ratio_victoires', 'ratio_places', 'gains_par_course', 'efficacite_couple', 'regularite_couple', 'progression_couple', 'perf_cheval_hippo', 'perf_jockey_hippo', 'blinkers_first_time', 'has_blinkers', 'has_standard_blinkers', 'has_australian_blinkers', 'blinkers_added', 'blinkers_removed', 'blinkers_type_changed', 'blinkers_any_change', 'blinkers_high_impact_change', 'shoeing_first_time', 'fully_shod', 'front_shod_only', 'back_shod_only', 'barefoot', 'shoeing_changed', 'barefoot_to_shod', 'shod_to_barefoot', 'major_shoeing_change', 'shoeing_complexity', 'multiple_equipment_changes', 'equipment_momentum_score', 'high_equipment_momentum', 'multiple_first_time_changes', 'equipment_optimization_score', 'career_strike_rate', 'earnings_per_race', 'earnings_trend', 'last_race_position_normalized', 'last_race_odds_normalized', 'last_race_field_size_factor', 'distance_consistency', 'vha_normalized', 'claiming_tax_trend', 'class_stability', 'che_global_avg_pos', 'che_global_recent_perf', 'che_global_consistency', 'che_global_trend', 'che_global_pct_top3', 'che_global_nb_courses', 'che_global_total_races', 'che_global_dnf_rate', 'che_weighted_avg_pos', 'che_weighted_recent_perf', 'che_weighted_consistency', 'che_weighted_pct_top3', 'che_weighted_nb_courses', 'che_weighted_total_races', 'che_weighted_dnf_rate', 'che_weighted_trend', 'che_bytype_avg_pos', 'che_bytype_recent_perf', 'che_bytype_consistency', 'che_bytype_trend', 'che_bytype_pct_top3', 'che_bytype_nb_courses', 'che_bytype_dnf_rate', 'joc_global_avg_pos', 'joc_global_recent_perf', 'joc_global_consistency', 'joc_global_trend', 'joc_global_pct_top3', 'joc_global_nb_courses', 'joc_global_total_races', 'joc_global_dnf_rate', 'joc_weighted_avg_pos', 'joc_weighted_recent_perf', 'joc_weighted_consistency', 'joc_weighted_pct_top3', 'joc_weighted_nb_courses', 'joc_weighted_total_races', 'joc_weighted_dnf_rate', 'joc_weighted_trend', 'joc_bytype_avg_pos', 'joc_bytype_recent_perf', 'joc_bytype_consistency', 'joc_bytype_trend', 'joc_bytype_pct_top3', 'joc_bytype_nb_courses', 'joc_bytype_dnf_rate', 'class_drop_pct', 'purse_per_starter', 'purse_ratio', 'moving_up_in_class', 'class_shock_indicator', 'handicap_level_change', 'time_per_distance', 'time_vs_record', 'pace_rating', 'speed_figure_proxy', 'market_confidence_shift', 'last_race_improvement', 'bounce_risk', 'layoff_distance_interaction', 'trainer_change', 'connection_stability', 'field_size_change', 'distance_comfort', 'competition_level_shift', 'recence_x_class_drop', 'trainer_change_x_recence', 'distance_change_x_recence', 'che_by_type_avg_pos', 'che_by_type_recent_perf', 'che_by_type_consistency', 'che_by_type_trend', 'che_by_type_pct_top3', 'che_by_type_nb_courses', 'che_by_type_dnf_rate', 'joc_by_type_avg_pos', 'joc_by_type_recent_perf', 'joc_by_type_consistency', 'joc_by_type_trend', 'joc_by_type_pct_top3', 'joc_by_type_nb_courses', 'joc_by_type_dnf_rate', 'trainer_victoires', 'trainer_places', 'trainer_courses', 'trainer_winrate', 'trainer_placerate', 'trainer_quality_score', 'trainer_experience_level', 'handicap_poids', 'handicap_dist', 'prec_handicap_poids', 'prec_handicap_dist', 'handicap_poids_change', 'handicap_poids_increased', 'handicap_poids_decreased', 'handicap_dist_change', 'handicap_dist_increased', 'handicap_dist_decreased', 'total_handicap', 'handicap_momentum', 'last_race_position', 'last_race_distance', 'distance_change', 'distance_change_pct', 'distance_increased', 'distance_decreased', 'same_distance', 'corde_change', 'corde_improved', 'corde_worsened', 'last_race_top3', 'last_race_won', 'che_bytype_total_races', 'joc_bytype_total_races', 'che_form_momentum', 'che_improving_form', 'che_declining_form', 'che_high_consistency', 'che_recent_quality', 'che_elite_performer', 'che_regular_placer', 'joc_form_momentum', 'joc_improving_form', 'joc_high_consistency', 'joc_elite_performer', 'synergy_both_improving', 'synergy_both_consistent', 'synergy_both_elite', 'overall_momentum_score', 'high_momentum', 'quinte_career_starts', 'quinte_win_rate', 'quinte_top5_rate', 'avg_quinte_position', 'days_since_last_quinte', 'quinte_handicap_specialist', 'quinte_conditions_specialist', 'quinte_large_field_ability', 'quinte_track_condition_fit', 'is_handicap_quinte', 'handicap_division', 'purse_level_category', 'field_size_category', 'track_condition_PH', 'track_condition_DUR', 'track_condition_PS', 'track_condition_PSF', 'weather_clear', 'weather_rain', 'weather_cloudy', 'post_position_bias', 'post_position_track_bias', 'raw_tabnet_prediction', 'predicted_position_tabnet', 'raw_rf_prediction', 'predicted_position_rf', 'predicted_position_base']
2025-11-13 09:40:25,722 - race_prediction.competitive_field_analyzer - INFO - === CRITICAL COLUMNS ANALYSIS ===
2025-11-13 09:40:25,723 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ recordG: 18/18 non-null values (100.0%)
2025-11-13 09:40:25,723 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [0.0, 0.0, 0.0]
2025-11-13 09:40:25,723 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ hippo: 18/18 non-null values (100.0%)
2025-11-13 09:40:25,723 - race_prediction.competitive_field_analyzer - INFO -    Sample values: ['ParisLongchamp', 'ParisLongchamp', 'ParisLongchamp']
2025-11-13 09:40:25,723 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ coursescheval: 18/18 non-null values (100.0%)
2025-11-13 09:40:25,723 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [36, 15, 16]
2025-11-13 09:40:25,723 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ victoirescheval: 18/18 non-null values (100.0%)
2025-11-13 09:40:25,723 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [8, 2, 2]
2025-11-13 09:40:25,723 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ placescheval: 18/18 non-null values (100.0%)
2025-11-13 09:40:25,723 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [18, 5, 7]
2025-11-13 09:40:25,723 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ gainsCarriere: 18/18 non-null values (100.0%)
2025-11-13 09:40:25,723 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [22119200, 7281000, 10064000]
2025-11-13 09:40:25,723 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ age: 18/18 non-null values (100.0%)
2025-11-13 09:40:25,723 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [7, 4, 4]
2025-11-13 09:40:25,723 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ derniereplace: 18/18 non-null values (100.0%)
2025-11-13 09:40:25,723 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [6, 16, 6]
2025-11-13 09:40:25,723 - race_prediction.competitive_field_analyzer - INFO - === RACE METADATA ===
2025-11-13 09:40:25,723 - race_prediction.competitive_field_analyzer - INFO - comp: 1606916
2025-11-13 09:40:25,724 - race_prediction.competitive_field_analyzer - INFO - hippo: ParisLongchamp
2025-11-13 09:40:25,724 - race_prediction.competitive_field_analyzer - INFO - dist: 1600
2025-11-13 09:40:25,724 - race_prediction.competitive_field_analyzer - INFO - typec: Plat
2025-11-13 09:40:25,724 - race_prediction.competitive_field_analyzer - INFO - partant: 18
2025-11-13 09:40:25,724 - race_prediction.competitive_field_analyzer - INFO - === SAMPLE RACE DATA ===
2025-11-13 09:40:25,724 - race_prediction.competitive_field_analyzer - INFO - Sample data (columns: ['numero', 'cheval', 'recordG', 'hippo', 'coursescheval']):
2025-11-13 09:40:25,724 - race_prediction.competitive_field_analyzer - INFO -   Horse 0: {'numero': 1, 'cheval': 'Bullace', 'recordG': 0.0, 'hippo': 'ParisLongchamp', 'coursescheval': 36}
2025-11-13 09:40:25,724 - race_prediction.competitive_field_analyzer - INFO -   Horse 1: {'numero': 2, 'cheval': 'Babakool', 'recordG': 0.0, 'hippo': 'ParisLongchamp', 'coursescheval': 15}
2025-11-13 09:40:25,724 - race_prediction.competitive_field_analyzer - INFO -   Horse 2: {'numero': 3, 'cheval': 'Lucky Wine', 'recordG': 0.0, 'hippo': 'ParisLongchamp', 'coursescheval': 16}
2025-11-13 09:40:25,724 - race_prediction.competitive_field_analyzer - INFO - === END COMPETITIVE ANALYSIS DEBUG ===

2025-11-13 09:40:25,724 - race_prediction.competitive_field_analyzer - INFO - === RETRIEVING HISTORICAL DATA ===
2025-11-13 09:40:25,724 - race_prediction.competitive_field_analyzer - INFO - Fetching historical data for 18 horses: [1461543, 1654085, 1654601, 1716658, 1545829, 1654567, 1408356, 1651292, 1732313, 1657763, 1554365, 1653870, 1666989, 1559222, 1654258, 1652349, 1654449, 1447790]
2025-11-13 09:40:25,725 - race_prediction.competitive_field_analyzer - INFO - Batch querying historical data for 18 horses: [1461543, 1654085, 1654601, 1716658, 1545829, 1654567, 1408356, 1651292, 1732313, 1657763, 1554365, 1653870, 1666989, 1559222, 1654258, 1652349, 1654449, 1447790]
2025-11-13 09:40:43,938 - race_prediction.competitive_field_analyzer - INFO - Batch query completed in 18.21s, found 160 total records
2025-11-13 09:40:43,945 - race_prediction.competitive_field_analyzer - INFO - Batch query retrieved 160 total historical races
2025-11-13 09:40:43,945 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS PER HORSE ===
2025-11-13 09:40:43,945 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1461543: 7 historical races found
2025-11-13 09:40:43,945 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1654085: 6 historical races found
2025-11-13 09:40:43,945 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1654601: 8 historical races found
2025-11-13 09:40:43,945 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1716658: 9 historical races found
2025-11-13 09:40:43,945 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1545829: 18 historical races found
2025-11-13 09:40:43,945 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1654567: 9 historical races found
2025-11-13 09:40:43,945 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1408356: 4 historical races found
2025-11-13 09:40:43,946 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1651292: 10 historical races found
2025-11-13 09:40:43,946 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1732313: 6 historical races found
2025-11-13 09:40:43,946 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1657763: 7 historical races found
2025-11-13 09:40:43,946 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1554365: 12 historical races found
2025-11-13 09:40:43,946 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1653870: 15 historical races found
2025-11-13 09:40:43,946 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1666989: 5 historical races found
2025-11-13 09:40:43,946 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1559222: 9 historical races found
2025-11-13 09:40:43,946 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1654258: 5 historical races found
2025-11-13 09:40:43,946 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1652349: 7 historical races found
2025-11-13 09:40:43,946 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1654449: 7 historical races found
2025-11-13 09:40:43,946 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1447790: 16 historical races found
2025-11-13 09:40:43,946 - race_prediction.competitive_field_analyzer - INFO - Retrieved 160 total historical races
2025-11-13 09:40:43,946 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS BY HORSE ===
2025-11-13 09:40:43,946 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1461543: 7 historical races
2025-11-13 09:40:43,946 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1654085: 6 historical races
2025-11-13 09:40:43,946 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1654601: 8 historical races
2025-11-13 09:40:43,946 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1716658: 9 historical races
2025-11-13 09:40:43,946 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1545829: 18 historical races
2025-11-13 09:40:43,947 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1654567: 9 historical races
2025-11-13 09:40:43,947 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1408356: 4 historical races
2025-11-13 09:40:43,947 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1651292: 10 historical races
2025-11-13 09:40:43,947 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1732313: 6 historical races
2025-11-13 09:40:43,947 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1657763: 7 historical races
2025-11-13 09:40:43,947 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1554365: 12 historical races
2025-11-13 09:40:43,947 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1653870: 15 historical races
2025-11-13 09:40:43,947 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1666989: 5 historical races
2025-11-13 09:40:43,947 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1559222: 9 historical races
2025-11-13 09:40:43,947 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1654258: 5 historical races
2025-11-13 09:40:43,947 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1652349: 7 historical races
2025-11-13 09:40:43,947 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1654449: 7 historical races
2025-11-13 09:40:43,947 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1447790: 16 historical races
2025-11-13 09:40:43,947 - race_prediction.competitive_field_analyzer - INFO - === END HISTORICAL DATA RETRIEVAL ===

2025-11-13 09:40:43,947 - race_prediction.competitive_field_analyzer - INFO - === EARNINGS QUALITY ANALYSIS ===
2025-11-13 09:40:43,947 - race_prediction.competitive_field_analyzer - INFO - Valid earnings data: 18/18 horses
2025-11-13 09:40:43,947 - race_prediction.competitive_field_analyzer - INFO - Sample earnings per race: ['614,422', '485,400', '629,000']
2025-11-13 09:40:43,947 - race_prediction.competitive_field_analyzer - INFO - Field earnings stats: avg=505,803, max=1,118,623
2025-11-13 09:40:43,948 - race_prediction.competitive_field_analyzer - INFO - === TRACK SPECIALIZATION ANALYSIS ===
2025-11-13 09:40:43,948 - race_prediction.competitive_field_analyzer - INFO - Horses with reliable venue data (3+ races): 0/18
2025-11-13 09:40:43,949 - race_prediction.competitive_field_analyzer - INFO - === FORM MOMENTUM ANALYSIS ===
2025-11-13 09:40:43,949 - race_prediction.competitive_field_analyzer - INFO - Field avg horse trend: -2.368, recent perf: 6.96
2025-11-13 09:40:43,949 - race_prediction.competitive_field_analyzer - INFO - Field avg jockey trend: -2.390
2025-11-13 09:40:43,949 - race_prediction.competitive_field_analyzer - INFO - Horses with improving form: 3/18
2025-11-13 09:40:43,949 - race_prediction.competitive_field_analyzer - INFO - === HOT CONNECTIONS ANALYSIS ===
2025-11-13 09:40:43,949 - race_prediction.competitive_field_analyzer - INFO - Jockeys with wins today: 0/18
2025-11-13 09:40:43,949 - race_prediction.competitive_field_analyzer - INFO - Trainers with wins today: 0/18
2025-11-13 09:40:43,950 - race_prediction.competitive_field_analyzer - INFO - === DISTANCE COMFORT ANALYSIS ===
2025-11-13 09:40:43,950 - race_prediction.competitive_field_analyzer - INFO - Current race distance: 1600m
2025-11-13 09:40:43,950 - race_prediction.competitive_field_analyzer - INFO - Horses with similar recent distance: 17/18
2025-11-13 09:40:43,950 - race_prediction.competitive_field_analyzer - INFO - === REALISTIC COMPETITIVE SCORING ===
2025-11-13 09:40:43,950 - race_prediction.competitive_field_analyzer - INFO - üìä COMPETITIVE ANALYSIS SUMMARY:
2025-11-13 09:40:43,950 - race_prediction.competitive_field_analyzer - INFO -    Total competitive races: 160
2025-11-13 09:40:43,950 - race_prediction.competitive_field_analyzer - INFO -    Horses with historical data: 18/18
2025-11-13 09:40:43,950 - race_prediction.competitive_field_analyzer - INFO -    Average races per horse: 8.9
2025-11-13 09:40:43,959 - race_prediction.quinte_prediction_storage - INFO - Stored 18 horses for Quint√© race 1606916
2025-11-13 09:40:45,838 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE ANALYSIS DEBUG ===
2025-11-13 09:40:45,838 - race_prediction.competitive_field_analyzer - INFO - Analyzing competitive field for race with 16 horses
2025-11-13 09:40:45,838 - race_prediction.competitive_field_analyzer - INFO - Race data shape: (16, 278)
2025-11-13 09:40:45,838 - race_prediction.competitive_field_analyzer - INFO - Available columns: ['id', 'comp', 'jour', 'hippo', 'reun', 'prix', 'prixnom', 'typec', 'partant', 'dist', 'handi', 'groupe', 'quinte', 'natpis', 'meteo', 'corde', 'temperature', 'forceVent', 'directionVent', 'nebulosite', 'prediction_results', 'actual_results', 'created_at', 'updated_at', 'processed_data', 'cheque', 'handi_raw', 'reclam', 'sex', 'tempscourse', 'handicap_level_score', 'cl', 'numero', 'cheval', 'age', 'cotedirect', 'coteprob', 'recence', 'ecar', 'defoeil', 'defoeilPrec', 'musiqueche', 'musiquejoc', 'entraineur', 'coursescheval', 'victoirescheval', 'placescheval', 'dernierealloc', 'derniernbpartants', 'dernieredist', 'derniereplace', 'dernierecote', 'dernierEnt', 'proprietaire', 'poidmont', 'pourcVictJockHippo', 'pourcPlaceJockHippo', 'pourcVictChevalHippo', 'pourcPlaceChevalHippo', 'tempstot', 'vha', 'recordG', 'txreclam', 'dernierTxreclam', 'gainsCarriere', 'gainsAnneeEnCours', 'handicapDistance', 'handicapPoids', 'TxVictCouple', 'nbVictCouple', 'nbPlaceCouple', 'idche', 'idJockey', 'idEntraineur', 'defFirstTime', 'oeilFirstTime', 'oeil', 'dernierOeil', 'ratio_victoires', 'ratio_places', 'gains_par_course', 'efficacite_couple', 'regularite_couple', 'progression_couple', 'perf_cheval_hippo', 'perf_jockey_hippo', 'blinkers_first_time', 'has_blinkers', 'has_standard_blinkers', 'has_australian_blinkers', 'blinkers_added', 'blinkers_removed', 'blinkers_type_changed', 'blinkers_any_change', 'blinkers_high_impact_change', 'shoeing_first_time', 'fully_shod', 'front_shod_only', 'back_shod_only', 'barefoot', 'shoeing_changed', 'barefoot_to_shod', 'shod_to_barefoot', 'major_shoeing_change', 'shoeing_complexity', 'multiple_equipment_changes', 'equipment_momentum_score', 'high_equipment_momentum', 'multiple_first_time_changes', 'equipment_optimization_score', 'career_strike_rate', 'earnings_per_race', 'earnings_trend', 'last_race_position_normalized', 'last_race_odds_normalized', 'last_race_field_size_factor', 'distance_consistency', 'vha_normalized', 'claiming_tax_trend', 'class_stability', 'che_global_avg_pos', 'che_global_recent_perf', 'che_global_consistency', 'che_global_trend', 'che_global_pct_top3', 'che_global_nb_courses', 'che_global_total_races', 'che_global_dnf_rate', 'che_weighted_avg_pos', 'che_weighted_recent_perf', 'che_weighted_consistency', 'che_weighted_pct_top3', 'che_weighted_nb_courses', 'che_weighted_total_races', 'che_weighted_dnf_rate', 'che_weighted_trend', 'che_bytype_avg_pos', 'che_bytype_recent_perf', 'che_bytype_consistency', 'che_bytype_trend', 'che_bytype_pct_top3', 'che_bytype_nb_courses', 'che_bytype_dnf_rate', 'joc_global_avg_pos', 'joc_global_recent_perf', 'joc_global_consistency', 'joc_global_trend', 'joc_global_pct_top3', 'joc_global_nb_courses', 'joc_global_total_races', 'joc_global_dnf_rate', 'joc_weighted_avg_pos', 'joc_weighted_recent_perf', 'joc_weighted_consistency', 'joc_weighted_pct_top3', 'joc_weighted_nb_courses', 'joc_weighted_total_races', 'joc_weighted_dnf_rate', 'joc_weighted_trend', 'joc_bytype_avg_pos', 'joc_bytype_recent_perf', 'joc_bytype_consistency', 'joc_bytype_trend', 'joc_bytype_pct_top3', 'joc_bytype_nb_courses', 'joc_bytype_dnf_rate', 'class_drop_pct', 'purse_per_starter', 'purse_ratio', 'moving_up_in_class', 'class_shock_indicator', 'handicap_level_change', 'time_per_distance', 'time_vs_record', 'pace_rating', 'speed_figure_proxy', 'market_confidence_shift', 'last_race_improvement', 'bounce_risk', 'layoff_distance_interaction', 'trainer_change', 'connection_stability', 'field_size_change', 'distance_comfort', 'competition_level_shift', 'recence_x_class_drop', 'trainer_change_x_recence', 'distance_change_x_recence', 'che_by_type_avg_pos', 'che_by_type_recent_perf', 'che_by_type_consistency', 'che_by_type_trend', 'che_by_type_pct_top3', 'che_by_type_nb_courses', 'che_by_type_dnf_rate', 'joc_by_type_avg_pos', 'joc_by_type_recent_perf', 'joc_by_type_consistency', 'joc_by_type_trend', 'joc_by_type_pct_top3', 'joc_by_type_nb_courses', 'joc_by_type_dnf_rate', 'trainer_victoires', 'trainer_places', 'trainer_courses', 'trainer_winrate', 'trainer_placerate', 'trainer_quality_score', 'trainer_experience_level', 'handicap_poids', 'handicap_dist', 'prec_handicap_poids', 'prec_handicap_dist', 'handicap_poids_change', 'handicap_poids_increased', 'handicap_poids_decreased', 'handicap_dist_change', 'handicap_dist_increased', 'handicap_dist_decreased', 'total_handicap', 'handicap_momentum', 'last_race_position', 'last_race_distance', 'distance_change', 'distance_change_pct', 'distance_increased', 'distance_decreased', 'same_distance', 'corde_change', 'corde_improved', 'corde_worsened', 'last_race_top3', 'last_race_won', 'che_bytype_total_races', 'joc_bytype_total_races', 'che_form_momentum', 'che_improving_form', 'che_declining_form', 'che_high_consistency', 'che_recent_quality', 'che_elite_performer', 'che_regular_placer', 'joc_form_momentum', 'joc_improving_form', 'joc_high_consistency', 'joc_elite_performer', 'synergy_both_improving', 'synergy_both_consistent', 'synergy_both_elite', 'overall_momentum_score', 'high_momentum', 'quinte_career_starts', 'quinte_win_rate', 'quinte_top5_rate', 'avg_quinte_position', 'days_since_last_quinte', 'quinte_handicap_specialist', 'quinte_conditions_specialist', 'quinte_large_field_ability', 'quinte_track_condition_fit', 'is_handicap_quinte', 'handicap_division', 'purse_level_category', 'field_size_category', 'track_condition_PH', 'track_condition_DUR', 'track_condition_PS', 'track_condition_PSF', 'weather_clear', 'weather_rain', 'weather_cloudy', 'post_position_bias', 'post_position_track_bias', 'raw_tabnet_prediction', 'predicted_position_tabnet', 'raw_rf_prediction', 'predicted_position_rf', 'predicted_position_base']
2025-11-13 09:40:45,839 - race_prediction.competitive_field_analyzer - INFO - === CRITICAL COLUMNS ANALYSIS ===
2025-11-13 09:40:45,840 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ recordG: 16/16 non-null values (100.0%)
2025-11-13 09:40:45,840 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [0.0, 0.0, 0.0]
2025-11-13 09:40:45,840 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ hippo: 16/16 non-null values (100.0%)
2025-11-13 09:40:45,840 - race_prediction.competitive_field_analyzer - INFO -    Sample values: ['Paris-Vincennes', 'Paris-Vincennes', 'Paris-Vincennes']
2025-11-13 09:40:45,840 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ coursescheval: 16/16 non-null values (100.0%)
2025-11-13 09:40:45,840 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [38, 61, 52]
2025-11-13 09:40:45,840 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ victoirescheval: 16/16 non-null values (100.0%)
2025-11-13 09:40:45,840 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [9, 11, 8]
2025-11-13 09:40:45,840 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ placescheval: 16/16 non-null values (100.0%)
2025-11-13 09:40:45,840 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [13, 21, 18]
2025-11-13 09:40:45,840 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ gainsCarriere: 16/16 non-null values (100.0%)
2025-11-13 09:40:45,840 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [16694000, 16736500, 16906000]
2025-11-13 09:40:45,840 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ age: 16/16 non-null values (100.0%)
2025-11-13 09:40:45,840 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [7, 7, 7]
2025-11-13 09:40:45,840 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ derniereplace: 16/16 non-null values (100.0%)
2025-11-13 09:40:45,841 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [1.0, 1.0, 6.0]
2025-11-13 09:40:45,841 - race_prediction.competitive_field_analyzer - INFO - === RACE METADATA ===
2025-11-13 09:40:45,841 - race_prediction.competitive_field_analyzer - INFO - comp: 1612854
2025-11-13 09:40:45,841 - race_prediction.competitive_field_analyzer - INFO - hippo: Paris-Vincennes
2025-11-13 09:40:45,841 - race_prediction.competitive_field_analyzer - INFO - dist: 2700
2025-11-13 09:40:45,841 - race_prediction.competitive_field_analyzer - INFO - typec: Attel√©
2025-11-13 09:40:45,841 - race_prediction.competitive_field_analyzer - INFO - partant: 16
2025-11-13 09:40:45,841 - race_prediction.competitive_field_analyzer - INFO - === SAMPLE RACE DATA ===
2025-11-13 09:40:45,841 - race_prediction.competitive_field_analyzer - INFO - Sample data (columns: ['numero', 'cheval', 'recordG', 'hippo', 'coursescheval']):
2025-11-13 09:40:45,841 - race_prediction.competitive_field_analyzer - INFO -   Horse 0: {'numero': 1, 'cheval': "Indice d'Argent", 'recordG': 0.0, 'hippo': 'Paris-Vincennes', 'coursescheval': 38}
2025-11-13 09:40:45,841 - race_prediction.competitive_field_analyzer - INFO -   Horse 1: {'numero': 2, 'cheval': 'Ir√©no des Plaines', 'recordG': 0.0, 'hippo': 'Paris-Vincennes', 'coursescheval': 61}
2025-11-13 09:40:45,841 - race_prediction.competitive_field_analyzer - INFO -   Horse 2: {'numero': 3, 'cheval': 'If You Can', 'recordG': 0.0, 'hippo': 'Paris-Vincennes', 'coursescheval': 52}
2025-11-13 09:40:45,841 - race_prediction.competitive_field_analyzer - INFO - === END COMPETITIVE ANALYSIS DEBUG ===

2025-11-13 09:40:45,841 - race_prediction.competitive_field_analyzer - INFO - === RETRIEVING HISTORICAL DATA ===
2025-11-13 09:40:45,841 - race_prediction.competitive_field_analyzer - INFO - Fetching historical data for 16 horses: [1469575, 1464524, 1498043, 1496260, 1430653, 1496957, 1466667, 1501881, 1490569, 1460578, 1505177, 1473111, 1438275, 1514018, 1460581, 1490567]
2025-11-13 09:40:45,843 - race_prediction.competitive_field_analyzer - INFO - Batch querying historical data for 16 horses: [1469575, 1464524, 1498043, 1496260, 1430653, 1496957, 1466667, 1501881, 1490569, 1460578, 1505177, 1473111, 1438275, 1514018, 1460581, 1490567]
2025-11-13 09:41:05,599 - race_prediction.competitive_field_analyzer - INFO - Batch query completed in 19.76s, found 217 total records
2025-11-13 09:41:05,608 - race_prediction.competitive_field_analyzer - INFO - Batch query retrieved 217 total historical races
2025-11-13 09:41:05,608 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS PER HORSE ===
2025-11-13 09:41:05,608 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1469575: 16 historical races found
2025-11-13 09:41:05,608 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1464524: 11 historical races found
2025-11-13 09:41:05,608 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1498043: 11 historical races found
2025-11-13 09:41:05,608 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1496260: 12 historical races found
2025-11-13 09:41:05,608 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1430653: 10 historical races found
2025-11-13 09:41:05,608 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1496957: 15 historical races found
2025-11-13 09:41:05,608 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1466667: 9 historical races found
2025-11-13 09:41:05,609 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1501881: 17 historical races found
2025-11-13 09:41:05,609 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1490569: 16 historical races found
2025-11-13 09:41:05,609 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1460578: 12 historical races found
2025-11-13 09:41:05,609 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1505177: 14 historical races found
2025-11-13 09:41:05,609 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1473111: 15 historical races found
2025-11-13 09:41:05,609 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1438275: 17 historical races found
2025-11-13 09:41:05,609 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1514018: 11 historical races found
2025-11-13 09:41:05,609 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1460581: 13 historical races found
2025-11-13 09:41:05,609 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1490567: 18 historical races found
2025-11-13 09:41:05,609 - race_prediction.competitive_field_analyzer - INFO - Retrieved 217 total historical races
2025-11-13 09:41:05,609 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS BY HORSE ===
2025-11-13 09:41:05,609 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1469575: 16 historical races
2025-11-13 09:41:05,609 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1464524: 11 historical races
2025-11-13 09:41:05,609 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1498043: 11 historical races
2025-11-13 09:41:05,609 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1496260: 12 historical races
2025-11-13 09:41:05,609 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1430653: 10 historical races
2025-11-13 09:41:05,609 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1496957: 15 historical races
2025-11-13 09:41:05,609 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1466667: 9 historical races
2025-11-13 09:41:05,610 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1501881: 17 historical races
2025-11-13 09:41:05,610 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1490569: 16 historical races
2025-11-13 09:41:05,610 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1460578: 12 historical races
2025-11-13 09:41:05,610 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1505177: 14 historical races
2025-11-13 09:41:05,610 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1473111: 15 historical races
2025-11-13 09:41:05,610 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1438275: 17 historical races
2025-11-13 09:41:05,610 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1514018: 11 historical races
2025-11-13 09:41:05,610 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1460581: 13 historical races
2025-11-13 09:41:05,610 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1490567: 18 historical races
2025-11-13 09:41:05,610 - race_prediction.competitive_field_analyzer - INFO - === END HISTORICAL DATA RETRIEVAL ===

2025-11-13 09:41:05,611 - race_prediction.competitive_field_analyzer - INFO - === EARNINGS QUALITY ANALYSIS ===
2025-11-13 09:41:05,611 - race_prediction.competitive_field_analyzer - INFO - Valid earnings data: 16/16 horses
2025-11-13 09:41:05,612 - race_prediction.competitive_field_analyzer - INFO - Sample earnings per race: ['439,316', '274,369', '325,115']
2025-11-13 09:41:05,613 - race_prediction.competitive_field_analyzer - INFO - Field earnings stats: avg=325,571, max=547,141
2025-11-13 09:41:05,613 - race_prediction.competitive_field_analyzer - INFO - === TRACK SPECIALIZATION ANALYSIS ===
2025-11-13 09:41:05,613 - race_prediction.competitive_field_analyzer - INFO - Horses with reliable venue data (3+ races): 0/16
2025-11-13 09:41:05,614 - race_prediction.competitive_field_analyzer - INFO - === FORM MOMENTUM ANALYSIS ===
2025-11-13 09:41:05,614 - race_prediction.competitive_field_analyzer - INFO - Field avg horse trend: 1.443, recent perf: 7.08
2025-11-13 09:41:05,614 - race_prediction.competitive_field_analyzer - INFO - Field avg jockey trend: -0.128
2025-11-13 09:41:05,614 - race_prediction.competitive_field_analyzer - INFO - Horses with improving form: 5/16
2025-11-13 09:41:05,614 - race_prediction.competitive_field_analyzer - INFO - === HOT CONNECTIONS ANALYSIS ===
2025-11-13 09:41:05,615 - race_prediction.competitive_field_analyzer - INFO - Jockeys with wins today: 0/16
2025-11-13 09:41:05,615 - race_prediction.competitive_field_analyzer - INFO - Trainers with wins today: 0/16
2025-11-13 09:41:05,615 - race_prediction.competitive_field_analyzer - INFO - === DISTANCE COMFORT ANALYSIS ===
2025-11-13 09:41:05,615 - race_prediction.competitive_field_analyzer - INFO - Current race distance: 2700m
2025-11-13 09:41:05,615 - race_prediction.competitive_field_analyzer - INFO - Horses with similar recent distance: 11/16
2025-11-13 09:41:05,615 - race_prediction.competitive_field_analyzer - INFO - === REALISTIC COMPETITIVE SCORING ===
2025-11-13 09:41:05,615 - race_prediction.competitive_field_analyzer - INFO - üìä COMPETITIVE ANALYSIS SUMMARY:
2025-11-13 09:41:05,615 - race_prediction.competitive_field_analyzer - INFO -    Total competitive races: 217
2025-11-13 09:41:05,615 - race_prediction.competitive_field_analyzer - INFO -    Horses with historical data: 16/16
2025-11-13 09:41:05,616 - race_prediction.competitive_field_analyzer - INFO -    Average races per horse: 13.6
2025-11-13 09:41:05,625 - race_prediction.quinte_prediction_storage - INFO - Stored 16 horses for Quint√© race 1612854
2025-11-13 09:41:07,692 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE ANALYSIS DEBUG ===
2025-11-13 09:41:07,693 - race_prediction.competitive_field_analyzer - INFO - Analyzing competitive field for race with 18 horses
2025-11-13 09:41:07,693 - race_prediction.competitive_field_analyzer - INFO - Race data shape: (18, 278)
2025-11-13 09:41:07,693 - race_prediction.competitive_field_analyzer - INFO - Available columns: ['id', 'comp', 'jour', 'hippo', 'reun', 'prix', 'prixnom', 'typec', 'partant', 'dist', 'handi', 'groupe', 'quinte', 'natpis', 'meteo', 'corde', 'temperature', 'forceVent', 'directionVent', 'nebulosite', 'prediction_results', 'actual_results', 'created_at', 'updated_at', 'processed_data', 'cheque', 'handi_raw', 'reclam', 'sex', 'tempscourse', 'handicap_level_score', 'cl', 'numero', 'cheval', 'age', 'cotedirect', 'coteprob', 'recence', 'ecar', 'defoeil', 'defoeilPrec', 'musiqueche', 'musiquejoc', 'entraineur', 'coursescheval', 'victoirescheval', 'placescheval', 'dernierealloc', 'derniernbpartants', 'dernieredist', 'derniereplace', 'dernierecote', 'dernierEnt', 'proprietaire', 'poidmont', 'pourcVictJockHippo', 'pourcPlaceJockHippo', 'pourcVictChevalHippo', 'pourcPlaceChevalHippo', 'tempstot', 'vha', 'recordG', 'txreclam', 'dernierTxreclam', 'gainsCarriere', 'gainsAnneeEnCours', 'handicapDistance', 'handicapPoids', 'TxVictCouple', 'nbVictCouple', 'nbPlaceCouple', 'idche', 'idJockey', 'idEntraineur', 'defFirstTime', 'oeilFirstTime', 'oeil', 'dernierOeil', 'ratio_victoires', 'ratio_places', 'gains_par_course', 'efficacite_couple', 'regularite_couple', 'progression_couple', 'perf_cheval_hippo', 'perf_jockey_hippo', 'blinkers_first_time', 'has_blinkers', 'has_standard_blinkers', 'has_australian_blinkers', 'blinkers_added', 'blinkers_removed', 'blinkers_type_changed', 'blinkers_any_change', 'blinkers_high_impact_change', 'shoeing_first_time', 'fully_shod', 'front_shod_only', 'back_shod_only', 'barefoot', 'shoeing_changed', 'barefoot_to_shod', 'shod_to_barefoot', 'major_shoeing_change', 'shoeing_complexity', 'multiple_equipment_changes', 'equipment_momentum_score', 'high_equipment_momentum', 'multiple_first_time_changes', 'equipment_optimization_score', 'career_strike_rate', 'earnings_per_race', 'earnings_trend', 'last_race_position_normalized', 'last_race_odds_normalized', 'last_race_field_size_factor', 'distance_consistency', 'vha_normalized', 'claiming_tax_trend', 'class_stability', 'che_global_avg_pos', 'che_global_recent_perf', 'che_global_consistency', 'che_global_trend', 'che_global_pct_top3', 'che_global_nb_courses', 'che_global_total_races', 'che_global_dnf_rate', 'che_weighted_avg_pos', 'che_weighted_recent_perf', 'che_weighted_consistency', 'che_weighted_pct_top3', 'che_weighted_nb_courses', 'che_weighted_total_races', 'che_weighted_dnf_rate', 'che_weighted_trend', 'che_bytype_avg_pos', 'che_bytype_recent_perf', 'che_bytype_consistency', 'che_bytype_trend', 'che_bytype_pct_top3', 'che_bytype_nb_courses', 'che_bytype_dnf_rate', 'joc_global_avg_pos', 'joc_global_recent_perf', 'joc_global_consistency', 'joc_global_trend', 'joc_global_pct_top3', 'joc_global_nb_courses', 'joc_global_total_races', 'joc_global_dnf_rate', 'joc_weighted_avg_pos', 'joc_weighted_recent_perf', 'joc_weighted_consistency', 'joc_weighted_pct_top3', 'joc_weighted_nb_courses', 'joc_weighted_total_races', 'joc_weighted_dnf_rate', 'joc_weighted_trend', 'joc_bytype_avg_pos', 'joc_bytype_recent_perf', 'joc_bytype_consistency', 'joc_bytype_trend', 'joc_bytype_pct_top3', 'joc_bytype_nb_courses', 'joc_bytype_dnf_rate', 'class_drop_pct', 'purse_per_starter', 'purse_ratio', 'moving_up_in_class', 'class_shock_indicator', 'handicap_level_change', 'time_per_distance', 'time_vs_record', 'pace_rating', 'speed_figure_proxy', 'market_confidence_shift', 'last_race_improvement', 'bounce_risk', 'layoff_distance_interaction', 'trainer_change', 'connection_stability', 'field_size_change', 'distance_comfort', 'competition_level_shift', 'recence_x_class_drop', 'trainer_change_x_recence', 'distance_change_x_recence', 'che_by_type_avg_pos', 'che_by_type_recent_perf', 'che_by_type_consistency', 'che_by_type_trend', 'che_by_type_pct_top3', 'che_by_type_nb_courses', 'che_by_type_dnf_rate', 'joc_by_type_avg_pos', 'joc_by_type_recent_perf', 'joc_by_type_consistency', 'joc_by_type_trend', 'joc_by_type_pct_top3', 'joc_by_type_nb_courses', 'joc_by_type_dnf_rate', 'trainer_victoires', 'trainer_places', 'trainer_courses', 'trainer_winrate', 'trainer_placerate', 'trainer_quality_score', 'trainer_experience_level', 'handicap_poids', 'handicap_dist', 'prec_handicap_poids', 'prec_handicap_dist', 'handicap_poids_change', 'handicap_poids_increased', 'handicap_poids_decreased', 'handicap_dist_change', 'handicap_dist_increased', 'handicap_dist_decreased', 'total_handicap', 'handicap_momentum', 'last_race_position', 'last_race_distance', 'distance_change', 'distance_change_pct', 'distance_increased', 'distance_decreased', 'same_distance', 'corde_change', 'corde_improved', 'corde_worsened', 'last_race_top3', 'last_race_won', 'che_bytype_total_races', 'joc_bytype_total_races', 'che_form_momentum', 'che_improving_form', 'che_declining_form', 'che_high_consistency', 'che_recent_quality', 'che_elite_performer', 'che_regular_placer', 'joc_form_momentum', 'joc_improving_form', 'joc_high_consistency', 'joc_elite_performer', 'synergy_both_improving', 'synergy_both_consistent', 'synergy_both_elite', 'overall_momentum_score', 'high_momentum', 'quinte_career_starts', 'quinte_win_rate', 'quinte_top5_rate', 'avg_quinte_position', 'days_since_last_quinte', 'quinte_handicap_specialist', 'quinte_conditions_specialist', 'quinte_large_field_ability', 'quinte_track_condition_fit', 'is_handicap_quinte', 'handicap_division', 'purse_level_category', 'field_size_category', 'track_condition_PH', 'track_condition_DUR', 'track_condition_PS', 'track_condition_PSF', 'weather_clear', 'weather_rain', 'weather_cloudy', 'post_position_bias', 'post_position_track_bias', 'raw_tabnet_prediction', 'predicted_position_tabnet', 'raw_rf_prediction', 'predicted_position_rf', 'predicted_position_base']
2025-11-13 09:41:07,693 - race_prediction.competitive_field_analyzer - INFO - === CRITICAL COLUMNS ANALYSIS ===
2025-11-13 09:41:07,693 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ recordG: 18/18 non-null values (100.0%)
2025-11-13 09:41:07,693 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [0.0, 0.0, 0.0]
2025-11-13 09:41:07,694 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ hippo: 18/18 non-null values (100.0%)
2025-11-13 09:41:07,694 - race_prediction.competitive_field_analyzer - INFO -    Sample values: ['Compi√®gne', 'Compi√®gne', 'Compi√®gne']
2025-11-13 09:41:07,694 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ coursescheval: 18/18 non-null values (100.0%)
2025-11-13 09:41:07,694 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [8, 22, 18]
2025-11-13 09:41:07,694 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ victoirescheval: 18/18 non-null values (100.0%)
2025-11-13 09:41:07,694 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [3, 5, 3]
2025-11-13 09:41:07,694 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ placescheval: 18/18 non-null values (100.0%)
2025-11-13 09:41:07,694 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [6, 11, 8]
2025-11-13 09:41:07,694 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ gainsCarriere: 18/18 non-null values (100.0%)
2025-11-13 09:41:07,694 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [12974000, 16849000, 9182500]
2025-11-13 09:41:07,694 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ age: 18/18 non-null values (100.0%)
2025-11-13 09:41:07,694 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [5, 5, 5]
2025-11-13 09:41:07,694 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ derniereplace: 18/18 non-null values (100.0%)
2025-11-13 09:41:07,694 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [1.0, 10.0, 7.0]
2025-11-13 09:41:07,694 - race_prediction.competitive_field_analyzer - INFO - === RACE METADATA ===
2025-11-13 09:41:07,694 - race_prediction.competitive_field_analyzer - INFO - comp: 1606886
2025-11-13 09:41:07,694 - race_prediction.competitive_field_analyzer - INFO - hippo: Compi√®gne
2025-11-13 09:41:07,694 - race_prediction.competitive_field_analyzer - INFO - dist: 3600
2025-11-13 09:41:07,694 - race_prediction.competitive_field_analyzer - INFO - typec: Haies
2025-11-13 09:41:07,694 - race_prediction.competitive_field_analyzer - INFO - partant: 18
2025-11-13 09:41:07,694 - race_prediction.competitive_field_analyzer - INFO - === SAMPLE RACE DATA ===
2025-11-13 09:41:07,694 - race_prediction.competitive_field_analyzer - INFO - Sample data (columns: ['numero', 'cheval', 'recordG', 'hippo', 'coursescheval']):
2025-11-13 09:41:07,695 - race_prediction.competitive_field_analyzer - INFO -   Horse 0: {'numero': 1, 'cheval': 'La D√©lirante', 'recordG': 0.0, 'hippo': 'Compi√®gne', 'coursescheval': 8}
2025-11-13 09:41:07,695 - race_prediction.competitive_field_analyzer - INFO -   Horse 1: {'numero': 2, 'cheval': 'Earl of Shannon', 'recordG': 0.0, 'hippo': 'Compi√®gne', 'coursescheval': 22}
2025-11-13 09:41:07,695 - race_prediction.competitive_field_analyzer - INFO -   Horse 2: {'numero': 3, 'cheval': 'Kingpark', 'recordG': 0.0, 'hippo': 'Compi√®gne', 'coursescheval': 18}
2025-11-13 09:41:07,695 - race_prediction.competitive_field_analyzer - INFO - === END COMPETITIVE ANALYSIS DEBUG ===

2025-11-13 09:41:07,695 - race_prediction.competitive_field_analyzer - INFO - === RETRIEVING HISTORICAL DATA ===
2025-11-13 09:41:07,695 - race_prediction.competitive_field_analyzer - INFO - Fetching historical data for 18 horses: [1706616, 1652488, 1650846, 1643070, 1641019, 1648763, 1652502, 1676002, 1669182, 1684532, 1648781, 1646967, 1579591, 1559768, 1670805, 1559916, 1688194, 1642250]
2025-11-13 09:41:07,696 - race_prediction.competitive_field_analyzer - INFO - Batch querying historical data for 18 horses: [1706616, 1652488, 1650846, 1643070, 1641019, 1648763, 1652502, 1676002, 1669182, 1684532, 1648781, 1646967, 1579591, 1559768, 1670805, 1559916, 1688194, 1642250]
2025-11-13 09:41:27,747 - race_prediction.competitive_field_analyzer - INFO - Batch query completed in 20.05s, found 134 total records
2025-11-13 09:41:27,754 - race_prediction.competitive_field_analyzer - INFO - Batch query retrieved 134 total historical races
2025-11-13 09:41:27,754 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS PER HORSE ===
2025-11-13 09:41:27,754 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1706616: 5 historical races found
2025-11-13 09:41:27,754 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1652488: 8 historical races found
2025-11-13 09:41:27,754 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1650846: 7 historical races found
2025-11-13 09:41:27,754 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1643070: 8 historical races found
2025-11-13 09:41:27,754 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1641019: 8 historical races found
2025-11-13 09:41:27,754 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1648763: 4 historical races found
2025-11-13 09:41:27,754 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1652502: 8 historical races found
2025-11-13 09:41:27,754 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1676002: 9 historical races found
2025-11-13 09:41:27,754 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1669182: 10 historical races found
2025-11-13 09:41:27,754 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1684532: 5 historical races found
2025-11-13 09:41:27,754 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1648781: 6 historical races found
2025-11-13 09:41:27,754 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1646967: 7 historical races found
2025-11-13 09:41:27,754 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1579591: 6 historical races found
2025-11-13 09:41:27,754 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1559768: 8 historical races found
2025-11-13 09:41:27,754 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1670805: 5 historical races found
2025-11-13 09:41:27,754 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1559916: 8 historical races found
2025-11-13 09:41:27,754 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1688194: 11 historical races found
2025-11-13 09:41:27,754 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1642250: 11 historical races found
2025-11-13 09:41:27,754 - race_prediction.competitive_field_analyzer - INFO - Retrieved 134 total historical races
2025-11-13 09:41:27,754 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS BY HORSE ===
2025-11-13 09:41:27,754 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1706616: 5 historical races
2025-11-13 09:41:27,754 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1652488: 8 historical races
2025-11-13 09:41:27,754 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1650846: 7 historical races
2025-11-13 09:41:27,754 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1643070: 8 historical races
2025-11-13 09:41:27,754 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1641019: 8 historical races
2025-11-13 09:41:27,754 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1648763: 4 historical races
2025-11-13 09:41:27,754 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1652502: 8 historical races
2025-11-13 09:41:27,754 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1676002: 9 historical races
2025-11-13 09:41:27,754 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1669182: 10 historical races
2025-11-13 09:41:27,755 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1684532: 5 historical races
2025-11-13 09:41:27,755 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1648781: 6 historical races
2025-11-13 09:41:27,755 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1646967: 7 historical races
2025-11-13 09:41:27,755 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1579591: 6 historical races
2025-11-13 09:41:27,755 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1559768: 8 historical races
2025-11-13 09:41:27,755 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1670805: 5 historical races
2025-11-13 09:41:27,755 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1559916: 8 historical races
2025-11-13 09:41:27,755 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1688194: 11 historical races
2025-11-13 09:41:27,755 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1642250: 11 historical races
2025-11-13 09:41:27,755 - race_prediction.competitive_field_analyzer - INFO - === END HISTORICAL DATA RETRIEVAL ===

2025-11-13 09:41:27,755 - race_prediction.competitive_field_analyzer - INFO - === EARNINGS QUALITY ANALYSIS ===
2025-11-13 09:41:27,755 - race_prediction.competitive_field_analyzer - INFO - Valid earnings data: 18/18 horses
2025-11-13 09:41:27,755 - race_prediction.competitive_field_analyzer - INFO - Sample earnings per race: ['1,621,750', '765,864', '510,139']
2025-11-13 09:41:27,755 - race_prediction.competitive_field_analyzer - INFO - Field earnings stats: avg=605,134, max=1,621,750
2025-11-13 09:41:27,756 - race_prediction.competitive_field_analyzer - INFO - === TRACK SPECIALIZATION ANALYSIS ===
2025-11-13 09:41:27,756 - race_prediction.competitive_field_analyzer - INFO - Horses with reliable venue data (3+ races): 0/18
2025-11-13 09:41:27,757 - race_prediction.competitive_field_analyzer - INFO - === FORM MOMENTUM ANALYSIS ===
2025-11-13 09:41:27,757 - race_prediction.competitive_field_analyzer - INFO - Field avg horse trend: -2.452, recent perf: 5.78
2025-11-13 09:41:27,757 - race_prediction.competitive_field_analyzer - INFO - Field avg jockey trend: -0.062
2025-11-13 09:41:27,757 - race_prediction.competitive_field_analyzer - INFO - Horses with improving form: 1/18
2025-11-13 09:41:27,757 - race_prediction.competitive_field_analyzer - INFO - === HOT CONNECTIONS ANALYSIS ===
2025-11-13 09:41:27,757 - race_prediction.competitive_field_analyzer - INFO - Jockeys with wins today: 0/18
2025-11-13 09:41:27,757 - race_prediction.competitive_field_analyzer - INFO - Trainers with wins today: 0/18
2025-11-13 09:41:27,758 - race_prediction.competitive_field_analyzer - INFO - === DISTANCE COMFORT ANALYSIS ===
2025-11-13 09:41:27,758 - race_prediction.competitive_field_analyzer - INFO - Current race distance: 3600m
2025-11-13 09:41:27,758 - race_prediction.competitive_field_analyzer - INFO - Horses with similar recent distance: 15/18
2025-11-13 09:41:27,758 - race_prediction.competitive_field_analyzer - INFO - === REALISTIC COMPETITIVE SCORING ===
2025-11-13 09:41:27,758 - race_prediction.competitive_field_analyzer - INFO - üìä COMPETITIVE ANALYSIS SUMMARY:
2025-11-13 09:41:27,758 - race_prediction.competitive_field_analyzer - INFO -    Total competitive races: 134
2025-11-13 09:41:27,758 - race_prediction.competitive_field_analyzer - INFO -    Horses with historical data: 18/18
2025-11-13 09:41:27,758 - race_prediction.competitive_field_analyzer - INFO -    Average races per horse: 7.4
2025-11-13 09:41:27,769 - race_prediction.quinte_prediction_storage - INFO - Stored 18 horses for Quint√© race 1606886
2025-11-13 09:41:29,652 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE ANALYSIS DEBUG ===
2025-11-13 09:41:29,652 - race_prediction.competitive_field_analyzer - INFO - Analyzing competitive field for race with 16 horses
2025-11-13 09:41:29,652 - race_prediction.competitive_field_analyzer - INFO - Race data shape: (16, 278)
2025-11-13 09:41:29,652 - race_prediction.competitive_field_analyzer - INFO - Available columns: ['id', 'comp', 'jour', 'hippo', 'reun', 'prix', 'prixnom', 'typec', 'partant', 'dist', 'handi', 'groupe', 'quinte', 'natpis', 'meteo', 'corde', 'temperature', 'forceVent', 'directionVent', 'nebulosite', 'prediction_results', 'actual_results', 'created_at', 'updated_at', 'processed_data', 'cheque', 'handi_raw', 'reclam', 'sex', 'tempscourse', 'handicap_level_score', 'cl', 'numero', 'cheval', 'age', 'cotedirect', 'coteprob', 'recence', 'ecar', 'defoeil', 'defoeilPrec', 'musiqueche', 'musiquejoc', 'entraineur', 'coursescheval', 'victoirescheval', 'placescheval', 'dernierealloc', 'derniernbpartants', 'dernieredist', 'derniereplace', 'dernierecote', 'dernierEnt', 'proprietaire', 'poidmont', 'pourcVictJockHippo', 'pourcPlaceJockHippo', 'pourcVictChevalHippo', 'pourcPlaceChevalHippo', 'tempstot', 'vha', 'recordG', 'txreclam', 'dernierTxreclam', 'gainsCarriere', 'gainsAnneeEnCours', 'handicapDistance', 'handicapPoids', 'TxVictCouple', 'nbVictCouple', 'nbPlaceCouple', 'idche', 'idJockey', 'idEntraineur', 'defFirstTime', 'oeilFirstTime', 'oeil', 'dernierOeil', 'ratio_victoires', 'ratio_places', 'gains_par_course', 'efficacite_couple', 'regularite_couple', 'progression_couple', 'perf_cheval_hippo', 'perf_jockey_hippo', 'blinkers_first_time', 'has_blinkers', 'has_standard_blinkers', 'has_australian_blinkers', 'blinkers_added', 'blinkers_removed', 'blinkers_type_changed', 'blinkers_any_change', 'blinkers_high_impact_change', 'shoeing_first_time', 'fully_shod', 'front_shod_only', 'back_shod_only', 'barefoot', 'shoeing_changed', 'barefoot_to_shod', 'shod_to_barefoot', 'major_shoeing_change', 'shoeing_complexity', 'multiple_equipment_changes', 'equipment_momentum_score', 'high_equipment_momentum', 'multiple_first_time_changes', 'equipment_optimization_score', 'career_strike_rate', 'earnings_per_race', 'earnings_trend', 'last_race_position_normalized', 'last_race_odds_normalized', 'last_race_field_size_factor', 'distance_consistency', 'vha_normalized', 'claiming_tax_trend', 'class_stability', 'che_global_avg_pos', 'che_global_recent_perf', 'che_global_consistency', 'che_global_trend', 'che_global_pct_top3', 'che_global_nb_courses', 'che_global_total_races', 'che_global_dnf_rate', 'che_weighted_avg_pos', 'che_weighted_recent_perf', 'che_weighted_consistency', 'che_weighted_pct_top3', 'che_weighted_nb_courses', 'che_weighted_total_races', 'che_weighted_dnf_rate', 'che_weighted_trend', 'che_bytype_avg_pos', 'che_bytype_recent_perf', 'che_bytype_consistency', 'che_bytype_trend', 'che_bytype_pct_top3', 'che_bytype_nb_courses', 'che_bytype_dnf_rate', 'joc_global_avg_pos', 'joc_global_recent_perf', 'joc_global_consistency', 'joc_global_trend', 'joc_global_pct_top3', 'joc_global_nb_courses', 'joc_global_total_races', 'joc_global_dnf_rate', 'joc_weighted_avg_pos', 'joc_weighted_recent_perf', 'joc_weighted_consistency', 'joc_weighted_pct_top3', 'joc_weighted_nb_courses', 'joc_weighted_total_races', 'joc_weighted_dnf_rate', 'joc_weighted_trend', 'joc_bytype_avg_pos', 'joc_bytype_recent_perf', 'joc_bytype_consistency', 'joc_bytype_trend', 'joc_bytype_pct_top3', 'joc_bytype_nb_courses', 'joc_bytype_dnf_rate', 'class_drop_pct', 'purse_per_starter', 'purse_ratio', 'moving_up_in_class', 'class_shock_indicator', 'handicap_level_change', 'time_per_distance', 'time_vs_record', 'pace_rating', 'speed_figure_proxy', 'market_confidence_shift', 'last_race_improvement', 'bounce_risk', 'layoff_distance_interaction', 'trainer_change', 'connection_stability', 'field_size_change', 'distance_comfort', 'competition_level_shift', 'recence_x_class_drop', 'trainer_change_x_recence', 'distance_change_x_recence', 'che_by_type_avg_pos', 'che_by_type_recent_perf', 'che_by_type_consistency', 'che_by_type_trend', 'che_by_type_pct_top3', 'che_by_type_nb_courses', 'che_by_type_dnf_rate', 'joc_by_type_avg_pos', 'joc_by_type_recent_perf', 'joc_by_type_consistency', 'joc_by_type_trend', 'joc_by_type_pct_top3', 'joc_by_type_nb_courses', 'joc_by_type_dnf_rate', 'trainer_victoires', 'trainer_places', 'trainer_courses', 'trainer_winrate', 'trainer_placerate', 'trainer_quality_score', 'trainer_experience_level', 'handicap_poids', 'handicap_dist', 'prec_handicap_poids', 'prec_handicap_dist', 'handicap_poids_change', 'handicap_poids_increased', 'handicap_poids_decreased', 'handicap_dist_change', 'handicap_dist_increased', 'handicap_dist_decreased', 'total_handicap', 'handicap_momentum', 'last_race_position', 'last_race_distance', 'distance_change', 'distance_change_pct', 'distance_increased', 'distance_decreased', 'same_distance', 'corde_change', 'corde_improved', 'corde_worsened', 'last_race_top3', 'last_race_won', 'che_bytype_total_races', 'joc_bytype_total_races', 'che_form_momentum', 'che_improving_form', 'che_declining_form', 'che_high_consistency', 'che_recent_quality', 'che_elite_performer', 'che_regular_placer', 'joc_form_momentum', 'joc_improving_form', 'joc_high_consistency', 'joc_elite_performer', 'synergy_both_improving', 'synergy_both_consistent', 'synergy_both_elite', 'overall_momentum_score', 'high_momentum', 'quinte_career_starts', 'quinte_win_rate', 'quinte_top5_rate', 'avg_quinte_position', 'days_since_last_quinte', 'quinte_handicap_specialist', 'quinte_conditions_specialist', 'quinte_large_field_ability', 'quinte_track_condition_fit', 'is_handicap_quinte', 'handicap_division', 'purse_level_category', 'field_size_category', 'track_condition_PH', 'track_condition_DUR', 'track_condition_PS', 'track_condition_PSF', 'weather_clear', 'weather_rain', 'weather_cloudy', 'post_position_bias', 'post_position_track_bias', 'raw_tabnet_prediction', 'predicted_position_tabnet', 'raw_rf_prediction', 'predicted_position_rf', 'predicted_position_base']
2025-11-13 09:41:29,653 - race_prediction.competitive_field_analyzer - INFO - === CRITICAL COLUMNS ANALYSIS ===
2025-11-13 09:41:29,653 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ recordG: 16/16 non-null values (100.0%)
2025-11-13 09:41:29,653 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [0.0, 0.0, 0.0]
2025-11-13 09:41:29,653 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ hippo: 16/16 non-null values (100.0%)
2025-11-13 09:41:29,653 - race_prediction.competitive_field_analyzer - INFO -    Sample values: ['Chantilly', 'Chantilly', 'Chantilly']
2025-11-13 09:41:29,653 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ coursescheval: 16/16 non-null values (100.0%)
2025-11-13 09:41:29,653 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [16, 9, 11]
2025-11-13 09:41:29,653 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ victoirescheval: 16/16 non-null values (100.0%)
2025-11-13 09:41:29,653 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [2, 2, 2]
2025-11-13 09:41:29,653 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ placescheval: 16/16 non-null values (100.0%)
2025-11-13 09:41:29,653 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [9, 5, 5]
2025-11-13 09:41:29,653 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ gainsCarriere: 16/16 non-null values (100.0%)
2025-11-13 09:41:29,653 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [8639200, 3460000, 5448200]
2025-11-13 09:41:29,653 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ age: 16/16 non-null values (100.0%)
2025-11-13 09:41:29,654 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [3, 3, 3]
2025-11-13 09:41:29,654 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ derniereplace: 16/16 non-null values (100.0%)
2025-11-13 09:41:29,654 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [1, 8, 13]
2025-11-13 09:41:29,654 - race_prediction.competitive_field_analyzer - INFO - === RACE METADATA ===
2025-11-13 09:41:29,654 - race_prediction.competitive_field_analyzer - INFO - comp: 1606844
2025-11-13 09:41:29,654 - race_prediction.competitive_field_analyzer - INFO - hippo: Chantilly
2025-11-13 09:41:29,654 - race_prediction.competitive_field_analyzer - INFO - dist: 1600
2025-11-13 09:41:29,654 - race_prediction.competitive_field_analyzer - INFO - typec: Plat
2025-11-13 09:41:29,654 - race_prediction.competitive_field_analyzer - INFO - partant: 16
2025-11-13 09:41:29,654 - race_prediction.competitive_field_analyzer - INFO - === SAMPLE RACE DATA ===
2025-11-13 09:41:29,654 - race_prediction.competitive_field_analyzer - INFO - Sample data (columns: ['numero', 'cheval', 'recordG', 'hippo', 'coursescheval']):
2025-11-13 09:41:29,654 - race_prediction.competitive_field_analyzer - INFO -   Horse 0: {'numero': 1, 'cheval': 'El Pequenio', 'recordG': 0.0, 'hippo': 'Chantilly', 'coursescheval': 16}
2025-11-13 09:41:29,655 - race_prediction.competitive_field_analyzer - INFO -   Horse 1: {'numero': 2, 'cheval': 'Lakota Beau', 'recordG': 0.0, 'hippo': 'Chantilly', 'coursescheval': 9}
2025-11-13 09:41:29,655 - race_prediction.competitive_field_analyzer - INFO -   Horse 2: {'numero': 3, 'cheval': 'Acto', 'recordG': 0.0, 'hippo': 'Chantilly', 'coursescheval': 11}
2025-11-13 09:41:29,655 - race_prediction.competitive_field_analyzer - INFO - === END COMPETITIVE ANALYSIS DEBUG ===

2025-11-13 09:41:29,655 - race_prediction.competitive_field_analyzer - INFO - === RETRIEVING HISTORICAL DATA ===
2025-11-13 09:41:29,655 - race_prediction.competitive_field_analyzer - INFO - Fetching historical data for 16 horses: [1718695, 1714596, 1723957, 1728965, 1734355, 1751977, 1741661, 1717206, 1722576, 1720035, 1717191, 1722582, 1723132, 1704246, 1717205, 1740052]
2025-11-13 09:41:29,656 - race_prediction.competitive_field_analyzer - INFO - Batch querying historical data for 16 horses: [1718695, 1714596, 1723957, 1728965, 1734355, 1751977, 1741661, 1717206, 1722576, 1720035, 1717191, 1722582, 1723132, 1704246, 1717205, 1740052]
2025-11-13 09:41:49,226 - race_prediction.competitive_field_analyzer - INFO - Batch query completed in 19.57s, found 146 total records
2025-11-13 09:41:49,232 - race_prediction.competitive_field_analyzer - INFO - Batch query retrieved 146 total historical races
2025-11-13 09:41:49,233 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS PER HORSE ===
2025-11-13 09:41:49,233 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1718695: 12 historical races found
2025-11-13 09:41:49,233 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1714596: 9 historical races found
2025-11-13 09:41:49,233 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1723957: 11 historical races found
2025-11-13 09:41:49,233 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1728965: 8 historical races found
2025-11-13 09:41:49,233 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1734355: 6 historical races found
2025-11-13 09:41:49,233 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1751977: 7 historical races found
2025-11-13 09:41:49,233 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1741661: 7 historical races found
2025-11-13 09:41:49,233 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1717206: 4 historical races found
2025-11-13 09:41:49,233 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1722576: 10 historical races found
2025-11-13 09:41:49,233 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1720035: 11 historical races found
2025-11-13 09:41:49,233 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1717191: 7 historical races found
2025-11-13 09:41:49,233 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1722582: 10 historical races found
2025-11-13 09:41:49,233 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1723132: 8 historical races found
2025-11-13 09:41:49,233 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1704246: 15 historical races found
2025-11-13 09:41:49,233 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1717205: 12 historical races found
2025-11-13 09:41:49,233 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1740052: 9 historical races found
2025-11-13 09:41:49,233 - race_prediction.competitive_field_analyzer - INFO - Retrieved 146 total historical races
2025-11-13 09:41:49,233 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS BY HORSE ===
2025-11-13 09:41:49,233 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1718695: 12 historical races
2025-11-13 09:41:49,233 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1714596: 9 historical races
2025-11-13 09:41:49,233 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1723957: 11 historical races
2025-11-13 09:41:49,234 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1728965: 8 historical races
2025-11-13 09:41:49,234 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1734355: 6 historical races
2025-11-13 09:41:49,234 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1751977: 7 historical races
2025-11-13 09:41:49,234 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1741661: 7 historical races
2025-11-13 09:41:49,234 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1717206: 4 historical races
2025-11-13 09:41:49,234 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1722576: 10 historical races
2025-11-13 09:41:49,234 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1720035: 11 historical races
2025-11-13 09:41:49,234 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1717191: 7 historical races
2025-11-13 09:41:49,234 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1722582: 10 historical races
2025-11-13 09:41:49,234 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1723132: 8 historical races
2025-11-13 09:41:49,234 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1704246: 15 historical races
2025-11-13 09:41:49,234 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1717205: 12 historical races
2025-11-13 09:41:49,234 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1740052: 9 historical races
2025-11-13 09:41:49,234 - race_prediction.competitive_field_analyzer - INFO - === END HISTORICAL DATA RETRIEVAL ===

2025-11-13 09:41:49,235 - race_prediction.competitive_field_analyzer - INFO - === EARNINGS QUALITY ANALYSIS ===
2025-11-13 09:41:49,235 - race_prediction.competitive_field_analyzer - INFO - Valid earnings data: 16/16 horses
2025-11-13 09:41:49,235 - race_prediction.competitive_field_analyzer - INFO - Sample earnings per race: ['539,950', '384,444', '495,291']
2025-11-13 09:41:49,235 - race_prediction.competitive_field_analyzer - INFO - Field earnings stats: avg=388,785, max=539,950
2025-11-13 09:41:49,235 - race_prediction.competitive_field_analyzer - INFO - === TRACK SPECIALIZATION ANALYSIS ===
2025-11-13 09:41:49,235 - race_prediction.competitive_field_analyzer - INFO - Horses with reliable venue data (3+ races): 0/16
2025-11-13 09:41:49,236 - race_prediction.competitive_field_analyzer - INFO - === FORM MOMENTUM ANALYSIS ===
2025-11-13 09:41:49,236 - race_prediction.competitive_field_analyzer - INFO - Field avg horse trend: -0.493, recent perf: 7.17
2025-11-13 09:41:49,236 - race_prediction.competitive_field_analyzer - INFO - Field avg jockey trend: -0.763
2025-11-13 09:41:49,236 - race_prediction.competitive_field_analyzer - INFO - Horses with improving form: 2/16
2025-11-13 09:41:49,237 - race_prediction.competitive_field_analyzer - INFO - === HOT CONNECTIONS ANALYSIS ===
2025-11-13 09:41:49,237 - race_prediction.competitive_field_analyzer - INFO - Jockeys with wins today: 0/16
2025-11-13 09:41:49,237 - race_prediction.competitive_field_analyzer - INFO - Trainers with wins today: 0/16
2025-11-13 09:41:49,237 - race_prediction.competitive_field_analyzer - INFO - === DISTANCE COMFORT ANALYSIS ===
2025-11-13 09:41:49,237 - race_prediction.competitive_field_analyzer - INFO - Current race distance: 1600m
2025-11-13 09:41:49,237 - race_prediction.competitive_field_analyzer - INFO - Horses with similar recent distance: 14/16
2025-11-13 09:41:49,237 - race_prediction.competitive_field_analyzer - INFO - === REALISTIC COMPETITIVE SCORING ===
2025-11-13 09:41:49,238 - race_prediction.competitive_field_analyzer - INFO - üìä COMPETITIVE ANALYSIS SUMMARY:
2025-11-13 09:41:49,238 - race_prediction.competitive_field_analyzer - INFO -    Total competitive races: 146
2025-11-13 09:41:49,238 - race_prediction.competitive_field_analyzer - INFO -    Horses with historical data: 16/16
2025-11-13 09:41:49,238 - race_prediction.competitive_field_analyzer - INFO -    Average races per horse: 9.1
2025-11-13 09:41:49,247 - race_prediction.quinte_prediction_storage - INFO - Stored 16 horses for Quint√© race 1606844
2025-11-13 09:41:51,158 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE ANALYSIS DEBUG ===
2025-11-13 09:41:51,158 - race_prediction.competitive_field_analyzer - INFO - Analyzing competitive field for race with 13 horses
2025-11-13 09:41:51,158 - race_prediction.competitive_field_analyzer - INFO - Race data shape: (13, 278)
2025-11-13 09:41:51,158 - race_prediction.competitive_field_analyzer - INFO - Available columns: ['id', 'comp', 'jour', 'hippo', 'reun', 'prix', 'prixnom', 'typec', 'partant', 'dist', 'handi', 'groupe', 'quinte', 'natpis', 'meteo', 'corde', 'temperature', 'forceVent', 'directionVent', 'nebulosite', 'prediction_results', 'actual_results', 'created_at', 'updated_at', 'processed_data', 'cheque', 'handi_raw', 'reclam', 'sex', 'tempscourse', 'handicap_level_score', 'cl', 'numero', 'cheval', 'age', 'cotedirect', 'coteprob', 'recence', 'ecar', 'defoeil', 'defoeilPrec', 'musiqueche', 'musiquejoc', 'entraineur', 'coursescheval', 'victoirescheval', 'placescheval', 'dernierealloc', 'derniernbpartants', 'dernieredist', 'derniereplace', 'dernierecote', 'dernierEnt', 'proprietaire', 'poidmont', 'pourcVictJockHippo', 'pourcPlaceJockHippo', 'pourcVictChevalHippo', 'pourcPlaceChevalHippo', 'tempstot', 'vha', 'recordG', 'txreclam', 'dernierTxreclam', 'gainsCarriere', 'gainsAnneeEnCours', 'handicapDistance', 'handicapPoids', 'TxVictCouple', 'nbVictCouple', 'nbPlaceCouple', 'idche', 'idJockey', 'idEntraineur', 'defFirstTime', 'oeilFirstTime', 'oeil', 'dernierOeil', 'ratio_victoires', 'ratio_places', 'gains_par_course', 'efficacite_couple', 'regularite_couple', 'progression_couple', 'perf_cheval_hippo', 'perf_jockey_hippo', 'blinkers_first_time', 'has_blinkers', 'has_standard_blinkers', 'has_australian_blinkers', 'blinkers_added', 'blinkers_removed', 'blinkers_type_changed', 'blinkers_any_change', 'blinkers_high_impact_change', 'shoeing_first_time', 'fully_shod', 'front_shod_only', 'back_shod_only', 'barefoot', 'shoeing_changed', 'barefoot_to_shod', 'shod_to_barefoot', 'major_shoeing_change', 'shoeing_complexity', 'multiple_equipment_changes', 'equipment_momentum_score', 'high_equipment_momentum', 'multiple_first_time_changes', 'equipment_optimization_score', 'career_strike_rate', 'earnings_per_race', 'earnings_trend', 'last_race_position_normalized', 'last_race_odds_normalized', 'last_race_field_size_factor', 'distance_consistency', 'vha_normalized', 'claiming_tax_trend', 'class_stability', 'che_global_avg_pos', 'che_global_recent_perf', 'che_global_consistency', 'che_global_trend', 'che_global_pct_top3', 'che_global_nb_courses', 'che_global_total_races', 'che_global_dnf_rate', 'che_weighted_avg_pos', 'che_weighted_recent_perf', 'che_weighted_consistency', 'che_weighted_pct_top3', 'che_weighted_nb_courses', 'che_weighted_total_races', 'che_weighted_dnf_rate', 'che_weighted_trend', 'che_bytype_avg_pos', 'che_bytype_recent_perf', 'che_bytype_consistency', 'che_bytype_trend', 'che_bytype_pct_top3', 'che_bytype_nb_courses', 'che_bytype_dnf_rate', 'joc_global_avg_pos', 'joc_global_recent_perf', 'joc_global_consistency', 'joc_global_trend', 'joc_global_pct_top3', 'joc_global_nb_courses', 'joc_global_total_races', 'joc_global_dnf_rate', 'joc_weighted_avg_pos', 'joc_weighted_recent_perf', 'joc_weighted_consistency', 'joc_weighted_pct_top3', 'joc_weighted_nb_courses', 'joc_weighted_total_races', 'joc_weighted_dnf_rate', 'joc_weighted_trend', 'joc_bytype_avg_pos', 'joc_bytype_recent_perf', 'joc_bytype_consistency', 'joc_bytype_trend', 'joc_bytype_pct_top3', 'joc_bytype_nb_courses', 'joc_bytype_dnf_rate', 'class_drop_pct', 'purse_per_starter', 'purse_ratio', 'moving_up_in_class', 'class_shock_indicator', 'handicap_level_change', 'time_per_distance', 'time_vs_record', 'pace_rating', 'speed_figure_proxy', 'market_confidence_shift', 'last_race_improvement', 'bounce_risk', 'layoff_distance_interaction', 'trainer_change', 'connection_stability', 'field_size_change', 'distance_comfort', 'competition_level_shift', 'recence_x_class_drop', 'trainer_change_x_recence', 'distance_change_x_recence', 'che_by_type_avg_pos', 'che_by_type_recent_perf', 'che_by_type_consistency', 'che_by_type_trend', 'che_by_type_pct_top3', 'che_by_type_nb_courses', 'che_by_type_dnf_rate', 'joc_by_type_avg_pos', 'joc_by_type_recent_perf', 'joc_by_type_consistency', 'joc_by_type_trend', 'joc_by_type_pct_top3', 'joc_by_type_nb_courses', 'joc_by_type_dnf_rate', 'trainer_victoires', 'trainer_places', 'trainer_courses', 'trainer_winrate', 'trainer_placerate', 'trainer_quality_score', 'trainer_experience_level', 'handicap_poids', 'handicap_dist', 'prec_handicap_poids', 'prec_handicap_dist', 'handicap_poids_change', 'handicap_poids_increased', 'handicap_poids_decreased', 'handicap_dist_change', 'handicap_dist_increased', 'handicap_dist_decreased', 'total_handicap', 'handicap_momentum', 'last_race_position', 'last_race_distance', 'distance_change', 'distance_change_pct', 'distance_increased', 'distance_decreased', 'same_distance', 'corde_change', 'corde_improved', 'corde_worsened', 'last_race_top3', 'last_race_won', 'che_bytype_total_races', 'joc_bytype_total_races', 'che_form_momentum', 'che_improving_form', 'che_declining_form', 'che_high_consistency', 'che_recent_quality', 'che_elite_performer', 'che_regular_placer', 'joc_form_momentum', 'joc_improving_form', 'joc_high_consistency', 'joc_elite_performer', 'synergy_both_improving', 'synergy_both_consistent', 'synergy_both_elite', 'overall_momentum_score', 'high_momentum', 'quinte_career_starts', 'quinte_win_rate', 'quinte_top5_rate', 'avg_quinte_position', 'days_since_last_quinte', 'quinte_handicap_specialist', 'quinte_conditions_specialist', 'quinte_large_field_ability', 'quinte_track_condition_fit', 'is_handicap_quinte', 'handicap_division', 'purse_level_category', 'field_size_category', 'track_condition_PH', 'track_condition_DUR', 'track_condition_PS', 'track_condition_PSF', 'weather_clear', 'weather_rain', 'weather_cloudy', 'post_position_bias', 'post_position_track_bias', 'raw_tabnet_prediction', 'predicted_position_tabnet', 'raw_rf_prediction', 'predicted_position_rf', 'predicted_position_base']
2025-11-13 09:41:51,159 - race_prediction.competitive_field_analyzer - INFO - === CRITICAL COLUMNS ANALYSIS ===
2025-11-13 09:41:51,159 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ recordG: 13/13 non-null values (100.0%)
2025-11-13 09:41:51,159 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [0.0, 0.0, 0.0]
2025-11-13 09:41:51,159 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ hippo: 13/13 non-null values (100.0%)
2025-11-13 09:41:51,159 - race_prediction.competitive_field_analyzer - INFO -    Sample values: ['Enghien', 'Enghien', 'Enghien']
2025-11-13 09:41:51,159 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ coursescheval: 13/13 non-null values (100.0%)
2025-11-13 09:41:51,159 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [55, 70, 91]
2025-11-13 09:41:51,160 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ victoirescheval: 13/13 non-null values (100.0%)
2025-11-13 09:41:51,160 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [3, 11, 10]
2025-11-13 09:41:51,160 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ placescheval: 13/13 non-null values (100.0%)
2025-11-13 09:41:51,160 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [18, 23, 37]
2025-11-13 09:41:51,160 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ gainsCarriere: 13/13 non-null values (100.0%)
2025-11-13 09:41:51,160 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [22045000, 22801000, 22384000]
2025-11-13 09:41:51,160 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ age: 13/13 non-null values (100.0%)
2025-11-13 09:41:51,160 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [7, 9, 9]
2025-11-13 09:41:51,160 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ derniereplace: 13/13 non-null values (100.0%)
2025-11-13 09:41:51,160 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [13.0, 15.0, 2.0]
2025-11-13 09:41:51,160 - race_prediction.competitive_field_analyzer - INFO - === RACE METADATA ===
2025-11-13 09:41:51,160 - race_prediction.competitive_field_analyzer - INFO - comp: 1611878
2025-11-13 09:41:51,160 - race_prediction.competitive_field_analyzer - INFO - hippo: Enghien
2025-11-13 09:41:51,160 - race_prediction.competitive_field_analyzer - INFO - dist: 2150
2025-11-13 09:41:51,160 - race_prediction.competitive_field_analyzer - INFO - typec: Attel√©
2025-11-13 09:41:51,160 - race_prediction.competitive_field_analyzer - INFO - partant: 13
2025-11-13 09:41:51,160 - race_prediction.competitive_field_analyzer - INFO - === SAMPLE RACE DATA ===
2025-11-13 09:41:51,160 - race_prediction.competitive_field_analyzer - INFO - Sample data (columns: ['numero', 'cheval', 'recordG', 'hippo', 'coursescheval']):
2025-11-13 09:41:51,161 - race_prediction.competitive_field_analyzer - INFO -   Horse 0: {'numero': 1, 'cheval': 'Instructor', 'recordG': 0.0, 'hippo': 'Enghien', 'coursescheval': 55}
2025-11-13 09:41:51,161 - race_prediction.competitive_field_analyzer - INFO -   Horse 1: {'numero': 2, 'cheval': 'Gourou', 'recordG': 0.0, 'hippo': 'Enghien', 'coursescheval': 70}
2025-11-13 09:41:51,161 - race_prediction.competitive_field_analyzer - INFO -   Horse 2: {'numero': 3, 'cheval': 'Gucci de Barb', 'recordG': 0.0, 'hippo': 'Enghien', 'coursescheval': 91}
2025-11-13 09:41:51,161 - race_prediction.competitive_field_analyzer - INFO - === END COMPETITIVE ANALYSIS DEBUG ===

2025-11-13 09:41:51,161 - race_prediction.competitive_field_analyzer - INFO - === RETRIEVING HISTORICAL DATA ===
2025-11-13 09:41:51,161 - race_prediction.competitive_field_analyzer - INFO - Fetching historical data for 13 horses: [1437359, 1377688, 1349896, 1495175, 1430252, 1449411, 1291128, 1345326, 1461235, 1268908, 1476208, 1379064, 1471729]
2025-11-13 09:41:51,162 - race_prediction.competitive_field_analyzer - INFO - Batch querying historical data for 13 horses: [1437359, 1377688, 1349896, 1495175, 1430252, 1449411, 1291128, 1345326, 1461235, 1268908, 1476208, 1379064, 1471729]
2025-11-13 09:42:10,373 - race_prediction.competitive_field_analyzer - INFO - Batch query completed in 19.21s, found 188 total records
2025-11-13 09:42:10,381 - race_prediction.competitive_field_analyzer - INFO - Batch query retrieved 188 total historical races
2025-11-13 09:42:10,382 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS PER HORSE ===
2025-11-13 09:42:10,382 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1437359: 19 historical races found
2025-11-13 09:42:10,382 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1377688: 16 historical races found
2025-11-13 09:42:10,382 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1349896: 14 historical races found
2025-11-13 09:42:10,382 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1495175: 14 historical races found
2025-11-13 09:42:10,382 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1430252: 13 historical races found
2025-11-13 09:42:10,382 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1449411: 15 historical races found
2025-11-13 09:42:10,382 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1291128: 20 historical races found
2025-11-13 09:42:10,382 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1345326: 12 historical races found
2025-11-13 09:42:10,382 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1461235: 13 historical races found
2025-11-13 09:42:10,382 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1268908: 10 historical races found
2025-11-13 09:42:10,382 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1476208: 12 historical races found
2025-11-13 09:42:10,382 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1379064: 12 historical races found
2025-11-13 09:42:10,382 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1471729: 18 historical races found
2025-11-13 09:42:10,382 - race_prediction.competitive_field_analyzer - INFO - Retrieved 188 total historical races
2025-11-13 09:42:10,382 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS BY HORSE ===
2025-11-13 09:42:10,382 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1437359: 19 historical races
2025-11-13 09:42:10,382 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1377688: 16 historical races
2025-11-13 09:42:10,382 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1349896: 14 historical races
2025-11-13 09:42:10,382 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1495175: 14 historical races
2025-11-13 09:42:10,382 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1430252: 13 historical races
2025-11-13 09:42:10,382 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1449411: 15 historical races
2025-11-13 09:42:10,382 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1291128: 20 historical races
2025-11-13 09:42:10,382 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1345326: 12 historical races
2025-11-13 09:42:10,382 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1461235: 13 historical races
2025-11-13 09:42:10,382 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1268908: 10 historical races
2025-11-13 09:42:10,382 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1476208: 12 historical races
2025-11-13 09:42:10,382 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1379064: 12 historical races
2025-11-13 09:42:10,382 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1471729: 18 historical races
2025-11-13 09:42:10,382 - race_prediction.competitive_field_analyzer - INFO - === END HISTORICAL DATA RETRIEVAL ===

2025-11-13 09:42:10,383 - race_prediction.competitive_field_analyzer - INFO - === EARNINGS QUALITY ANALYSIS ===
2025-11-13 09:42:10,383 - race_prediction.competitive_field_analyzer - INFO - Valid earnings data: 13/13 horses
2025-11-13 09:42:10,383 - race_prediction.competitive_field_analyzer - INFO - Sample earnings per race: ['400,818', '325,729', '245,978']
2025-11-13 09:42:10,383 - race_prediction.competitive_field_analyzer - INFO - Field earnings stats: avg=303,182, max=400,818
2025-11-13 09:42:10,383 - race_prediction.competitive_field_analyzer - INFO - === TRACK SPECIALIZATION ANALYSIS ===
2025-11-13 09:42:10,383 - race_prediction.competitive_field_analyzer - INFO - Horses with reliable venue data (3+ races): 0/13
2025-11-13 09:42:10,384 - race_prediction.competitive_field_analyzer - INFO - === FORM MOMENTUM ANALYSIS ===
2025-11-13 09:42:10,384 - race_prediction.competitive_field_analyzer - INFO - Field avg horse trend: 1.930, recent perf: 7.31
2025-11-13 09:42:10,384 - race_prediction.competitive_field_analyzer - INFO - Field avg jockey trend: 0.123
2025-11-13 09:42:10,384 - race_prediction.competitive_field_analyzer - INFO - Horses with improving form: 3/13
2025-11-13 09:42:10,385 - race_prediction.competitive_field_analyzer - INFO - === HOT CONNECTIONS ANALYSIS ===
2025-11-13 09:42:10,385 - race_prediction.competitive_field_analyzer - INFO - Jockeys with wins today: 0/13
2025-11-13 09:42:10,385 - race_prediction.competitive_field_analyzer - INFO - Trainers with wins today: 0/13
2025-11-13 09:42:10,385 - race_prediction.competitive_field_analyzer - INFO - === DISTANCE COMFORT ANALYSIS ===
2025-11-13 09:42:10,385 - race_prediction.competitive_field_analyzer - INFO - Current race distance: 2150m
2025-11-13 09:42:10,385 - race_prediction.competitive_field_analyzer - INFO - Horses with similar recent distance: 1/13
2025-11-13 09:42:10,385 - race_prediction.competitive_field_analyzer - INFO - === REALISTIC COMPETITIVE SCORING ===
2025-11-13 09:42:10,385 - race_prediction.competitive_field_analyzer - INFO - üìä COMPETITIVE ANALYSIS SUMMARY:
2025-11-13 09:42:10,385 - race_prediction.competitive_field_analyzer - INFO -    Total competitive races: 188
2025-11-13 09:42:10,386 - race_prediction.competitive_field_analyzer - INFO -    Horses with historical data: 13/13
2025-11-13 09:42:10,386 - race_prediction.competitive_field_analyzer - INFO -    Average races per horse: 14.5
2025-11-13 09:42:10,396 - race_prediction.quinte_prediction_storage - INFO - Stored 13 horses for Quint√© race 1611878
2025-11-13 09:42:12,312 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE ANALYSIS DEBUG ===
2025-11-13 09:42:12,312 - race_prediction.competitive_field_analyzer - INFO - Analyzing competitive field for race with 16 horses
2025-11-13 09:42:12,312 - race_prediction.competitive_field_analyzer - INFO - Race data shape: (16, 278)
2025-11-13 09:42:12,312 - race_prediction.competitive_field_analyzer - INFO - Available columns: ['id', 'comp', 'jour', 'hippo', 'reun', 'prix', 'prixnom', 'typec', 'partant', 'dist', 'handi', 'groupe', 'quinte', 'natpis', 'meteo', 'corde', 'temperature', 'forceVent', 'directionVent', 'nebulosite', 'prediction_results', 'actual_results', 'created_at', 'updated_at', 'processed_data', 'cheque', 'handi_raw', 'reclam', 'sex', 'tempscourse', 'handicap_level_score', 'cl', 'numero', 'cheval', 'age', 'cotedirect', 'coteprob', 'recence', 'ecar', 'defoeil', 'defoeilPrec', 'musiqueche', 'musiquejoc', 'entraineur', 'coursescheval', 'victoirescheval', 'placescheval', 'dernierealloc', 'derniernbpartants', 'dernieredist', 'derniereplace', 'dernierecote', 'dernierEnt', 'proprietaire', 'poidmont', 'pourcVictJockHippo', 'pourcPlaceJockHippo', 'pourcVictChevalHippo', 'pourcPlaceChevalHippo', 'tempstot', 'vha', 'recordG', 'txreclam', 'dernierTxreclam', 'gainsCarriere', 'gainsAnneeEnCours', 'handicapDistance', 'handicapPoids', 'TxVictCouple', 'nbVictCouple', 'nbPlaceCouple', 'idche', 'idJockey', 'idEntraineur', 'defFirstTime', 'oeilFirstTime', 'oeil', 'dernierOeil', 'ratio_victoires', 'ratio_places', 'gains_par_course', 'efficacite_couple', 'regularite_couple', 'progression_couple', 'perf_cheval_hippo', 'perf_jockey_hippo', 'blinkers_first_time', 'has_blinkers', 'has_standard_blinkers', 'has_australian_blinkers', 'blinkers_added', 'blinkers_removed', 'blinkers_type_changed', 'blinkers_any_change', 'blinkers_high_impact_change', 'shoeing_first_time', 'fully_shod', 'front_shod_only', 'back_shod_only', 'barefoot', 'shoeing_changed', 'barefoot_to_shod', 'shod_to_barefoot', 'major_shoeing_change', 'shoeing_complexity', 'multiple_equipment_changes', 'equipment_momentum_score', 'high_equipment_momentum', 'multiple_first_time_changes', 'equipment_optimization_score', 'career_strike_rate', 'earnings_per_race', 'earnings_trend', 'last_race_position_normalized', 'last_race_odds_normalized', 'last_race_field_size_factor', 'distance_consistency', 'vha_normalized', 'claiming_tax_trend', 'class_stability', 'che_global_avg_pos', 'che_global_recent_perf', 'che_global_consistency', 'che_global_trend', 'che_global_pct_top3', 'che_global_nb_courses', 'che_global_total_races', 'che_global_dnf_rate', 'che_weighted_avg_pos', 'che_weighted_recent_perf', 'che_weighted_consistency', 'che_weighted_pct_top3', 'che_weighted_nb_courses', 'che_weighted_total_races', 'che_weighted_dnf_rate', 'che_weighted_trend', 'che_bytype_avg_pos', 'che_bytype_recent_perf', 'che_bytype_consistency', 'che_bytype_trend', 'che_bytype_pct_top3', 'che_bytype_nb_courses', 'che_bytype_dnf_rate', 'joc_global_avg_pos', 'joc_global_recent_perf', 'joc_global_consistency', 'joc_global_trend', 'joc_global_pct_top3', 'joc_global_nb_courses', 'joc_global_total_races', 'joc_global_dnf_rate', 'joc_weighted_avg_pos', 'joc_weighted_recent_perf', 'joc_weighted_consistency', 'joc_weighted_pct_top3', 'joc_weighted_nb_courses', 'joc_weighted_total_races', 'joc_weighted_dnf_rate', 'joc_weighted_trend', 'joc_bytype_avg_pos', 'joc_bytype_recent_perf', 'joc_bytype_consistency', 'joc_bytype_trend', 'joc_bytype_pct_top3', 'joc_bytype_nb_courses', 'joc_bytype_dnf_rate', 'class_drop_pct', 'purse_per_starter', 'purse_ratio', 'moving_up_in_class', 'class_shock_indicator', 'handicap_level_change', 'time_per_distance', 'time_vs_record', 'pace_rating', 'speed_figure_proxy', 'market_confidence_shift', 'last_race_improvement', 'bounce_risk', 'layoff_distance_interaction', 'trainer_change', 'connection_stability', 'field_size_change', 'distance_comfort', 'competition_level_shift', 'recence_x_class_drop', 'trainer_change_x_recence', 'distance_change_x_recence', 'che_by_type_avg_pos', 'che_by_type_recent_perf', 'che_by_type_consistency', 'che_by_type_trend', 'che_by_type_pct_top3', 'che_by_type_nb_courses', 'che_by_type_dnf_rate', 'joc_by_type_avg_pos', 'joc_by_type_recent_perf', 'joc_by_type_consistency', 'joc_by_type_trend', 'joc_by_type_pct_top3', 'joc_by_type_nb_courses', 'joc_by_type_dnf_rate', 'trainer_victoires', 'trainer_places', 'trainer_courses', 'trainer_winrate', 'trainer_placerate', 'trainer_quality_score', 'trainer_experience_level', 'handicap_poids', 'handicap_dist', 'prec_handicap_poids', 'prec_handicap_dist', 'handicap_poids_change', 'handicap_poids_increased', 'handicap_poids_decreased', 'handicap_dist_change', 'handicap_dist_increased', 'handicap_dist_decreased', 'total_handicap', 'handicap_momentum', 'last_race_position', 'last_race_distance', 'distance_change', 'distance_change_pct', 'distance_increased', 'distance_decreased', 'same_distance', 'corde_change', 'corde_improved', 'corde_worsened', 'last_race_top3', 'last_race_won', 'che_bytype_total_races', 'joc_bytype_total_races', 'che_form_momentum', 'che_improving_form', 'che_declining_form', 'che_high_consistency', 'che_recent_quality', 'che_elite_performer', 'che_regular_placer', 'joc_form_momentum', 'joc_improving_form', 'joc_high_consistency', 'joc_elite_performer', 'synergy_both_improving', 'synergy_both_consistent', 'synergy_both_elite', 'overall_momentum_score', 'high_momentum', 'quinte_career_starts', 'quinte_win_rate', 'quinte_top5_rate', 'avg_quinte_position', 'days_since_last_quinte', 'quinte_handicap_specialist', 'quinte_conditions_specialist', 'quinte_large_field_ability', 'quinte_track_condition_fit', 'is_handicap_quinte', 'handicap_division', 'purse_level_category', 'field_size_category', 'track_condition_PH', 'track_condition_DUR', 'track_condition_PS', 'track_condition_PSF', 'weather_clear', 'weather_rain', 'weather_cloudy', 'post_position_bias', 'post_position_track_bias', 'raw_tabnet_prediction', 'predicted_position_tabnet', 'raw_rf_prediction', 'predicted_position_rf', 'predicted_position_base']
2025-11-13 09:42:12,312 - race_prediction.competitive_field_analyzer - INFO - === CRITICAL COLUMNS ANALYSIS ===
2025-11-13 09:42:12,312 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ recordG: 16/16 non-null values (100.0%)
2025-11-13 09:42:12,312 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [0.0, 0.0, 0.0]
2025-11-13 09:42:12,313 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ hippo: 16/16 non-null values (100.0%)
2025-11-13 09:42:12,313 - race_prediction.competitive_field_analyzer - INFO -    Sample values: ['Paris-Vincennes', 'Paris-Vincennes', 'Paris-Vincennes']
2025-11-13 09:42:12,313 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ coursescheval: 16/16 non-null values (100.0%)
2025-11-13 09:42:12,313 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [51, 54, 58]
2025-11-13 09:42:12,313 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ victoirescheval: 16/16 non-null values (100.0%)
2025-11-13 09:42:12,313 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [7, 15, 12]
2025-11-13 09:42:12,313 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ placescheval: 16/16 non-null values (100.0%)
2025-11-13 09:42:12,313 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [23, 31, 20]
2025-11-13 09:42:12,313 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ gainsCarriere: 16/16 non-null values (100.0%)
2025-11-13 09:42:12,313 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [15164200, 15887000, 17290000]
2025-11-13 09:42:12,313 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ age: 16/16 non-null values (100.0%)
2025-11-13 09:42:12,313 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [8, 8, 8]
2025-11-13 09:42:12,313 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ derniereplace: 16/16 non-null values (100.0%)
2025-11-13 09:42:12,313 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [10.0, 1.0, 8.0]
2025-11-13 09:42:12,313 - race_prediction.competitive_field_analyzer - INFO - === RACE METADATA ===
2025-11-13 09:42:12,314 - race_prediction.competitive_field_analyzer - INFO - comp: 1611846
2025-11-13 09:42:12,314 - race_prediction.competitive_field_analyzer - INFO - hippo: Paris-Vincennes
2025-11-13 09:42:12,314 - race_prediction.competitive_field_analyzer - INFO - dist: 2850
2025-11-13 09:42:12,314 - race_prediction.competitive_field_analyzer - INFO - typec: Attel√©
2025-11-13 09:42:12,314 - race_prediction.competitive_field_analyzer - INFO - partant: 16
2025-11-13 09:42:12,314 - race_prediction.competitive_field_analyzer - INFO - === SAMPLE RACE DATA ===
2025-11-13 09:42:12,314 - race_prediction.competitive_field_analyzer - INFO - Sample data (columns: ['numero', 'cheval', 'recordG', 'hippo', 'coursescheval']):
2025-11-13 09:42:12,314 - race_prediction.competitive_field_analyzer - INFO -   Horse 0: {'numero': 1, 'cheval': 'Hand Full', 'recordG': 0.0, 'hippo': 'Paris-Vincennes', 'coursescheval': 51}
2025-11-13 09:42:12,314 - race_prediction.competitive_field_analyzer - INFO -   Horse 1: {'numero': 2, 'cheval': 'Neo Turbo', 'recordG': 0.0, 'hippo': 'Paris-Vincennes', 'coursescheval': 54}
2025-11-13 09:42:12,314 - race_prediction.competitive_field_analyzer - INFO -   Horse 2: {'numero': 3, 'cheval': 'Hibiscus de Latom', 'recordG': 0.0, 'hippo': 'Paris-Vincennes', 'coursescheval': 58}
2025-11-13 09:42:12,314 - race_prediction.competitive_field_analyzer - INFO - === END COMPETITIVE ANALYSIS DEBUG ===

2025-11-13 09:42:12,314 - race_prediction.competitive_field_analyzer - INFO - === RETRIEVING HISTORICAL DATA ===
2025-11-13 09:42:12,314 - race_prediction.competitive_field_analyzer - INFO - Fetching historical data for 16 horses: [1406634, 1438113, 1430278, 1430596, 1430400, 1407560, 1433341, 1415077, 1381857, 1403008, 1388158, 1458863, 1384898, 1381710, 1379073, 1403037]
2025-11-13 09:42:12,315 - race_prediction.competitive_field_analyzer - INFO - Batch querying historical data for 16 horses: [1406634, 1438113, 1430278, 1430596, 1430400, 1407560, 1433341, 1415077, 1381857, 1403008, 1388158, 1458863, 1384898, 1381710, 1379073, 1403037]
2025-11-13 09:42:32,363 - race_prediction.competitive_field_analyzer - INFO - Batch query completed in 20.05s, found 212 total records
2025-11-13 09:42:32,373 - race_prediction.competitive_field_analyzer - INFO - Batch query retrieved 212 total historical races
2025-11-13 09:42:32,373 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS PER HORSE ===
2025-11-13 09:42:32,373 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1406634: 9 historical races found
2025-11-13 09:42:32,373 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1438113: 14 historical races found
2025-11-13 09:42:32,373 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1430278: 10 historical races found
2025-11-13 09:42:32,373 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1430596: 11 historical races found
2025-11-13 09:42:32,373 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1430400: 14 historical races found
2025-11-13 09:42:32,373 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1407560: 19 historical races found
2025-11-13 09:42:32,373 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1433341: 6 historical races found
2025-11-13 09:42:32,373 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1415077: 15 historical races found
2025-11-13 09:42:32,373 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1381857: 12 historical races found
2025-11-13 09:42:32,373 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1403008: 18 historical races found
2025-11-13 09:42:32,373 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1388158: 17 historical races found
2025-11-13 09:42:32,373 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1458863: 4 historical races found
2025-11-13 09:42:32,373 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1384898: 20 historical races found
2025-11-13 09:42:32,373 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1381710: 13 historical races found
2025-11-13 09:42:32,373 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1379073: 13 historical races found
2025-11-13 09:42:32,373 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1403037: 17 historical races found
2025-11-13 09:42:32,373 - race_prediction.competitive_field_analyzer - INFO - Retrieved 212 total historical races
2025-11-13 09:42:32,373 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS BY HORSE ===
2025-11-13 09:42:32,373 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1406634: 9 historical races
2025-11-13 09:42:32,373 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1438113: 14 historical races
2025-11-13 09:42:32,373 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1430278: 10 historical races
2025-11-13 09:42:32,373 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1430596: 11 historical races
2025-11-13 09:42:32,373 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1430400: 14 historical races
2025-11-13 09:42:32,373 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1407560: 19 historical races
2025-11-13 09:42:32,373 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1433341: 6 historical races
2025-11-13 09:42:32,373 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1415077: 15 historical races
2025-11-13 09:42:32,373 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1381857: 12 historical races
2025-11-13 09:42:32,373 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1403008: 18 historical races
2025-11-13 09:42:32,373 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1388158: 17 historical races
2025-11-13 09:42:32,374 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1458863: 4 historical races
2025-11-13 09:42:32,374 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1384898: 20 historical races
2025-11-13 09:42:32,374 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1381710: 13 historical races
2025-11-13 09:42:32,374 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1379073: 13 historical races
2025-11-13 09:42:32,374 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1403037: 17 historical races
2025-11-13 09:42:32,374 - race_prediction.competitive_field_analyzer - INFO - === END HISTORICAL DATA RETRIEVAL ===

2025-11-13 09:42:32,374 - race_prediction.competitive_field_analyzer - INFO - === EARNINGS QUALITY ANALYSIS ===
2025-11-13 09:42:32,374 - race_prediction.competitive_field_analyzer - INFO - Valid earnings data: 16/16 horses
2025-11-13 09:42:32,374 - race_prediction.competitive_field_analyzer - INFO - Sample earnings per race: ['297,337', '294,204', '298,103']
2025-11-13 09:42:32,374 - race_prediction.competitive_field_analyzer - INFO - Field earnings stats: avg=275,228, max=426,686
2025-11-13 09:42:32,374 - race_prediction.competitive_field_analyzer - INFO - === TRACK SPECIALIZATION ANALYSIS ===
2025-11-13 09:42:32,374 - race_prediction.competitive_field_analyzer - INFO - Horses with reliable venue data (3+ races): 0/16
2025-11-13 09:42:32,375 - race_prediction.competitive_field_analyzer - INFO - === FORM MOMENTUM ANALYSIS ===
2025-11-13 09:42:32,375 - race_prediction.competitive_field_analyzer - INFO - Field avg horse trend: 1.045, recent perf: 6.87
2025-11-13 09:42:32,375 - race_prediction.competitive_field_analyzer - INFO - Field avg jockey trend: -0.771
2025-11-13 09:42:32,375 - race_prediction.competitive_field_analyzer - INFO - Horses with improving form: 4/16
2025-11-13 09:42:32,376 - race_prediction.competitive_field_analyzer - INFO - === HOT CONNECTIONS ANALYSIS ===
2025-11-13 09:42:32,376 - race_prediction.competitive_field_analyzer - INFO - Jockeys with wins today: 0/16
2025-11-13 09:42:32,376 - race_prediction.competitive_field_analyzer - INFO - Trainers with wins today: 0/16
2025-11-13 09:42:32,376 - race_prediction.competitive_field_analyzer - INFO - === DISTANCE COMFORT ANALYSIS ===
2025-11-13 09:42:32,376 - race_prediction.competitive_field_analyzer - INFO - Current race distance: 2850m
2025-11-13 09:42:32,376 - race_prediction.competitive_field_analyzer - INFO - Horses with similar recent distance: 3/16
2025-11-13 09:42:32,376 - race_prediction.competitive_field_analyzer - INFO - === REALISTIC COMPETITIVE SCORING ===
2025-11-13 09:42:32,377 - race_prediction.competitive_field_analyzer - INFO - üìä COMPETITIVE ANALYSIS SUMMARY:
2025-11-13 09:42:32,377 - race_prediction.competitive_field_analyzer - INFO -    Total competitive races: 212
2025-11-13 09:42:32,377 - race_prediction.competitive_field_analyzer - INFO -    Horses with historical data: 16/16
2025-11-13 09:42:32,377 - race_prediction.competitive_field_analyzer - INFO -    Average races per horse: 13.2
2025-11-13 09:42:32,386 - race_prediction.quinte_prediction_storage - INFO - Stored 16 horses for Quint√© race 1611846
2025-11-13 09:42:34,476 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE ANALYSIS DEBUG ===
2025-11-13 09:42:34,477 - race_prediction.competitive_field_analyzer - INFO - Analyzing competitive field for race with 16 horses
2025-11-13 09:42:34,477 - race_prediction.competitive_field_analyzer - INFO - Race data shape: (16, 278)
2025-11-13 09:42:34,477 - race_prediction.competitive_field_analyzer - INFO - Available columns: ['id', 'comp', 'jour', 'hippo', 'reun', 'prix', 'prixnom', 'typec', 'partant', 'dist', 'handi', 'groupe', 'quinte', 'natpis', 'meteo', 'corde', 'temperature', 'forceVent', 'directionVent', 'nebulosite', 'prediction_results', 'actual_results', 'created_at', 'updated_at', 'processed_data', 'cheque', 'handi_raw', 'reclam', 'sex', 'tempscourse', 'handicap_level_score', 'cl', 'numero', 'cheval', 'age', 'cotedirect', 'coteprob', 'recence', 'ecar', 'defoeil', 'defoeilPrec', 'musiqueche', 'musiquejoc', 'entraineur', 'coursescheval', 'victoirescheval', 'placescheval', 'dernierealloc', 'derniernbpartants', 'dernieredist', 'derniereplace', 'dernierecote', 'dernierEnt', 'proprietaire', 'poidmont', 'pourcVictJockHippo', 'pourcPlaceJockHippo', 'pourcVictChevalHippo', 'pourcPlaceChevalHippo', 'tempstot', 'vha', 'recordG', 'txreclam', 'dernierTxreclam', 'gainsCarriere', 'gainsAnneeEnCours', 'handicapDistance', 'handicapPoids', 'TxVictCouple', 'nbVictCouple', 'nbPlaceCouple', 'idche', 'idJockey', 'idEntraineur', 'defFirstTime', 'oeilFirstTime', 'oeil', 'dernierOeil', 'ratio_victoires', 'ratio_places', 'gains_par_course', 'efficacite_couple', 'regularite_couple', 'progression_couple', 'perf_cheval_hippo', 'perf_jockey_hippo', 'blinkers_first_time', 'has_blinkers', 'has_standard_blinkers', 'has_australian_blinkers', 'blinkers_added', 'blinkers_removed', 'blinkers_type_changed', 'blinkers_any_change', 'blinkers_high_impact_change', 'shoeing_first_time', 'fully_shod', 'front_shod_only', 'back_shod_only', 'barefoot', 'shoeing_changed', 'barefoot_to_shod', 'shod_to_barefoot', 'major_shoeing_change', 'shoeing_complexity', 'multiple_equipment_changes', 'equipment_momentum_score', 'high_equipment_momentum', 'multiple_first_time_changes', 'equipment_optimization_score', 'career_strike_rate', 'earnings_per_race', 'earnings_trend', 'last_race_position_normalized', 'last_race_odds_normalized', 'last_race_field_size_factor', 'distance_consistency', 'vha_normalized', 'claiming_tax_trend', 'class_stability', 'che_global_avg_pos', 'che_global_recent_perf', 'che_global_consistency', 'che_global_trend', 'che_global_pct_top3', 'che_global_nb_courses', 'che_global_total_races', 'che_global_dnf_rate', 'che_weighted_avg_pos', 'che_weighted_recent_perf', 'che_weighted_consistency', 'che_weighted_pct_top3', 'che_weighted_nb_courses', 'che_weighted_total_races', 'che_weighted_dnf_rate', 'che_weighted_trend', 'che_bytype_avg_pos', 'che_bytype_recent_perf', 'che_bytype_consistency', 'che_bytype_trend', 'che_bytype_pct_top3', 'che_bytype_nb_courses', 'che_bytype_dnf_rate', 'joc_global_avg_pos', 'joc_global_recent_perf', 'joc_global_consistency', 'joc_global_trend', 'joc_global_pct_top3', 'joc_global_nb_courses', 'joc_global_total_races', 'joc_global_dnf_rate', 'joc_weighted_avg_pos', 'joc_weighted_recent_perf', 'joc_weighted_consistency', 'joc_weighted_pct_top3', 'joc_weighted_nb_courses', 'joc_weighted_total_races', 'joc_weighted_dnf_rate', 'joc_weighted_trend', 'joc_bytype_avg_pos', 'joc_bytype_recent_perf', 'joc_bytype_consistency', 'joc_bytype_trend', 'joc_bytype_pct_top3', 'joc_bytype_nb_courses', 'joc_bytype_dnf_rate', 'class_drop_pct', 'purse_per_starter', 'purse_ratio', 'moving_up_in_class', 'class_shock_indicator', 'handicap_level_change', 'time_per_distance', 'time_vs_record', 'pace_rating', 'speed_figure_proxy', 'market_confidence_shift', 'last_race_improvement', 'bounce_risk', 'layoff_distance_interaction', 'trainer_change', 'connection_stability', 'field_size_change', 'distance_comfort', 'competition_level_shift', 'recence_x_class_drop', 'trainer_change_x_recence', 'distance_change_x_recence', 'che_by_type_avg_pos', 'che_by_type_recent_perf', 'che_by_type_consistency', 'che_by_type_trend', 'che_by_type_pct_top3', 'che_by_type_nb_courses', 'che_by_type_dnf_rate', 'joc_by_type_avg_pos', 'joc_by_type_recent_perf', 'joc_by_type_consistency', 'joc_by_type_trend', 'joc_by_type_pct_top3', 'joc_by_type_nb_courses', 'joc_by_type_dnf_rate', 'trainer_victoires', 'trainer_places', 'trainer_courses', 'trainer_winrate', 'trainer_placerate', 'trainer_quality_score', 'trainer_experience_level', 'handicap_poids', 'handicap_dist', 'prec_handicap_poids', 'prec_handicap_dist', 'handicap_poids_change', 'handicap_poids_increased', 'handicap_poids_decreased', 'handicap_dist_change', 'handicap_dist_increased', 'handicap_dist_decreased', 'total_handicap', 'handicap_momentum', 'last_race_position', 'last_race_distance', 'distance_change', 'distance_change_pct', 'distance_increased', 'distance_decreased', 'same_distance', 'corde_change', 'corde_improved', 'corde_worsened', 'last_race_top3', 'last_race_won', 'che_bytype_total_races', 'joc_bytype_total_races', 'che_form_momentum', 'che_improving_form', 'che_declining_form', 'che_high_consistency', 'che_recent_quality', 'che_elite_performer', 'che_regular_placer', 'joc_form_momentum', 'joc_improving_form', 'joc_high_consistency', 'joc_elite_performer', 'synergy_both_improving', 'synergy_both_consistent', 'synergy_both_elite', 'overall_momentum_score', 'high_momentum', 'quinte_career_starts', 'quinte_win_rate', 'quinte_top5_rate', 'avg_quinte_position', 'days_since_last_quinte', 'quinte_handicap_specialist', 'quinte_conditions_specialist', 'quinte_large_field_ability', 'quinte_track_condition_fit', 'is_handicap_quinte', 'handicap_division', 'purse_level_category', 'field_size_category', 'track_condition_PH', 'track_condition_DUR', 'track_condition_PS', 'track_condition_PSF', 'weather_clear', 'weather_rain', 'weather_cloudy', 'post_position_bias', 'post_position_track_bias', 'raw_tabnet_prediction', 'predicted_position_tabnet', 'raw_rf_prediction', 'predicted_position_rf', 'predicted_position_base']
2025-11-13 09:42:34,515 - race_prediction.competitive_field_analyzer - INFO - === CRITICAL COLUMNS ANALYSIS ===
2025-11-13 09:42:34,515 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ recordG: 16/16 non-null values (100.0%)
2025-11-13 09:42:34,515 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [0.0, 0.0, 0.0]
2025-11-13 09:42:34,516 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ hippo: 16/16 non-null values (100.0%)
2025-11-13 09:42:34,516 - race_prediction.competitive_field_analyzer - INFO -    Sample values: ['Auteuil', 'Auteuil', 'Auteuil']
2025-11-13 09:42:34,516 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ coursescheval: 16/16 non-null values (100.0%)
2025-11-13 09:42:34,516 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [48, 18, 25]
2025-11-13 09:42:34,516 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ victoirescheval: 16/16 non-null values (100.0%)
2025-11-13 09:42:34,516 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [7, 4, 4]
2025-11-13 09:42:34,516 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ placescheval: 16/16 non-null values (100.0%)
2025-11-13 09:42:34,516 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [14, 14, 12]
2025-11-13 09:42:34,516 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ gainsCarriere: 16/16 non-null values (100.0%)
2025-11-13 09:42:34,516 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [26344200, 28553300, 17633500]
2025-11-13 09:42:34,516 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ age: 16/16 non-null values (100.0%)
2025-11-13 09:42:34,516 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [8, 8, 9]
2025-11-13 09:42:34,517 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ derniereplace: 16/16 non-null values (100.0%)
2025-11-13 09:42:34,517 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [1, 9, 2]
2025-11-13 09:42:34,517 - race_prediction.competitive_field_analyzer - INFO - === RACE METADATA ===
2025-11-13 09:42:34,517 - race_prediction.competitive_field_analyzer - INFO - comp: 1606724
2025-11-13 09:42:34,517 - race_prediction.competitive_field_analyzer - INFO - hippo: Auteuil
2025-11-13 09:42:34,517 - race_prediction.competitive_field_analyzer - INFO - dist: 3900
2025-11-13 09:42:34,517 - race_prediction.competitive_field_analyzer - INFO - typec: Haies
2025-11-13 09:42:34,517 - race_prediction.competitive_field_analyzer - INFO - partant: 16
2025-11-13 09:42:34,517 - race_prediction.competitive_field_analyzer - INFO - === SAMPLE RACE DATA ===
2025-11-13 09:42:34,517 - race_prediction.competitive_field_analyzer - INFO - Sample data (columns: ['numero', 'cheval', 'recordG', 'hippo', 'coursescheval']):
2025-11-13 09:42:34,518 - race_prediction.competitive_field_analyzer - INFO -   Horse 0: {'numero': 1, 'cheval': 'Hamandio', 'recordG': 0.0, 'hippo': 'Auteuil', 'coursescheval': 48}
2025-11-13 09:42:34,518 - race_prediction.competitive_field_analyzer - INFO -   Horse 1: {'numero': 2, 'cheval': 'New President', 'recordG': 0.0, 'hippo': 'Auteuil', 'coursescheval': 18}
2025-11-13 09:42:34,518 - race_prediction.competitive_field_analyzer - INFO -   Horse 2: {'numero': 3, 'cheval': 'Grand Art', 'recordG': 0.0, 'hippo': 'Auteuil', 'coursescheval': 25}
2025-11-13 09:42:34,518 - race_prediction.competitive_field_analyzer - INFO - === END COMPETITIVE ANALYSIS DEBUG ===

2025-11-13 09:42:34,518 - race_prediction.competitive_field_analyzer - INFO - === RETRIEVING HISTORICAL DATA ===
2025-11-13 09:42:34,518 - race_prediction.competitive_field_analyzer - INFO - Fetching historical data for 16 horses: [1398661, 1412451, 1350182, 1400556, 1536715, 1545660, 1415630, 1397720, 1511839, 1537402, 1476552, 1524729, 1533867, 1575110, 1658661, 1536636]
2025-11-13 09:42:34,522 - race_prediction.competitive_field_analyzer - INFO - Batch querying historical data for 16 horses: [1398661, 1412451, 1350182, 1400556, 1536715, 1545660, 1415630, 1397720, 1511839, 1537402, 1476552, 1524729, 1533867, 1575110, 1658661, 1536636]
2025-11-13 09:42:53,356 - race_prediction.competitive_field_analyzer - INFO - Batch query completed in 18.83s, found 119 total records
2025-11-13 09:42:53,363 - race_prediction.competitive_field_analyzer - INFO - Batch query retrieved 119 total historical races
2025-11-13 09:42:53,363 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS PER HORSE ===
2025-11-13 09:42:53,363 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1398661: 11 historical races found
2025-11-13 09:42:53,363 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1412451: 8 historical races found
2025-11-13 09:42:53,363 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1350182: 5 historical races found
2025-11-13 09:42:53,363 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1400556: 7 historical races found
2025-11-13 09:42:53,363 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1536715: 12 historical races found
2025-11-13 09:42:53,363 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1545660: 6 historical races found
2025-11-13 09:42:53,363 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1415630: 6 historical races found
2025-11-13 09:42:53,363 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1397720: 10 historical races found
2025-11-13 09:42:53,363 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1511839: 7 historical races found
2025-11-13 09:42:53,363 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1537402: 9 historical races found
2025-11-13 09:42:53,363 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1476552: 5 historical races found
2025-11-13 09:42:53,364 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1524729: 9 historical races found
2025-11-13 09:42:53,364 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1533867: 10 historical races found
2025-11-13 09:42:53,364 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1575110: 4 historical races found
2025-11-13 09:42:53,364 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1658661: 6 historical races found
2025-11-13 09:42:53,364 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1536636: 4 historical races found
2025-11-13 09:42:53,364 - race_prediction.competitive_field_analyzer - INFO - Retrieved 119 total historical races
2025-11-13 09:42:53,364 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS BY HORSE ===
2025-11-13 09:42:53,364 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1398661: 11 historical races
2025-11-13 09:42:53,364 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1412451: 8 historical races
2025-11-13 09:42:53,364 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1350182: 5 historical races
2025-11-13 09:42:53,364 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1400556: 7 historical races
2025-11-13 09:42:53,364 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1536715: 12 historical races
2025-11-13 09:42:53,364 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1545660: 6 historical races
2025-11-13 09:42:53,364 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1415630: 6 historical races
2025-11-13 09:42:53,365 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1397720: 10 historical races
2025-11-13 09:42:53,365 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1511839: 7 historical races
2025-11-13 09:42:53,365 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1537402: 9 historical races
2025-11-13 09:42:53,365 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1476552: 5 historical races
2025-11-13 09:42:53,365 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1524729: 9 historical races
2025-11-13 09:42:53,365 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1533867: 10 historical races
2025-11-13 09:42:53,365 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1575110: 4 historical races
2025-11-13 09:42:53,365 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1658661: 6 historical races
2025-11-13 09:42:53,365 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1536636: 4 historical races
2025-11-13 09:42:53,365 - race_prediction.competitive_field_analyzer - INFO - === END HISTORICAL DATA RETRIEVAL ===

2025-11-13 09:42:53,366 - race_prediction.competitive_field_analyzer - INFO - === EARNINGS QUALITY ANALYSIS ===
2025-11-13 09:42:53,366 - race_prediction.competitive_field_analyzer - INFO - Valid earnings data: 16/16 horses
2025-11-13 09:42:53,366 - race_prediction.competitive_field_analyzer - INFO - Sample earnings per race: ['548,838', '1,586,294', '705,340']
2025-11-13 09:42:53,366 - race_prediction.competitive_field_analyzer - INFO - Field earnings stats: avg=714,914, max=1,586,294
2025-11-13 09:42:53,366 - race_prediction.competitive_field_analyzer - INFO - === TRACK SPECIALIZATION ANALYSIS ===
2025-11-13 09:42:53,366 - race_prediction.competitive_field_analyzer - INFO - Horses with reliable venue data (3+ races): 0/16
2025-11-13 09:42:53,367 - race_prediction.competitive_field_analyzer - INFO - === FORM MOMENTUM ANALYSIS ===
2025-11-13 09:42:53,368 - race_prediction.competitive_field_analyzer - INFO - Field avg horse trend: 1.675, recent perf: 7.50
2025-11-13 09:42:53,368 - race_prediction.competitive_field_analyzer - INFO - Field avg jockey trend: -0.028
2025-11-13 09:42:53,368 - race_prediction.competitive_field_analyzer - INFO - Horses with improving form: 4/16
2025-11-13 09:42:53,368 - race_prediction.competitive_field_analyzer - INFO - === HOT CONNECTIONS ANALYSIS ===
2025-11-13 09:42:53,368 - race_prediction.competitive_field_analyzer - INFO - Jockeys with wins today: 0/16
2025-11-13 09:42:53,368 - race_prediction.competitive_field_analyzer - INFO - Trainers with wins today: 0/16
2025-11-13 09:42:53,369 - race_prediction.competitive_field_analyzer - INFO - === DISTANCE COMFORT ANALYSIS ===
2025-11-13 09:42:53,369 - race_prediction.competitive_field_analyzer - INFO - Current race distance: 3900m
2025-11-13 09:42:53,369 - race_prediction.competitive_field_analyzer - INFO - Horses with similar recent distance: 3/16
2025-11-13 09:42:53,369 - race_prediction.competitive_field_analyzer - INFO - === REALISTIC COMPETITIVE SCORING ===
2025-11-13 09:42:53,369 - race_prediction.competitive_field_analyzer - INFO - üìä COMPETITIVE ANALYSIS SUMMARY:
2025-11-13 09:42:53,370 - race_prediction.competitive_field_analyzer - INFO -    Total competitive races: 119
2025-11-13 09:42:53,370 - race_prediction.competitive_field_analyzer - INFO -    Horses with historical data: 16/16
2025-11-13 09:42:53,370 - race_prediction.competitive_field_analyzer - INFO -    Average races per horse: 7.4
2025-11-13 09:42:53,380 - race_prediction.quinte_prediction_storage - INFO - Stored 16 horses for Quint√© race 1606724
2025-11-13 09:42:55,314 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE ANALYSIS DEBUG ===
2025-11-13 09:42:55,314 - race_prediction.competitive_field_analyzer - INFO - Analyzing competitive field for race with 16 horses
2025-11-13 09:42:55,314 - race_prediction.competitive_field_analyzer - INFO - Race data shape: (16, 278)
2025-11-13 09:42:55,314 - race_prediction.competitive_field_analyzer - INFO - Available columns: ['id', 'comp', 'jour', 'hippo', 'reun', 'prix', 'prixnom', 'typec', 'partant', 'dist', 'handi', 'groupe', 'quinte', 'natpis', 'meteo', 'corde', 'temperature', 'forceVent', 'directionVent', 'nebulosite', 'prediction_results', 'actual_results', 'created_at', 'updated_at', 'processed_data', 'cheque', 'handi_raw', 'reclam', 'sex', 'tempscourse', 'handicap_level_score', 'cl', 'numero', 'cheval', 'age', 'cotedirect', 'coteprob', 'recence', 'ecar', 'defoeil', 'defoeilPrec', 'musiqueche', 'musiquejoc', 'entraineur', 'coursescheval', 'victoirescheval', 'placescheval', 'dernierealloc', 'derniernbpartants', 'dernieredist', 'derniereplace', 'dernierecote', 'dernierEnt', 'proprietaire', 'poidmont', 'pourcVictJockHippo', 'pourcPlaceJockHippo', 'pourcVictChevalHippo', 'pourcPlaceChevalHippo', 'tempstot', 'vha', 'recordG', 'txreclam', 'dernierTxreclam', 'gainsCarriere', 'gainsAnneeEnCours', 'handicapDistance', 'handicapPoids', 'TxVictCouple', 'nbVictCouple', 'nbPlaceCouple', 'idche', 'idJockey', 'idEntraineur', 'defFirstTime', 'oeilFirstTime', 'oeil', 'dernierOeil', 'ratio_victoires', 'ratio_places', 'gains_par_course', 'efficacite_couple', 'regularite_couple', 'progression_couple', 'perf_cheval_hippo', 'perf_jockey_hippo', 'blinkers_first_time', 'has_blinkers', 'has_standard_blinkers', 'has_australian_blinkers', 'blinkers_added', 'blinkers_removed', 'blinkers_type_changed', 'blinkers_any_change', 'blinkers_high_impact_change', 'shoeing_first_time', 'fully_shod', 'front_shod_only', 'back_shod_only', 'barefoot', 'shoeing_changed', 'barefoot_to_shod', 'shod_to_barefoot', 'major_shoeing_change', 'shoeing_complexity', 'multiple_equipment_changes', 'equipment_momentum_score', 'high_equipment_momentum', 'multiple_first_time_changes', 'equipment_optimization_score', 'career_strike_rate', 'earnings_per_race', 'earnings_trend', 'last_race_position_normalized', 'last_race_odds_normalized', 'last_race_field_size_factor', 'distance_consistency', 'vha_normalized', 'claiming_tax_trend', 'class_stability', 'che_global_avg_pos', 'che_global_recent_perf', 'che_global_consistency', 'che_global_trend', 'che_global_pct_top3', 'che_global_nb_courses', 'che_global_total_races', 'che_global_dnf_rate', 'che_weighted_avg_pos', 'che_weighted_recent_perf', 'che_weighted_consistency', 'che_weighted_pct_top3', 'che_weighted_nb_courses', 'che_weighted_total_races', 'che_weighted_dnf_rate', 'che_weighted_trend', 'che_bytype_avg_pos', 'che_bytype_recent_perf', 'che_bytype_consistency', 'che_bytype_trend', 'che_bytype_pct_top3', 'che_bytype_nb_courses', 'che_bytype_dnf_rate', 'joc_global_avg_pos', 'joc_global_recent_perf', 'joc_global_consistency', 'joc_global_trend', 'joc_global_pct_top3', 'joc_global_nb_courses', 'joc_global_total_races', 'joc_global_dnf_rate', 'joc_weighted_avg_pos', 'joc_weighted_recent_perf', 'joc_weighted_consistency', 'joc_weighted_pct_top3', 'joc_weighted_nb_courses', 'joc_weighted_total_races', 'joc_weighted_dnf_rate', 'joc_weighted_trend', 'joc_bytype_avg_pos', 'joc_bytype_recent_perf', 'joc_bytype_consistency', 'joc_bytype_trend', 'joc_bytype_pct_top3', 'joc_bytype_nb_courses', 'joc_bytype_dnf_rate', 'class_drop_pct', 'purse_per_starter', 'purse_ratio', 'moving_up_in_class', 'class_shock_indicator', 'handicap_level_change', 'time_per_distance', 'time_vs_record', 'pace_rating', 'speed_figure_proxy', 'market_confidence_shift', 'last_race_improvement', 'bounce_risk', 'layoff_distance_interaction', 'trainer_change', 'connection_stability', 'field_size_change', 'distance_comfort', 'competition_level_shift', 'recence_x_class_drop', 'trainer_change_x_recence', 'distance_change_x_recence', 'che_by_type_avg_pos', 'che_by_type_recent_perf', 'che_by_type_consistency', 'che_by_type_trend', 'che_by_type_pct_top3', 'che_by_type_nb_courses', 'che_by_type_dnf_rate', 'joc_by_type_avg_pos', 'joc_by_type_recent_perf', 'joc_by_type_consistency', 'joc_by_type_trend', 'joc_by_type_pct_top3', 'joc_by_type_nb_courses', 'joc_by_type_dnf_rate', 'trainer_victoires', 'trainer_places', 'trainer_courses', 'trainer_winrate', 'trainer_placerate', 'trainer_quality_score', 'trainer_experience_level', 'handicap_poids', 'handicap_dist', 'prec_handicap_poids', 'prec_handicap_dist', 'handicap_poids_change', 'handicap_poids_increased', 'handicap_poids_decreased', 'handicap_dist_change', 'handicap_dist_increased', 'handicap_dist_decreased', 'total_handicap', 'handicap_momentum', 'last_race_position', 'last_race_distance', 'distance_change', 'distance_change_pct', 'distance_increased', 'distance_decreased', 'same_distance', 'corde_change', 'corde_improved', 'corde_worsened', 'last_race_top3', 'last_race_won', 'che_bytype_total_races', 'joc_bytype_total_races', 'che_form_momentum', 'che_improving_form', 'che_declining_form', 'che_high_consistency', 'che_recent_quality', 'che_elite_performer', 'che_regular_placer', 'joc_form_momentum', 'joc_improving_form', 'joc_high_consistency', 'joc_elite_performer', 'synergy_both_improving', 'synergy_both_consistent', 'synergy_both_elite', 'overall_momentum_score', 'high_momentum', 'quinte_career_starts', 'quinte_win_rate', 'quinte_top5_rate', 'avg_quinte_position', 'days_since_last_quinte', 'quinte_handicap_specialist', 'quinte_conditions_specialist', 'quinte_large_field_ability', 'quinte_track_condition_fit', 'is_handicap_quinte', 'handicap_division', 'purse_level_category', 'field_size_category', 'track_condition_PH', 'track_condition_DUR', 'track_condition_PS', 'track_condition_PSF', 'weather_clear', 'weather_rain', 'weather_cloudy', 'post_position_bias', 'post_position_track_bias', 'raw_tabnet_prediction', 'predicted_position_tabnet', 'raw_rf_prediction', 'predicted_position_rf', 'predicted_position_base']
2025-11-13 09:42:55,325 - race_prediction.competitive_field_analyzer - INFO - === CRITICAL COLUMNS ANALYSIS ===
2025-11-13 09:42:55,325 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ recordG: 16/16 non-null values (100.0%)
2025-11-13 09:42:55,325 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [0.0, 0.0, 0.0]
2025-11-13 09:42:55,325 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ hippo: 16/16 non-null values (100.0%)
2025-11-13 09:42:55,325 - race_prediction.competitive_field_analyzer - INFO -    Sample values: ['Paris-Vincennes', 'Paris-Vincennes', 'Paris-Vincennes']
2025-11-13 09:42:55,326 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ coursescheval: 16/16 non-null values (100.0%)
2025-11-13 09:42:55,326 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [107, 79, 127]
2025-11-13 09:42:55,326 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ victoirescheval: 16/16 non-null values (100.0%)
2025-11-13 09:42:55,326 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [6, 10, 11]
2025-11-13 09:42:55,326 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ placescheval: 16/16 non-null values (100.0%)
2025-11-13 09:42:55,326 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [27, 36, 32]
2025-11-13 09:42:55,326 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ gainsCarriere: 16/16 non-null values (100.0%)
2025-11-13 09:42:55,326 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [18153000, 18264500, 18478000]
2025-11-13 09:42:55,326 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ age: 16/16 non-null values (100.0%)
2025-11-13 09:42:55,326 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [9, 10, 9]
2025-11-13 09:42:55,326 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ derniereplace: 16/16 non-null values (100.0%)
2025-11-13 09:42:55,326 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [9.0, 3.0, 10.0]
2025-11-13 09:42:55,326 - race_prediction.competitive_field_analyzer - INFO - === RACE METADATA ===
2025-11-13 09:42:55,326 - race_prediction.competitive_field_analyzer - INFO - comp: 1611759
2025-11-13 09:42:55,326 - race_prediction.competitive_field_analyzer - INFO - hippo: Paris-Vincennes
2025-11-13 09:42:55,326 - race_prediction.competitive_field_analyzer - INFO - dist: 2850
2025-11-13 09:42:55,326 - race_prediction.competitive_field_analyzer - INFO - typec: Attel√©
2025-11-13 09:42:55,326 - race_prediction.competitive_field_analyzer - INFO - partant: 16
2025-11-13 09:42:55,326 - race_prediction.competitive_field_analyzer - INFO - === SAMPLE RACE DATA ===
2025-11-13 09:42:55,326 - race_prediction.competitive_field_analyzer - INFO - Sample data (columns: ['numero', 'cheval', 'recordG', 'hippo', 'coursescheval']):
2025-11-13 09:42:55,327 - race_prediction.competitive_field_analyzer - INFO -   Horse 0: {'numero': 1, 'cheval': 'Guess Fouteau', 'recordG': 0.0, 'hippo': 'Paris-Vincennes', 'coursescheval': 107}
2025-11-13 09:42:55,327 - race_prediction.competitive_field_analyzer - INFO -   Horse 1: {'numero': 2, 'cheval': 'Funny Horse', 'recordG': 0.0, 'hippo': 'Paris-Vincennes', 'coursescheval': 79}
2025-11-13 09:42:55,327 - race_prediction.competitive_field_analyzer - INFO -   Horse 2: {'numero': 3, 'cheval': 'Gamine de Ribeau', 'recordG': 0.0, 'hippo': 'Paris-Vincennes', 'coursescheval': 127}
2025-11-13 09:42:55,327 - race_prediction.competitive_field_analyzer - INFO - === END COMPETITIVE ANALYSIS DEBUG ===

2025-11-13 09:42:55,327 - race_prediction.competitive_field_analyzer - INFO - === RETRIEVING HISTORICAL DATA ===
2025-11-13 09:42:55,327 - race_prediction.competitive_field_analyzer - INFO - Fetching historical data for 16 horses: [1376154, 1325333, 1358535, 1375700, 1372582, 1300190, 1284422, 1326171, 1335702, 1352734, 1293303, 1295566, 1382152, 1354673, 1349957, 1378585]
2025-11-13 09:42:55,328 - race_prediction.competitive_field_analyzer - INFO - Batch querying historical data for 16 horses: [1376154, 1325333, 1358535, 1375700, 1372582, 1300190, 1284422, 1326171, 1335702, 1352734, 1293303, 1295566, 1382152, 1354673, 1349957, 1378585]
2025-11-13 09:43:14,220 - race_prediction.competitive_field_analyzer - INFO - Batch query completed in 18.89s, found 205 total records
2025-11-13 09:43:14,229 - race_prediction.competitive_field_analyzer - INFO - Batch query retrieved 205 total historical races
2025-11-13 09:43:14,229 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS PER HORSE ===
2025-11-13 09:43:14,229 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1376154: 14 historical races found
2025-11-13 09:43:14,229 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1325333: 11 historical races found
2025-11-13 09:43:14,229 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1358535: 13 historical races found
2025-11-13 09:43:14,229 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1375700: 10 historical races found
2025-11-13 09:43:14,229 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1372582: 12 historical races found
2025-11-13 09:43:14,229 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1300190: 16 historical races found
2025-11-13 09:43:14,229 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1284422: 9 historical races found
2025-11-13 09:43:14,233 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1326171: 13 historical races found
2025-11-13 09:43:14,233 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1335702: 18 historical races found
2025-11-13 09:43:14,233 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1352734: 14 historical races found
2025-11-13 09:43:14,233 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1293303: 8 historical races found
2025-11-13 09:43:14,233 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1295566: 20 historical races found
2025-11-13 09:43:14,233 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1382152: 14 historical races found
2025-11-13 09:43:14,233 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1354673: 7 historical races found
2025-11-13 09:43:14,233 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1349957: 16 historical races found
2025-11-13 09:43:14,234 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1378585: 10 historical races found
2025-11-13 09:43:14,235 - race_prediction.competitive_field_analyzer - INFO - Retrieved 205 total historical races
2025-11-13 09:43:14,236 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS BY HORSE ===
2025-11-13 09:43:14,236 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1376154: 14 historical races
2025-11-13 09:43:14,236 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1325333: 11 historical races
2025-11-13 09:43:14,236 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1358535: 13 historical races
2025-11-13 09:43:14,236 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1375700: 10 historical races
2025-11-13 09:43:14,236 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1372582: 12 historical races
2025-11-13 09:43:14,236 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1300190: 16 historical races
2025-11-13 09:43:14,236 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1284422: 9 historical races
2025-11-13 09:43:14,238 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1326171: 13 historical races
2025-11-13 09:43:14,238 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1335702: 18 historical races
2025-11-13 09:43:14,238 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1352734: 14 historical races
2025-11-13 09:43:14,238 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1293303: 8 historical races
2025-11-13 09:43:14,238 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1295566: 20 historical races
2025-11-13 09:43:14,238 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1382152: 14 historical races
2025-11-13 09:43:14,239 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1354673: 7 historical races
2025-11-13 09:43:14,239 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1349957: 16 historical races
2025-11-13 09:43:14,239 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1378585: 10 historical races
2025-11-13 09:43:14,239 - race_prediction.competitive_field_analyzer - INFO - === END HISTORICAL DATA RETRIEVAL ===

2025-11-13 09:43:14,239 - race_prediction.competitive_field_analyzer - INFO - === EARNINGS QUALITY ANALYSIS ===
2025-11-13 09:43:14,239 - race_prediction.competitive_field_analyzer - INFO - Valid earnings data: 16/16 horses
2025-11-13 09:43:14,239 - race_prediction.competitive_field_analyzer - INFO - Sample earnings per race: ['169,654', '231,196', '145,496']
2025-11-13 09:43:14,239 - race_prediction.competitive_field_analyzer - INFO - Field earnings stats: avg=228,347, max=507,615
2025-11-13 09:43:14,239 - race_prediction.competitive_field_analyzer - INFO - === TRACK SPECIALIZATION ANALYSIS ===
2025-11-13 09:43:14,239 - race_prediction.competitive_field_analyzer - INFO - Horses with reliable venue data (3+ races): 0/16
2025-11-13 09:43:14,240 - race_prediction.competitive_field_analyzer - INFO - === FORM MOMENTUM ANALYSIS ===
2025-11-13 09:43:14,240 - race_prediction.competitive_field_analyzer - INFO - Field avg horse trend: 2.001, recent perf: 7.88
2025-11-13 09:43:14,240 - race_prediction.competitive_field_analyzer - INFO - Field avg jockey trend: 0.359
2025-11-13 09:43:14,240 - race_prediction.competitive_field_analyzer - INFO - Horses with improving form: 4/16
2025-11-13 09:43:14,241 - race_prediction.competitive_field_analyzer - INFO - === HOT CONNECTIONS ANALYSIS ===
2025-11-13 09:43:14,241 - race_prediction.competitive_field_analyzer - INFO - Jockeys with wins today: 0/16
2025-11-13 09:43:14,241 - race_prediction.competitive_field_analyzer - INFO - Trainers with wins today: 0/16
2025-11-13 09:43:14,241 - race_prediction.competitive_field_analyzer - INFO - === DISTANCE COMFORT ANALYSIS ===
2025-11-13 09:43:14,241 - race_prediction.competitive_field_analyzer - INFO - Current race distance: 2850m
2025-11-13 09:43:14,241 - race_prediction.competitive_field_analyzer - INFO - Horses with similar recent distance: 9/16
2025-11-13 09:43:14,241 - race_prediction.competitive_field_analyzer - INFO - === REALISTIC COMPETITIVE SCORING ===
2025-11-13 09:43:14,241 - race_prediction.competitive_field_analyzer - INFO - üìä COMPETITIVE ANALYSIS SUMMARY:
2025-11-13 09:43:14,241 - race_prediction.competitive_field_analyzer - INFO -    Total competitive races: 205
2025-11-13 09:43:14,241 - race_prediction.competitive_field_analyzer - INFO -    Horses with historical data: 16/16
2025-11-13 09:43:14,241 - race_prediction.competitive_field_analyzer - INFO -    Average races per horse: 12.8
2025-11-13 09:43:14,250 - race_prediction.quinte_prediction_storage - INFO - Stored 16 horses for Quint√© race 1611759
2025-11-13 09:43:16,173 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE ANALYSIS DEBUG ===
2025-11-13 09:43:16,173 - race_prediction.competitive_field_analyzer - INFO - Analyzing competitive field for race with 16 horses
2025-11-13 09:43:16,173 - race_prediction.competitive_field_analyzer - INFO - Race data shape: (16, 278)
2025-11-13 09:43:16,173 - race_prediction.competitive_field_analyzer - INFO - Available columns: ['id', 'comp', 'jour', 'hippo', 'reun', 'prix', 'prixnom', 'typec', 'partant', 'dist', 'handi', 'groupe', 'quinte', 'natpis', 'meteo', 'corde', 'temperature', 'forceVent', 'directionVent', 'nebulosite', 'prediction_results', 'actual_results', 'created_at', 'updated_at', 'processed_data', 'cheque', 'handi_raw', 'reclam', 'sex', 'tempscourse', 'handicap_level_score', 'cl', 'numero', 'cheval', 'age', 'cotedirect', 'coteprob', 'recence', 'ecar', 'defoeil', 'defoeilPrec', 'musiqueche', 'musiquejoc', 'entraineur', 'coursescheval', 'victoirescheval', 'placescheval', 'dernierealloc', 'derniernbpartants', 'dernieredist', 'derniereplace', 'dernierecote', 'dernierEnt', 'proprietaire', 'poidmont', 'pourcVictJockHippo', 'pourcPlaceJockHippo', 'pourcVictChevalHippo', 'pourcPlaceChevalHippo', 'tempstot', 'vha', 'recordG', 'txreclam', 'dernierTxreclam', 'gainsCarriere', 'gainsAnneeEnCours', 'handicapDistance', 'handicapPoids', 'TxVictCouple', 'nbVictCouple', 'nbPlaceCouple', 'idche', 'idJockey', 'idEntraineur', 'defFirstTime', 'oeilFirstTime', 'oeil', 'dernierOeil', 'ratio_victoires', 'ratio_places', 'gains_par_course', 'efficacite_couple', 'regularite_couple', 'progression_couple', 'perf_cheval_hippo', 'perf_jockey_hippo', 'blinkers_first_time', 'has_blinkers', 'has_standard_blinkers', 'has_australian_blinkers', 'blinkers_added', 'blinkers_removed', 'blinkers_type_changed', 'blinkers_any_change', 'blinkers_high_impact_change', 'shoeing_first_time', 'fully_shod', 'front_shod_only', 'back_shod_only', 'barefoot', 'shoeing_changed', 'barefoot_to_shod', 'shod_to_barefoot', 'major_shoeing_change', 'shoeing_complexity', 'multiple_equipment_changes', 'equipment_momentum_score', 'high_equipment_momentum', 'multiple_first_time_changes', 'equipment_optimization_score', 'career_strike_rate', 'earnings_per_race', 'earnings_trend', 'last_race_position_normalized', 'last_race_odds_normalized', 'last_race_field_size_factor', 'distance_consistency', 'vha_normalized', 'claiming_tax_trend', 'class_stability', 'che_global_avg_pos', 'che_global_recent_perf', 'che_global_consistency', 'che_global_trend', 'che_global_pct_top3', 'che_global_nb_courses', 'che_global_total_races', 'che_global_dnf_rate', 'che_weighted_avg_pos', 'che_weighted_recent_perf', 'che_weighted_consistency', 'che_weighted_pct_top3', 'che_weighted_nb_courses', 'che_weighted_total_races', 'che_weighted_dnf_rate', 'che_weighted_trend', 'che_bytype_avg_pos', 'che_bytype_recent_perf', 'che_bytype_consistency', 'che_bytype_trend', 'che_bytype_pct_top3', 'che_bytype_nb_courses', 'che_bytype_dnf_rate', 'joc_global_avg_pos', 'joc_global_recent_perf', 'joc_global_consistency', 'joc_global_trend', 'joc_global_pct_top3', 'joc_global_nb_courses', 'joc_global_total_races', 'joc_global_dnf_rate', 'joc_weighted_avg_pos', 'joc_weighted_recent_perf', 'joc_weighted_consistency', 'joc_weighted_pct_top3', 'joc_weighted_nb_courses', 'joc_weighted_total_races', 'joc_weighted_dnf_rate', 'joc_weighted_trend', 'joc_bytype_avg_pos', 'joc_bytype_recent_perf', 'joc_bytype_consistency', 'joc_bytype_trend', 'joc_bytype_pct_top3', 'joc_bytype_nb_courses', 'joc_bytype_dnf_rate', 'class_drop_pct', 'purse_per_starter', 'purse_ratio', 'moving_up_in_class', 'class_shock_indicator', 'handicap_level_change', 'time_per_distance', 'time_vs_record', 'pace_rating', 'speed_figure_proxy', 'market_confidence_shift', 'last_race_improvement', 'bounce_risk', 'layoff_distance_interaction', 'trainer_change', 'connection_stability', 'field_size_change', 'distance_comfort', 'competition_level_shift', 'recence_x_class_drop', 'trainer_change_x_recence', 'distance_change_x_recence', 'che_by_type_avg_pos', 'che_by_type_recent_perf', 'che_by_type_consistency', 'che_by_type_trend', 'che_by_type_pct_top3', 'che_by_type_nb_courses', 'che_by_type_dnf_rate', 'joc_by_type_avg_pos', 'joc_by_type_recent_perf', 'joc_by_type_consistency', 'joc_by_type_trend', 'joc_by_type_pct_top3', 'joc_by_type_nb_courses', 'joc_by_type_dnf_rate', 'trainer_victoires', 'trainer_places', 'trainer_courses', 'trainer_winrate', 'trainer_placerate', 'trainer_quality_score', 'trainer_experience_level', 'handicap_poids', 'handicap_dist', 'prec_handicap_poids', 'prec_handicap_dist', 'handicap_poids_change', 'handicap_poids_increased', 'handicap_poids_decreased', 'handicap_dist_change', 'handicap_dist_increased', 'handicap_dist_decreased', 'total_handicap', 'handicap_momentum', 'last_race_position', 'last_race_distance', 'distance_change', 'distance_change_pct', 'distance_increased', 'distance_decreased', 'same_distance', 'corde_change', 'corde_improved', 'corde_worsened', 'last_race_top3', 'last_race_won', 'che_bytype_total_races', 'joc_bytype_total_races', 'che_form_momentum', 'che_improving_form', 'che_declining_form', 'che_high_consistency', 'che_recent_quality', 'che_elite_performer', 'che_regular_placer', 'joc_form_momentum', 'joc_improving_form', 'joc_high_consistency', 'joc_elite_performer', 'synergy_both_improving', 'synergy_both_consistent', 'synergy_both_elite', 'overall_momentum_score', 'high_momentum', 'quinte_career_starts', 'quinte_win_rate', 'quinte_top5_rate', 'avg_quinte_position', 'days_since_last_quinte', 'quinte_handicap_specialist', 'quinte_conditions_specialist', 'quinte_large_field_ability', 'quinte_track_condition_fit', 'is_handicap_quinte', 'handicap_division', 'purse_level_category', 'field_size_category', 'track_condition_PH', 'track_condition_DUR', 'track_condition_PS', 'track_condition_PSF', 'weather_clear', 'weather_rain', 'weather_cloudy', 'post_position_bias', 'post_position_track_bias', 'raw_tabnet_prediction', 'predicted_position_tabnet', 'raw_rf_prediction', 'predicted_position_rf', 'predicted_position_base']
2025-11-13 09:43:16,174 - race_prediction.competitive_field_analyzer - INFO - === CRITICAL COLUMNS ANALYSIS ===
2025-11-13 09:43:16,174 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ recordG: 16/16 non-null values (100.0%)
2025-11-13 09:43:16,174 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [0.0, 0.0, 0.0]
2025-11-13 09:43:16,174 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ hippo: 16/16 non-null values (100.0%)
2025-11-13 09:43:16,174 - race_prediction.competitive_field_analyzer - INFO -    Sample values: ['Chantilly', 'Chantilly', 'Chantilly']
2025-11-13 09:43:16,174 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ coursescheval: 16/16 non-null values (100.0%)
2025-11-13 09:43:16,174 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [24, 13, 33]
2025-11-13 09:43:16,174 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ victoirescheval: 16/16 non-null values (100.0%)
2025-11-13 09:43:16,174 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [7, 5, 6]
2025-11-13 09:43:16,174 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ placescheval: 16/16 non-null values (100.0%)
2025-11-13 09:43:16,174 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [12, 8, 15]
2025-11-13 09:43:16,175 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ gainsCarriere: 16/16 non-null values (100.0%)
2025-11-13 09:43:16,175 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [15966500, 6248800, 13752000]
2025-11-13 09:43:16,175 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ age: 16/16 non-null values (100.0%)
2025-11-13 09:43:16,175 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [8, 4, 5]
2025-11-13 09:43:16,175 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ derniereplace: 16/16 non-null values (100.0%)
2025-11-13 09:43:16,175 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [1, 3, 11]
2025-11-13 09:43:16,175 - race_prediction.competitive_field_analyzer - INFO - === RACE METADATA ===
2025-11-13 09:43:16,175 - race_prediction.competitive_field_analyzer - INFO - comp: 1606698
2025-11-13 09:43:16,175 - race_prediction.competitive_field_analyzer - INFO - hippo: Chantilly
2025-11-13 09:43:16,175 - race_prediction.competitive_field_analyzer - INFO - dist: 1900
2025-11-13 09:43:16,175 - race_prediction.competitive_field_analyzer - INFO - typec: Plat
2025-11-13 09:43:16,175 - race_prediction.competitive_field_analyzer - INFO - partant: 16
2025-11-13 09:43:16,175 - race_prediction.competitive_field_analyzer - INFO - === SAMPLE RACE DATA ===
2025-11-13 09:43:16,175 - race_prediction.competitive_field_analyzer - INFO - Sample data (columns: ['numero', 'cheval', 'recordG', 'hippo', 'coursescheval']):
2025-11-13 09:43:16,175 - race_prediction.competitive_field_analyzer - INFO -   Horse 0: {'numero': 1, 'cheval': 'Kahuna', 'recordG': 0.0, 'hippo': 'Chantilly', 'coursescheval': 24}
2025-11-13 09:43:16,175 - race_prediction.competitive_field_analyzer - INFO -   Horse 1: {'numero': 2, 'cheval': 'Eugene Smith', 'recordG': 0.0, 'hippo': 'Chantilly', 'coursescheval': 13}
2025-11-13 09:43:16,175 - race_prediction.competitive_field_analyzer - INFO -   Horse 2: {'numero': 3, 'cheval': 'No Limit Dream', 'recordG': 0.0, 'hippo': 'Chantilly', 'coursescheval': 33}
2025-11-13 09:43:16,175 - race_prediction.competitive_field_analyzer - INFO - === END COMPETITIVE ANALYSIS DEBUG ===

2025-11-13 09:43:16,175 - race_prediction.competitive_field_analyzer - INFO - === RETRIEVING HISTORICAL DATA ===
2025-11-13 09:43:16,175 - race_prediction.competitive_field_analyzer - INFO - Fetching historical data for 16 horses: [1361490, 1654244, 1554365, 1430346, 1520399, 1553763, 1522211, 1696582, 1572948, 1653958, 1654242, 1559430, 1518271, 1523134, 1559214, 1361409]
2025-11-13 09:43:16,177 - race_prediction.competitive_field_analyzer - INFO - Batch querying historical data for 16 horses: [1361490, 1654244, 1554365, 1430346, 1520399, 1553763, 1522211, 1696582, 1572948, 1653958, 1654242, 1559430, 1518271, 1523134, 1559214, 1361409]
2025-11-13 09:43:35,256 - race_prediction.competitive_field_analyzer - INFO - Batch query completed in 19.08s, found 162 total records
2025-11-13 09:43:35,263 - race_prediction.competitive_field_analyzer - INFO - Batch query retrieved 162 total historical races
2025-11-13 09:43:35,263 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS PER HORSE ===
2025-11-13 09:43:35,263 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1361490: 7 historical races found
2025-11-13 09:43:35,263 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1654244: 9 historical races found
2025-11-13 09:43:35,263 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1554365: 12 historical races found
2025-11-13 09:43:35,263 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1430346: 14 historical races found
2025-11-13 09:43:35,263 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1520399: 6 historical races found
2025-11-13 09:43:35,263 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1553763: 9 historical races found
2025-11-13 09:43:35,263 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1522211: 10 historical races found
2025-11-13 09:43:35,263 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1696582: 9 historical races found
2025-11-13 09:43:35,263 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1572948: 8 historical races found
2025-11-13 09:43:35,263 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1653958: 7 historical races found
2025-11-13 09:43:35,263 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1654242: 6 historical races found
2025-11-13 09:43:35,263 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1559430: 12 historical races found
2025-11-13 09:43:35,263 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1518271: 14 historical races found
2025-11-13 09:43:35,263 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1523134: 10 historical races found
2025-11-13 09:43:35,263 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1559214: 9 historical races found
2025-11-13 09:43:35,263 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1361409: 20 historical races found
2025-11-13 09:43:35,263 - race_prediction.competitive_field_analyzer - INFO - Retrieved 162 total historical races
2025-11-13 09:43:35,264 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS BY HORSE ===
2025-11-13 09:43:35,264 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1361490: 7 historical races
2025-11-13 09:43:35,264 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1654244: 9 historical races
2025-11-13 09:43:35,264 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1554365: 12 historical races
2025-11-13 09:43:35,264 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1430346: 14 historical races
2025-11-13 09:43:35,264 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1520399: 6 historical races
2025-11-13 09:43:35,264 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1553763: 9 historical races
2025-11-13 09:43:35,264 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1522211: 10 historical races
2025-11-13 09:43:35,264 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1696582: 9 historical races
2025-11-13 09:43:35,264 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1572948: 8 historical races
2025-11-13 09:43:35,264 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1653958: 7 historical races
2025-11-13 09:43:35,264 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1654242: 6 historical races
2025-11-13 09:43:35,264 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1559430: 12 historical races
2025-11-13 09:43:35,264 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1518271: 14 historical races
2025-11-13 09:43:35,264 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1523134: 10 historical races
2025-11-13 09:43:35,264 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1559214: 9 historical races
2025-11-13 09:43:35,264 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1361409: 20 historical races
2025-11-13 09:43:35,264 - race_prediction.competitive_field_analyzer - INFO - === END HISTORICAL DATA RETRIEVAL ===

2025-11-13 09:43:35,264 - race_prediction.competitive_field_analyzer - INFO - === EARNINGS QUALITY ANALYSIS ===
2025-11-13 09:43:35,264 - race_prediction.competitive_field_analyzer - INFO - Valid earnings data: 16/16 horses
2025-11-13 09:43:35,264 - race_prediction.competitive_field_analyzer - INFO - Sample earnings per race: ['665,271', '480,677', '416,727']
2025-11-13 09:43:35,264 - race_prediction.competitive_field_analyzer - INFO - Field earnings stats: avg=379,791, max=665,271
2025-11-13 09:43:35,265 - race_prediction.competitive_field_analyzer - INFO - === TRACK SPECIALIZATION ANALYSIS ===
2025-11-13 09:43:35,265 - race_prediction.competitive_field_analyzer - INFO - Horses with reliable venue data (3+ races): 0/16
2025-11-13 09:43:35,266 - race_prediction.competitive_field_analyzer - INFO - === FORM MOMENTUM ANALYSIS ===
2025-11-13 09:43:35,266 - race_prediction.competitive_field_analyzer - INFO - Field avg horse trend: -0.434, recent perf: 6.38
2025-11-13 09:43:35,266 - race_prediction.competitive_field_analyzer - INFO - Field avg jockey trend: -0.372
2025-11-13 09:43:35,266 - race_prediction.competitive_field_analyzer - INFO - Horses with improving form: 4/16
2025-11-13 09:43:35,266 - race_prediction.competitive_field_analyzer - INFO - === HOT CONNECTIONS ANALYSIS ===
2025-11-13 09:43:35,266 - race_prediction.competitive_field_analyzer - INFO - Jockeys with wins today: 0/16
2025-11-13 09:43:35,266 - race_prediction.competitive_field_analyzer - INFO - Trainers with wins today: 0/16
2025-11-13 09:43:35,266 - race_prediction.competitive_field_analyzer - INFO - === DISTANCE COMFORT ANALYSIS ===
2025-11-13 09:43:35,267 - race_prediction.competitive_field_analyzer - INFO - Current race distance: 1900m
2025-11-13 09:43:35,267 - race_prediction.competitive_field_analyzer - INFO - Horses with similar recent distance: 9/16
2025-11-13 09:43:35,267 - race_prediction.competitive_field_analyzer - INFO - === REALISTIC COMPETITIVE SCORING ===
2025-11-13 09:43:35,267 - race_prediction.competitive_field_analyzer - INFO - üìä COMPETITIVE ANALYSIS SUMMARY:
2025-11-13 09:43:35,267 - race_prediction.competitive_field_analyzer - INFO -    Total competitive races: 162
2025-11-13 09:43:35,267 - race_prediction.competitive_field_analyzer - INFO -    Horses with historical data: 16/16
2025-11-13 09:43:35,267 - race_prediction.competitive_field_analyzer - INFO -    Average races per horse: 10.1
2025-11-13 09:43:35,277 - race_prediction.quinte_prediction_storage - INFO - Stored 16 horses for Quint√© race 1606698
2025-11-13 09:43:37,224 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE ANALYSIS DEBUG ===
2025-11-13 09:43:37,224 - race_prediction.competitive_field_analyzer - INFO - Analyzing competitive field for race with 16 horses
2025-11-13 09:43:37,224 - race_prediction.competitive_field_analyzer - INFO - Race data shape: (16, 278)
2025-11-13 09:43:37,225 - race_prediction.competitive_field_analyzer - INFO - Available columns: ['id', 'comp', 'jour', 'hippo', 'reun', 'prix', 'prixnom', 'typec', 'partant', 'dist', 'handi', 'groupe', 'quinte', 'natpis', 'meteo', 'corde', 'temperature', 'forceVent', 'directionVent', 'nebulosite', 'prediction_results', 'actual_results', 'created_at', 'updated_at', 'processed_data', 'cheque', 'handi_raw', 'reclam', 'sex', 'tempscourse', 'handicap_level_score', 'cl', 'numero', 'cheval', 'age', 'cotedirect', 'coteprob', 'recence', 'ecar', 'defoeil', 'defoeilPrec', 'musiqueche', 'musiquejoc', 'entraineur', 'coursescheval', 'victoirescheval', 'placescheval', 'dernierealloc', 'derniernbpartants', 'dernieredist', 'derniereplace', 'dernierecote', 'dernierEnt', 'proprietaire', 'poidmont', 'pourcVictJockHippo', 'pourcPlaceJockHippo', 'pourcVictChevalHippo', 'pourcPlaceChevalHippo', 'tempstot', 'vha', 'recordG', 'txreclam', 'dernierTxreclam', 'gainsCarriere', 'gainsAnneeEnCours', 'handicapDistance', 'handicapPoids', 'TxVictCouple', 'nbVictCouple', 'nbPlaceCouple', 'idche', 'idJockey', 'idEntraineur', 'defFirstTime', 'oeilFirstTime', 'oeil', 'dernierOeil', 'ratio_victoires', 'ratio_places', 'gains_par_course', 'efficacite_couple', 'regularite_couple', 'progression_couple', 'perf_cheval_hippo', 'perf_jockey_hippo', 'blinkers_first_time', 'has_blinkers', 'has_standard_blinkers', 'has_australian_blinkers', 'blinkers_added', 'blinkers_removed', 'blinkers_type_changed', 'blinkers_any_change', 'blinkers_high_impact_change', 'shoeing_first_time', 'fully_shod', 'front_shod_only', 'back_shod_only', 'barefoot', 'shoeing_changed', 'barefoot_to_shod', 'shod_to_barefoot', 'major_shoeing_change', 'shoeing_complexity', 'multiple_equipment_changes', 'equipment_momentum_score', 'high_equipment_momentum', 'multiple_first_time_changes', 'equipment_optimization_score', 'career_strike_rate', 'earnings_per_race', 'earnings_trend', 'last_race_position_normalized', 'last_race_odds_normalized', 'last_race_field_size_factor', 'distance_consistency', 'vha_normalized', 'claiming_tax_trend', 'class_stability', 'che_global_avg_pos', 'che_global_recent_perf', 'che_global_consistency', 'che_global_trend', 'che_global_pct_top3', 'che_global_nb_courses', 'che_global_total_races', 'che_global_dnf_rate', 'che_weighted_avg_pos', 'che_weighted_recent_perf', 'che_weighted_consistency', 'che_weighted_pct_top3', 'che_weighted_nb_courses', 'che_weighted_total_races', 'che_weighted_dnf_rate', 'che_weighted_trend', 'che_bytype_avg_pos', 'che_bytype_recent_perf', 'che_bytype_consistency', 'che_bytype_trend', 'che_bytype_pct_top3', 'che_bytype_nb_courses', 'che_bytype_dnf_rate', 'joc_global_avg_pos', 'joc_global_recent_perf', 'joc_global_consistency', 'joc_global_trend', 'joc_global_pct_top3', 'joc_global_nb_courses', 'joc_global_total_races', 'joc_global_dnf_rate', 'joc_weighted_avg_pos', 'joc_weighted_recent_perf', 'joc_weighted_consistency', 'joc_weighted_pct_top3', 'joc_weighted_nb_courses', 'joc_weighted_total_races', 'joc_weighted_dnf_rate', 'joc_weighted_trend', 'joc_bytype_avg_pos', 'joc_bytype_recent_perf', 'joc_bytype_consistency', 'joc_bytype_trend', 'joc_bytype_pct_top3', 'joc_bytype_nb_courses', 'joc_bytype_dnf_rate', 'class_drop_pct', 'purse_per_starter', 'purse_ratio', 'moving_up_in_class', 'class_shock_indicator', 'handicap_level_change', 'time_per_distance', 'time_vs_record', 'pace_rating', 'speed_figure_proxy', 'market_confidence_shift', 'last_race_improvement', 'bounce_risk', 'layoff_distance_interaction', 'trainer_change', 'connection_stability', 'field_size_change', 'distance_comfort', 'competition_level_shift', 'recence_x_class_drop', 'trainer_change_x_recence', 'distance_change_x_recence', 'che_by_type_avg_pos', 'che_by_type_recent_perf', 'che_by_type_consistency', 'che_by_type_trend', 'che_by_type_pct_top3', 'che_by_type_nb_courses', 'che_by_type_dnf_rate', 'joc_by_type_avg_pos', 'joc_by_type_recent_perf', 'joc_by_type_consistency', 'joc_by_type_trend', 'joc_by_type_pct_top3', 'joc_by_type_nb_courses', 'joc_by_type_dnf_rate', 'trainer_victoires', 'trainer_places', 'trainer_courses', 'trainer_winrate', 'trainer_placerate', 'trainer_quality_score', 'trainer_experience_level', 'handicap_poids', 'handicap_dist', 'prec_handicap_poids', 'prec_handicap_dist', 'handicap_poids_change', 'handicap_poids_increased', 'handicap_poids_decreased', 'handicap_dist_change', 'handicap_dist_increased', 'handicap_dist_decreased', 'total_handicap', 'handicap_momentum', 'last_race_position', 'last_race_distance', 'distance_change', 'distance_change_pct', 'distance_increased', 'distance_decreased', 'same_distance', 'corde_change', 'corde_improved', 'corde_worsened', 'last_race_top3', 'last_race_won', 'che_bytype_total_races', 'joc_bytype_total_races', 'che_form_momentum', 'che_improving_form', 'che_declining_form', 'che_high_consistency', 'che_recent_quality', 'che_elite_performer', 'che_regular_placer', 'joc_form_momentum', 'joc_improving_form', 'joc_high_consistency', 'joc_elite_performer', 'synergy_both_improving', 'synergy_both_consistent', 'synergy_both_elite', 'overall_momentum_score', 'high_momentum', 'quinte_career_starts', 'quinte_win_rate', 'quinte_top5_rate', 'avg_quinte_position', 'days_since_last_quinte', 'quinte_handicap_specialist', 'quinte_conditions_specialist', 'quinte_large_field_ability', 'quinte_track_condition_fit', 'is_handicap_quinte', 'handicap_division', 'purse_level_category', 'field_size_category', 'track_condition_PH', 'track_condition_DUR', 'track_condition_PS', 'track_condition_PSF', 'weather_clear', 'weather_rain', 'weather_cloudy', 'post_position_bias', 'post_position_track_bias', 'raw_tabnet_prediction', 'predicted_position_tabnet', 'raw_rf_prediction', 'predicted_position_rf', 'predicted_position_base']
2025-11-13 09:43:37,225 - race_prediction.competitive_field_analyzer - INFO - === CRITICAL COLUMNS ANALYSIS ===
2025-11-13 09:43:37,225 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ recordG: 16/16 non-null values (100.0%)
2025-11-13 09:43:37,225 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [0.0, 0.0, 0.0]
2025-11-13 09:43:37,225 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ hippo: 16/16 non-null values (100.0%)
2025-11-13 09:43:37,225 - race_prediction.competitive_field_analyzer - INFO -    Sample values: ['Lisieux', 'Lisieux', 'Lisieux']
2025-11-13 09:43:37,225 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ coursescheval: 16/16 non-null values (100.0%)
2025-11-13 09:43:37,225 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [32, 53, 70]
2025-11-13 09:43:37,225 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ victoirescheval: 16/16 non-null values (100.0%)
2025-11-13 09:43:37,225 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [5, 10, 17]
2025-11-13 09:43:37,225 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ placescheval: 16/16 non-null values (100.0%)
2025-11-13 09:43:37,226 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [11, 19, 26]
2025-11-13 09:43:37,226 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ gainsCarriere: 16/16 non-null values (100.0%)
2025-11-13 09:43:37,226 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [26923000, 27238000, 27714000]
2025-11-13 09:43:37,226 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ age: 16/16 non-null values (100.0%)
2025-11-13 09:43:37,226 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [5, 6, 7]
2025-11-13 09:43:37,226 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ derniereplace: 16/16 non-null values (100.0%)
2025-11-13 09:43:37,226 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [8.0, 15.0, 1.0]
2025-11-13 09:43:37,226 - race_prediction.competitive_field_analyzer - INFO - === RACE METADATA ===
2025-11-13 09:43:37,226 - race_prediction.competitive_field_analyzer - INFO - comp: 1610765
2025-11-13 09:43:37,226 - race_prediction.competitive_field_analyzer - INFO - hippo: Lisieux
2025-11-13 09:43:37,226 - race_prediction.competitive_field_analyzer - INFO - dist: 2725
2025-11-13 09:43:37,226 - race_prediction.competitive_field_analyzer - INFO - typec: Attel√©
2025-11-13 09:43:37,226 - race_prediction.competitive_field_analyzer - INFO - partant: 16
2025-11-13 09:43:37,226 - race_prediction.competitive_field_analyzer - INFO - === SAMPLE RACE DATA ===
2025-11-13 09:43:37,226 - race_prediction.competitive_field_analyzer - INFO - Sample data (columns: ['numero', 'cheval', 'recordG', 'hippo', 'coursescheval']):
2025-11-13 09:43:37,227 - race_prediction.competitive_field_analyzer - INFO -   Horse 0: {'numero': 1, 'cheval': 'Keen Winner', 'recordG': 0.0, 'hippo': 'Lisieux', 'coursescheval': 32}
2025-11-13 09:43:37,227 - race_prediction.competitive_field_analyzer - INFO -   Horse 1: {'numero': 2, 'cheval': 'Jeannette Priory', 'recordG': 0.0, 'hippo': 'Lisieux', 'coursescheval': 53}
2025-11-13 09:43:37,227 - race_prediction.competitive_field_analyzer - INFO -   Horse 2: {'numero': 3, 'cheval': 'Idole of Love', 'recordG': 0.0, 'hippo': 'Lisieux', 'coursescheval': 70}
2025-11-13 09:43:37,227 - race_prediction.competitive_field_analyzer - INFO - === END COMPETITIVE ANALYSIS DEBUG ===

2025-11-13 09:43:37,227 - race_prediction.competitive_field_analyzer - INFO - === RETRIEVING HISTORICAL DATA ===
2025-11-13 09:43:37,227 - race_prediction.competitive_field_analyzer - INFO - Fetching historical data for 16 horses: [1572676, 1510765, 1491964, 1438306, 1380598, 1430681, 1430635, 1430387, 1463732, 1497360, 1289057, 1388348, 1437164, 1508812, 1393225, 1318509]
2025-11-13 09:43:37,228 - race_prediction.competitive_field_analyzer - INFO - Batch querying historical data for 16 horses: [1572676, 1510765, 1491964, 1438306, 1380598, 1430681, 1430635, 1430387, 1463732, 1497360, 1289057, 1388348, 1437164, 1508812, 1393225, 1318509]
2025-11-13 09:43:56,401 - race_prediction.competitive_field_analyzer - INFO - Batch query completed in 19.17s, found 182 total records
2025-11-13 09:43:56,409 - race_prediction.competitive_field_analyzer - INFO - Batch query retrieved 182 total historical races
2025-11-13 09:43:56,410 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS PER HORSE ===
2025-11-13 09:43:56,410 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1572676: 14 historical races found
2025-11-13 09:43:56,410 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1510765: 16 historical races found
2025-11-13 09:43:56,410 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1491964: 14 historical races found
2025-11-13 09:43:56,410 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1438306: 8 historical races found
2025-11-13 09:43:56,410 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1380598: 16 historical races found
2025-11-13 09:43:56,410 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1430681: 12 historical races found
2025-11-13 09:43:56,410 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1430635: 5 historical races found
2025-11-13 09:43:56,410 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1430387: 5 historical races found
2025-11-13 09:43:56,410 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1463732: 14 historical races found
2025-11-13 09:43:56,410 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1497360: 16 historical races found
2025-11-13 09:43:56,410 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1289057: 16 historical races found
2025-11-13 09:43:56,410 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1388348: 10 historical races found
2025-11-13 09:43:56,410 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1437164: 12 historical races found
2025-11-13 09:43:56,410 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1508812: 9 historical races found
2025-11-13 09:43:56,410 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1393225: 9 historical races found
2025-11-13 09:43:56,410 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1318509: 6 historical races found
2025-11-13 09:43:56,410 - race_prediction.competitive_field_analyzer - INFO - Retrieved 182 total historical races
2025-11-13 09:43:56,410 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS BY HORSE ===
2025-11-13 09:43:56,410 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1572676: 14 historical races
2025-11-13 09:43:56,410 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1510765: 16 historical races
2025-11-13 09:43:56,410 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1491964: 14 historical races
2025-11-13 09:43:56,410 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1438306: 8 historical races
2025-11-13 09:43:56,410 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1380598: 16 historical races
2025-11-13 09:43:56,410 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1430681: 12 historical races
2025-11-13 09:43:56,410 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1430635: 5 historical races
2025-11-13 09:43:56,410 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1430387: 5 historical races
2025-11-13 09:43:56,410 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1463732: 14 historical races
2025-11-13 09:43:56,410 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1497360: 16 historical races
2025-11-13 09:43:56,410 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1289057: 16 historical races
2025-11-13 09:43:56,410 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1388348: 10 historical races
2025-11-13 09:43:56,410 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1437164: 12 historical races
2025-11-13 09:43:56,410 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1508812: 9 historical races
2025-11-13 09:43:56,410 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1393225: 9 historical races
2025-11-13 09:43:56,410 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1318509: 6 historical races
2025-11-13 09:43:56,410 - race_prediction.competitive_field_analyzer - INFO - === END HISTORICAL DATA RETRIEVAL ===

2025-11-13 09:43:56,411 - race_prediction.competitive_field_analyzer - INFO - === EARNINGS QUALITY ANALYSIS ===
2025-11-13 09:43:56,411 - race_prediction.competitive_field_analyzer - INFO - Valid earnings data: 16/16 horses
2025-11-13 09:43:56,411 - race_prediction.competitive_field_analyzer - INFO - Sample earnings per race: ['841,344', '513,925', '395,914']
2025-11-13 09:43:56,411 - race_prediction.competitive_field_analyzer - INFO - Field earnings stats: avg=731,939, max=1,324,103
2025-11-13 09:43:56,411 - race_prediction.competitive_field_analyzer - INFO - === TRACK SPECIALIZATION ANALYSIS ===
2025-11-13 09:43:56,411 - race_prediction.competitive_field_analyzer - INFO - Horses with reliable venue data (3+ races): 0/16
2025-11-13 09:43:56,412 - race_prediction.competitive_field_analyzer - INFO - === FORM MOMENTUM ANALYSIS ===
2025-11-13 09:43:56,412 - race_prediction.competitive_field_analyzer - INFO - Field avg horse trend: 0.768, recent perf: 7.42
2025-11-13 09:43:56,412 - race_prediction.competitive_field_analyzer - INFO - Field avg jockey trend: 1.613
2025-11-13 09:43:56,412 - race_prediction.competitive_field_analyzer - INFO - Horses with improving form: 2/16
2025-11-13 09:43:56,413 - race_prediction.competitive_field_analyzer - INFO - === HOT CONNECTIONS ANALYSIS ===
2025-11-13 09:43:56,413 - race_prediction.competitive_field_analyzer - INFO - Jockeys with wins today: 0/16
2025-11-13 09:43:56,413 - race_prediction.competitive_field_analyzer - INFO - Trainers with wins today: 0/16
2025-11-13 09:43:56,413 - race_prediction.competitive_field_analyzer - INFO - === DISTANCE COMFORT ANALYSIS ===
2025-11-13 09:43:56,413 - race_prediction.competitive_field_analyzer - INFO - Current race distance: 2725m
2025-11-13 09:43:56,413 - race_prediction.competitive_field_analyzer - INFO - Horses with similar recent distance: 12/16
2025-11-13 09:43:56,413 - race_prediction.competitive_field_analyzer - INFO - === REALISTIC COMPETITIVE SCORING ===
2025-11-13 09:43:56,413 - race_prediction.competitive_field_analyzer - INFO - üìä COMPETITIVE ANALYSIS SUMMARY:
2025-11-13 09:43:56,413 - race_prediction.competitive_field_analyzer - INFO -    Total competitive races: 182
2025-11-13 09:43:56,413 - race_prediction.competitive_field_analyzer - INFO -    Horses with historical data: 16/16
2025-11-13 09:43:56,414 - race_prediction.competitive_field_analyzer - INFO -    Average races per horse: 11.4
2025-11-13 09:43:56,431 - race_prediction.quinte_prediction_storage - INFO - Stored 16 horses for Quint√© race 1610765
2025-11-13 09:43:58,366 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE ANALYSIS DEBUG ===
2025-11-13 09:43:58,366 - race_prediction.competitive_field_analyzer - INFO - Analyzing competitive field for race with 16 horses
2025-11-13 09:43:58,366 - race_prediction.competitive_field_analyzer - INFO - Race data shape: (16, 278)
2025-11-13 09:43:58,366 - race_prediction.competitive_field_analyzer - INFO - Available columns: ['id', 'comp', 'jour', 'hippo', 'reun', 'prix', 'prixnom', 'typec', 'partant', 'dist', 'handi', 'groupe', 'quinte', 'natpis', 'meteo', 'corde', 'temperature', 'forceVent', 'directionVent', 'nebulosite', 'prediction_results', 'actual_results', 'created_at', 'updated_at', 'processed_data', 'cheque', 'handi_raw', 'reclam', 'sex', 'tempscourse', 'handicap_level_score', 'cl', 'numero', 'cheval', 'age', 'cotedirect', 'coteprob', 'recence', 'ecar', 'defoeil', 'defoeilPrec', 'musiqueche', 'musiquejoc', 'entraineur', 'coursescheval', 'victoirescheval', 'placescheval', 'dernierealloc', 'derniernbpartants', 'dernieredist', 'derniereplace', 'dernierecote', 'dernierEnt', 'proprietaire', 'poidmont', 'pourcVictJockHippo', 'pourcPlaceJockHippo', 'pourcVictChevalHippo', 'pourcPlaceChevalHippo', 'tempstot', 'vha', 'recordG', 'txreclam', 'dernierTxreclam', 'gainsCarriere', 'gainsAnneeEnCours', 'handicapDistance', 'handicapPoids', 'TxVictCouple', 'nbVictCouple', 'nbPlaceCouple', 'idche', 'idJockey', 'idEntraineur', 'defFirstTime', 'oeilFirstTime', 'oeil', 'dernierOeil', 'ratio_victoires', 'ratio_places', 'gains_par_course', 'efficacite_couple', 'regularite_couple', 'progression_couple', 'perf_cheval_hippo', 'perf_jockey_hippo', 'blinkers_first_time', 'has_blinkers', 'has_standard_blinkers', 'has_australian_blinkers', 'blinkers_added', 'blinkers_removed', 'blinkers_type_changed', 'blinkers_any_change', 'blinkers_high_impact_change', 'shoeing_first_time', 'fully_shod', 'front_shod_only', 'back_shod_only', 'barefoot', 'shoeing_changed', 'barefoot_to_shod', 'shod_to_barefoot', 'major_shoeing_change', 'shoeing_complexity', 'multiple_equipment_changes', 'equipment_momentum_score', 'high_equipment_momentum', 'multiple_first_time_changes', 'equipment_optimization_score', 'career_strike_rate', 'earnings_per_race', 'earnings_trend', 'last_race_position_normalized', 'last_race_odds_normalized', 'last_race_field_size_factor', 'distance_consistency', 'vha_normalized', 'claiming_tax_trend', 'class_stability', 'che_global_avg_pos', 'che_global_recent_perf', 'che_global_consistency', 'che_global_trend', 'che_global_pct_top3', 'che_global_nb_courses', 'che_global_total_races', 'che_global_dnf_rate', 'che_weighted_avg_pos', 'che_weighted_recent_perf', 'che_weighted_consistency', 'che_weighted_pct_top3', 'che_weighted_nb_courses', 'che_weighted_total_races', 'che_weighted_dnf_rate', 'che_weighted_trend', 'che_bytype_avg_pos', 'che_bytype_recent_perf', 'che_bytype_consistency', 'che_bytype_trend', 'che_bytype_pct_top3', 'che_bytype_nb_courses', 'che_bytype_dnf_rate', 'joc_global_avg_pos', 'joc_global_recent_perf', 'joc_global_consistency', 'joc_global_trend', 'joc_global_pct_top3', 'joc_global_nb_courses', 'joc_global_total_races', 'joc_global_dnf_rate', 'joc_weighted_avg_pos', 'joc_weighted_recent_perf', 'joc_weighted_consistency', 'joc_weighted_pct_top3', 'joc_weighted_nb_courses', 'joc_weighted_total_races', 'joc_weighted_dnf_rate', 'joc_weighted_trend', 'joc_bytype_avg_pos', 'joc_bytype_recent_perf', 'joc_bytype_consistency', 'joc_bytype_trend', 'joc_bytype_pct_top3', 'joc_bytype_nb_courses', 'joc_bytype_dnf_rate', 'class_drop_pct', 'purse_per_starter', 'purse_ratio', 'moving_up_in_class', 'class_shock_indicator', 'handicap_level_change', 'time_per_distance', 'time_vs_record', 'pace_rating', 'speed_figure_proxy', 'market_confidence_shift', 'last_race_improvement', 'bounce_risk', 'layoff_distance_interaction', 'trainer_change', 'connection_stability', 'field_size_change', 'distance_comfort', 'competition_level_shift', 'recence_x_class_drop', 'trainer_change_x_recence', 'distance_change_x_recence', 'che_by_type_avg_pos', 'che_by_type_recent_perf', 'che_by_type_consistency', 'che_by_type_trend', 'che_by_type_pct_top3', 'che_by_type_nb_courses', 'che_by_type_dnf_rate', 'joc_by_type_avg_pos', 'joc_by_type_recent_perf', 'joc_by_type_consistency', 'joc_by_type_trend', 'joc_by_type_pct_top3', 'joc_by_type_nb_courses', 'joc_by_type_dnf_rate', 'trainer_victoires', 'trainer_places', 'trainer_courses', 'trainer_winrate', 'trainer_placerate', 'trainer_quality_score', 'trainer_experience_level', 'handicap_poids', 'handicap_dist', 'prec_handicap_poids', 'prec_handicap_dist', 'handicap_poids_change', 'handicap_poids_increased', 'handicap_poids_decreased', 'handicap_dist_change', 'handicap_dist_increased', 'handicap_dist_decreased', 'total_handicap', 'handicap_momentum', 'last_race_position', 'last_race_distance', 'distance_change', 'distance_change_pct', 'distance_increased', 'distance_decreased', 'same_distance', 'corde_change', 'corde_improved', 'corde_worsened', 'last_race_top3', 'last_race_won', 'che_bytype_total_races', 'joc_bytype_total_races', 'che_form_momentum', 'che_improving_form', 'che_declining_form', 'che_high_consistency', 'che_recent_quality', 'che_elite_performer', 'che_regular_placer', 'joc_form_momentum', 'joc_improving_form', 'joc_high_consistency', 'joc_elite_performer', 'synergy_both_improving', 'synergy_both_consistent', 'synergy_both_elite', 'overall_momentum_score', 'high_momentum', 'quinte_career_starts', 'quinte_win_rate', 'quinte_top5_rate', 'avg_quinte_position', 'days_since_last_quinte', 'quinte_handicap_specialist', 'quinte_conditions_specialist', 'quinte_large_field_ability', 'quinte_track_condition_fit', 'is_handicap_quinte', 'handicap_division', 'purse_level_category', 'field_size_category', 'track_condition_PH', 'track_condition_DUR', 'track_condition_PS', 'track_condition_PSF', 'weather_clear', 'weather_rain', 'weather_cloudy', 'post_position_bias', 'post_position_track_bias', 'raw_tabnet_prediction', 'predicted_position_tabnet', 'raw_rf_prediction', 'predicted_position_rf', 'predicted_position_base']
2025-11-13 09:43:58,367 - race_prediction.competitive_field_analyzer - INFO - === CRITICAL COLUMNS ANALYSIS ===
2025-11-13 09:43:58,367 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ recordG: 16/16 non-null values (100.0%)
2025-11-13 09:43:58,367 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [0.0, 0.0, 0.0]
2025-11-13 09:43:58,367 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ hippo: 16/16 non-null values (100.0%)
2025-11-13 09:43:58,367 - race_prediction.competitive_field_analyzer - INFO -    Sample values: ['Auteuil', 'Auteuil', 'Auteuil']
2025-11-13 09:43:58,367 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ coursescheval: 16/16 non-null values (100.0%)
2025-11-13 09:43:58,367 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [15, 13, 14]
2025-11-13 09:43:58,367 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ victoirescheval: 16/16 non-null values (100.0%)
2025-11-13 09:43:58,367 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [2, 2, 3]
2025-11-13 09:43:58,367 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ placescheval: 16/16 non-null values (100.0%)
2025-11-13 09:43:58,367 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [5, 7, 7]
2025-11-13 09:43:58,367 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ gainsCarriere: 16/16 non-null values (100.0%)
2025-11-13 09:43:58,367 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [12214000, 5804000, 6793000]
2025-11-13 09:43:58,368 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ age: 16/16 non-null values (100.0%)
2025-11-13 09:43:58,368 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [5, 4, 5]
2025-11-13 09:43:58,368 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ derniereplace: 16/16 non-null values (100.0%)
2025-11-13 09:43:58,368 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [10.0, 4.0, 2.0]
2025-11-13 09:43:58,368 - race_prediction.competitive_field_analyzer - INFO - === RACE METADATA ===
2025-11-13 09:43:58,368 - race_prediction.competitive_field_analyzer - INFO - comp: 1606667
2025-11-13 09:43:58,368 - race_prediction.competitive_field_analyzer - INFO - hippo: Auteuil
2025-11-13 09:43:58,368 - race_prediction.competitive_field_analyzer - INFO - dist: 3600
2025-11-13 09:43:58,368 - race_prediction.competitive_field_analyzer - INFO - typec: Haies
2025-11-13 09:43:58,368 - race_prediction.competitive_field_analyzer - INFO - partant: 16
2025-11-13 09:43:58,368 - race_prediction.competitive_field_analyzer - INFO - === SAMPLE RACE DATA ===
2025-11-13 09:43:58,368 - race_prediction.competitive_field_analyzer - INFO - Sample data (columns: ['numero', 'cheval', 'recordG', 'hippo', 'coursescheval']):
2025-11-13 09:43:58,369 - race_prediction.competitive_field_analyzer - INFO -   Horse 0: {'numero': 1, 'cheval': 'Ocre', 'recordG': 0.0, 'hippo': 'Auteuil', 'coursescheval': 15}
2025-11-13 09:43:58,369 - race_prediction.competitive_field_analyzer - INFO -   Horse 1: {'numero': 2, 'cheval': "Gino's Line", 'recordG': 0.0, 'hippo': 'Auteuil', 'coursescheval': 13}
2025-11-13 09:43:58,369 - race_prediction.competitive_field_analyzer - INFO -   Horse 2: {'numero': 3, 'cheval': 'Balling de Juilley', 'recordG': 0.0, 'hippo': 'Auteuil', 'coursescheval': 14}
2025-11-13 09:43:58,369 - race_prediction.competitive_field_analyzer - INFO - === END COMPETITIVE ANALYSIS DEBUG ===

2025-11-13 09:43:58,369 - race_prediction.competitive_field_analyzer - INFO - === RETRIEVING HISTORICAL DATA ===
2025-11-13 09:43:58,369 - race_prediction.competitive_field_analyzer - INFO - Fetching historical data for 16 horses: [1641958, 1722759, 1656919, 1650835, 1724352, 1698138, 1725764, 1667100, 1647372, 1726661, 1579592, 1699706, 1701033, 1650228, 1704425, 1755392]
2025-11-13 09:43:58,370 - race_prediction.competitive_field_analyzer - INFO - Batch querying historical data for 16 horses: [1641958, 1722759, 1656919, 1650835, 1724352, 1698138, 1725764, 1667100, 1647372, 1726661, 1579592, 1699706, 1701033, 1650228, 1704425, 1755392]
2025-11-13 09:44:17,614 - race_prediction.competitive_field_analyzer - INFO - Batch query completed in 19.24s, found 122 total records
2025-11-13 09:44:17,620 - race_prediction.competitive_field_analyzer - INFO - Batch query retrieved 122 total historical races
2025-11-13 09:44:17,620 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS PER HORSE ===
2025-11-13 09:44:17,620 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1641958: 7 historical races found
2025-11-13 09:44:17,620 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1722759: 12 historical races found
2025-11-13 09:44:17,620 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1656919: 6 historical races found
2025-11-13 09:44:17,620 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1650835: 7 historical races found
2025-11-13 09:44:17,620 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1724352: 8 historical races found
2025-11-13 09:44:17,620 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1698138: 10 historical races found
2025-11-13 09:44:17,620 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1725764: 7 historical races found
2025-11-13 09:44:17,620 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1667100: 5 historical races found
2025-11-13 09:44:17,620 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1647372: 7 historical races found
2025-11-13 09:44:17,620 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1726661: 5 historical races found
2025-11-13 09:44:17,620 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1579592: 9 historical races found
2025-11-13 09:44:17,620 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1699706: 9 historical races found
2025-11-13 09:44:17,620 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1701033: 8 historical races found
2025-11-13 09:44:17,620 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1650228: 7 historical races found
2025-11-13 09:44:17,621 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1704425: 7 historical races found
2025-11-13 09:44:17,621 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1755392: 8 historical races found
2025-11-13 09:44:17,621 - race_prediction.competitive_field_analyzer - INFO - Retrieved 122 total historical races
2025-11-13 09:44:17,621 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS BY HORSE ===
2025-11-13 09:44:17,621 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1641958: 7 historical races
2025-11-13 09:44:17,621 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1722759: 12 historical races
2025-11-13 09:44:17,621 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1656919: 6 historical races
2025-11-13 09:44:17,621 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1650835: 7 historical races
2025-11-13 09:44:17,621 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1724352: 8 historical races
2025-11-13 09:44:17,621 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1698138: 10 historical races
2025-11-13 09:44:17,621 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1725764: 7 historical races
2025-11-13 09:44:17,621 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1667100: 5 historical races
2025-11-13 09:44:17,621 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1647372: 7 historical races
2025-11-13 09:44:17,621 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1726661: 5 historical races
2025-11-13 09:44:17,621 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1579592: 9 historical races
2025-11-13 09:44:17,621 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1699706: 9 historical races
2025-11-13 09:44:17,621 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1701033: 8 historical races
2025-11-13 09:44:17,621 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1650228: 7 historical races
2025-11-13 09:44:17,621 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1704425: 7 historical races
2025-11-13 09:44:17,621 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1755392: 8 historical races
2025-11-13 09:44:17,621 - race_prediction.competitive_field_analyzer - INFO - === END HISTORICAL DATA RETRIEVAL ===

2025-11-13 09:44:17,621 - race_prediction.competitive_field_analyzer - INFO - === EARNINGS QUALITY ANALYSIS ===
2025-11-13 09:44:17,622 - race_prediction.competitive_field_analyzer - INFO - Valid earnings data: 16/16 horses
2025-11-13 09:44:17,622 - race_prediction.competitive_field_analyzer - INFO - Sample earnings per race: ['814,267', '446,462', '485,214']
2025-11-13 09:44:17,622 - race_prediction.competitive_field_analyzer - INFO - Field earnings stats: avg=517,638, max=1,046,929
2025-11-13 09:44:17,622 - race_prediction.competitive_field_analyzer - INFO - === TRACK SPECIALIZATION ANALYSIS ===
2025-11-13 09:44:17,622 - race_prediction.competitive_field_analyzer - INFO - Horses with reliable venue data (3+ races): 0/16
2025-11-13 09:44:17,623 - race_prediction.competitive_field_analyzer - INFO - === FORM MOMENTUM ANALYSIS ===
2025-11-13 09:44:17,623 - race_prediction.competitive_field_analyzer - INFO - Field avg horse trend: -1.843, recent perf: 5.04
2025-11-13 09:44:17,623 - race_prediction.competitive_field_analyzer - INFO - Field avg jockey trend: 0.029
2025-11-13 09:44:17,623 - race_prediction.competitive_field_analyzer - INFO - Horses with improving form: 2/16
2025-11-13 09:44:17,623 - race_prediction.competitive_field_analyzer - INFO - === HOT CONNECTIONS ANALYSIS ===
2025-11-13 09:44:17,623 - race_prediction.competitive_field_analyzer - INFO - Jockeys with wins today: 0/16
2025-11-13 09:44:17,623 - race_prediction.competitive_field_analyzer - INFO - Trainers with wins today: 0/16
2025-11-13 09:44:17,624 - race_prediction.competitive_field_analyzer - INFO - === DISTANCE COMFORT ANALYSIS ===
2025-11-13 09:44:17,624 - race_prediction.competitive_field_analyzer - INFO - Current race distance: 3600m
2025-11-13 09:44:17,624 - race_prediction.competitive_field_analyzer - INFO - Horses with similar recent distance: 11/16
2025-11-13 09:44:17,624 - race_prediction.competitive_field_analyzer - INFO - === REALISTIC COMPETITIVE SCORING ===
2025-11-13 09:44:17,624 - race_prediction.competitive_field_analyzer - INFO - üìä COMPETITIVE ANALYSIS SUMMARY:
2025-11-13 09:44:17,624 - race_prediction.competitive_field_analyzer - INFO -    Total competitive races: 122
2025-11-13 09:44:17,624 - race_prediction.competitive_field_analyzer - INFO -    Horses with historical data: 16/16
2025-11-13 09:44:17,624 - race_prediction.competitive_field_analyzer - INFO -    Average races per horse: 7.6
2025-11-13 09:44:17,634 - race_prediction.quinte_prediction_storage - INFO - Stored 16 horses for Quint√© race 1606667
2025-11-13 10:20:46,528 - UnifiedDataPipeline - WARNING - ‚ö†Ô∏è  Feature consistency validation failed for daily_sync: ['Feature che_by_type_avg_pos has 83.3% missing values', 'Feature che_by_type_recent_perf has 83.3% missing values', 'Feature che_by_type_consistency has 83.3% missing values', 'Feature che_by_type_trend has 83.3% missing values', 'Feature che_by_type_pct_top3 has 83.3% missing values', 'Feature che_by_type_nb_courses has 83.3% missing values', 'Feature che_by_type_dnf_rate has 83.3% missing values']
2025-11-13 10:21:15,348 - UnifiedDataPipeline - WARNING - ‚ö†Ô∏è  Feature consistency validation failed for daily_sync: ['Feature che_by_type_avg_pos has 84.6% missing values', 'Feature che_by_type_recent_perf has 84.6% missing values', 'Feature che_by_type_consistency has 84.6% missing values', 'Feature che_by_type_trend has 84.6% missing values', 'Feature che_by_type_pct_top3 has 84.6% missing values', 'Feature che_by_type_nb_courses has 84.6% missing values', 'Feature che_by_type_total_races has 84.6% missing values', 'Feature che_by_type_dnf_rate has 84.6% missing values']
2025-11-13 10:21:22,625 - UnifiedDataPipeline - WARNING - ‚ö†Ô∏è  Feature consistency validation failed for daily_sync: ['Feature che_by_type_avg_pos has 88.9% missing values', 'Feature che_by_type_recent_perf has 88.9% missing values', 'Feature che_by_type_consistency has 88.9% missing values', 'Feature che_by_type_trend has 88.9% missing values', 'Feature che_by_type_pct_top3 has 88.9% missing values', 'Feature che_by_type_nb_courses has 88.9% missing values', 'Feature che_by_type_total_races has 88.9% missing values', 'Feature che_by_type_dnf_rate has 88.9% missing values']
2025-11-13 10:21:26,583 - UnifiedDataPipeline - WARNING - ‚ö†Ô∏è  Feature consistency validation failed for daily_sync: ['Feature che_by_type_total_races has 92.3% missing values']
2025-11-13 10:21:28,973 - UnifiedDataPipeline - WARNING - ‚ö†Ô∏è  Feature consistency validation failed for daily_sync: ['Feature che_by_type_total_races has 81.2% missing values']
2025-11-13 10:21:42,003 - UnifiedDataPipeline - WARNING - ‚ö†Ô∏è  Feature consistency validation failed for daily_sync: ['Feature che_by_type_total_races has 83.3% missing values']
2025-11-13 10:21:50,563 - UnifiedDataPipeline - WARNING - ‚ö†Ô∏è  Feature consistency validation failed for daily_sync: ['Feature che_by_type_total_races has 83.3% missing values']
2025-11-13 10:22:38,148 - UnifiedDataPipeline - WARNING - ‚ö†Ô∏è  Feature consistency validation failed for daily_sync: ['Feature che_by_type_avg_pos has 81.2% missing values', 'Feature che_by_type_recent_perf has 81.2% missing values', 'Feature che_by_type_consistency has 81.2% missing values', 'Feature che_by_type_trend has 81.2% missing values', 'Feature che_by_type_pct_top3 has 81.2% missing values', 'Feature che_by_type_nb_courses has 81.2% missing values', 'Feature che_by_type_total_races has 81.2% missing values', 'Feature che_by_type_dnf_rate has 81.2% missing values']
2025-11-13 10:22:38,238 - UnifiedDataPipeline - WARNING - ‚ö†Ô∏è  Feature consistency validation failed for daily_sync: ['Feature che_by_type_avg_pos has 88.9% missing values', 'Feature che_by_type_recent_perf has 88.9% missing values', 'Feature che_by_type_consistency has 88.9% missing values', 'Feature che_by_type_trend has 88.9% missing values', 'Feature che_by_type_pct_top3 has 88.9% missing values', 'Feature che_by_type_nb_courses has 88.9% missing values', 'Feature che_by_type_total_races has 88.9% missing values', 'Feature che_by_type_dnf_rate has 88.9% missing values']
2025-11-13 10:22:42,797 - UnifiedDataPipeline - WARNING - ‚ö†Ô∏è  Feature consistency validation failed for daily_sync: ['Feature che_by_type_total_races has 87.5% missing values']
2025-11-13 10:22:43,409 - UnifiedDataPipeline - WARNING - ‚ö†Ô∏è  Feature consistency validation failed for daily_sync: ['Feature che_by_type_avg_pos has 92.9% missing values', 'Feature che_by_type_recent_perf has 92.9% missing values', 'Feature che_by_type_consistency has 92.9% missing values', 'Feature che_by_type_trend has 92.9% missing values', 'Feature che_by_type_pct_top3 has 92.9% missing values', 'Feature che_by_type_nb_courses has 92.9% missing values', 'Feature che_by_type_total_races has 92.9% missing values', 'Feature che_by_type_dnf_rate has 92.9% missing values']
2025-11-13 10:25:33,771 - UnifiedDataPipeline - WARNING - ‚ö†Ô∏è  Feature consistency validation failed for daily_sync: ['Feature che_by_type_avg_pos has 81.8% missing values', 'Feature che_by_type_recent_perf has 81.8% missing values', 'Feature che_by_type_consistency has 81.8% missing values', 'Feature che_by_type_trend has 81.8% missing values', 'Feature che_by_type_pct_top3 has 81.8% missing values', 'Feature che_by_type_nb_courses has 81.8% missing values', 'Feature che_by_type_total_races has 81.8% missing values', 'Feature che_by_type_dnf_rate has 81.8% missing values']
2025-11-13 10:27:21,201 - UnifiedDataPipeline - WARNING - ‚ö†Ô∏è  Feature consistency validation failed for daily_sync: ['Feature che_by_type_avg_pos has 85.7% missing values', 'Feature che_by_type_recent_perf has 85.7% missing values', 'Feature che_by_type_consistency has 85.7% missing values', 'Feature che_by_type_trend has 85.7% missing values', 'Feature che_by_type_pct_top3 has 85.7% missing values', 'Feature che_by_type_nb_courses has 85.7% missing values', 'Feature che_by_type_total_races has 85.7% missing values', 'Feature che_by_type_dnf_rate has 85.7% missing values']
2025-11-13 10:27:45,550 - UnifiedDataPipeline - WARNING - ‚ö†Ô∏è  Feature consistency validation failed for daily_sync: ['Feature che_by_type_total_races has 83.3% missing values']
2025-11-13 10:27:58,789 - UnifiedDataPipeline - WARNING - ‚ö†Ô∏è  Feature consistency validation failed for daily_sync: ['Feature che_by_type_total_races has 83.3% missing values']
2025-11-13 10:27:58,978 - UnifiedDataPipeline - WARNING - ‚ö†Ô∏è  Feature consistency validation failed for daily_sync: ['Feature che_by_type_total_races has 85.7% missing values']
2025-11-13 10:27:59,717 - UnifiedDataPipeline - WARNING - ‚ö†Ô∏è  Feature consistency validation failed for daily_sync: ['Feature che_by_type_total_races has 83.3% missing values']
2025-11-13 10:46:55,427 - UnifiedDataPipeline - WARNING - ‚ö†Ô∏è  Feature consistency validation failed for daily_sync: ['Feature che_by_type_avg_pos has 83.3% missing values', 'Feature che_by_type_recent_perf has 83.3% missing values', 'Feature che_by_type_consistency has 83.3% missing values', 'Feature che_by_type_trend has 83.3% missing values', 'Feature che_by_type_pct_top3 has 83.3% missing values', 'Feature che_by_type_nb_courses has 83.3% missing values', 'Feature che_by_type_total_races has 83.3% missing values', 'Feature che_by_type_dnf_rate has 83.3% missing values']
2025-11-13 10:46:59,819 - UnifiedDataPipeline - WARNING - ‚ö†Ô∏è  Feature consistency validation failed for daily_sync: ['Feature che_by_type_avg_pos has 88.9% missing values', 'Feature che_by_type_recent_perf has 88.9% missing values', 'Feature che_by_type_consistency has 88.9% missing values', 'Feature che_by_type_trend has 88.9% missing values', 'Feature che_by_type_pct_top3 has 88.9% missing values', 'Feature che_by_type_nb_courses has 88.9% missing values', 'Feature che_by_type_total_races has 88.9% missing values', 'Feature che_by_type_dnf_rate has 88.9% missing values']
2025-11-13 10:47:25,631 - UnifiedDataPipeline - WARNING - ‚ö†Ô∏è  Feature consistency validation failed for daily_sync: ['Feature che_by_type_avg_pos has 84.6% missing values', 'Feature che_by_type_recent_perf has 84.6% missing values', 'Feature che_by_type_consistency has 84.6% missing values', 'Feature che_by_type_trend has 84.6% missing values', 'Feature che_by_type_pct_top3 has 84.6% missing values', 'Feature che_by_type_nb_courses has 84.6% missing values', 'Feature che_by_type_dnf_rate has 84.6% missing values']
2025-11-13 10:47:42,640 - UnifiedDataPipeline - WARNING - ‚ö†Ô∏è  Feature consistency validation failed for daily_sync: ['Feature che_by_type_avg_pos has 87.5% missing values', 'Feature che_by_type_recent_perf has 87.5% missing values', 'Feature che_by_type_consistency has 87.5% missing values', 'Feature che_by_type_trend has 87.5% missing values', 'Feature che_by_type_pct_top3 has 87.5% missing values', 'Feature che_by_type_nb_courses has 87.5% missing values', 'Feature che_by_type_total_races has 87.5% missing values', 'Feature che_by_type_dnf_rate has 87.5% missing values']
2025-11-13 10:47:48,858 - UnifiedDataPipeline - WARNING - ‚ö†Ô∏è  Feature consistency validation failed for daily_sync: ['Feature che_by_type_total_races has 81.8% missing values']
2025-11-13 10:58:15,232 - UnifiedDataPipeline - WARNING - ‚ö†Ô∏è  Feature consistency validation failed for daily_sync: ['Feature che_by_type_avg_pos has 92.3% missing values', 'Feature che_by_type_recent_perf has 92.3% missing values', 'Feature che_by_type_consistency has 92.3% missing values', 'Feature che_by_type_trend has 92.3% missing values', 'Feature che_by_type_pct_top3 has 92.3% missing values', 'Feature che_by_type_nb_courses has 92.3% missing values', 'Feature che_by_type_dnf_rate has 92.3% missing values']
2025-11-13 10:58:47,871 - UnifiedDataPipeline - WARNING - ‚ö†Ô∏è  Feature consistency validation failed for daily_sync: ['Feature che_by_type_total_races has 83.3% missing values']
2025-11-13 11:00:22,799 - UnifiedDataPipeline - WARNING - ‚ö†Ô∏è  Feature consistency validation failed for daily_sync: ['Feature che_by_type_avg_pos has 91.7% missing values', 'Feature che_by_type_recent_perf has 91.7% missing values', 'Feature che_by_type_consistency has 91.7% missing values', 'Feature che_by_type_trend has 91.7% missing values', 'Feature che_by_type_pct_top3 has 91.7% missing values', 'Feature che_by_type_nb_courses has 91.7% missing values', 'Feature che_by_type_dnf_rate has 91.7% missing values']
2025-11-13 11:00:51,459 - UnifiedDataPipeline - WARNING - ‚ö†Ô∏è  Feature consistency validation failed for daily_sync: ['Feature che_by_type_avg_pos has 88.9% missing values', 'Feature che_by_type_recent_perf has 88.9% missing values', 'Feature che_by_type_consistency has 88.9% missing values', 'Feature che_by_type_trend has 88.9% missing values', 'Feature che_by_type_pct_top3 has 88.9% missing values', 'Feature che_by_type_nb_courses has 88.9% missing values', 'Feature che_by_type_total_races has 88.9% missing values', 'Feature che_by_type_dnf_rate has 88.9% missing values']
2025-11-13 11:13:00,213 - UnifiedDataPipeline - WARNING - ‚ö†Ô∏è  Feature consistency validation failed for daily_sync: ['Feature che_by_type_avg_pos has 91.7% missing values', 'Feature che_by_type_recent_perf has 91.7% missing values', 'Feature che_by_type_consistency has 91.7% missing values', 'Feature che_by_type_trend has 91.7% missing values', 'Feature che_by_type_pct_top3 has 91.7% missing values', 'Feature che_by_type_nb_courses has 91.7% missing values', 'Feature che_by_type_total_races has 91.7% missing values', 'Feature che_by_type_dnf_rate has 91.7% missing values']
2025-11-13 11:14:58,265 - model_training.features.couple_embedding - INFO - Epoch 1/4 - Train Loss: 0.5933 - Valid Loss: 0.5954 - Train Acc: 0.7238 - Valid Acc: 0.7234
2025-11-13 11:14:59,361 - model_training.features.couple_embedding - INFO - Epoch 2/4 - Train Loss: 0.5886 - Valid Loss: 0.5917 - Train Acc: 0.7238 - Valid Acc: 0.7234
2025-11-13 11:15:00,446 - model_training.features.couple_embedding - INFO - Epoch 3/4 - Train Loss: 0.5848 - Valid Loss: 0.5926 - Train Acc: 0.7238 - Valid Acc: 0.7234
2025-11-13 11:15:01,550 - model_training.features.couple_embedding - INFO - Epoch 4/4 - Train Loss: 0.5770 - Valid Loss: 0.5983 - Train Acc: 0.7238 - Valid Acc: 0.7234
2025-11-13 11:19:22,488 - core.orchestrators.feature_selector - INFO - RF features: 110 domain features (no embeddings)
2025-11-13 11:19:23,195 - core.orchestrators.feature_selector - INFO - Dropped 118 features for rf model
2025-11-13 11:19:23,234 - core.orchestrators.feature_selector - INFO - RF features: 110 domain features (no embeddings)
2025-11-13 11:21:40,270 - core.orchestrators.feature_selector - INFO - RF features: 110 domain features (no embeddings)
2025-11-13 11:22:02,139 - core.orchestrators.feature_selector - INFO - TabNet features: 37 optimized domain features
2025-11-13 11:22:02,598 - core.orchestrators.feature_selector - INFO - Dropped 191 features for tabnet model
2025-11-13 11:22:02,648 - core.orchestrators.feature_selector - INFO - TabNet features: 37 optimized domain features
2025-11-13 11:22:44,403 - UnifiedDataPipeline - WARNING - ‚ö†Ô∏è  Feature consistency validation failed for daily_sync: ['Feature che_by_type_total_races has 87.5% missing values']
2025-11-13 11:22:53,302 - UnifiedDataPipeline - WARNING - ‚ö†Ô∏è  Feature consistency validation failed for daily_sync: ['Feature joc_by_type_avg_pos has 87.5% missing values', 'Feature joc_by_type_recent_perf has 87.5% missing values', 'Feature joc_by_type_consistency has 87.5% missing values', 'Feature joc_by_type_trend has 87.5% missing values', 'Feature joc_by_type_pct_top3 has 87.5% missing values', 'Feature joc_by_type_nb_courses has 87.5% missing values', 'Feature joc_by_type_total_races has 87.5% missing values', 'Feature joc_by_type_dnf_rate has 87.5% missing values', 'Feature che_by_type_avg_pos has 87.5% missing values', 'Feature che_by_type_recent_perf has 87.5% missing values', 'Feature che_by_type_consistency has 87.5% missing values', 'Feature che_by_type_trend has 87.5% missing values', 'Feature che_by_type_pct_top3 has 87.5% missing values', 'Feature che_by_type_nb_courses has 87.5% missing values', 'Feature che_by_type_total_races has 87.5% missing values', 'Feature che_by_type_dnf_rate has 87.5% missing values']
2025-11-13 11:22:53,491 - UnifiedDataPipeline - WARNING - ‚ö†Ô∏è  Feature consistency validation failed for daily_sync: ['Feature che_by_type_avg_pos has 90.9% missing values', 'Feature che_by_type_recent_perf has 90.9% missing values', 'Feature che_by_type_consistency has 90.9% missing values', 'Feature che_by_type_trend has 90.9% missing values', 'Feature che_by_type_pct_top3 has 90.9% missing values', 'Feature che_by_type_nb_courses has 90.9% missing values', 'Feature che_by_type_total_races has 90.9% missing values', 'Feature che_by_type_dnf_rate has 90.9% missing values']
2025-11-13 11:22:53,750 - UnifiedDataPipeline - WARNING - ‚ö†Ô∏è  Feature consistency validation failed for daily_sync: ['Feature joc_by_type_avg_pos has 91.7% missing values', 'Feature joc_by_type_recent_perf has 91.7% missing values', 'Feature joc_by_type_consistency has 91.7% missing values', 'Feature joc_by_type_trend has 91.7% missing values', 'Feature joc_by_type_pct_top3 has 91.7% missing values', 'Feature joc_by_type_nb_courses has 91.7% missing values', 'Feature joc_by_type_total_races has 91.7% missing values', 'Feature joc_by_type_dnf_rate has 91.7% missing values']
2025-11-13 11:22:54,047 - UnifiedDataPipeline - WARNING - ‚ö†Ô∏è  Feature consistency validation failed for daily_sync: ['Feature joc_by_type_avg_pos has 81.8% missing values', 'Feature joc_by_type_recent_perf has 81.8% missing values', 'Feature joc_by_type_consistency has 81.8% missing values', 'Feature joc_by_type_trend has 81.8% missing values', 'Feature joc_by_type_pct_top3 has 81.8% missing values', 'Feature joc_by_type_nb_courses has 81.8% missing values', 'Feature joc_by_type_total_races has 81.8% missing values', 'Feature joc_by_type_dnf_rate has 81.8% missing values']
2025-11-13 11:22:54,278 - UnifiedDataPipeline - WARNING - ‚ö†Ô∏è  Feature consistency validation failed for daily_sync: ['Feature che_by_type_avg_pos has 93.8% missing values', 'Feature che_by_type_recent_perf has 93.8% missing values', 'Feature che_by_type_consistency has 93.8% missing values', 'Feature che_by_type_trend has 93.8% missing values', 'Feature che_by_type_pct_top3 has 93.8% missing values', 'Feature che_by_type_nb_courses has 93.8% missing values', 'Feature che_by_type_total_races has 93.8% missing values', 'Feature che_by_type_dnf_rate has 93.8% missing values']
2025-11-13 11:22:59,449 - UnifiedDataPipeline - WARNING - ‚ö†Ô∏è  Feature consistency validation failed for daily_sync: ['Feature che_by_type_total_races has 81.2% missing values']
2025-11-13 11:23:00,827 - UnifiedDataPipeline - WARNING - ‚ö†Ô∏è  Feature consistency validation failed for daily_sync: ['Feature che_by_type_total_races has 81.8% missing values']
2025-11-13 11:24:23,973 - core.orchestrators.feature_selector - INFO - TabNet features: 37 optimized domain features
2025-11-13 11:36:29,611 - UnifiedDataPipeline - WARNING - ‚ö†Ô∏è  Feature consistency validation failed for daily_sync: ['Feature che_by_type_avg_pos has 90.9% missing values', 'Feature che_by_type_recent_perf has 90.9% missing values', 'Feature che_by_type_consistency has 90.9% missing values', 'Feature che_by_type_trend has 90.9% missing values', 'Feature che_by_type_pct_top3 has 90.9% missing values', 'Feature che_by_type_nb_courses has 90.9% missing values', 'Feature che_by_type_dnf_rate has 90.9% missing values']
2025-11-13 11:36:43,893 - UnifiedDataPipeline - WARNING - ‚ö†Ô∏è  Feature consistency validation failed for daily_sync: ['Feature che_by_type_total_races has 87.5% missing values']
2025-11-13 11:37:49,993 - UnifiedDataPipeline - WARNING - ‚ö†Ô∏è  Feature consistency validation failed for daily_sync: ['Feature che_by_type_avg_pos has 83.3% missing values', 'Feature che_by_type_recent_perf has 83.3% missing values', 'Feature che_by_type_consistency has 83.3% missing values', 'Feature che_by_type_trend has 83.3% missing values', 'Feature che_by_type_pct_top3 has 83.3% missing values', 'Feature che_by_type_nb_courses has 83.3% missing values', 'Feature che_by_type_total_races has 83.3% missing values', 'Feature che_by_type_dnf_rate has 83.3% missing values']
2025-11-13 11:38:22,728 - UnifiedDataPipeline - WARNING - ‚ö†Ô∏è  Feature consistency validation failed for daily_sync: ['Feature che_by_type_total_races has 90.0% missing values']
