2025-11-07 14:48:18,646 - RaceArchiver - INFO - Logging initialized to logs/race_archiver_20251107.log
2025-11-07 14:48:18,648 - RaceArchiver - INFO - Database structure verified
2025-11-07 14:48:26,025 - RaceArchiver - INFO - Logging initialized to logs/race_archiver_20251107.log
2025-11-07 14:48:26,028 - RaceArchiver - INFO - Database structure verified
2025-11-07 14:48:28,012 - RaceArchiver - INFO - Logging initialized to logs/race_archiver_20251107.log
2025-11-07 14:48:28,014 - RaceArchiver - INFO - Database structure verified
2025-11-07 14:48:37,139 - RaceArchiver - INFO - Logging initialized to logs/race_archiver_20251107.log
2025-11-07 14:48:37,143 - RaceArchiver - INFO - Database structure verified
2025-11-07 14:48:48,870 - RaceArchiver - INFO - Logging initialized to logs/race_archiver_20251107.log
2025-11-07 14:48:48,872 - RaceArchiver - INFO - Database structure verified
2025-11-07 14:49:34,302 - race_prediction.quinte_prediction_storage - INFO - Quint√© prediction storage initialized at data/hippique2.db
2025-11-07 14:49:36,583 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE ANALYSIS DEBUG ===
2025-11-07 14:49:36,583 - race_prediction.competitive_field_analyzer - INFO - Analyzing competitive field for race with 14 horses
2025-11-07 14:49:36,583 - race_prediction.competitive_field_analyzer - INFO - Race data shape: (14, 280)
2025-11-07 14:49:36,583 - race_prediction.competitive_field_analyzer - INFO - Available columns: ['id', 'comp', 'jour', 'hippo', 'reun', 'prix', 'prixnom', 'typec', 'partant', 'dist', 'handi', 'groupe', 'quinte', 'natpis', 'meteo', 'corde', 'temperature', 'forceVent', 'directionVent', 'nebulosite', 'prediction_results', 'actual_results', 'created_at', 'updated_at', 'processed_data', 'cheque', 'handi_raw', 'reclam', 'sex', 'tempscourse', 'handicap_level_score', 'cl', 'numero', 'cheval', 'age', 'cotedirect', 'coteprob', 'recence', 'ecar', 'defoeil', 'defoeilPrec', 'musiqueche', 'musiquejoc', 'entraineur', 'coursescheval', 'victoirescheval', 'placescheval', 'dernierealloc', 'derniernbpartants', 'dernieredist', 'derniereplace', 'dernierecote', 'dernierEnt', 'proprietaire', 'poidmont', 'pourcVictJockHippo', 'pourcPlaceJockHippo', 'pourcVictChevalHippo', 'pourcPlaceChevalHippo', 'tempstot', 'vha', 'recordG', 'txreclam', 'dernierTxreclam', 'gainsCarriere', 'gainsAnneeEnCours', 'handicapDistance', 'handicapPoids', 'TxVictCouple', 'nbVictCouple', 'nbPlaceCouple', 'idche', 'idJockey', 'idEntraineur', 'defFirstTime', 'oeilFirstTime', 'oeil', 'dernierOeil', 'ratio_victoires', 'ratio_places', 'gains_par_course', 'efficacite_couple', 'regularite_couple', 'progression_couple', 'perf_cheval_hippo', 'perf_jockey_hippo', 'trainer_victoires', 'trainer_places', 'trainer_courses', 'trainer_winrate', 'trainer_placerate', 'trainer_quality_score', 'trainer_experience_level', 'handicap_poids', 'handicap_dist', 'prec_handicap_poids', 'prec_handicap_dist', 'handicap_poids_change', 'handicap_poids_increased', 'handicap_poids_decreased', 'handicap_dist_change', 'handicap_dist_increased', 'handicap_dist_decreased', 'total_handicap', 'handicap_momentum', 'last_race_position', 'last_race_distance', 'distance_change', 'distance_change_pct', 'distance_increased', 'distance_decreased', 'same_distance', 'corde_change', 'corde_improved', 'corde_worsened', 'last_race_top3', 'last_race_won', 'blinkers_first_time', 'has_blinkers', 'has_standard_blinkers', 'has_australian_blinkers', 'blinkers_added', 'blinkers_removed', 'blinkers_type_changed', 'blinkers_any_change', 'blinkers_high_impact_change', 'shoeing_first_time', 'fully_shod', 'front_shod_only', 'back_shod_only', 'barefoot', 'shoeing_changed', 'barefoot_to_shod', 'shod_to_barefoot', 'major_shoeing_change', 'shoeing_complexity', 'multiple_equipment_changes', 'equipment_momentum_score', 'high_equipment_momentum', 'multiple_first_time_changes', 'equipment_optimization_score', 'career_strike_rate', 'earnings_per_race', 'earnings_trend', 'last_race_position_normalized', 'last_race_odds_normalized', 'last_race_field_size_factor', 'distance_consistency', 'vha_normalized', 'claiming_tax_trend', 'class_stability', 'che_global_avg_pos', 'che_global_recent_perf', 'che_global_consistency', 'che_global_trend', 'che_global_pct_top3', 'che_global_nb_courses', 'che_global_total_races', 'che_global_dnf_rate', 'che_weighted_avg_pos', 'che_weighted_recent_perf', 'che_weighted_consistency', 'che_weighted_pct_top3', 'che_weighted_nb_courses', 'che_weighted_total_races', 'che_weighted_dnf_rate', 'che_weighted_trend', 'che_bytype_avg_pos', 'che_bytype_recent_perf', 'che_bytype_consistency', 'che_bytype_trend', 'che_bytype_pct_top3', 'che_bytype_nb_courses', 'che_bytype_total_races', 'che_bytype_dnf_rate', 'joc_global_avg_pos', 'joc_global_recent_perf', 'joc_global_consistency', 'joc_global_trend', 'joc_global_pct_top3', 'joc_global_nb_courses', 'joc_global_total_races', 'joc_global_dnf_rate', 'joc_weighted_avg_pos', 'joc_weighted_recent_perf', 'joc_weighted_consistency', 'joc_weighted_pct_top3', 'joc_weighted_nb_courses', 'joc_weighted_total_races', 'joc_weighted_dnf_rate', 'joc_weighted_trend', 'joc_bytype_avg_pos', 'joc_bytype_recent_perf', 'joc_bytype_consistency', 'joc_bytype_trend', 'joc_bytype_pct_top3', 'joc_bytype_nb_courses', 'joc_bytype_total_races', 'joc_bytype_dnf_rate', 'che_form_momentum', 'che_improving_form', 'che_declining_form', 'che_high_consistency', 'che_recent_quality', 'che_elite_performer', 'che_regular_placer', 'joc_form_momentum', 'joc_improving_form', 'joc_high_consistency', 'joc_elite_performer', 'synergy_both_improving', 'synergy_both_consistent', 'synergy_both_elite', 'overall_momentum_score', 'high_momentum', 'class_drop_pct', 'purse_per_starter', 'purse_ratio', 'moving_up_in_class', 'class_shock_indicator', 'handicap_level_change', 'time_per_distance', 'time_vs_record', 'pace_rating', 'speed_figure_proxy', 'market_confidence_shift', 'last_race_improvement', 'bounce_risk', 'layoff_distance_interaction', 'trainer_change', 'connection_stability', 'field_size_change', 'distance_comfort', 'competition_level_shift', 'recence_x_class_drop', 'trainer_change_x_recence', 'distance_change_x_recence', 'che_by_type_avg_pos', 'che_by_type_recent_perf', 'che_by_type_consistency', 'che_by_type_trend', 'che_by_type_pct_top3', 'che_by_type_nb_courses', 'che_by_type_total_races', 'che_by_type_dnf_rate', 'joc_by_type_avg_pos', 'joc_by_type_recent_perf', 'joc_by_type_consistency', 'joc_by_type_trend', 'joc_by_type_pct_top3', 'joc_by_type_nb_courses', 'joc_by_type_total_races', 'joc_by_type_dnf_rate', 'quinte_career_starts', 'quinte_win_rate', 'quinte_top5_rate', 'avg_quinte_position', 'days_since_last_quinte', 'quinte_handicap_specialist', 'quinte_conditions_specialist', 'quinte_large_field_ability', 'quinte_track_condition_fit', 'is_handicap_quinte', 'handicap_division', 'purse_level_category', 'field_size_category', 'track_condition_PH', 'track_condition_DUR', 'track_condition_PS', 'track_condition_PSF', 'weather_clear', 'weather_rain', 'weather_cloudy', 'post_position_bias', 'post_position_track_bias', 'raw_tabnet_prediction', 'predicted_position_tabnet', 'raw_rf_prediction', 'predicted_position_rf', 'predicted_position_base']
2025-11-07 14:49:36,583 - race_prediction.competitive_field_analyzer - INFO - === CRITICAL COLUMNS ANALYSIS ===
2025-11-07 14:49:36,584 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ recordG: 14/14 non-null values (100.0%)
2025-11-07 14:49:36,584 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [0.0, 0.0, 0.0]
2025-11-07 14:49:36,584 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ hippo: 14/14 non-null values (100.0%)
2025-11-07 14:49:36,584 - race_prediction.competitive_field_analyzer - INFO -    Sample values: ['Paris-Vincennes', 'Paris-Vincennes', 'Paris-Vincennes']
2025-11-07 14:49:36,584 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ coursescheval: 14/14 non-null values (100.0%)
2025-11-07 14:49:36,584 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [32, 33, 13]
2025-11-07 14:49:36,584 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ victoirescheval: 14/14 non-null values (100.0%)
2025-11-07 14:49:36,584 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [8, 4, 2]
2025-11-07 14:49:36,584 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ placescheval: 14/14 non-null values (100.0%)
2025-11-07 14:49:36,584 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [13, 12, 7]
2025-11-07 14:49:36,585 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ gainsCarriere: 14/14 non-null values (100.0%)
2025-11-07 14:49:36,585 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [42628000, 30300500, 59663300]
2025-11-07 14:49:36,585 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ age: 14/14 non-null values (100.0%)
2025-11-07 14:49:36,585 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [5, 4, 5]
2025-11-07 14:49:36,585 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ derniereplace: 14/14 non-null values (100.0%)
2025-11-07 14:49:36,585 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [15.0, 4.0, 6.0]
2025-11-07 14:49:36,585 - race_prediction.competitive_field_analyzer - INFO - === RACE METADATA ===
2025-11-07 14:49:36,585 - race_prediction.competitive_field_analyzer - INFO - comp: 1618804
2025-11-07 14:49:36,585 - race_prediction.competitive_field_analyzer - INFO - hippo: Paris-Vincennes
2025-11-07 14:49:36,585 - race_prediction.competitive_field_analyzer - INFO - dist: 2100
2025-11-07 14:49:36,585 - race_prediction.competitive_field_analyzer - INFO - typec: Attel√©
2025-11-07 14:49:36,585 - race_prediction.competitive_field_analyzer - INFO - partant: 14
2025-11-07 14:49:36,585 - race_prediction.competitive_field_analyzer - INFO - === SAMPLE RACE DATA ===
2025-11-07 14:49:36,585 - race_prediction.competitive_field_analyzer - INFO - Sample data (columns: ['numero', 'cheval', 'recordG', 'hippo', 'coursescheval']):
2025-11-07 14:49:36,586 - race_prediction.competitive_field_analyzer - INFO -   Horse 0: {'numero': 1, 'cheval': 'Kokote', 'recordG': 0.0, 'hippo': 'Paris-Vincennes', 'coursescheval': 32}
2025-11-07 14:49:36,586 - race_prediction.competitive_field_analyzer - INFO -   Horse 1: {'numero': 2, 'cheval': 'Learn To Fly', 'recordG': 0.0, 'hippo': 'Paris-Vincennes', 'coursescheval': 33}
2025-11-07 14:49:36,586 - race_prediction.competitive_field_analyzer - INFO -   Horse 2: {'numero': 3, 'cheval': 'East Asia', 'recordG': 0.0, 'hippo': 'Paris-Vincennes', 'coursescheval': 13}
2025-11-07 14:49:36,586 - race_prediction.competitive_field_analyzer - INFO - === END COMPETITIVE ANALYSIS DEBUG ===

2025-11-07 14:49:36,586 - race_prediction.competitive_field_analyzer - INFO - === RETRIEVING HISTORICAL DATA ===
2025-11-07 14:49:36,586 - race_prediction.competitive_field_analyzer - INFO - Fetching historical data for 14 horses: [1576750, 1665539, 1578262, 1553537, 1585391, 1565653, 1666500, 1553531, 1688648, 1661600, 1578244, 1571244, 1561739, 1562064]
2025-11-07 14:49:36,587 - race_prediction.competitive_field_analyzer - INFO - Batch querying historical data for 14 horses: [1576750, 1665539, 1578262, 1553537, 1585391, 1565653, 1666500, 1553531, 1688648, 1661600, 1578244, 1571244, 1561739, 1562064]
2025-11-07 14:49:57,391 - race_prediction.competitive_field_analyzer - INFO - Batch query completed in 20.80s, found 120 total records
2025-11-07 14:49:57,398 - race_prediction.competitive_field_analyzer - INFO - Batch query retrieved 120 total historical races
2025-11-07 14:49:57,398 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS PER HORSE ===
2025-11-07 14:49:57,398 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1576750: 12 historical races found
2025-11-07 14:49:57,398 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1665539: 14 historical races found
2025-11-07 14:49:57,398 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1578262: 5 historical races found
2025-11-07 14:49:57,398 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1553537: 10 historical races found
2025-11-07 14:49:57,398 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1585391: 5 historical races found
2025-11-07 14:49:57,398 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1565653: 13 historical races found
2025-11-07 14:49:57,398 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1666500: 7 historical races found
2025-11-07 14:49:57,398 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1553531: 12 historical races found
2025-11-07 14:49:57,399 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1688648: 4 historical races found
2025-11-07 14:49:57,399 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1661600: 7 historical races found
2025-11-07 14:49:57,399 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1578244: 4 historical races found
2025-11-07 14:49:57,399 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1571244: 4 historical races found
2025-11-07 14:49:57,399 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1561739: 9 historical races found
2025-11-07 14:49:57,399 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1562064: 14 historical races found
2025-11-07 14:49:57,399 - race_prediction.competitive_field_analyzer - INFO - Retrieved 120 total historical races
2025-11-07 14:49:57,399 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS BY HORSE ===
2025-11-07 14:49:57,399 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1576750: 12 historical races
2025-11-07 14:49:57,399 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1665539: 14 historical races
2025-11-07 14:49:57,399 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1578262: 5 historical races
2025-11-07 14:49:57,399 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1553537: 10 historical races
2025-11-07 14:49:57,399 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1585391: 5 historical races
2025-11-07 14:49:57,399 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1565653: 13 historical races
2025-11-07 14:49:57,399 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1666500: 7 historical races
2025-11-07 14:49:57,399 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1553531: 12 historical races
2025-11-07 14:49:57,399 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1688648: 4 historical races
2025-11-07 14:49:57,399 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1661600: 7 historical races
2025-11-07 14:49:57,399 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1578244: 4 historical races
2025-11-07 14:49:57,399 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1571244: 4 historical races
2025-11-07 14:49:57,399 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1561739: 9 historical races
2025-11-07 14:49:57,399 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1562064: 14 historical races
2025-11-07 14:49:57,399 - race_prediction.competitive_field_analyzer - INFO - === END HISTORICAL DATA RETRIEVAL ===

2025-11-07 14:49:57,400 - race_prediction.competitive_field_analyzer - INFO - === EARNINGS QUALITY ANALYSIS ===
2025-11-07 14:49:57,400 - race_prediction.competitive_field_analyzer - INFO - Valid earnings data: 14/14 horses
2025-11-07 14:49:57,400 - race_prediction.competitive_field_analyzer - INFO - Sample earnings per race: ['1,332,125', '918,197', '4,589,485']
2025-11-07 14:49:57,400 - race_prediction.competitive_field_analyzer - INFO - Field earnings stats: avg=2,560,695, max=12,615,550
2025-11-07 14:49:57,400 - race_prediction.competitive_field_analyzer - INFO - === TRACK SPECIALIZATION ANALYSIS ===
2025-11-07 14:49:57,400 - race_prediction.competitive_field_analyzer - INFO - Horses with reliable venue data (3+ races): 0/14
2025-11-07 14:49:57,402 - race_prediction.competitive_field_analyzer - INFO - === FORM MOMENTUM ANALYSIS ===
2025-11-07 14:49:57,402 - race_prediction.competitive_field_analyzer - INFO - Field avg horse trend: 1.845, recent perf: 6.52
2025-11-07 14:49:57,402 - race_prediction.competitive_field_analyzer - INFO - Field avg jockey trend: -1.451
2025-11-07 14:49:57,402 - race_prediction.competitive_field_analyzer - INFO - Horses with improving form: 5/14
2025-11-07 14:49:57,403 - race_prediction.competitive_field_analyzer - INFO - === HOT CONNECTIONS ANALYSIS ===
2025-11-07 14:49:57,403 - race_prediction.competitive_field_analyzer - INFO - Jockeys with wins today: 0/14
2025-11-07 14:49:57,403 - race_prediction.competitive_field_analyzer - INFO - Trainers with wins today: 0/14
2025-11-07 14:49:57,403 - race_prediction.competitive_field_analyzer - INFO - === DISTANCE COMFORT ANALYSIS ===
2025-11-07 14:49:57,403 - race_prediction.competitive_field_analyzer - INFO - Current race distance: 2100m
2025-11-07 14:49:57,403 - race_prediction.competitive_field_analyzer - INFO - Horses with similar recent distance: 3/14
2025-11-07 14:49:57,403 - race_prediction.competitive_field_analyzer - INFO - === REALISTIC COMPETITIVE SCORING ===
2025-11-07 14:49:57,404 - race_prediction.competitive_field_analyzer - INFO - üìä COMPETITIVE ANALYSIS SUMMARY:
2025-11-07 14:49:57,404 - race_prediction.competitive_field_analyzer - INFO -    Total competitive races: 120
2025-11-07 14:49:57,404 - race_prediction.competitive_field_analyzer - INFO -    Horses with historical data: 14/14
2025-11-07 14:49:57,404 - race_prediction.competitive_field_analyzer - INFO -    Average races per horse: 8.6
2025-11-07 14:49:57,420 - race_prediction.quinte_prediction_storage - INFO - Stored 14 horses for Quint√© race 1618804
2025-11-07 14:49:59,289 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE ANALYSIS DEBUG ===
2025-11-07 14:49:59,289 - race_prediction.competitive_field_analyzer - INFO - Analyzing competitive field for race with 14 horses
2025-11-07 14:49:59,289 - race_prediction.competitive_field_analyzer - INFO - Race data shape: (14, 278)
2025-11-07 14:49:59,289 - race_prediction.competitive_field_analyzer - INFO - Available columns: ['id', 'comp', 'jour', 'hippo', 'reun', 'prix', 'prixnom', 'typec', 'partant', 'dist', 'handi', 'groupe', 'quinte', 'natpis', 'meteo', 'corde', 'temperature', 'forceVent', 'directionVent', 'nebulosite', 'prediction_results', 'actual_results', 'created_at', 'updated_at', 'processed_data', 'cheque', 'handi_raw', 'reclam', 'sex', 'tempscourse', 'handicap_level_score', 'cl', 'numero', 'cheval', 'age', 'cotedirect', 'coteprob', 'recence', 'ecar', 'defoeil', 'defoeilPrec', 'musiqueche', 'musiquejoc', 'entraineur', 'coursescheval', 'victoirescheval', 'placescheval', 'dernierealloc', 'derniernbpartants', 'dernieredist', 'derniereplace', 'dernierecote', 'dernierEnt', 'proprietaire', 'poidmont', 'pourcVictJockHippo', 'pourcPlaceJockHippo', 'pourcVictChevalHippo', 'pourcPlaceChevalHippo', 'tempstot', 'vha', 'recordG', 'txreclam', 'dernierTxreclam', 'gainsCarriere', 'gainsAnneeEnCours', 'handicapDistance', 'handicapPoids', 'TxVictCouple', 'nbVictCouple', 'nbPlaceCouple', 'idche', 'idJockey', 'idEntraineur', 'defFirstTime', 'oeilFirstTime', 'oeil', 'dernierOeil', 'ratio_victoires', 'ratio_places', 'gains_par_course', 'efficacite_couple', 'regularite_couple', 'progression_couple', 'perf_cheval_hippo', 'perf_jockey_hippo', 'blinkers_first_time', 'has_blinkers', 'has_standard_blinkers', 'has_australian_blinkers', 'blinkers_added', 'blinkers_removed', 'blinkers_type_changed', 'blinkers_any_change', 'blinkers_high_impact_change', 'shoeing_first_time', 'fully_shod', 'front_shod_only', 'back_shod_only', 'barefoot', 'shoeing_changed', 'barefoot_to_shod', 'shod_to_barefoot', 'major_shoeing_change', 'shoeing_complexity', 'multiple_equipment_changes', 'equipment_momentum_score', 'high_equipment_momentum', 'multiple_first_time_changes', 'equipment_optimization_score', 'career_strike_rate', 'earnings_per_race', 'earnings_trend', 'last_race_position_normalized', 'last_race_odds_normalized', 'last_race_field_size_factor', 'distance_consistency', 'vha_normalized', 'claiming_tax_trend', 'class_stability', 'che_global_avg_pos', 'che_global_recent_perf', 'che_global_consistency', 'che_global_trend', 'che_global_pct_top3', 'che_global_nb_courses', 'che_global_total_races', 'che_global_dnf_rate', 'che_weighted_avg_pos', 'che_weighted_recent_perf', 'che_weighted_consistency', 'che_weighted_pct_top3', 'che_weighted_nb_courses', 'che_weighted_total_races', 'che_weighted_dnf_rate', 'che_weighted_trend', 'che_bytype_avg_pos', 'che_bytype_recent_perf', 'che_bytype_consistency', 'che_bytype_trend', 'che_bytype_pct_top3', 'che_bytype_nb_courses', 'che_bytype_dnf_rate', 'joc_global_avg_pos', 'joc_global_recent_perf', 'joc_global_consistency', 'joc_global_trend', 'joc_global_pct_top3', 'joc_global_nb_courses', 'joc_global_total_races', 'joc_global_dnf_rate', 'joc_weighted_avg_pos', 'joc_weighted_recent_perf', 'joc_weighted_consistency', 'joc_weighted_pct_top3', 'joc_weighted_nb_courses', 'joc_weighted_total_races', 'joc_weighted_dnf_rate', 'joc_weighted_trend', 'joc_bytype_avg_pos', 'joc_bytype_recent_perf', 'joc_bytype_consistency', 'joc_bytype_trend', 'joc_bytype_pct_top3', 'joc_bytype_nb_courses', 'joc_bytype_dnf_rate', 'class_drop_pct', 'purse_per_starter', 'purse_ratio', 'moving_up_in_class', 'class_shock_indicator', 'handicap_level_change', 'time_per_distance', 'time_vs_record', 'pace_rating', 'speed_figure_proxy', 'market_confidence_shift', 'last_race_improvement', 'bounce_risk', 'layoff_distance_interaction', 'trainer_change', 'connection_stability', 'field_size_change', 'distance_comfort', 'competition_level_shift', 'recence_x_class_drop', 'trainer_change_x_recence', 'distance_change_x_recence', 'che_by_type_avg_pos', 'che_by_type_recent_perf', 'che_by_type_consistency', 'che_by_type_trend', 'che_by_type_pct_top3', 'che_by_type_nb_courses', 'che_by_type_dnf_rate', 'joc_by_type_avg_pos', 'joc_by_type_recent_perf', 'joc_by_type_consistency', 'joc_by_type_trend', 'joc_by_type_pct_top3', 'joc_by_type_nb_courses', 'joc_by_type_dnf_rate', 'trainer_victoires', 'trainer_places', 'trainer_courses', 'trainer_winrate', 'trainer_placerate', 'trainer_quality_score', 'trainer_experience_level', 'handicap_poids', 'handicap_dist', 'prec_handicap_poids', 'prec_handicap_dist', 'handicap_poids_change', 'handicap_poids_increased', 'handicap_poids_decreased', 'handicap_dist_change', 'handicap_dist_increased', 'handicap_dist_decreased', 'total_handicap', 'handicap_momentum', 'last_race_position', 'last_race_distance', 'distance_change', 'distance_change_pct', 'distance_increased', 'distance_decreased', 'same_distance', 'corde_change', 'corde_improved', 'corde_worsened', 'last_race_top3', 'last_race_won', 'che_bytype_total_races', 'joc_bytype_total_races', 'che_form_momentum', 'che_improving_form', 'che_declining_form', 'che_high_consistency', 'che_recent_quality', 'che_elite_performer', 'che_regular_placer', 'joc_form_momentum', 'joc_improving_form', 'joc_high_consistency', 'joc_elite_performer', 'synergy_both_improving', 'synergy_both_consistent', 'synergy_both_elite', 'overall_momentum_score', 'high_momentum', 'quinte_career_starts', 'quinte_win_rate', 'quinte_top5_rate', 'avg_quinte_position', 'days_since_last_quinte', 'quinte_handicap_specialist', 'quinte_conditions_specialist', 'quinte_large_field_ability', 'quinte_track_condition_fit', 'is_handicap_quinte', 'handicap_division', 'purse_level_category', 'field_size_category', 'track_condition_PH', 'track_condition_DUR', 'track_condition_PS', 'track_condition_PSF', 'weather_clear', 'weather_rain', 'weather_cloudy', 'post_position_bias', 'post_position_track_bias', 'raw_tabnet_prediction', 'predicted_position_tabnet', 'raw_rf_prediction', 'predicted_position_rf', 'predicted_position_base']
2025-11-07 14:49:59,289 - race_prediction.competitive_field_analyzer - INFO - === CRITICAL COLUMNS ANALYSIS ===
2025-11-07 14:49:59,289 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ recordG: 14/14 non-null values (100.0%)
2025-11-07 14:49:59,289 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [0.0, 0.0, 0.0]
2025-11-07 14:49:59,289 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ hippo: 14/14 non-null values (100.0%)
2025-11-07 14:49:59,289 - race_prediction.competitive_field_analyzer - INFO -    Sample values: ['Enghien', 'Enghien', 'Enghien']
2025-11-07 14:49:59,289 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ coursescheval: 14/14 non-null values (100.0%)
2025-11-07 14:49:59,289 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [54, 56, 60]
2025-11-07 14:49:59,290 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ victoirescheval: 14/14 non-null values (100.0%)
2025-11-07 14:49:59,290 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [5, 8, 8]
2025-11-07 14:49:59,290 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ placescheval: 14/14 non-null values (100.0%)
2025-11-07 14:49:59,290 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [13, 15, 20]
2025-11-07 14:49:59,290 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ gainsCarriere: 14/14 non-null values (100.0%)
2025-11-07 14:49:59,290 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [10604400, 11160000, 11434000]
2025-11-07 14:49:59,290 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ age: 14/14 non-null values (100.0%)
2025-11-07 14:49:59,290 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [7, 7, 7]
2025-11-07 14:49:59,290 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ derniereplace: 14/14 non-null values (100.0%)
2025-11-07 14:49:59,290 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [3.0, 5.0, 2.0]
2025-11-07 14:49:59,290 - race_prediction.competitive_field_analyzer - INFO - === RACE METADATA ===
2025-11-07 14:49:59,290 - race_prediction.competitive_field_analyzer - INFO - comp: 1612996
2025-11-07 14:49:59,290 - race_prediction.competitive_field_analyzer - INFO - hippo: Enghien
2025-11-07 14:49:59,290 - race_prediction.competitive_field_analyzer - INFO - dist: 2875
2025-11-07 14:49:59,290 - race_prediction.competitive_field_analyzer - INFO - typec: Attel√©
2025-11-07 14:49:59,290 - race_prediction.competitive_field_analyzer - INFO - partant: 14
2025-11-07 14:49:59,290 - race_prediction.competitive_field_analyzer - INFO - === SAMPLE RACE DATA ===
2025-11-07 14:49:59,290 - race_prediction.competitive_field_analyzer - INFO - Sample data (columns: ['numero', 'cheval', 'recordG', 'hippo', 'coursescheval']):
2025-11-07 14:49:59,290 - race_prediction.competitive_field_analyzer - INFO -   Horse 0: {'numero': 1, 'cheval': 'Ivon de la Monerie', 'recordG': 0.0, 'hippo': 'Enghien', 'coursescheval': 54}
2025-11-07 14:49:59,290 - race_prediction.competitive_field_analyzer - INFO -   Horse 1: {'numero': 2, 'cheval': 'Issi Top', 'recordG': 0.0, 'hippo': 'Enghien', 'coursescheval': 56}
2025-11-07 14:49:59,291 - race_prediction.competitive_field_analyzer - INFO -   Horse 2: {'numero': 3, 'cheval': 'Indigo du Perche', 'recordG': 0.0, 'hippo': 'Enghien', 'coursescheval': 60}
2025-11-07 14:49:59,291 - race_prediction.competitive_field_analyzer - INFO - === END COMPETITIVE ANALYSIS DEBUG ===

2025-11-07 14:49:59,291 - race_prediction.competitive_field_analyzer - INFO - === RETRIEVING HISTORICAL DATA ===
2025-11-07 14:49:59,291 - race_prediction.competitive_field_analyzer - INFO - Fetching historical data for 14 horses: [1495111, 1456976, 1431146, 1432334, 1382940, 1472472, 1469007, 1446131, 1383552, 1520911, 1239944, 1377688, 1457376, 1471736]
2025-11-07 14:49:59,292 - race_prediction.competitive_field_analyzer - INFO - Batch querying historical data for 14 horses: [1495111, 1456976, 1431146, 1432334, 1382940, 1472472, 1469007, 1446131, 1383552, 1520911, 1239944, 1377688, 1457376, 1471736]
2025-11-07 14:50:15,947 - race_prediction.competitive_field_analyzer - INFO - Batch query completed in 16.66s, found 210 total records
2025-11-07 14:50:15,956 - race_prediction.competitive_field_analyzer - INFO - Batch query retrieved 210 total historical races
2025-11-07 14:50:15,956 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS PER HORSE ===
2025-11-07 14:50:15,956 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1495111: 10 historical races found
2025-11-07 14:50:15,956 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1456976: 13 historical races found
2025-11-07 14:50:15,956 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1431146: 18 historical races found
2025-11-07 14:50:15,956 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1432334: 18 historical races found
2025-11-07 14:50:15,956 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1382940: 16 historical races found
2025-11-07 14:50:15,956 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1472472: 7 historical races found
2025-11-07 14:50:15,956 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1469007: 15 historical races found
2025-11-07 14:50:15,956 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1446131: 13 historical races found
2025-11-07 14:50:15,956 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1383552: 16 historical races found
2025-11-07 14:50:15,956 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1520911: 19 historical races found
2025-11-07 14:50:15,956 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1239944: 19 historical races found
2025-11-07 14:50:15,956 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1377688: 16 historical races found
2025-11-07 14:50:15,956 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1457376: 12 historical races found
2025-11-07 14:50:15,956 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1471736: 18 historical races found
2025-11-07 14:50:15,956 - race_prediction.competitive_field_analyzer - INFO - Retrieved 210 total historical races
2025-11-07 14:50:15,956 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS BY HORSE ===
2025-11-07 14:50:15,956 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1495111: 10 historical races
2025-11-07 14:50:15,957 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1456976: 13 historical races
2025-11-07 14:50:15,957 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1431146: 18 historical races
2025-11-07 14:50:15,957 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1432334: 18 historical races
2025-11-07 14:50:15,957 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1382940: 16 historical races
2025-11-07 14:50:15,957 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1472472: 7 historical races
2025-11-07 14:50:15,957 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1469007: 15 historical races
2025-11-07 14:50:15,957 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1446131: 13 historical races
2025-11-07 14:50:15,957 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1383552: 16 historical races
2025-11-07 14:50:15,957 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1520911: 19 historical races
2025-11-07 14:50:15,957 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1239944: 19 historical races
2025-11-07 14:50:15,957 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1377688: 16 historical races
2025-11-07 14:50:15,957 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1457376: 12 historical races
2025-11-07 14:50:15,957 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1471736: 18 historical races
2025-11-07 14:50:15,957 - race_prediction.competitive_field_analyzer - INFO - === END HISTORICAL DATA RETRIEVAL ===

2025-11-07 14:50:15,957 - race_prediction.competitive_field_analyzer - INFO - === EARNINGS QUALITY ANALYSIS ===
2025-11-07 14:50:15,957 - race_prediction.competitive_field_analyzer - INFO - Valid earnings data: 14/14 horses
2025-11-07 14:50:15,957 - race_prediction.competitive_field_analyzer - INFO - Sample earnings per race: ['196,378', '199,286', '190,567']
2025-11-07 14:50:15,957 - race_prediction.competitive_field_analyzer - INFO - Field earnings stats: avg=239,818, max=391,656
2025-11-07 14:50:15,957 - race_prediction.competitive_field_analyzer - INFO - === TRACK SPECIALIZATION ANALYSIS ===
2025-11-07 14:50:15,957 - race_prediction.competitive_field_analyzer - INFO - Horses with reliable venue data (3+ races): 0/14
2025-11-07 14:50:15,958 - race_prediction.competitive_field_analyzer - INFO - === FORM MOMENTUM ANALYSIS ===
2025-11-07 14:50:15,958 - race_prediction.competitive_field_analyzer - INFO - Field avg horse trend: 3.993, recent perf: 7.69
2025-11-07 14:50:15,958 - race_prediction.competitive_field_analyzer - INFO - Field avg jockey trend: 0.039
2025-11-07 14:50:15,958 - race_prediction.competitive_field_analyzer - INFO - Horses with improving form: 4/14
2025-11-07 14:50:15,959 - race_prediction.competitive_field_analyzer - INFO - === HOT CONNECTIONS ANALYSIS ===
2025-11-07 14:50:15,959 - race_prediction.competitive_field_analyzer - INFO - Jockeys with wins today: 0/14
2025-11-07 14:50:15,959 - race_prediction.competitive_field_analyzer - INFO - Trainers with wins today: 0/14
2025-11-07 14:50:15,959 - race_prediction.competitive_field_analyzer - INFO - === DISTANCE COMFORT ANALYSIS ===
2025-11-07 14:50:15,959 - race_prediction.competitive_field_analyzer - INFO - Current race distance: 2875m
2025-11-07 14:50:15,959 - race_prediction.competitive_field_analyzer - INFO - Horses with similar recent distance: 9/14
2025-11-07 14:50:15,959 - race_prediction.competitive_field_analyzer - INFO - === REALISTIC COMPETITIVE SCORING ===
2025-11-07 14:50:15,959 - race_prediction.competitive_field_analyzer - INFO - üìä COMPETITIVE ANALYSIS SUMMARY:
2025-11-07 14:50:15,959 - race_prediction.competitive_field_analyzer - INFO -    Total competitive races: 210
2025-11-07 14:50:15,959 - race_prediction.competitive_field_analyzer - INFO -    Horses with historical data: 14/14
2025-11-07 14:50:15,960 - race_prediction.competitive_field_analyzer - INFO -    Average races per horse: 15.0
2025-11-07 14:50:15,969 - race_prediction.quinte_prediction_storage - INFO - Stored 14 horses for Quint√© race 1612996
2025-11-07 14:50:17,816 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE ANALYSIS DEBUG ===
2025-11-07 14:50:17,817 - race_prediction.competitive_field_analyzer - INFO - Analyzing competitive field for race with 18 horses
2025-11-07 14:50:17,817 - race_prediction.competitive_field_analyzer - INFO - Race data shape: (18, 278)
2025-11-07 14:50:17,817 - race_prediction.competitive_field_analyzer - INFO - Available columns: ['id', 'comp', 'jour', 'hippo', 'reun', 'prix', 'prixnom', 'typec', 'partant', 'dist', 'handi', 'groupe', 'quinte', 'natpis', 'meteo', 'corde', 'temperature', 'forceVent', 'directionVent', 'nebulosite', 'prediction_results', 'actual_results', 'created_at', 'updated_at', 'processed_data', 'cheque', 'handi_raw', 'reclam', 'sex', 'tempscourse', 'handicap_level_score', 'cl', 'numero', 'cheval', 'age', 'cotedirect', 'coteprob', 'recence', 'ecar', 'defoeil', 'defoeilPrec', 'musiqueche', 'musiquejoc', 'entraineur', 'coursescheval', 'victoirescheval', 'placescheval', 'dernierealloc', 'derniernbpartants', 'dernieredist', 'derniereplace', 'dernierecote', 'dernierEnt', 'proprietaire', 'poidmont', 'pourcVictJockHippo', 'pourcPlaceJockHippo', 'pourcVictChevalHippo', 'pourcPlaceChevalHippo', 'tempstot', 'vha', 'recordG', 'txreclam', 'dernierTxreclam', 'gainsCarriere', 'gainsAnneeEnCours', 'handicapDistance', 'handicapPoids', 'TxVictCouple', 'nbVictCouple', 'nbPlaceCouple', 'idche', 'idJockey', 'idEntraineur', 'defFirstTime', 'oeilFirstTime', 'oeil', 'dernierOeil', 'ratio_victoires', 'ratio_places', 'gains_par_course', 'efficacite_couple', 'regularite_couple', 'progression_couple', 'perf_cheval_hippo', 'perf_jockey_hippo', 'blinkers_first_time', 'has_blinkers', 'has_standard_blinkers', 'has_australian_blinkers', 'blinkers_added', 'blinkers_removed', 'blinkers_type_changed', 'blinkers_any_change', 'blinkers_high_impact_change', 'shoeing_first_time', 'fully_shod', 'front_shod_only', 'back_shod_only', 'barefoot', 'shoeing_changed', 'barefoot_to_shod', 'shod_to_barefoot', 'major_shoeing_change', 'shoeing_complexity', 'multiple_equipment_changes', 'equipment_momentum_score', 'high_equipment_momentum', 'multiple_first_time_changes', 'equipment_optimization_score', 'career_strike_rate', 'earnings_per_race', 'earnings_trend', 'last_race_position_normalized', 'last_race_odds_normalized', 'last_race_field_size_factor', 'distance_consistency', 'vha_normalized', 'claiming_tax_trend', 'class_stability', 'che_global_avg_pos', 'che_global_recent_perf', 'che_global_consistency', 'che_global_trend', 'che_global_pct_top3', 'che_global_nb_courses', 'che_global_total_races', 'che_global_dnf_rate', 'che_weighted_avg_pos', 'che_weighted_recent_perf', 'che_weighted_consistency', 'che_weighted_pct_top3', 'che_weighted_nb_courses', 'che_weighted_total_races', 'che_weighted_dnf_rate', 'che_weighted_trend', 'che_bytype_avg_pos', 'che_bytype_recent_perf', 'che_bytype_consistency', 'che_bytype_trend', 'che_bytype_pct_top3', 'che_bytype_nb_courses', 'che_bytype_dnf_rate', 'joc_global_avg_pos', 'joc_global_recent_perf', 'joc_global_consistency', 'joc_global_trend', 'joc_global_pct_top3', 'joc_global_nb_courses', 'joc_global_total_races', 'joc_global_dnf_rate', 'joc_weighted_avg_pos', 'joc_weighted_recent_perf', 'joc_weighted_consistency', 'joc_weighted_pct_top3', 'joc_weighted_nb_courses', 'joc_weighted_total_races', 'joc_weighted_dnf_rate', 'joc_weighted_trend', 'joc_bytype_avg_pos', 'joc_bytype_recent_perf', 'joc_bytype_consistency', 'joc_bytype_trend', 'joc_bytype_pct_top3', 'joc_bytype_nb_courses', 'joc_bytype_dnf_rate', 'class_drop_pct', 'purse_per_starter', 'purse_ratio', 'moving_up_in_class', 'class_shock_indicator', 'handicap_level_change', 'time_per_distance', 'time_vs_record', 'pace_rating', 'speed_figure_proxy', 'market_confidence_shift', 'last_race_improvement', 'bounce_risk', 'layoff_distance_interaction', 'trainer_change', 'connection_stability', 'field_size_change', 'distance_comfort', 'competition_level_shift', 'recence_x_class_drop', 'trainer_change_x_recence', 'distance_change_x_recence', 'che_by_type_avg_pos', 'che_by_type_recent_perf', 'che_by_type_consistency', 'che_by_type_trend', 'che_by_type_pct_top3', 'che_by_type_nb_courses', 'che_by_type_dnf_rate', 'joc_by_type_avg_pos', 'joc_by_type_recent_perf', 'joc_by_type_consistency', 'joc_by_type_trend', 'joc_by_type_pct_top3', 'joc_by_type_nb_courses', 'joc_by_type_dnf_rate', 'trainer_victoires', 'trainer_places', 'trainer_courses', 'trainer_winrate', 'trainer_placerate', 'trainer_quality_score', 'trainer_experience_level', 'handicap_poids', 'handicap_dist', 'prec_handicap_poids', 'prec_handicap_dist', 'handicap_poids_change', 'handicap_poids_increased', 'handicap_poids_decreased', 'handicap_dist_change', 'handicap_dist_increased', 'handicap_dist_decreased', 'total_handicap', 'handicap_momentum', 'last_race_position', 'last_race_distance', 'distance_change', 'distance_change_pct', 'distance_increased', 'distance_decreased', 'same_distance', 'corde_change', 'corde_improved', 'corde_worsened', 'last_race_top3', 'last_race_won', 'che_bytype_total_races', 'joc_bytype_total_races', 'che_form_momentum', 'che_improving_form', 'che_declining_form', 'che_high_consistency', 'che_recent_quality', 'che_elite_performer', 'che_regular_placer', 'joc_form_momentum', 'joc_improving_form', 'joc_high_consistency', 'joc_elite_performer', 'synergy_both_improving', 'synergy_both_consistent', 'synergy_both_elite', 'overall_momentum_score', 'high_momentum', 'quinte_career_starts', 'quinte_win_rate', 'quinte_top5_rate', 'avg_quinte_position', 'days_since_last_quinte', 'quinte_handicap_specialist', 'quinte_conditions_specialist', 'quinte_large_field_ability', 'quinte_track_condition_fit', 'is_handicap_quinte', 'handicap_division', 'purse_level_category', 'field_size_category', 'track_condition_PH', 'track_condition_DUR', 'track_condition_PS', 'track_condition_PSF', 'weather_clear', 'weather_rain', 'weather_cloudy', 'post_position_bias', 'post_position_track_bias', 'raw_tabnet_prediction', 'predicted_position_tabnet', 'raw_rf_prediction', 'predicted_position_rf', 'predicted_position_base']
2025-11-07 14:50:17,817 - race_prediction.competitive_field_analyzer - INFO - === CRITICAL COLUMNS ANALYSIS ===
2025-11-07 14:50:17,817 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ recordG: 18/18 non-null values (100.0%)
2025-11-07 14:50:17,817 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [0.0, 0.0, 0.0]
2025-11-07 14:50:17,817 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ hippo: 18/18 non-null values (100.0%)
2025-11-07 14:50:17,817 - race_prediction.competitive_field_analyzer - INFO -    Sample values: ['ParisLongchamp', 'ParisLongchamp', 'ParisLongchamp']
2025-11-07 14:50:17,818 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ coursescheval: 18/18 non-null values (100.0%)
2025-11-07 14:50:17,818 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [18, 10, 11]
2025-11-07 14:50:17,818 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ victoirescheval: 18/18 non-null values (100.0%)
2025-11-07 14:50:17,818 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [7, 3, 6]
2025-11-07 14:50:17,818 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ placescheval: 18/18 non-null values (100.0%)
2025-11-07 14:50:17,818 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [13, 6, 8]
2025-11-07 14:50:17,818 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ gainsCarriere: 18/18 non-null values (100.0%)
2025-11-07 14:50:17,818 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [271473900, 75932400, 21585000]
2025-11-07 14:50:17,818 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ age: 18/18 non-null values (100.0%)
2025-11-07 14:50:17,818 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [6, 5, 4]
2025-11-07 14:50:17,818 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ derniereplace: 18/18 non-null values (100.0%)
2025-11-07 14:50:17,818 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [1, 5, 6]
2025-11-07 14:50:17,818 - race_prediction.competitive_field_analyzer - INFO - === RACE METADATA ===
2025-11-07 14:50:17,818 - race_prediction.competitive_field_analyzer - INFO - comp: 1592537
2025-11-07 14:50:17,818 - race_prediction.competitive_field_analyzer - INFO - hippo: ParisLongchamp
2025-11-07 14:50:17,818 - race_prediction.competitive_field_analyzer - INFO - dist: 2400
2025-11-07 14:50:17,818 - race_prediction.competitive_field_analyzer - INFO - typec: Plat
2025-11-07 14:50:17,818 - race_prediction.competitive_field_analyzer - INFO - partant: 18
2025-11-07 14:50:17,818 - race_prediction.competitive_field_analyzer - INFO - === SAMPLE RACE DATA ===
2025-11-07 14:50:17,818 - race_prediction.competitive_field_analyzer - INFO - Sample data (columns: ['numero', 'cheval', 'recordG', 'hippo', 'coursescheval']):
2025-11-07 14:50:17,819 - race_prediction.competitive_field_analyzer - INFO -   Horse 0: {'numero': 1, 'cheval': 'Giavellotto', 'recordG': 0.0, 'hippo': 'ParisLongchamp', 'coursescheval': 18}
2025-11-07 14:50:17,819 - race_prediction.competitive_field_analyzer - INFO -   Horse 1: {'numero': 2, 'cheval': 'White Birch', 'recordG': 0.0, 'hippo': 'ParisLongchamp', 'coursescheval': 10}
2025-11-07 14:50:17,819 - race_prediction.competitive_field_analyzer - INFO -   Horse 2: {'numero': 3, 'cheval': 'Arrow Eagle', 'recordG': 0.0, 'hippo': 'ParisLongchamp', 'coursescheval': 11}
2025-11-07 14:50:17,819 - race_prediction.competitive_field_analyzer - INFO - === END COMPETITIVE ANALYSIS DEBUG ===

2025-11-07 14:50:17,819 - race_prediction.competitive_field_analyzer - INFO - === RETRIEVING HISTORICAL DATA ===
2025-11-07 14:50:17,819 - race_prediction.competitive_field_analyzer - INFO - Fetching historical data for 18 horses: [1535382, 1584656, 1654418, 1654324, 1667455, 1723503, 1725716, 1559787, 1695821, 1654205, 1741434, 1741620, 1734424, 1713366, 1759442, 1759443, 1730327, 1720861]
2025-11-07 14:50:17,820 - race_prediction.competitive_field_analyzer - INFO - Batch querying historical data for 18 horses: [1535382, 1584656, 1654418, 1654324, 1667455, 1723503, 1725716, 1559787, 1695821, 1654205, 1741434, 1741620, 1734424, 1713366, 1759442, 1759443, 1730327, 1720861]
2025-11-07 14:50:33,952 - race_prediction.competitive_field_analyzer - INFO - Batch query completed in 16.13s, found 87 total records
2025-11-07 14:50:33,958 - race_prediction.competitive_field_analyzer - INFO - Batch query retrieved 87 total historical races
2025-11-07 14:50:33,959 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS PER HORSE ===
2025-11-07 14:50:33,959 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1535382: 5 historical races found
2025-11-07 14:50:33,959 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1584656: 4 historical races found
2025-11-07 14:50:33,959 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1654418: 7 historical races found
2025-11-07 14:50:33,959 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1654324: 5 historical races found
2025-11-07 14:50:33,959 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1667455: 5 historical races found
2025-11-07 14:50:33,959 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1723503: 3 historical races found
2025-11-07 14:50:33,959 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1725716: 2 historical races found
2025-11-07 14:50:33,959 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1559787: 4 historical races found
2025-11-07 14:50:33,959 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1695821: 5 historical races found
2025-11-07 14:50:33,959 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1654205: 5 historical races found
2025-11-07 14:50:33,959 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1741434: 7 historical races found
2025-11-07 14:50:33,959 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1741620: 7 historical races found
2025-11-07 14:50:33,959 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1734424: 9 historical races found
2025-11-07 14:50:33,959 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1713366: 6 historical races found
2025-11-07 14:50:33,959 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1759442: 2 historical races found
2025-11-07 14:50:33,959 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1759443: 2 historical races found
2025-11-07 14:50:33,959 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1730327: 4 historical races found
2025-11-07 14:50:33,959 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1720861: 5 historical races found
2025-11-07 14:50:33,959 - race_prediction.competitive_field_analyzer - INFO - Retrieved 87 total historical races
2025-11-07 14:50:33,959 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS BY HORSE ===
2025-11-07 14:50:33,959 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1535382: 5 historical races
2025-11-07 14:50:33,959 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1584656: 4 historical races
2025-11-07 14:50:33,959 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1654418: 7 historical races
2025-11-07 14:50:33,959 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1654324: 5 historical races
2025-11-07 14:50:33,959 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1667455: 5 historical races
2025-11-07 14:50:33,959 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1723503: 3 historical races
2025-11-07 14:50:33,959 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1725716: 2 historical races
2025-11-07 14:50:33,959 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1559787: 4 historical races
2025-11-07 14:50:33,959 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1695821: 5 historical races
2025-11-07 14:50:33,959 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1654205: 5 historical races
2025-11-07 14:50:33,959 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1741434: 7 historical races
2025-11-07 14:50:33,959 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1741620: 7 historical races
2025-11-07 14:50:33,959 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1734424: 9 historical races
2025-11-07 14:50:33,959 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1713366: 6 historical races
2025-11-07 14:50:33,959 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1759442: 2 historical races
2025-11-07 14:50:33,959 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1759443: 2 historical races
2025-11-07 14:50:33,959 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1730327: 4 historical races
2025-11-07 14:50:33,959 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1720861: 5 historical races
2025-11-07 14:50:33,959 - race_prediction.competitive_field_analyzer - INFO - === END HISTORICAL DATA RETRIEVAL ===

2025-11-07 14:50:33,960 - race_prediction.competitive_field_analyzer - INFO - === EARNINGS QUALITY ANALYSIS ===
2025-11-07 14:50:33,960 - race_prediction.competitive_field_analyzer - INFO - Valid earnings data: 18/18 horses
2025-11-07 14:50:33,960 - race_prediction.competitive_field_analyzer - INFO - Sample earnings per race: ['15,081,883', '7,593,240', '1,962,273']
2025-11-07 14:50:33,960 - race_prediction.competitive_field_analyzer - INFO - Field earnings stats: avg=35,832,643, max=333,227,300
2025-11-07 14:50:33,960 - race_prediction.competitive_field_analyzer - INFO - === TRACK SPECIALIZATION ANALYSIS ===
2025-11-07 14:50:33,960 - race_prediction.competitive_field_analyzer - INFO - Horses with reliable venue data (3+ races): 0/18
2025-11-07 14:50:33,961 - race_prediction.competitive_field_analyzer - INFO - === FORM MOMENTUM ANALYSIS ===
2025-11-07 14:50:33,961 - race_prediction.competitive_field_analyzer - INFO - Field avg horse trend: -2.711, recent perf: 3.85
2025-11-07 14:50:33,961 - race_prediction.competitive_field_analyzer - INFO - Field avg jockey trend: 0.968
2025-11-07 14:50:33,961 - race_prediction.competitive_field_analyzer - INFO - Horses with improving form: 1/18
2025-11-07 14:50:33,961 - race_prediction.competitive_field_analyzer - INFO - === HOT CONNECTIONS ANALYSIS ===
2025-11-07 14:50:33,961 - race_prediction.competitive_field_analyzer - INFO - Jockeys with wins today: 0/18
2025-11-07 14:50:33,961 - race_prediction.competitive_field_analyzer - INFO - Trainers with wins today: 0/18
2025-11-07 14:50:33,962 - race_prediction.competitive_field_analyzer - INFO - === DISTANCE COMFORT ANALYSIS ===
2025-11-07 14:50:33,962 - race_prediction.competitive_field_analyzer - INFO - Current race distance: 2400m
2025-11-07 14:50:33,962 - race_prediction.competitive_field_analyzer - INFO - Horses with similar recent distance: 12/18
2025-11-07 14:50:33,962 - race_prediction.competitive_field_analyzer - INFO - === REALISTIC COMPETITIVE SCORING ===
2025-11-07 14:50:33,962 - race_prediction.competitive_field_analyzer - INFO - üìä COMPETITIVE ANALYSIS SUMMARY:
2025-11-07 14:50:33,962 - race_prediction.competitive_field_analyzer - INFO -    Total competitive races: 87
2025-11-07 14:50:33,962 - race_prediction.competitive_field_analyzer - INFO -    Horses with historical data: 18/18
2025-11-07 14:50:33,962 - race_prediction.competitive_field_analyzer - INFO -    Average races per horse: 4.8
2025-11-07 14:50:33,971 - race_prediction.quinte_prediction_storage - INFO - Stored 18 horses for Quint√© race 1592537
2025-11-07 14:50:35,821 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE ANALYSIS DEBUG ===
2025-11-07 14:50:35,821 - race_prediction.competitive_field_analyzer - INFO - Analyzing competitive field for race with 18 horses
2025-11-07 14:50:35,821 - race_prediction.competitive_field_analyzer - INFO - Race data shape: (18, 278)
2025-11-07 14:50:35,821 - race_prediction.competitive_field_analyzer - INFO - Available columns: ['id', 'comp', 'jour', 'hippo', 'reun', 'prix', 'prixnom', 'typec', 'partant', 'dist', 'handi', 'groupe', 'quinte', 'natpis', 'meteo', 'corde', 'temperature', 'forceVent', 'directionVent', 'nebulosite', 'prediction_results', 'actual_results', 'created_at', 'updated_at', 'processed_data', 'cheque', 'handi_raw', 'reclam', 'sex', 'tempscourse', 'handicap_level_score', 'cl', 'numero', 'cheval', 'age', 'cotedirect', 'coteprob', 'recence', 'ecar', 'defoeil', 'defoeilPrec', 'musiqueche', 'musiquejoc', 'entraineur', 'coursescheval', 'victoirescheval', 'placescheval', 'dernierealloc', 'derniernbpartants', 'dernieredist', 'derniereplace', 'dernierecote', 'dernierEnt', 'proprietaire', 'poidmont', 'pourcVictJockHippo', 'pourcPlaceJockHippo', 'pourcVictChevalHippo', 'pourcPlaceChevalHippo', 'tempstot', 'vha', 'recordG', 'txreclam', 'dernierTxreclam', 'gainsCarriere', 'gainsAnneeEnCours', 'handicapDistance', 'handicapPoids', 'TxVictCouple', 'nbVictCouple', 'nbPlaceCouple', 'idche', 'idJockey', 'idEntraineur', 'defFirstTime', 'oeilFirstTime', 'oeil', 'dernierOeil', 'ratio_victoires', 'ratio_places', 'gains_par_course', 'efficacite_couple', 'regularite_couple', 'progression_couple', 'perf_cheval_hippo', 'perf_jockey_hippo', 'blinkers_first_time', 'has_blinkers', 'has_standard_blinkers', 'has_australian_blinkers', 'blinkers_added', 'blinkers_removed', 'blinkers_type_changed', 'blinkers_any_change', 'blinkers_high_impact_change', 'shoeing_first_time', 'fully_shod', 'front_shod_only', 'back_shod_only', 'barefoot', 'shoeing_changed', 'barefoot_to_shod', 'shod_to_barefoot', 'major_shoeing_change', 'shoeing_complexity', 'multiple_equipment_changes', 'equipment_momentum_score', 'high_equipment_momentum', 'multiple_first_time_changes', 'equipment_optimization_score', 'career_strike_rate', 'earnings_per_race', 'earnings_trend', 'last_race_position_normalized', 'last_race_odds_normalized', 'last_race_field_size_factor', 'distance_consistency', 'vha_normalized', 'claiming_tax_trend', 'class_stability', 'che_global_avg_pos', 'che_global_recent_perf', 'che_global_consistency', 'che_global_trend', 'che_global_pct_top3', 'che_global_nb_courses', 'che_global_total_races', 'che_global_dnf_rate', 'che_weighted_avg_pos', 'che_weighted_recent_perf', 'che_weighted_consistency', 'che_weighted_pct_top3', 'che_weighted_nb_courses', 'che_weighted_total_races', 'che_weighted_dnf_rate', 'che_weighted_trend', 'che_bytype_avg_pos', 'che_bytype_recent_perf', 'che_bytype_consistency', 'che_bytype_trend', 'che_bytype_pct_top3', 'che_bytype_nb_courses', 'che_bytype_dnf_rate', 'joc_global_avg_pos', 'joc_global_recent_perf', 'joc_global_consistency', 'joc_global_trend', 'joc_global_pct_top3', 'joc_global_nb_courses', 'joc_global_total_races', 'joc_global_dnf_rate', 'joc_weighted_avg_pos', 'joc_weighted_recent_perf', 'joc_weighted_consistency', 'joc_weighted_pct_top3', 'joc_weighted_nb_courses', 'joc_weighted_total_races', 'joc_weighted_dnf_rate', 'joc_weighted_trend', 'joc_bytype_avg_pos', 'joc_bytype_recent_perf', 'joc_bytype_consistency', 'joc_bytype_trend', 'joc_bytype_pct_top3', 'joc_bytype_nb_courses', 'joc_bytype_dnf_rate', 'class_drop_pct', 'purse_per_starter', 'purse_ratio', 'moving_up_in_class', 'class_shock_indicator', 'handicap_level_change', 'time_per_distance', 'time_vs_record', 'pace_rating', 'speed_figure_proxy', 'market_confidence_shift', 'last_race_improvement', 'bounce_risk', 'layoff_distance_interaction', 'trainer_change', 'connection_stability', 'field_size_change', 'distance_comfort', 'competition_level_shift', 'recence_x_class_drop', 'trainer_change_x_recence', 'distance_change_x_recence', 'che_by_type_avg_pos', 'che_by_type_recent_perf', 'che_by_type_consistency', 'che_by_type_trend', 'che_by_type_pct_top3', 'che_by_type_nb_courses', 'che_by_type_dnf_rate', 'joc_by_type_avg_pos', 'joc_by_type_recent_perf', 'joc_by_type_consistency', 'joc_by_type_trend', 'joc_by_type_pct_top3', 'joc_by_type_nb_courses', 'joc_by_type_dnf_rate', 'trainer_victoires', 'trainer_places', 'trainer_courses', 'trainer_winrate', 'trainer_placerate', 'trainer_quality_score', 'trainer_experience_level', 'handicap_poids', 'handicap_dist', 'prec_handicap_poids', 'prec_handicap_dist', 'handicap_poids_change', 'handicap_poids_increased', 'handicap_poids_decreased', 'handicap_dist_change', 'handicap_dist_increased', 'handicap_dist_decreased', 'total_handicap', 'handicap_momentum', 'last_race_position', 'last_race_distance', 'distance_change', 'distance_change_pct', 'distance_increased', 'distance_decreased', 'same_distance', 'corde_change', 'corde_improved', 'corde_worsened', 'last_race_top3', 'last_race_won', 'che_bytype_total_races', 'joc_bytype_total_races', 'che_form_momentum', 'che_improving_form', 'che_declining_form', 'che_high_consistency', 'che_recent_quality', 'che_elite_performer', 'che_regular_placer', 'joc_form_momentum', 'joc_improving_form', 'joc_high_consistency', 'joc_elite_performer', 'synergy_both_improving', 'synergy_both_consistent', 'synergy_both_elite', 'overall_momentum_score', 'high_momentum', 'quinte_career_starts', 'quinte_win_rate', 'quinte_top5_rate', 'avg_quinte_position', 'days_since_last_quinte', 'quinte_handicap_specialist', 'quinte_conditions_specialist', 'quinte_large_field_ability', 'quinte_track_condition_fit', 'is_handicap_quinte', 'handicap_division', 'purse_level_category', 'field_size_category', 'track_condition_PH', 'track_condition_DUR', 'track_condition_PS', 'track_condition_PSF', 'weather_clear', 'weather_rain', 'weather_cloudy', 'post_position_bias', 'post_position_track_bias', 'raw_tabnet_prediction', 'predicted_position_tabnet', 'raw_rf_prediction', 'predicted_position_rf', 'predicted_position_base']
2025-11-07 14:50:35,822 - race_prediction.competitive_field_analyzer - INFO - === CRITICAL COLUMNS ANALYSIS ===
2025-11-07 14:50:35,822 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ recordG: 18/18 non-null values (100.0%)
2025-11-07 14:50:35,822 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [0.0, 0.0, 0.0]
2025-11-07 14:50:35,822 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ hippo: 18/18 non-null values (100.0%)
2025-11-07 14:50:35,822 - race_prediction.competitive_field_analyzer - INFO -    Sample values: ['ParisLongchamp', 'ParisLongchamp', 'ParisLongchamp']
2025-11-07 14:50:35,822 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ coursescheval: 18/18 non-null values (100.0%)
2025-11-07 14:50:35,822 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [36, 15, 16]
2025-11-07 14:50:35,822 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ victoirescheval: 18/18 non-null values (100.0%)
2025-11-07 14:50:35,822 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [8, 2, 2]
2025-11-07 14:50:35,822 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ placescheval: 18/18 non-null values (100.0%)
2025-11-07 14:50:35,822 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [18, 5, 7]
2025-11-07 14:50:35,822 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ gainsCarriere: 18/18 non-null values (100.0%)
2025-11-07 14:50:35,822 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [22119200, 7281000, 10064000]
2025-11-07 14:50:35,822 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ age: 18/18 non-null values (100.0%)
2025-11-07 14:50:35,822 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [7, 4, 4]
2025-11-07 14:50:35,822 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ derniereplace: 18/18 non-null values (100.0%)
2025-11-07 14:50:35,822 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [6, 16, 6]
2025-11-07 14:50:35,822 - race_prediction.competitive_field_analyzer - INFO - === RACE METADATA ===
2025-11-07 14:50:35,823 - race_prediction.competitive_field_analyzer - INFO - comp: 1606916
2025-11-07 14:50:35,823 - race_prediction.competitive_field_analyzer - INFO - hippo: ParisLongchamp
2025-11-07 14:50:35,823 - race_prediction.competitive_field_analyzer - INFO - dist: 1600
2025-11-07 14:50:35,823 - race_prediction.competitive_field_analyzer - INFO - typec: Plat
2025-11-07 14:50:35,823 - race_prediction.competitive_field_analyzer - INFO - partant: 18
2025-11-07 14:50:35,823 - race_prediction.competitive_field_analyzer - INFO - === SAMPLE RACE DATA ===
2025-11-07 14:50:35,823 - race_prediction.competitive_field_analyzer - INFO - Sample data (columns: ['numero', 'cheval', 'recordG', 'hippo', 'coursescheval']):
2025-11-07 14:50:35,823 - race_prediction.competitive_field_analyzer - INFO -   Horse 0: {'numero': 1, 'cheval': 'Bullace', 'recordG': 0.0, 'hippo': 'ParisLongchamp', 'coursescheval': 36}
2025-11-07 14:50:35,823 - race_prediction.competitive_field_analyzer - INFO -   Horse 1: {'numero': 2, 'cheval': 'Babakool', 'recordG': 0.0, 'hippo': 'ParisLongchamp', 'coursescheval': 15}
2025-11-07 14:50:35,823 - race_prediction.competitive_field_analyzer - INFO -   Horse 2: {'numero': 3, 'cheval': 'Lucky Wine', 'recordG': 0.0, 'hippo': 'ParisLongchamp', 'coursescheval': 16}
2025-11-07 14:50:35,823 - race_prediction.competitive_field_analyzer - INFO - === END COMPETITIVE ANALYSIS DEBUG ===

2025-11-07 14:50:35,823 - race_prediction.competitive_field_analyzer - INFO - === RETRIEVING HISTORICAL DATA ===
2025-11-07 14:50:35,823 - race_prediction.competitive_field_analyzer - INFO - Fetching historical data for 18 horses: [1461543, 1654085, 1654601, 1716658, 1545829, 1654567, 1408356, 1651292, 1732313, 1657763, 1554365, 1653870, 1666989, 1559222, 1654258, 1652349, 1654449, 1447790]
2025-11-07 14:50:35,824 - race_prediction.competitive_field_analyzer - INFO - Batch querying historical data for 18 horses: [1461543, 1654085, 1654601, 1716658, 1545829, 1654567, 1408356, 1651292, 1732313, 1657763, 1554365, 1653870, 1666989, 1559222, 1654258, 1652349, 1654449, 1447790]
2025-11-07 14:50:51,825 - race_prediction.competitive_field_analyzer - INFO - Batch query completed in 16.00s, found 163 total records
2025-11-07 14:50:51,833 - race_prediction.competitive_field_analyzer - INFO - Batch query retrieved 163 total historical races
2025-11-07 14:50:51,833 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS PER HORSE ===
2025-11-07 14:50:51,833 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1461543: 7 historical races found
2025-11-07 14:50:51,833 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1654085: 6 historical races found
2025-11-07 14:50:51,833 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1654601: 8 historical races found
2025-11-07 14:50:51,833 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1716658: 9 historical races found
2025-11-07 14:50:51,833 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1545829: 19 historical races found
2025-11-07 14:50:51,833 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1654567: 9 historical races found
2025-11-07 14:50:51,833 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1408356: 5 historical races found
2025-11-07 14:50:51,833 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1651292: 10 historical races found
2025-11-07 14:50:51,833 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1732313: 6 historical races found
2025-11-07 14:50:51,833 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1657763: 8 historical races found
2025-11-07 14:50:51,833 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1554365: 12 historical races found
2025-11-07 14:50:51,833 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1653870: 15 historical races found
2025-11-07 14:50:51,833 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1666989: 5 historical races found
2025-11-07 14:50:51,833 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1559222: 9 historical races found
2025-11-07 14:50:51,833 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1654258: 5 historical races found
2025-11-07 14:50:51,833 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1652349: 7 historical races found
2025-11-07 14:50:51,833 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1654449: 7 historical races found
2025-11-07 14:50:51,833 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1447790: 16 historical races found
2025-11-07 14:50:51,833 - race_prediction.competitive_field_analyzer - INFO - Retrieved 163 total historical races
2025-11-07 14:50:51,833 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS BY HORSE ===
2025-11-07 14:50:51,833 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1461543: 7 historical races
2025-11-07 14:50:51,833 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1654085: 6 historical races
2025-11-07 14:50:51,833 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1654601: 8 historical races
2025-11-07 14:50:51,833 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1716658: 9 historical races
2025-11-07 14:50:51,833 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1545829: 19 historical races
2025-11-07 14:50:51,833 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1654567: 9 historical races
2025-11-07 14:50:51,833 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1408356: 5 historical races
2025-11-07 14:50:51,833 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1651292: 10 historical races
2025-11-07 14:50:51,833 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1732313: 6 historical races
2025-11-07 14:50:51,833 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1657763: 8 historical races
2025-11-07 14:50:51,833 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1554365: 12 historical races
2025-11-07 14:50:51,833 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1653870: 15 historical races
2025-11-07 14:50:51,833 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1666989: 5 historical races
2025-11-07 14:50:51,834 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1559222: 9 historical races
2025-11-07 14:50:51,834 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1654258: 5 historical races
2025-11-07 14:50:51,834 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1652349: 7 historical races
2025-11-07 14:50:51,834 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1654449: 7 historical races
2025-11-07 14:50:51,834 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1447790: 16 historical races
2025-11-07 14:50:51,834 - race_prediction.competitive_field_analyzer - INFO - === END HISTORICAL DATA RETRIEVAL ===

2025-11-07 14:50:51,834 - race_prediction.competitive_field_analyzer - INFO - === EARNINGS QUALITY ANALYSIS ===
2025-11-07 14:50:51,834 - race_prediction.competitive_field_analyzer - INFO - Valid earnings data: 18/18 horses
2025-11-07 14:50:51,834 - race_prediction.competitive_field_analyzer - INFO - Sample earnings per race: ['614,422', '485,400', '629,000']
2025-11-07 14:50:51,834 - race_prediction.competitive_field_analyzer - INFO - Field earnings stats: avg=505,803, max=1,118,623
2025-11-07 14:50:51,834 - race_prediction.competitive_field_analyzer - INFO - === TRACK SPECIALIZATION ANALYSIS ===
2025-11-07 14:50:51,834 - race_prediction.competitive_field_analyzer - INFO - Horses with reliable venue data (3+ races): 0/18
2025-11-07 14:50:51,835 - race_prediction.competitive_field_analyzer - INFO - === FORM MOMENTUM ANALYSIS ===
2025-11-07 14:50:51,835 - race_prediction.competitive_field_analyzer - INFO - Field avg horse trend: -2.368, recent perf: 6.96
2025-11-07 14:50:51,835 - race_prediction.competitive_field_analyzer - INFO - Field avg jockey trend: -2.390
2025-11-07 14:50:51,835 - race_prediction.competitive_field_analyzer - INFO - Horses with improving form: 3/18
2025-11-07 14:50:51,836 - race_prediction.competitive_field_analyzer - INFO - === HOT CONNECTIONS ANALYSIS ===
2025-11-07 14:50:51,836 - race_prediction.competitive_field_analyzer - INFO - Jockeys with wins today: 0/18
2025-11-07 14:50:51,836 - race_prediction.competitive_field_analyzer - INFO - Trainers with wins today: 0/18
2025-11-07 14:50:51,836 - race_prediction.competitive_field_analyzer - INFO - === DISTANCE COMFORT ANALYSIS ===
2025-11-07 14:50:51,836 - race_prediction.competitive_field_analyzer - INFO - Current race distance: 1600m
2025-11-07 14:50:51,836 - race_prediction.competitive_field_analyzer - INFO - Horses with similar recent distance: 17/18
2025-11-07 14:50:51,836 - race_prediction.competitive_field_analyzer - INFO - === REALISTIC COMPETITIVE SCORING ===
2025-11-07 14:50:51,837 - race_prediction.competitive_field_analyzer - INFO - üìä COMPETITIVE ANALYSIS SUMMARY:
2025-11-07 14:50:51,837 - race_prediction.competitive_field_analyzer - INFO -    Total competitive races: 163
2025-11-07 14:50:51,837 - race_prediction.competitive_field_analyzer - INFO -    Horses with historical data: 18/18
2025-11-07 14:50:51,837 - race_prediction.competitive_field_analyzer - INFO -    Average races per horse: 9.1
2025-11-07 14:50:51,845 - race_prediction.quinte_prediction_storage - INFO - Stored 18 horses for Quint√© race 1606916
2025-11-07 14:50:53,655 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE ANALYSIS DEBUG ===
2025-11-07 14:50:53,655 - race_prediction.competitive_field_analyzer - INFO - Analyzing competitive field for race with 16 horses
2025-11-07 14:50:53,655 - race_prediction.competitive_field_analyzer - INFO - Race data shape: (16, 278)
2025-11-07 14:50:53,655 - race_prediction.competitive_field_analyzer - INFO - Available columns: ['id', 'comp', 'jour', 'hippo', 'reun', 'prix', 'prixnom', 'typec', 'partant', 'dist', 'handi', 'groupe', 'quinte', 'natpis', 'meteo', 'corde', 'temperature', 'forceVent', 'directionVent', 'nebulosite', 'prediction_results', 'actual_results', 'created_at', 'updated_at', 'processed_data', 'cheque', 'handi_raw', 'reclam', 'sex', 'tempscourse', 'handicap_level_score', 'cl', 'numero', 'cheval', 'age', 'cotedirect', 'coteprob', 'recence', 'ecar', 'defoeil', 'defoeilPrec', 'musiqueche', 'musiquejoc', 'entraineur', 'coursescheval', 'victoirescheval', 'placescheval', 'dernierealloc', 'derniernbpartants', 'dernieredist', 'derniereplace', 'dernierecote', 'dernierEnt', 'proprietaire', 'poidmont', 'pourcVictJockHippo', 'pourcPlaceJockHippo', 'pourcVictChevalHippo', 'pourcPlaceChevalHippo', 'tempstot', 'vha', 'recordG', 'txreclam', 'dernierTxreclam', 'gainsCarriere', 'gainsAnneeEnCours', 'handicapDistance', 'handicapPoids', 'TxVictCouple', 'nbVictCouple', 'nbPlaceCouple', 'idche', 'idJockey', 'idEntraineur', 'defFirstTime', 'oeilFirstTime', 'oeil', 'dernierOeil', 'ratio_victoires', 'ratio_places', 'gains_par_course', 'efficacite_couple', 'regularite_couple', 'progression_couple', 'perf_cheval_hippo', 'perf_jockey_hippo', 'blinkers_first_time', 'has_blinkers', 'has_standard_blinkers', 'has_australian_blinkers', 'blinkers_added', 'blinkers_removed', 'blinkers_type_changed', 'blinkers_any_change', 'blinkers_high_impact_change', 'shoeing_first_time', 'fully_shod', 'front_shod_only', 'back_shod_only', 'barefoot', 'shoeing_changed', 'barefoot_to_shod', 'shod_to_barefoot', 'major_shoeing_change', 'shoeing_complexity', 'multiple_equipment_changes', 'equipment_momentum_score', 'high_equipment_momentum', 'multiple_first_time_changes', 'equipment_optimization_score', 'career_strike_rate', 'earnings_per_race', 'earnings_trend', 'last_race_position_normalized', 'last_race_odds_normalized', 'last_race_field_size_factor', 'distance_consistency', 'vha_normalized', 'claiming_tax_trend', 'class_stability', 'che_global_avg_pos', 'che_global_recent_perf', 'che_global_consistency', 'che_global_trend', 'che_global_pct_top3', 'che_global_nb_courses', 'che_global_total_races', 'che_global_dnf_rate', 'che_weighted_avg_pos', 'che_weighted_recent_perf', 'che_weighted_consistency', 'che_weighted_pct_top3', 'che_weighted_nb_courses', 'che_weighted_total_races', 'che_weighted_dnf_rate', 'che_weighted_trend', 'che_bytype_avg_pos', 'che_bytype_recent_perf', 'che_bytype_consistency', 'che_bytype_trend', 'che_bytype_pct_top3', 'che_bytype_nb_courses', 'che_bytype_dnf_rate', 'joc_global_avg_pos', 'joc_global_recent_perf', 'joc_global_consistency', 'joc_global_trend', 'joc_global_pct_top3', 'joc_global_nb_courses', 'joc_global_total_races', 'joc_global_dnf_rate', 'joc_weighted_avg_pos', 'joc_weighted_recent_perf', 'joc_weighted_consistency', 'joc_weighted_pct_top3', 'joc_weighted_nb_courses', 'joc_weighted_total_races', 'joc_weighted_dnf_rate', 'joc_weighted_trend', 'joc_bytype_avg_pos', 'joc_bytype_recent_perf', 'joc_bytype_consistency', 'joc_bytype_trend', 'joc_bytype_pct_top3', 'joc_bytype_nb_courses', 'joc_bytype_dnf_rate', 'class_drop_pct', 'purse_per_starter', 'purse_ratio', 'moving_up_in_class', 'class_shock_indicator', 'handicap_level_change', 'time_per_distance', 'time_vs_record', 'pace_rating', 'speed_figure_proxy', 'market_confidence_shift', 'last_race_improvement', 'bounce_risk', 'layoff_distance_interaction', 'trainer_change', 'connection_stability', 'field_size_change', 'distance_comfort', 'competition_level_shift', 'recence_x_class_drop', 'trainer_change_x_recence', 'distance_change_x_recence', 'che_by_type_avg_pos', 'che_by_type_recent_perf', 'che_by_type_consistency', 'che_by_type_trend', 'che_by_type_pct_top3', 'che_by_type_nb_courses', 'che_by_type_dnf_rate', 'joc_by_type_avg_pos', 'joc_by_type_recent_perf', 'joc_by_type_consistency', 'joc_by_type_trend', 'joc_by_type_pct_top3', 'joc_by_type_nb_courses', 'joc_by_type_dnf_rate', 'trainer_victoires', 'trainer_places', 'trainer_courses', 'trainer_winrate', 'trainer_placerate', 'trainer_quality_score', 'trainer_experience_level', 'handicap_poids', 'handicap_dist', 'prec_handicap_poids', 'prec_handicap_dist', 'handicap_poids_change', 'handicap_poids_increased', 'handicap_poids_decreased', 'handicap_dist_change', 'handicap_dist_increased', 'handicap_dist_decreased', 'total_handicap', 'handicap_momentum', 'last_race_position', 'last_race_distance', 'distance_change', 'distance_change_pct', 'distance_increased', 'distance_decreased', 'same_distance', 'corde_change', 'corde_improved', 'corde_worsened', 'last_race_top3', 'last_race_won', 'che_bytype_total_races', 'joc_bytype_total_races', 'che_form_momentum', 'che_improving_form', 'che_declining_form', 'che_high_consistency', 'che_recent_quality', 'che_elite_performer', 'che_regular_placer', 'joc_form_momentum', 'joc_improving_form', 'joc_high_consistency', 'joc_elite_performer', 'synergy_both_improving', 'synergy_both_consistent', 'synergy_both_elite', 'overall_momentum_score', 'high_momentum', 'quinte_career_starts', 'quinte_win_rate', 'quinte_top5_rate', 'avg_quinte_position', 'days_since_last_quinte', 'quinte_handicap_specialist', 'quinte_conditions_specialist', 'quinte_large_field_ability', 'quinte_track_condition_fit', 'is_handicap_quinte', 'handicap_division', 'purse_level_category', 'field_size_category', 'track_condition_PH', 'track_condition_DUR', 'track_condition_PS', 'track_condition_PSF', 'weather_clear', 'weather_rain', 'weather_cloudy', 'post_position_bias', 'post_position_track_bias', 'raw_tabnet_prediction', 'predicted_position_tabnet', 'raw_rf_prediction', 'predicted_position_rf', 'predicted_position_base']
2025-11-07 14:50:53,655 - race_prediction.competitive_field_analyzer - INFO - === CRITICAL COLUMNS ANALYSIS ===
2025-11-07 14:50:53,656 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ recordG: 16/16 non-null values (100.0%)
2025-11-07 14:50:53,656 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [0.0, 0.0, 0.0]
2025-11-07 14:50:53,656 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ hippo: 16/16 non-null values (100.0%)
2025-11-07 14:50:53,656 - race_prediction.competitive_field_analyzer - INFO -    Sample values: ['Paris-Vincennes', 'Paris-Vincennes', 'Paris-Vincennes']
2025-11-07 14:50:53,656 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ coursescheval: 16/16 non-null values (100.0%)
2025-11-07 14:50:53,656 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [38, 61, 52]
2025-11-07 14:50:53,656 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ victoirescheval: 16/16 non-null values (100.0%)
2025-11-07 14:50:53,656 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [9, 11, 8]
2025-11-07 14:50:53,658 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ placescheval: 16/16 non-null values (100.0%)
2025-11-07 14:50:53,658 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [13, 21, 18]
2025-11-07 14:50:53,658 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ gainsCarriere: 16/16 non-null values (100.0%)
2025-11-07 14:50:53,658 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [16694000, 16736500, 16906000]
2025-11-07 14:50:53,658 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ age: 16/16 non-null values (100.0%)
2025-11-07 14:50:53,658 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [7, 7, 7]
2025-11-07 14:50:53,658 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ derniereplace: 16/16 non-null values (100.0%)
2025-11-07 14:50:53,658 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [1.0, 1.0, 6.0]
2025-11-07 14:50:53,658 - race_prediction.competitive_field_analyzer - INFO - === RACE METADATA ===
2025-11-07 14:50:53,658 - race_prediction.competitive_field_analyzer - INFO - comp: 1612854
2025-11-07 14:50:53,658 - race_prediction.competitive_field_analyzer - INFO - hippo: Paris-Vincennes
2025-11-07 14:50:53,658 - race_prediction.competitive_field_analyzer - INFO - dist: 2700
2025-11-07 14:50:53,658 - race_prediction.competitive_field_analyzer - INFO - typec: Attel√©
2025-11-07 14:50:53,658 - race_prediction.competitive_field_analyzer - INFO - partant: 16
2025-11-07 14:50:53,658 - race_prediction.competitive_field_analyzer - INFO - === SAMPLE RACE DATA ===
2025-11-07 14:50:53,658 - race_prediction.competitive_field_analyzer - INFO - Sample data (columns: ['numero', 'cheval', 'recordG', 'hippo', 'coursescheval']):
2025-11-07 14:50:53,659 - race_prediction.competitive_field_analyzer - INFO -   Horse 0: {'numero': 1, 'cheval': "Indice d'Argent", 'recordG': 0.0, 'hippo': 'Paris-Vincennes', 'coursescheval': 38}
2025-11-07 14:50:53,659 - race_prediction.competitive_field_analyzer - INFO -   Horse 1: {'numero': 2, 'cheval': 'Ir√©no des Plaines', 'recordG': 0.0, 'hippo': 'Paris-Vincennes', 'coursescheval': 61}
2025-11-07 14:50:53,659 - race_prediction.competitive_field_analyzer - INFO -   Horse 2: {'numero': 3, 'cheval': 'If You Can', 'recordG': 0.0, 'hippo': 'Paris-Vincennes', 'coursescheval': 52}
2025-11-07 14:50:53,659 - race_prediction.competitive_field_analyzer - INFO - === END COMPETITIVE ANALYSIS DEBUG ===

2025-11-07 14:50:53,659 - race_prediction.competitive_field_analyzer - INFO - === RETRIEVING HISTORICAL DATA ===
2025-11-07 14:50:53,659 - race_prediction.competitive_field_analyzer - INFO - Fetching historical data for 16 horses: [1469575, 1464524, 1498043, 1496260, 1430653, 1496957, 1466667, 1501881, 1490569, 1460578, 1505177, 1473111, 1438275, 1514018, 1460581, 1490567]
2025-11-07 14:50:53,660 - race_prediction.competitive_field_analyzer - INFO - Batch querying historical data for 16 horses: [1469575, 1464524, 1498043, 1496260, 1430653, 1496957, 1466667, 1501881, 1490569, 1460578, 1505177, 1473111, 1438275, 1514018, 1460581, 1490567]
2025-11-07 14:51:09,639 - race_prediction.competitive_field_analyzer - INFO - Batch query completed in 15.98s, found 218 total records
2025-11-07 14:51:09,648 - race_prediction.competitive_field_analyzer - INFO - Batch query retrieved 218 total historical races
2025-11-07 14:51:09,648 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS PER HORSE ===
2025-11-07 14:51:09,648 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1469575: 16 historical races found
2025-11-07 14:51:09,648 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1464524: 11 historical races found
2025-11-07 14:51:09,648 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1498043: 11 historical races found
2025-11-07 14:51:09,648 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1496260: 12 historical races found
2025-11-07 14:51:09,648 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1430653: 10 historical races found
2025-11-07 14:51:09,648 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1496957: 15 historical races found
2025-11-07 14:51:09,648 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1466667: 9 historical races found
2025-11-07 14:51:09,648 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1501881: 17 historical races found
2025-11-07 14:51:09,648 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1490569: 16 historical races found
2025-11-07 14:51:09,648 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1460578: 12 historical races found
2025-11-07 14:51:09,648 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1505177: 14 historical races found
2025-11-07 14:51:09,648 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1473111: 15 historical races found
2025-11-07 14:51:09,648 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1438275: 18 historical races found
2025-11-07 14:51:09,648 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1514018: 11 historical races found
2025-11-07 14:51:09,648 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1460581: 13 historical races found
2025-11-07 14:51:09,648 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1490567: 18 historical races found
2025-11-07 14:51:09,648 - race_prediction.competitive_field_analyzer - INFO - Retrieved 218 total historical races
2025-11-07 14:51:09,648 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS BY HORSE ===
2025-11-07 14:51:09,648 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1469575: 16 historical races
2025-11-07 14:51:09,648 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1464524: 11 historical races
2025-11-07 14:51:09,648 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1498043: 11 historical races
2025-11-07 14:51:09,648 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1496260: 12 historical races
2025-11-07 14:51:09,648 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1430653: 10 historical races
2025-11-07 14:51:09,648 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1496957: 15 historical races
2025-11-07 14:51:09,648 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1466667: 9 historical races
2025-11-07 14:51:09,648 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1501881: 17 historical races
2025-11-07 14:51:09,648 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1490569: 16 historical races
2025-11-07 14:51:09,648 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1460578: 12 historical races
2025-11-07 14:51:09,648 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1505177: 14 historical races
2025-11-07 14:51:09,648 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1473111: 15 historical races
2025-11-07 14:51:09,648 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1438275: 18 historical races
2025-11-07 14:51:09,648 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1514018: 11 historical races
2025-11-07 14:51:09,648 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1460581: 13 historical races
2025-11-07 14:51:09,648 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1490567: 18 historical races
2025-11-07 14:51:09,648 - race_prediction.competitive_field_analyzer - INFO - === END HISTORICAL DATA RETRIEVAL ===

2025-11-07 14:51:09,649 - race_prediction.competitive_field_analyzer - INFO - === EARNINGS QUALITY ANALYSIS ===
2025-11-07 14:51:09,649 - race_prediction.competitive_field_analyzer - INFO - Valid earnings data: 16/16 horses
2025-11-07 14:51:09,649 - race_prediction.competitive_field_analyzer - INFO - Sample earnings per race: ['439,316', '274,369', '325,115']
2025-11-07 14:51:09,649 - race_prediction.competitive_field_analyzer - INFO - Field earnings stats: avg=325,571, max=547,141
2025-11-07 14:51:09,649 - race_prediction.competitive_field_analyzer - INFO - === TRACK SPECIALIZATION ANALYSIS ===
2025-11-07 14:51:09,649 - race_prediction.competitive_field_analyzer - INFO - Horses with reliable venue data (3+ races): 0/16
2025-11-07 14:51:09,650 - race_prediction.competitive_field_analyzer - INFO - === FORM MOMENTUM ANALYSIS ===
2025-11-07 14:51:09,650 - race_prediction.competitive_field_analyzer - INFO - Field avg horse trend: 1.443, recent perf: 7.08
2025-11-07 14:51:09,650 - race_prediction.competitive_field_analyzer - INFO - Field avg jockey trend: -0.128
2025-11-07 14:51:09,650 - race_prediction.competitive_field_analyzer - INFO - Horses with improving form: 5/16
2025-11-07 14:51:09,650 - race_prediction.competitive_field_analyzer - INFO - === HOT CONNECTIONS ANALYSIS ===
2025-11-07 14:51:09,650 - race_prediction.competitive_field_analyzer - INFO - Jockeys with wins today: 0/16
2025-11-07 14:51:09,650 - race_prediction.competitive_field_analyzer - INFO - Trainers with wins today: 0/16
2025-11-07 14:51:09,651 - race_prediction.competitive_field_analyzer - INFO - === DISTANCE COMFORT ANALYSIS ===
2025-11-07 14:51:09,651 - race_prediction.competitive_field_analyzer - INFO - Current race distance: 2700m
2025-11-07 14:51:09,651 - race_prediction.competitive_field_analyzer - INFO - Horses with similar recent distance: 11/16
2025-11-07 14:51:09,651 - race_prediction.competitive_field_analyzer - INFO - === REALISTIC COMPETITIVE SCORING ===
2025-11-07 14:51:09,651 - race_prediction.competitive_field_analyzer - INFO - üìä COMPETITIVE ANALYSIS SUMMARY:
2025-11-07 14:51:09,651 - race_prediction.competitive_field_analyzer - INFO -    Total competitive races: 218
2025-11-07 14:51:09,651 - race_prediction.competitive_field_analyzer - INFO -    Horses with historical data: 16/16
2025-11-07 14:51:09,651 - race_prediction.competitive_field_analyzer - INFO -    Average races per horse: 13.6
2025-11-07 14:51:09,660 - race_prediction.quinte_prediction_storage - INFO - Stored 16 horses for Quint√© race 1612854
2025-11-07 14:51:11,484 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE ANALYSIS DEBUG ===
2025-11-07 14:51:11,484 - race_prediction.competitive_field_analyzer - INFO - Analyzing competitive field for race with 18 horses
2025-11-07 14:51:11,484 - race_prediction.competitive_field_analyzer - INFO - Race data shape: (18, 278)
2025-11-07 14:51:11,484 - race_prediction.competitive_field_analyzer - INFO - Available columns: ['id', 'comp', 'jour', 'hippo', 'reun', 'prix', 'prixnom', 'typec', 'partant', 'dist', 'handi', 'groupe', 'quinte', 'natpis', 'meteo', 'corde', 'temperature', 'forceVent', 'directionVent', 'nebulosite', 'prediction_results', 'actual_results', 'created_at', 'updated_at', 'processed_data', 'cheque', 'handi_raw', 'reclam', 'sex', 'tempscourse', 'handicap_level_score', 'cl', 'numero', 'cheval', 'age', 'cotedirect', 'coteprob', 'recence', 'ecar', 'defoeil', 'defoeilPrec', 'musiqueche', 'musiquejoc', 'entraineur', 'coursescheval', 'victoirescheval', 'placescheval', 'dernierealloc', 'derniernbpartants', 'dernieredist', 'derniereplace', 'dernierecote', 'dernierEnt', 'proprietaire', 'poidmont', 'pourcVictJockHippo', 'pourcPlaceJockHippo', 'pourcVictChevalHippo', 'pourcPlaceChevalHippo', 'tempstot', 'vha', 'recordG', 'txreclam', 'dernierTxreclam', 'gainsCarriere', 'gainsAnneeEnCours', 'handicapDistance', 'handicapPoids', 'TxVictCouple', 'nbVictCouple', 'nbPlaceCouple', 'idche', 'idJockey', 'idEntraineur', 'defFirstTime', 'oeilFirstTime', 'oeil', 'dernierOeil', 'ratio_victoires', 'ratio_places', 'gains_par_course', 'efficacite_couple', 'regularite_couple', 'progression_couple', 'perf_cheval_hippo', 'perf_jockey_hippo', 'blinkers_first_time', 'has_blinkers', 'has_standard_blinkers', 'has_australian_blinkers', 'blinkers_added', 'blinkers_removed', 'blinkers_type_changed', 'blinkers_any_change', 'blinkers_high_impact_change', 'shoeing_first_time', 'fully_shod', 'front_shod_only', 'back_shod_only', 'barefoot', 'shoeing_changed', 'barefoot_to_shod', 'shod_to_barefoot', 'major_shoeing_change', 'shoeing_complexity', 'multiple_equipment_changes', 'equipment_momentum_score', 'high_equipment_momentum', 'multiple_first_time_changes', 'equipment_optimization_score', 'career_strike_rate', 'earnings_per_race', 'earnings_trend', 'last_race_position_normalized', 'last_race_odds_normalized', 'last_race_field_size_factor', 'distance_consistency', 'vha_normalized', 'claiming_tax_trend', 'class_stability', 'che_global_avg_pos', 'che_global_recent_perf', 'che_global_consistency', 'che_global_trend', 'che_global_pct_top3', 'che_global_nb_courses', 'che_global_total_races', 'che_global_dnf_rate', 'che_weighted_avg_pos', 'che_weighted_recent_perf', 'che_weighted_consistency', 'che_weighted_pct_top3', 'che_weighted_nb_courses', 'che_weighted_total_races', 'che_weighted_dnf_rate', 'che_weighted_trend', 'che_bytype_avg_pos', 'che_bytype_recent_perf', 'che_bytype_consistency', 'che_bytype_trend', 'che_bytype_pct_top3', 'che_bytype_nb_courses', 'che_bytype_dnf_rate', 'joc_global_avg_pos', 'joc_global_recent_perf', 'joc_global_consistency', 'joc_global_trend', 'joc_global_pct_top3', 'joc_global_nb_courses', 'joc_global_total_races', 'joc_global_dnf_rate', 'joc_weighted_avg_pos', 'joc_weighted_recent_perf', 'joc_weighted_consistency', 'joc_weighted_pct_top3', 'joc_weighted_nb_courses', 'joc_weighted_total_races', 'joc_weighted_dnf_rate', 'joc_weighted_trend', 'joc_bytype_avg_pos', 'joc_bytype_recent_perf', 'joc_bytype_consistency', 'joc_bytype_trend', 'joc_bytype_pct_top3', 'joc_bytype_nb_courses', 'joc_bytype_dnf_rate', 'class_drop_pct', 'purse_per_starter', 'purse_ratio', 'moving_up_in_class', 'class_shock_indicator', 'handicap_level_change', 'time_per_distance', 'time_vs_record', 'pace_rating', 'speed_figure_proxy', 'market_confidence_shift', 'last_race_improvement', 'bounce_risk', 'layoff_distance_interaction', 'trainer_change', 'connection_stability', 'field_size_change', 'distance_comfort', 'competition_level_shift', 'recence_x_class_drop', 'trainer_change_x_recence', 'distance_change_x_recence', 'che_by_type_avg_pos', 'che_by_type_recent_perf', 'che_by_type_consistency', 'che_by_type_trend', 'che_by_type_pct_top3', 'che_by_type_nb_courses', 'che_by_type_dnf_rate', 'joc_by_type_avg_pos', 'joc_by_type_recent_perf', 'joc_by_type_consistency', 'joc_by_type_trend', 'joc_by_type_pct_top3', 'joc_by_type_nb_courses', 'joc_by_type_dnf_rate', 'trainer_victoires', 'trainer_places', 'trainer_courses', 'trainer_winrate', 'trainer_placerate', 'trainer_quality_score', 'trainer_experience_level', 'handicap_poids', 'handicap_dist', 'prec_handicap_poids', 'prec_handicap_dist', 'handicap_poids_change', 'handicap_poids_increased', 'handicap_poids_decreased', 'handicap_dist_change', 'handicap_dist_increased', 'handicap_dist_decreased', 'total_handicap', 'handicap_momentum', 'last_race_position', 'last_race_distance', 'distance_change', 'distance_change_pct', 'distance_increased', 'distance_decreased', 'same_distance', 'corde_change', 'corde_improved', 'corde_worsened', 'last_race_top3', 'last_race_won', 'che_bytype_total_races', 'joc_bytype_total_races', 'che_form_momentum', 'che_improving_form', 'che_declining_form', 'che_high_consistency', 'che_recent_quality', 'che_elite_performer', 'che_regular_placer', 'joc_form_momentum', 'joc_improving_form', 'joc_high_consistency', 'joc_elite_performer', 'synergy_both_improving', 'synergy_both_consistent', 'synergy_both_elite', 'overall_momentum_score', 'high_momentum', 'quinte_career_starts', 'quinte_win_rate', 'quinte_top5_rate', 'avg_quinte_position', 'days_since_last_quinte', 'quinte_handicap_specialist', 'quinte_conditions_specialist', 'quinte_large_field_ability', 'quinte_track_condition_fit', 'is_handicap_quinte', 'handicap_division', 'purse_level_category', 'field_size_category', 'track_condition_PH', 'track_condition_DUR', 'track_condition_PS', 'track_condition_PSF', 'weather_clear', 'weather_rain', 'weather_cloudy', 'post_position_bias', 'post_position_track_bias', 'raw_tabnet_prediction', 'predicted_position_tabnet', 'raw_rf_prediction', 'predicted_position_rf', 'predicted_position_base']
2025-11-07 14:51:11,485 - race_prediction.competitive_field_analyzer - INFO - === CRITICAL COLUMNS ANALYSIS ===
2025-11-07 14:51:11,485 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ recordG: 18/18 non-null values (100.0%)
2025-11-07 14:51:11,485 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [0.0, 0.0, 0.0]
2025-11-07 14:51:11,485 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ hippo: 18/18 non-null values (100.0%)
2025-11-07 14:51:11,485 - race_prediction.competitive_field_analyzer - INFO -    Sample values: ['Compi√®gne', 'Compi√®gne', 'Compi√®gne']
2025-11-07 14:51:11,485 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ coursescheval: 18/18 non-null values (100.0%)
2025-11-07 14:51:11,485 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [8, 22, 18]
2025-11-07 14:51:11,485 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ victoirescheval: 18/18 non-null values (100.0%)
2025-11-07 14:51:11,485 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [3, 5, 3]
2025-11-07 14:51:11,485 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ placescheval: 18/18 non-null values (100.0%)
2025-11-07 14:51:11,485 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [6, 11, 8]
2025-11-07 14:51:11,486 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ gainsCarriere: 18/18 non-null values (100.0%)
2025-11-07 14:51:11,486 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [12974000, 16849000, 9182500]
2025-11-07 14:51:11,486 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ age: 18/18 non-null values (100.0%)
2025-11-07 14:51:11,486 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [5, 5, 5]
2025-11-07 14:51:11,486 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ derniereplace: 18/18 non-null values (100.0%)
2025-11-07 14:51:11,486 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [1.0, 10.0, 7.0]
2025-11-07 14:51:11,486 - race_prediction.competitive_field_analyzer - INFO - === RACE METADATA ===
2025-11-07 14:51:11,486 - race_prediction.competitive_field_analyzer - INFO - comp: 1606886
2025-11-07 14:51:11,486 - race_prediction.competitive_field_analyzer - INFO - hippo: Compi√®gne
2025-11-07 14:51:11,486 - race_prediction.competitive_field_analyzer - INFO - dist: 3600
2025-11-07 14:51:11,486 - race_prediction.competitive_field_analyzer - INFO - typec: Haies
2025-11-07 14:51:11,486 - race_prediction.competitive_field_analyzer - INFO - partant: 18
2025-11-07 14:51:11,486 - race_prediction.competitive_field_analyzer - INFO - === SAMPLE RACE DATA ===
2025-11-07 14:51:11,486 - race_prediction.competitive_field_analyzer - INFO - Sample data (columns: ['numero', 'cheval', 'recordG', 'hippo', 'coursescheval']):
2025-11-07 14:51:11,486 - race_prediction.competitive_field_analyzer - INFO -   Horse 0: {'numero': 1, 'cheval': 'La D√©lirante', 'recordG': 0.0, 'hippo': 'Compi√®gne', 'coursescheval': 8}
2025-11-07 14:51:11,486 - race_prediction.competitive_field_analyzer - INFO -   Horse 1: {'numero': 2, 'cheval': 'Earl of Shannon', 'recordG': 0.0, 'hippo': 'Compi√®gne', 'coursescheval': 22}
2025-11-07 14:51:11,486 - race_prediction.competitive_field_analyzer - INFO -   Horse 2: {'numero': 3, 'cheval': 'Kingpark', 'recordG': 0.0, 'hippo': 'Compi√®gne', 'coursescheval': 18}
2025-11-07 14:51:11,486 - race_prediction.competitive_field_analyzer - INFO - === END COMPETITIVE ANALYSIS DEBUG ===

2025-11-07 14:51:11,486 - race_prediction.competitive_field_analyzer - INFO - === RETRIEVING HISTORICAL DATA ===
2025-11-07 14:51:11,486 - race_prediction.competitive_field_analyzer - INFO - Fetching historical data for 18 horses: [1706616, 1652488, 1650846, 1643070, 1641019, 1648763, 1652502, 1676002, 1669182, 1684532, 1648781, 1646967, 1579591, 1559768, 1670805, 1559916, 1688194, 1642250]
2025-11-07 14:51:11,487 - race_prediction.competitive_field_analyzer - INFO - Batch querying historical data for 18 horses: [1706616, 1652488, 1650846, 1643070, 1641019, 1648763, 1652502, 1676002, 1669182, 1684532, 1648781, 1646967, 1579591, 1559768, 1670805, 1559916, 1688194, 1642250]
2025-11-07 14:51:27,500 - race_prediction.competitive_field_analyzer - INFO - Batch query completed in 16.01s, found 135 total records
2025-11-07 14:51:27,506 - race_prediction.competitive_field_analyzer - INFO - Batch query retrieved 135 total historical races
2025-11-07 14:51:27,506 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS PER HORSE ===
2025-11-07 14:51:27,506 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1706616: 5 historical races found
2025-11-07 14:51:27,506 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1652488: 8 historical races found
2025-11-07 14:51:27,506 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1650846: 8 historical races found
2025-11-07 14:51:27,506 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1643070: 8 historical races found
2025-11-07 14:51:27,506 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1641019: 8 historical races found
2025-11-07 14:51:27,506 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1648763: 4 historical races found
2025-11-07 14:51:27,506 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1652502: 8 historical races found
2025-11-07 14:51:27,506 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1676002: 9 historical races found
2025-11-07 14:51:27,506 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1669182: 10 historical races found
2025-11-07 14:51:27,506 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1684532: 5 historical races found
2025-11-07 14:51:27,506 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1648781: 6 historical races found
2025-11-07 14:51:27,506 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1646967: 7 historical races found
2025-11-07 14:51:27,506 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1579591: 6 historical races found
2025-11-07 14:51:27,506 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1559768: 8 historical races found
2025-11-07 14:51:27,506 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1670805: 5 historical races found
2025-11-07 14:51:27,506 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1559916: 8 historical races found
2025-11-07 14:51:27,506 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1688194: 11 historical races found
2025-11-07 14:51:27,506 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1642250: 11 historical races found
2025-11-07 14:51:27,506 - race_prediction.competitive_field_analyzer - INFO - Retrieved 135 total historical races
2025-11-07 14:51:27,506 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS BY HORSE ===
2025-11-07 14:51:27,506 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1706616: 5 historical races
2025-11-07 14:51:27,506 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1652488: 8 historical races
2025-11-07 14:51:27,506 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1650846: 8 historical races
2025-11-07 14:51:27,507 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1643070: 8 historical races
2025-11-07 14:51:27,507 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1641019: 8 historical races
2025-11-07 14:51:27,507 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1648763: 4 historical races
2025-11-07 14:51:27,507 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1652502: 8 historical races
2025-11-07 14:51:27,507 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1676002: 9 historical races
2025-11-07 14:51:27,507 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1669182: 10 historical races
2025-11-07 14:51:27,507 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1684532: 5 historical races
2025-11-07 14:51:27,507 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1648781: 6 historical races
2025-11-07 14:51:27,507 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1646967: 7 historical races
2025-11-07 14:51:27,507 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1579591: 6 historical races
2025-11-07 14:51:27,507 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1559768: 8 historical races
2025-11-07 14:51:27,507 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1670805: 5 historical races
2025-11-07 14:51:27,507 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1559916: 8 historical races
2025-11-07 14:51:27,507 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1688194: 11 historical races
2025-11-07 14:51:27,507 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1642250: 11 historical races
2025-11-07 14:51:27,507 - race_prediction.competitive_field_analyzer - INFO - === END HISTORICAL DATA RETRIEVAL ===

2025-11-07 14:51:27,507 - race_prediction.competitive_field_analyzer - INFO - === EARNINGS QUALITY ANALYSIS ===
2025-11-07 14:51:27,507 - race_prediction.competitive_field_analyzer - INFO - Valid earnings data: 18/18 horses
2025-11-07 14:51:27,507 - race_prediction.competitive_field_analyzer - INFO - Sample earnings per race: ['1,621,750', '765,864', '510,139']
2025-11-07 14:51:27,507 - race_prediction.competitive_field_analyzer - INFO - Field earnings stats: avg=605,134, max=1,621,750
2025-11-07 14:51:27,508 - race_prediction.competitive_field_analyzer - INFO - === TRACK SPECIALIZATION ANALYSIS ===
2025-11-07 14:51:27,508 - race_prediction.competitive_field_analyzer - INFO - Horses with reliable venue data (3+ races): 0/18
2025-11-07 14:51:27,509 - race_prediction.competitive_field_analyzer - INFO - === FORM MOMENTUM ANALYSIS ===
2025-11-07 14:51:27,509 - race_prediction.competitive_field_analyzer - INFO - Field avg horse trend: -2.452, recent perf: 5.78
2025-11-07 14:51:27,509 - race_prediction.competitive_field_analyzer - INFO - Field avg jockey trend: -0.062
2025-11-07 14:51:27,509 - race_prediction.competitive_field_analyzer - INFO - Horses with improving form: 1/18
2025-11-07 14:51:27,509 - race_prediction.competitive_field_analyzer - INFO - === HOT CONNECTIONS ANALYSIS ===
2025-11-07 14:51:27,509 - race_prediction.competitive_field_analyzer - INFO - Jockeys with wins today: 0/18
2025-11-07 14:51:27,509 - race_prediction.competitive_field_analyzer - INFO - Trainers with wins today: 0/18
2025-11-07 14:51:27,509 - race_prediction.competitive_field_analyzer - INFO - === DISTANCE COMFORT ANALYSIS ===
2025-11-07 14:51:27,509 - race_prediction.competitive_field_analyzer - INFO - Current race distance: 3600m
2025-11-07 14:51:27,509 - race_prediction.competitive_field_analyzer - INFO - Horses with similar recent distance: 15/18
2025-11-07 14:51:27,510 - race_prediction.competitive_field_analyzer - INFO - === REALISTIC COMPETITIVE SCORING ===
2025-11-07 14:51:27,510 - race_prediction.competitive_field_analyzer - INFO - üìä COMPETITIVE ANALYSIS SUMMARY:
2025-11-07 14:51:27,510 - race_prediction.competitive_field_analyzer - INFO -    Total competitive races: 135
2025-11-07 14:51:27,510 - race_prediction.competitive_field_analyzer - INFO -    Horses with historical data: 18/18
2025-11-07 14:51:27,510 - race_prediction.competitive_field_analyzer - INFO -    Average races per horse: 7.5
2025-11-07 14:51:27,519 - race_prediction.quinte_prediction_storage - INFO - Stored 18 horses for Quint√© race 1606886
2025-11-07 14:51:29,314 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE ANALYSIS DEBUG ===
2025-11-07 14:51:29,314 - race_prediction.competitive_field_analyzer - INFO - Analyzing competitive field for race with 16 horses
2025-11-07 14:51:29,314 - race_prediction.competitive_field_analyzer - INFO - Race data shape: (16, 278)
2025-11-07 14:51:29,314 - race_prediction.competitive_field_analyzer - INFO - Available columns: ['id', 'comp', 'jour', 'hippo', 'reun', 'prix', 'prixnom', 'typec', 'partant', 'dist', 'handi', 'groupe', 'quinte', 'natpis', 'meteo', 'corde', 'temperature', 'forceVent', 'directionVent', 'nebulosite', 'prediction_results', 'actual_results', 'created_at', 'updated_at', 'processed_data', 'cheque', 'handi_raw', 'reclam', 'sex', 'tempscourse', 'handicap_level_score', 'cl', 'numero', 'cheval', 'age', 'cotedirect', 'coteprob', 'recence', 'ecar', 'defoeil', 'defoeilPrec', 'musiqueche', 'musiquejoc', 'entraineur', 'coursescheval', 'victoirescheval', 'placescheval', 'dernierealloc', 'derniernbpartants', 'dernieredist', 'derniereplace', 'dernierecote', 'dernierEnt', 'proprietaire', 'poidmont', 'pourcVictJockHippo', 'pourcPlaceJockHippo', 'pourcVictChevalHippo', 'pourcPlaceChevalHippo', 'tempstot', 'vha', 'recordG', 'txreclam', 'dernierTxreclam', 'gainsCarriere', 'gainsAnneeEnCours', 'handicapDistance', 'handicapPoids', 'TxVictCouple', 'nbVictCouple', 'nbPlaceCouple', 'idche', 'idJockey', 'idEntraineur', 'defFirstTime', 'oeilFirstTime', 'oeil', 'dernierOeil', 'ratio_victoires', 'ratio_places', 'gains_par_course', 'efficacite_couple', 'regularite_couple', 'progression_couple', 'perf_cheval_hippo', 'perf_jockey_hippo', 'blinkers_first_time', 'has_blinkers', 'has_standard_blinkers', 'has_australian_blinkers', 'blinkers_added', 'blinkers_removed', 'blinkers_type_changed', 'blinkers_any_change', 'blinkers_high_impact_change', 'shoeing_first_time', 'fully_shod', 'front_shod_only', 'back_shod_only', 'barefoot', 'shoeing_changed', 'barefoot_to_shod', 'shod_to_barefoot', 'major_shoeing_change', 'shoeing_complexity', 'multiple_equipment_changes', 'equipment_momentum_score', 'high_equipment_momentum', 'multiple_first_time_changes', 'equipment_optimization_score', 'career_strike_rate', 'earnings_per_race', 'earnings_trend', 'last_race_position_normalized', 'last_race_odds_normalized', 'last_race_field_size_factor', 'distance_consistency', 'vha_normalized', 'claiming_tax_trend', 'class_stability', 'che_global_avg_pos', 'che_global_recent_perf', 'che_global_consistency', 'che_global_trend', 'che_global_pct_top3', 'che_global_nb_courses', 'che_global_total_races', 'che_global_dnf_rate', 'che_weighted_avg_pos', 'che_weighted_recent_perf', 'che_weighted_consistency', 'che_weighted_pct_top3', 'che_weighted_nb_courses', 'che_weighted_total_races', 'che_weighted_dnf_rate', 'che_weighted_trend', 'che_bytype_avg_pos', 'che_bytype_recent_perf', 'che_bytype_consistency', 'che_bytype_trend', 'che_bytype_pct_top3', 'che_bytype_nb_courses', 'che_bytype_dnf_rate', 'joc_global_avg_pos', 'joc_global_recent_perf', 'joc_global_consistency', 'joc_global_trend', 'joc_global_pct_top3', 'joc_global_nb_courses', 'joc_global_total_races', 'joc_global_dnf_rate', 'joc_weighted_avg_pos', 'joc_weighted_recent_perf', 'joc_weighted_consistency', 'joc_weighted_pct_top3', 'joc_weighted_nb_courses', 'joc_weighted_total_races', 'joc_weighted_dnf_rate', 'joc_weighted_trend', 'joc_bytype_avg_pos', 'joc_bytype_recent_perf', 'joc_bytype_consistency', 'joc_bytype_trend', 'joc_bytype_pct_top3', 'joc_bytype_nb_courses', 'joc_bytype_dnf_rate', 'class_drop_pct', 'purse_per_starter', 'purse_ratio', 'moving_up_in_class', 'class_shock_indicator', 'handicap_level_change', 'time_per_distance', 'time_vs_record', 'pace_rating', 'speed_figure_proxy', 'market_confidence_shift', 'last_race_improvement', 'bounce_risk', 'layoff_distance_interaction', 'trainer_change', 'connection_stability', 'field_size_change', 'distance_comfort', 'competition_level_shift', 'recence_x_class_drop', 'trainer_change_x_recence', 'distance_change_x_recence', 'che_by_type_avg_pos', 'che_by_type_recent_perf', 'che_by_type_consistency', 'che_by_type_trend', 'che_by_type_pct_top3', 'che_by_type_nb_courses', 'che_by_type_dnf_rate', 'joc_by_type_avg_pos', 'joc_by_type_recent_perf', 'joc_by_type_consistency', 'joc_by_type_trend', 'joc_by_type_pct_top3', 'joc_by_type_nb_courses', 'joc_by_type_dnf_rate', 'trainer_victoires', 'trainer_places', 'trainer_courses', 'trainer_winrate', 'trainer_placerate', 'trainer_quality_score', 'trainer_experience_level', 'handicap_poids', 'handicap_dist', 'prec_handicap_poids', 'prec_handicap_dist', 'handicap_poids_change', 'handicap_poids_increased', 'handicap_poids_decreased', 'handicap_dist_change', 'handicap_dist_increased', 'handicap_dist_decreased', 'total_handicap', 'handicap_momentum', 'last_race_position', 'last_race_distance', 'distance_change', 'distance_change_pct', 'distance_increased', 'distance_decreased', 'same_distance', 'corde_change', 'corde_improved', 'corde_worsened', 'last_race_top3', 'last_race_won', 'che_bytype_total_races', 'joc_bytype_total_races', 'che_form_momentum', 'che_improving_form', 'che_declining_form', 'che_high_consistency', 'che_recent_quality', 'che_elite_performer', 'che_regular_placer', 'joc_form_momentum', 'joc_improving_form', 'joc_high_consistency', 'joc_elite_performer', 'synergy_both_improving', 'synergy_both_consistent', 'synergy_both_elite', 'overall_momentum_score', 'high_momentum', 'quinte_career_starts', 'quinte_win_rate', 'quinte_top5_rate', 'avg_quinte_position', 'days_since_last_quinte', 'quinte_handicap_specialist', 'quinte_conditions_specialist', 'quinte_large_field_ability', 'quinte_track_condition_fit', 'is_handicap_quinte', 'handicap_division', 'purse_level_category', 'field_size_category', 'track_condition_PH', 'track_condition_DUR', 'track_condition_PS', 'track_condition_PSF', 'weather_clear', 'weather_rain', 'weather_cloudy', 'post_position_bias', 'post_position_track_bias', 'raw_tabnet_prediction', 'predicted_position_tabnet', 'raw_rf_prediction', 'predicted_position_rf', 'predicted_position_base']
2025-11-07 14:51:29,314 - race_prediction.competitive_field_analyzer - INFO - === CRITICAL COLUMNS ANALYSIS ===
2025-11-07 14:51:29,314 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ recordG: 16/16 non-null values (100.0%)
2025-11-07 14:51:29,314 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [0.0, 0.0, 0.0]
2025-11-07 14:51:29,314 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ hippo: 16/16 non-null values (100.0%)
2025-11-07 14:51:29,314 - race_prediction.competitive_field_analyzer - INFO -    Sample values: ['Chantilly', 'Chantilly', 'Chantilly']
2025-11-07 14:51:29,315 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ coursescheval: 16/16 non-null values (100.0%)
2025-11-07 14:51:29,315 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [16, 9, 11]
2025-11-07 14:51:29,315 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ victoirescheval: 16/16 non-null values (100.0%)
2025-11-07 14:51:29,315 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [2, 2, 2]
2025-11-07 14:51:29,315 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ placescheval: 16/16 non-null values (100.0%)
2025-11-07 14:51:29,315 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [9, 5, 5]
2025-11-07 14:51:29,315 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ gainsCarriere: 16/16 non-null values (100.0%)
2025-11-07 14:51:29,315 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [8639200, 3460000, 5448200]
2025-11-07 14:51:29,315 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ age: 16/16 non-null values (100.0%)
2025-11-07 14:51:29,315 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [3, 3, 3]
2025-11-07 14:51:29,315 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ derniereplace: 16/16 non-null values (100.0%)
2025-11-07 14:51:29,315 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [1, 8, 13]
2025-11-07 14:51:29,315 - race_prediction.competitive_field_analyzer - INFO - === RACE METADATA ===
2025-11-07 14:51:29,315 - race_prediction.competitive_field_analyzer - INFO - comp: 1606844
2025-11-07 14:51:29,315 - race_prediction.competitive_field_analyzer - INFO - hippo: Chantilly
2025-11-07 14:51:29,315 - race_prediction.competitive_field_analyzer - INFO - dist: 1600
2025-11-07 14:51:29,315 - race_prediction.competitive_field_analyzer - INFO - typec: Plat
2025-11-07 14:51:29,315 - race_prediction.competitive_field_analyzer - INFO - partant: 16
2025-11-07 14:51:29,315 - race_prediction.competitive_field_analyzer - INFO - === SAMPLE RACE DATA ===
2025-11-07 14:51:29,315 - race_prediction.competitive_field_analyzer - INFO - Sample data (columns: ['numero', 'cheval', 'recordG', 'hippo', 'coursescheval']):
2025-11-07 14:51:29,316 - race_prediction.competitive_field_analyzer - INFO -   Horse 0: {'numero': 1, 'cheval': 'El Pequenio', 'recordG': 0.0, 'hippo': 'Chantilly', 'coursescheval': 16}
2025-11-07 14:51:29,316 - race_prediction.competitive_field_analyzer - INFO -   Horse 1: {'numero': 2, 'cheval': 'Lakota Beau', 'recordG': 0.0, 'hippo': 'Chantilly', 'coursescheval': 9}
2025-11-07 14:51:29,316 - race_prediction.competitive_field_analyzer - INFO -   Horse 2: {'numero': 3, 'cheval': 'Acto', 'recordG': 0.0, 'hippo': 'Chantilly', 'coursescheval': 11}
2025-11-07 14:51:29,316 - race_prediction.competitive_field_analyzer - INFO - === END COMPETITIVE ANALYSIS DEBUG ===

2025-11-07 14:51:29,316 - race_prediction.competitive_field_analyzer - INFO - === RETRIEVING HISTORICAL DATA ===
2025-11-07 14:51:29,316 - race_prediction.competitive_field_analyzer - INFO - Fetching historical data for 16 horses: [1718695, 1714596, 1723957, 1728965, 1734355, 1751977, 1741661, 1717206, 1722576, 1720035, 1717191, 1722582, 1723132, 1704246, 1717205, 1740052]
2025-11-07 14:51:29,317 - race_prediction.competitive_field_analyzer - INFO - Batch querying historical data for 16 horses: [1718695, 1714596, 1723957, 1728965, 1734355, 1751977, 1741661, 1717206, 1722576, 1720035, 1717191, 1722582, 1723132, 1704246, 1717205, 1740052]
2025-11-07 14:51:45,670 - race_prediction.competitive_field_analyzer - INFO - Batch query completed in 16.35s, found 149 total records
2025-11-07 14:51:45,677 - race_prediction.competitive_field_analyzer - INFO - Batch query retrieved 149 total historical races
2025-11-07 14:51:45,677 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS PER HORSE ===
2025-11-07 14:51:45,677 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1718695: 13 historical races found
2025-11-07 14:51:45,677 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1714596: 9 historical races found
2025-11-07 14:51:45,677 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1723957: 11 historical races found
2025-11-07 14:51:45,677 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1728965: 9 historical races found
2025-11-07 14:51:45,677 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1734355: 6 historical races found
2025-11-07 14:51:45,677 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1751977: 7 historical races found
2025-11-07 14:51:45,677 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1741661: 7 historical races found
2025-11-07 14:51:45,677 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1717206: 4 historical races found
2025-11-07 14:51:45,677 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1722576: 10 historical races found
2025-11-07 14:51:45,677 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1720035: 11 historical races found
2025-11-07 14:51:45,677 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1717191: 7 historical races found
2025-11-07 14:51:45,677 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1722582: 10 historical races found
2025-11-07 14:51:45,677 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1723132: 8 historical races found
2025-11-07 14:51:45,677 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1704246: 16 historical races found
2025-11-07 14:51:45,677 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1717205: 12 historical races found
2025-11-07 14:51:45,677 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1740052: 9 historical races found
2025-11-07 14:51:45,677 - race_prediction.competitive_field_analyzer - INFO - Retrieved 149 total historical races
2025-11-07 14:51:45,677 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS BY HORSE ===
2025-11-07 14:51:45,677 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1718695: 13 historical races
2025-11-07 14:51:45,677 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1714596: 9 historical races
2025-11-07 14:51:45,677 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1723957: 11 historical races
2025-11-07 14:51:45,677 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1728965: 9 historical races
2025-11-07 14:51:45,677 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1734355: 6 historical races
2025-11-07 14:51:45,677 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1751977: 7 historical races
2025-11-07 14:51:45,677 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1741661: 7 historical races
2025-11-07 14:51:45,677 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1717206: 4 historical races
2025-11-07 14:51:45,677 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1722576: 10 historical races
2025-11-07 14:51:45,677 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1720035: 11 historical races
2025-11-07 14:51:45,677 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1717191: 7 historical races
2025-11-07 14:51:45,677 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1722582: 10 historical races
2025-11-07 14:51:45,677 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1723132: 8 historical races
2025-11-07 14:51:45,677 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1704246: 16 historical races
2025-11-07 14:51:45,678 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1717205: 12 historical races
2025-11-07 14:51:45,678 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1740052: 9 historical races
2025-11-07 14:51:45,678 - race_prediction.competitive_field_analyzer - INFO - === END HISTORICAL DATA RETRIEVAL ===

2025-11-07 14:51:45,678 - race_prediction.competitive_field_analyzer - INFO - === EARNINGS QUALITY ANALYSIS ===
2025-11-07 14:51:45,678 - race_prediction.competitive_field_analyzer - INFO - Valid earnings data: 16/16 horses
2025-11-07 14:51:45,678 - race_prediction.competitive_field_analyzer - INFO - Sample earnings per race: ['539,950', '384,444', '495,291']
2025-11-07 14:51:45,678 - race_prediction.competitive_field_analyzer - INFO - Field earnings stats: avg=388,785, max=539,950
2025-11-07 14:51:45,678 - race_prediction.competitive_field_analyzer - INFO - === TRACK SPECIALIZATION ANALYSIS ===
2025-11-07 14:51:45,678 - race_prediction.competitive_field_analyzer - INFO - Horses with reliable venue data (3+ races): 0/16
2025-11-07 14:51:45,679 - race_prediction.competitive_field_analyzer - INFO - === FORM MOMENTUM ANALYSIS ===
2025-11-07 14:51:45,679 - race_prediction.competitive_field_analyzer - INFO - Field avg horse trend: -0.493, recent perf: 7.17
2025-11-07 14:51:45,679 - race_prediction.competitive_field_analyzer - INFO - Field avg jockey trend: -0.763
2025-11-07 14:51:45,679 - race_prediction.competitive_field_analyzer - INFO - Horses with improving form: 2/16
2025-11-07 14:51:45,679 - race_prediction.competitive_field_analyzer - INFO - === HOT CONNECTIONS ANALYSIS ===
2025-11-07 14:51:45,679 - race_prediction.competitive_field_analyzer - INFO - Jockeys with wins today: 0/16
2025-11-07 14:51:45,679 - race_prediction.competitive_field_analyzer - INFO - Trainers with wins today: 0/16
2025-11-07 14:51:45,680 - race_prediction.competitive_field_analyzer - INFO - === DISTANCE COMFORT ANALYSIS ===
2025-11-07 14:51:45,680 - race_prediction.competitive_field_analyzer - INFO - Current race distance: 1600m
2025-11-07 14:51:45,680 - race_prediction.competitive_field_analyzer - INFO - Horses with similar recent distance: 14/16
2025-11-07 14:51:45,680 - race_prediction.competitive_field_analyzer - INFO - === REALISTIC COMPETITIVE SCORING ===
2025-11-07 14:51:45,680 - race_prediction.competitive_field_analyzer - INFO - üìä COMPETITIVE ANALYSIS SUMMARY:
2025-11-07 14:51:45,680 - race_prediction.competitive_field_analyzer - INFO -    Total competitive races: 149
2025-11-07 14:51:45,680 - race_prediction.competitive_field_analyzer - INFO -    Horses with historical data: 16/16
2025-11-07 14:51:45,680 - race_prediction.competitive_field_analyzer - INFO -    Average races per horse: 9.3
2025-11-07 14:51:45,688 - race_prediction.quinte_prediction_storage - INFO - Stored 16 horses for Quint√© race 1606844
2025-11-07 14:51:47,629 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE ANALYSIS DEBUG ===
2025-11-07 14:51:47,629 - race_prediction.competitive_field_analyzer - INFO - Analyzing competitive field for race with 13 horses
2025-11-07 14:51:47,629 - race_prediction.competitive_field_analyzer - INFO - Race data shape: (13, 278)
2025-11-07 14:51:47,629 - race_prediction.competitive_field_analyzer - INFO - Available columns: ['id', 'comp', 'jour', 'hippo', 'reun', 'prix', 'prixnom', 'typec', 'partant', 'dist', 'handi', 'groupe', 'quinte', 'natpis', 'meteo', 'corde', 'temperature', 'forceVent', 'directionVent', 'nebulosite', 'prediction_results', 'actual_results', 'created_at', 'updated_at', 'processed_data', 'cheque', 'handi_raw', 'reclam', 'sex', 'tempscourse', 'handicap_level_score', 'cl', 'numero', 'cheval', 'age', 'cotedirect', 'coteprob', 'recence', 'ecar', 'defoeil', 'defoeilPrec', 'musiqueche', 'musiquejoc', 'entraineur', 'coursescheval', 'victoirescheval', 'placescheval', 'dernierealloc', 'derniernbpartants', 'dernieredist', 'derniereplace', 'dernierecote', 'dernierEnt', 'proprietaire', 'poidmont', 'pourcVictJockHippo', 'pourcPlaceJockHippo', 'pourcVictChevalHippo', 'pourcPlaceChevalHippo', 'tempstot', 'vha', 'recordG', 'txreclam', 'dernierTxreclam', 'gainsCarriere', 'gainsAnneeEnCours', 'handicapDistance', 'handicapPoids', 'TxVictCouple', 'nbVictCouple', 'nbPlaceCouple', 'idche', 'idJockey', 'idEntraineur', 'defFirstTime', 'oeilFirstTime', 'oeil', 'dernierOeil', 'ratio_victoires', 'ratio_places', 'gains_par_course', 'efficacite_couple', 'regularite_couple', 'progression_couple', 'perf_cheval_hippo', 'perf_jockey_hippo', 'blinkers_first_time', 'has_blinkers', 'has_standard_blinkers', 'has_australian_blinkers', 'blinkers_added', 'blinkers_removed', 'blinkers_type_changed', 'blinkers_any_change', 'blinkers_high_impact_change', 'shoeing_first_time', 'fully_shod', 'front_shod_only', 'back_shod_only', 'barefoot', 'shoeing_changed', 'barefoot_to_shod', 'shod_to_barefoot', 'major_shoeing_change', 'shoeing_complexity', 'multiple_equipment_changes', 'equipment_momentum_score', 'high_equipment_momentum', 'multiple_first_time_changes', 'equipment_optimization_score', 'career_strike_rate', 'earnings_per_race', 'earnings_trend', 'last_race_position_normalized', 'last_race_odds_normalized', 'last_race_field_size_factor', 'distance_consistency', 'vha_normalized', 'claiming_tax_trend', 'class_stability', 'che_global_avg_pos', 'che_global_recent_perf', 'che_global_consistency', 'che_global_trend', 'che_global_pct_top3', 'che_global_nb_courses', 'che_global_total_races', 'che_global_dnf_rate', 'che_weighted_avg_pos', 'che_weighted_recent_perf', 'che_weighted_consistency', 'che_weighted_pct_top3', 'che_weighted_nb_courses', 'che_weighted_total_races', 'che_weighted_dnf_rate', 'che_weighted_trend', 'che_bytype_avg_pos', 'che_bytype_recent_perf', 'che_bytype_consistency', 'che_bytype_trend', 'che_bytype_pct_top3', 'che_bytype_nb_courses', 'che_bytype_dnf_rate', 'joc_global_avg_pos', 'joc_global_recent_perf', 'joc_global_consistency', 'joc_global_trend', 'joc_global_pct_top3', 'joc_global_nb_courses', 'joc_global_total_races', 'joc_global_dnf_rate', 'joc_weighted_avg_pos', 'joc_weighted_recent_perf', 'joc_weighted_consistency', 'joc_weighted_pct_top3', 'joc_weighted_nb_courses', 'joc_weighted_total_races', 'joc_weighted_dnf_rate', 'joc_weighted_trend', 'joc_bytype_avg_pos', 'joc_bytype_recent_perf', 'joc_bytype_consistency', 'joc_bytype_trend', 'joc_bytype_pct_top3', 'joc_bytype_nb_courses', 'joc_bytype_dnf_rate', 'class_drop_pct', 'purse_per_starter', 'purse_ratio', 'moving_up_in_class', 'class_shock_indicator', 'handicap_level_change', 'time_per_distance', 'time_vs_record', 'pace_rating', 'speed_figure_proxy', 'market_confidence_shift', 'last_race_improvement', 'bounce_risk', 'layoff_distance_interaction', 'trainer_change', 'connection_stability', 'field_size_change', 'distance_comfort', 'competition_level_shift', 'recence_x_class_drop', 'trainer_change_x_recence', 'distance_change_x_recence', 'che_by_type_avg_pos', 'che_by_type_recent_perf', 'che_by_type_consistency', 'che_by_type_trend', 'che_by_type_pct_top3', 'che_by_type_nb_courses', 'che_by_type_dnf_rate', 'joc_by_type_avg_pos', 'joc_by_type_recent_perf', 'joc_by_type_consistency', 'joc_by_type_trend', 'joc_by_type_pct_top3', 'joc_by_type_nb_courses', 'joc_by_type_dnf_rate', 'trainer_victoires', 'trainer_places', 'trainer_courses', 'trainer_winrate', 'trainer_placerate', 'trainer_quality_score', 'trainer_experience_level', 'handicap_poids', 'handicap_dist', 'prec_handicap_poids', 'prec_handicap_dist', 'handicap_poids_change', 'handicap_poids_increased', 'handicap_poids_decreased', 'handicap_dist_change', 'handicap_dist_increased', 'handicap_dist_decreased', 'total_handicap', 'handicap_momentum', 'last_race_position', 'last_race_distance', 'distance_change', 'distance_change_pct', 'distance_increased', 'distance_decreased', 'same_distance', 'corde_change', 'corde_improved', 'corde_worsened', 'last_race_top3', 'last_race_won', 'che_bytype_total_races', 'joc_bytype_total_races', 'che_form_momentum', 'che_improving_form', 'che_declining_form', 'che_high_consistency', 'che_recent_quality', 'che_elite_performer', 'che_regular_placer', 'joc_form_momentum', 'joc_improving_form', 'joc_high_consistency', 'joc_elite_performer', 'synergy_both_improving', 'synergy_both_consistent', 'synergy_both_elite', 'overall_momentum_score', 'high_momentum', 'quinte_career_starts', 'quinte_win_rate', 'quinte_top5_rate', 'avg_quinte_position', 'days_since_last_quinte', 'quinte_handicap_specialist', 'quinte_conditions_specialist', 'quinte_large_field_ability', 'quinte_track_condition_fit', 'is_handicap_quinte', 'handicap_division', 'purse_level_category', 'field_size_category', 'track_condition_PH', 'track_condition_DUR', 'track_condition_PS', 'track_condition_PSF', 'weather_clear', 'weather_rain', 'weather_cloudy', 'post_position_bias', 'post_position_track_bias', 'raw_tabnet_prediction', 'predicted_position_tabnet', 'raw_rf_prediction', 'predicted_position_rf', 'predicted_position_base']
2025-11-07 14:51:47,630 - race_prediction.competitive_field_analyzer - INFO - === CRITICAL COLUMNS ANALYSIS ===
2025-11-07 14:51:47,630 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ recordG: 13/13 non-null values (100.0%)
2025-11-07 14:51:47,630 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [0.0, 0.0, 0.0]
2025-11-07 14:51:47,630 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ hippo: 13/13 non-null values (100.0%)
2025-11-07 14:51:47,630 - race_prediction.competitive_field_analyzer - INFO -    Sample values: ['Enghien', 'Enghien', 'Enghien']
2025-11-07 14:51:47,630 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ coursescheval: 13/13 non-null values (100.0%)
2025-11-07 14:51:47,630 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [55, 70, 91]
2025-11-07 14:51:47,630 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ victoirescheval: 13/13 non-null values (100.0%)
2025-11-07 14:51:47,630 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [3, 11, 10]
2025-11-07 14:51:47,630 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ placescheval: 13/13 non-null values (100.0%)
2025-11-07 14:51:47,630 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [18, 23, 37]
2025-11-07 14:51:47,632 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ gainsCarriere: 13/13 non-null values (100.0%)
2025-11-07 14:51:47,632 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [22045000, 22801000, 22384000]
2025-11-07 14:51:47,632 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ age: 13/13 non-null values (100.0%)
2025-11-07 14:51:47,632 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [7, 9, 9]
2025-11-07 14:51:47,632 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ derniereplace: 13/13 non-null values (100.0%)
2025-11-07 14:51:47,632 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [13.0, 15.0, 2.0]
2025-11-07 14:51:47,632 - race_prediction.competitive_field_analyzer - INFO - === RACE METADATA ===
2025-11-07 14:51:47,632 - race_prediction.competitive_field_analyzer - INFO - comp: 1611878
2025-11-07 14:51:47,632 - race_prediction.competitive_field_analyzer - INFO - hippo: Enghien
2025-11-07 14:51:47,632 - race_prediction.competitive_field_analyzer - INFO - dist: 2150
2025-11-07 14:51:47,632 - race_prediction.competitive_field_analyzer - INFO - typec: Attel√©
2025-11-07 14:51:47,632 - race_prediction.competitive_field_analyzer - INFO - partant: 13
2025-11-07 14:51:47,632 - race_prediction.competitive_field_analyzer - INFO - === SAMPLE RACE DATA ===
2025-11-07 14:51:47,632 - race_prediction.competitive_field_analyzer - INFO - Sample data (columns: ['numero', 'cheval', 'recordG', 'hippo', 'coursescheval']):
2025-11-07 14:51:47,633 - race_prediction.competitive_field_analyzer - INFO -   Horse 0: {'numero': 1, 'cheval': 'Instructor', 'recordG': 0.0, 'hippo': 'Enghien', 'coursescheval': 55}
2025-11-07 14:51:47,633 - race_prediction.competitive_field_analyzer - INFO -   Horse 1: {'numero': 2, 'cheval': 'Gourou', 'recordG': 0.0, 'hippo': 'Enghien', 'coursescheval': 70}
2025-11-07 14:51:47,633 - race_prediction.competitive_field_analyzer - INFO -   Horse 2: {'numero': 3, 'cheval': 'Gucci de Barb', 'recordG': 0.0, 'hippo': 'Enghien', 'coursescheval': 91}
2025-11-07 14:51:47,633 - race_prediction.competitive_field_analyzer - INFO - === END COMPETITIVE ANALYSIS DEBUG ===

2025-11-07 14:51:47,633 - race_prediction.competitive_field_analyzer - INFO - === RETRIEVING HISTORICAL DATA ===
2025-11-07 14:51:47,633 - race_prediction.competitive_field_analyzer - INFO - Fetching historical data for 13 horses: [1437359, 1377688, 1349896, 1495175, 1430252, 1449411, 1291128, 1345326, 1461235, 1268908, 1476208, 1379064, 1471729]
2025-11-07 14:51:47,634 - race_prediction.competitive_field_analyzer - INFO - Batch querying historical data for 13 horses: [1437359, 1377688, 1349896, 1495175, 1430252, 1449411, 1291128, 1345326, 1461235, 1268908, 1476208, 1379064, 1471729]
2025-11-07 14:52:37,000 - race_prediction.competitive_field_analyzer - INFO - Batch query completed in 49.37s, found 191 total records
2025-11-07 14:52:37,007 - race_prediction.competitive_field_analyzer - INFO - Batch query retrieved 191 total historical races
2025-11-07 14:52:37,007 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS PER HORSE ===
2025-11-07 14:52:37,008 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1437359: 19 historical races found
2025-11-07 14:52:37,008 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1377688: 16 historical races found
2025-11-07 14:52:37,008 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1349896: 15 historical races found
2025-11-07 14:52:37,008 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1495175: 15 historical races found
2025-11-07 14:52:37,008 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1430252: 13 historical races found
2025-11-07 14:52:37,008 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1449411: 16 historical races found
2025-11-07 14:52:37,008 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1291128: 20 historical races found
2025-11-07 14:52:37,008 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1345326: 12 historical races found
2025-11-07 14:52:37,008 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1461235: 13 historical races found
2025-11-07 14:52:37,008 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1268908: 10 historical races found
2025-11-07 14:52:37,008 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1476208: 12 historical races found
2025-11-07 14:52:37,008 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1379064: 12 historical races found
2025-11-07 14:52:37,008 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1471729: 18 historical races found
2025-11-07 14:52:37,008 - race_prediction.competitive_field_analyzer - INFO - Retrieved 191 total historical races
2025-11-07 14:52:37,008 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS BY HORSE ===
2025-11-07 14:52:37,008 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1437359: 19 historical races
2025-11-07 14:52:37,008 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1377688: 16 historical races
2025-11-07 14:52:37,008 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1349896: 15 historical races
2025-11-07 14:52:37,008 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1495175: 15 historical races
2025-11-07 14:52:37,008 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1430252: 13 historical races
2025-11-07 14:52:37,008 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1449411: 16 historical races
2025-11-07 14:52:37,008 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1291128: 20 historical races
2025-11-07 14:52:37,008 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1345326: 12 historical races
2025-11-07 14:52:37,008 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1461235: 13 historical races
2025-11-07 14:52:37,008 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1268908: 10 historical races
2025-11-07 14:52:37,008 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1476208: 12 historical races
2025-11-07 14:52:37,008 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1379064: 12 historical races
2025-11-07 14:52:37,008 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1471729: 18 historical races
2025-11-07 14:52:37,008 - race_prediction.competitive_field_analyzer - INFO - === END HISTORICAL DATA RETRIEVAL ===

2025-11-07 14:52:37,009 - race_prediction.competitive_field_analyzer - INFO - === EARNINGS QUALITY ANALYSIS ===
2025-11-07 14:52:37,009 - race_prediction.competitive_field_analyzer - INFO - Valid earnings data: 13/13 horses
2025-11-07 14:52:37,009 - race_prediction.competitive_field_analyzer - INFO - Sample earnings per race: ['400,818', '325,729', '245,978']
2025-11-07 14:52:37,009 - race_prediction.competitive_field_analyzer - INFO - Field earnings stats: avg=303,182, max=400,818
2025-11-07 14:52:37,009 - race_prediction.competitive_field_analyzer - INFO - === TRACK SPECIALIZATION ANALYSIS ===
2025-11-07 14:52:37,009 - race_prediction.competitive_field_analyzer - INFO - Horses with reliable venue data (3+ races): 0/13
2025-11-07 14:52:37,010 - race_prediction.competitive_field_analyzer - INFO - === FORM MOMENTUM ANALYSIS ===
2025-11-07 14:52:37,010 - race_prediction.competitive_field_analyzer - INFO - Field avg horse trend: 1.930, recent perf: 7.31
2025-11-07 14:52:37,010 - race_prediction.competitive_field_analyzer - INFO - Field avg jockey trend: 0.123
2025-11-07 14:52:37,010 - race_prediction.competitive_field_analyzer - INFO - Horses with improving form: 3/13
2025-11-07 14:52:37,010 - race_prediction.competitive_field_analyzer - INFO - === HOT CONNECTIONS ANALYSIS ===
2025-11-07 14:52:37,010 - race_prediction.competitive_field_analyzer - INFO - Jockeys with wins today: 0/13
2025-11-07 14:52:37,010 - race_prediction.competitive_field_analyzer - INFO - Trainers with wins today: 0/13
2025-11-07 14:52:37,010 - race_prediction.competitive_field_analyzer - INFO - === DISTANCE COMFORT ANALYSIS ===
2025-11-07 14:52:37,011 - race_prediction.competitive_field_analyzer - INFO - Current race distance: 2150m
2025-11-07 14:52:37,011 - race_prediction.competitive_field_analyzer - INFO - Horses with similar recent distance: 1/13
2025-11-07 14:52:37,011 - race_prediction.competitive_field_analyzer - INFO - === REALISTIC COMPETITIVE SCORING ===
2025-11-07 14:52:37,011 - race_prediction.competitive_field_analyzer - INFO - üìä COMPETITIVE ANALYSIS SUMMARY:
2025-11-07 14:52:37,011 - race_prediction.competitive_field_analyzer - INFO -    Total competitive races: 191
2025-11-07 14:52:37,011 - race_prediction.competitive_field_analyzer - INFO -    Horses with historical data: 13/13
2025-11-07 14:52:37,011 - race_prediction.competitive_field_analyzer - INFO -    Average races per horse: 14.7
2025-11-07 14:52:37,019 - race_prediction.quinte_prediction_storage - INFO - Stored 13 horses for Quint√© race 1611878
2025-11-07 14:52:38,850 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE ANALYSIS DEBUG ===
2025-11-07 14:52:38,850 - race_prediction.competitive_field_analyzer - INFO - Analyzing competitive field for race with 16 horses
2025-11-07 14:52:38,850 - race_prediction.competitive_field_analyzer - INFO - Race data shape: (16, 278)
2025-11-07 14:52:38,850 - race_prediction.competitive_field_analyzer - INFO - Available columns: ['id', 'comp', 'jour', 'hippo', 'reun', 'prix', 'prixnom', 'typec', 'partant', 'dist', 'handi', 'groupe', 'quinte', 'natpis', 'meteo', 'corde', 'temperature', 'forceVent', 'directionVent', 'nebulosite', 'prediction_results', 'actual_results', 'created_at', 'updated_at', 'processed_data', 'cheque', 'handi_raw', 'reclam', 'sex', 'tempscourse', 'handicap_level_score', 'cl', 'numero', 'cheval', 'age', 'cotedirect', 'coteprob', 'recence', 'ecar', 'defoeil', 'defoeilPrec', 'musiqueche', 'musiquejoc', 'entraineur', 'coursescheval', 'victoirescheval', 'placescheval', 'dernierealloc', 'derniernbpartants', 'dernieredist', 'derniereplace', 'dernierecote', 'dernierEnt', 'proprietaire', 'poidmont', 'pourcVictJockHippo', 'pourcPlaceJockHippo', 'pourcVictChevalHippo', 'pourcPlaceChevalHippo', 'tempstot', 'vha', 'recordG', 'txreclam', 'dernierTxreclam', 'gainsCarriere', 'gainsAnneeEnCours', 'handicapDistance', 'handicapPoids', 'TxVictCouple', 'nbVictCouple', 'nbPlaceCouple', 'idche', 'idJockey', 'idEntraineur', 'defFirstTime', 'oeilFirstTime', 'oeil', 'dernierOeil', 'ratio_victoires', 'ratio_places', 'gains_par_course', 'efficacite_couple', 'regularite_couple', 'progression_couple', 'perf_cheval_hippo', 'perf_jockey_hippo', 'blinkers_first_time', 'has_blinkers', 'has_standard_blinkers', 'has_australian_blinkers', 'blinkers_added', 'blinkers_removed', 'blinkers_type_changed', 'blinkers_any_change', 'blinkers_high_impact_change', 'shoeing_first_time', 'fully_shod', 'front_shod_only', 'back_shod_only', 'barefoot', 'shoeing_changed', 'barefoot_to_shod', 'shod_to_barefoot', 'major_shoeing_change', 'shoeing_complexity', 'multiple_equipment_changes', 'equipment_momentum_score', 'high_equipment_momentum', 'multiple_first_time_changes', 'equipment_optimization_score', 'career_strike_rate', 'earnings_per_race', 'earnings_trend', 'last_race_position_normalized', 'last_race_odds_normalized', 'last_race_field_size_factor', 'distance_consistency', 'vha_normalized', 'claiming_tax_trend', 'class_stability', 'che_global_avg_pos', 'che_global_recent_perf', 'che_global_consistency', 'che_global_trend', 'che_global_pct_top3', 'che_global_nb_courses', 'che_global_total_races', 'che_global_dnf_rate', 'che_weighted_avg_pos', 'che_weighted_recent_perf', 'che_weighted_consistency', 'che_weighted_pct_top3', 'che_weighted_nb_courses', 'che_weighted_total_races', 'che_weighted_dnf_rate', 'che_weighted_trend', 'che_bytype_avg_pos', 'che_bytype_recent_perf', 'che_bytype_consistency', 'che_bytype_trend', 'che_bytype_pct_top3', 'che_bytype_nb_courses', 'che_bytype_dnf_rate', 'joc_global_avg_pos', 'joc_global_recent_perf', 'joc_global_consistency', 'joc_global_trend', 'joc_global_pct_top3', 'joc_global_nb_courses', 'joc_global_total_races', 'joc_global_dnf_rate', 'joc_weighted_avg_pos', 'joc_weighted_recent_perf', 'joc_weighted_consistency', 'joc_weighted_pct_top3', 'joc_weighted_nb_courses', 'joc_weighted_total_races', 'joc_weighted_dnf_rate', 'joc_weighted_trend', 'joc_bytype_avg_pos', 'joc_bytype_recent_perf', 'joc_bytype_consistency', 'joc_bytype_trend', 'joc_bytype_pct_top3', 'joc_bytype_nb_courses', 'joc_bytype_dnf_rate', 'class_drop_pct', 'purse_per_starter', 'purse_ratio', 'moving_up_in_class', 'class_shock_indicator', 'handicap_level_change', 'time_per_distance', 'time_vs_record', 'pace_rating', 'speed_figure_proxy', 'market_confidence_shift', 'last_race_improvement', 'bounce_risk', 'layoff_distance_interaction', 'trainer_change', 'connection_stability', 'field_size_change', 'distance_comfort', 'competition_level_shift', 'recence_x_class_drop', 'trainer_change_x_recence', 'distance_change_x_recence', 'che_by_type_avg_pos', 'che_by_type_recent_perf', 'che_by_type_consistency', 'che_by_type_trend', 'che_by_type_pct_top3', 'che_by_type_nb_courses', 'che_by_type_dnf_rate', 'joc_by_type_avg_pos', 'joc_by_type_recent_perf', 'joc_by_type_consistency', 'joc_by_type_trend', 'joc_by_type_pct_top3', 'joc_by_type_nb_courses', 'joc_by_type_dnf_rate', 'trainer_victoires', 'trainer_places', 'trainer_courses', 'trainer_winrate', 'trainer_placerate', 'trainer_quality_score', 'trainer_experience_level', 'handicap_poids', 'handicap_dist', 'prec_handicap_poids', 'prec_handicap_dist', 'handicap_poids_change', 'handicap_poids_increased', 'handicap_poids_decreased', 'handicap_dist_change', 'handicap_dist_increased', 'handicap_dist_decreased', 'total_handicap', 'handicap_momentum', 'last_race_position', 'last_race_distance', 'distance_change', 'distance_change_pct', 'distance_increased', 'distance_decreased', 'same_distance', 'corde_change', 'corde_improved', 'corde_worsened', 'last_race_top3', 'last_race_won', 'che_bytype_total_races', 'joc_bytype_total_races', 'che_form_momentum', 'che_improving_form', 'che_declining_form', 'che_high_consistency', 'che_recent_quality', 'che_elite_performer', 'che_regular_placer', 'joc_form_momentum', 'joc_improving_form', 'joc_high_consistency', 'joc_elite_performer', 'synergy_both_improving', 'synergy_both_consistent', 'synergy_both_elite', 'overall_momentum_score', 'high_momentum', 'quinte_career_starts', 'quinte_win_rate', 'quinte_top5_rate', 'avg_quinte_position', 'days_since_last_quinte', 'quinte_handicap_specialist', 'quinte_conditions_specialist', 'quinte_large_field_ability', 'quinte_track_condition_fit', 'is_handicap_quinte', 'handicap_division', 'purse_level_category', 'field_size_category', 'track_condition_PH', 'track_condition_DUR', 'track_condition_PS', 'track_condition_PSF', 'weather_clear', 'weather_rain', 'weather_cloudy', 'post_position_bias', 'post_position_track_bias', 'raw_tabnet_prediction', 'predicted_position_tabnet', 'raw_rf_prediction', 'predicted_position_rf', 'predicted_position_base']
2025-11-07 14:52:38,853 - race_prediction.competitive_field_analyzer - INFO - === CRITICAL COLUMNS ANALYSIS ===
2025-11-07 14:52:38,854 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ recordG: 16/16 non-null values (100.0%)
2025-11-07 14:52:38,854 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [0.0, 0.0, 0.0]
2025-11-07 14:52:38,854 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ hippo: 16/16 non-null values (100.0%)
2025-11-07 14:52:38,854 - race_prediction.competitive_field_analyzer - INFO -    Sample values: ['Paris-Vincennes', 'Paris-Vincennes', 'Paris-Vincennes']
2025-11-07 14:52:38,854 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ coursescheval: 16/16 non-null values (100.0%)
2025-11-07 14:52:38,854 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [51, 54, 58]
2025-11-07 14:52:38,854 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ victoirescheval: 16/16 non-null values (100.0%)
2025-11-07 14:52:38,854 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [7, 15, 12]
2025-11-07 14:52:38,854 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ placescheval: 16/16 non-null values (100.0%)
2025-11-07 14:52:38,858 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [23, 31, 20]
2025-11-07 14:52:38,858 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ gainsCarriere: 16/16 non-null values (100.0%)
2025-11-07 14:52:38,858 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [15164200, 15887000, 17290000]
2025-11-07 14:52:38,858 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ age: 16/16 non-null values (100.0%)
2025-11-07 14:52:38,858 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [8, 8, 8]
2025-11-07 14:52:38,858 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ derniereplace: 16/16 non-null values (100.0%)
2025-11-07 14:52:38,858 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [10.0, 1.0, 8.0]
2025-11-07 14:52:38,858 - race_prediction.competitive_field_analyzer - INFO - === RACE METADATA ===
2025-11-07 14:52:38,858 - race_prediction.competitive_field_analyzer - INFO - comp: 1611846
2025-11-07 14:52:38,858 - race_prediction.competitive_field_analyzer - INFO - hippo: Paris-Vincennes
2025-11-07 14:52:38,858 - race_prediction.competitive_field_analyzer - INFO - dist: 2850
2025-11-07 14:52:38,858 - race_prediction.competitive_field_analyzer - INFO - typec: Attel√©
2025-11-07 14:52:38,858 - race_prediction.competitive_field_analyzer - INFO - partant: 16
2025-11-07 14:52:38,858 - race_prediction.competitive_field_analyzer - INFO - === SAMPLE RACE DATA ===
2025-11-07 14:52:38,858 - race_prediction.competitive_field_analyzer - INFO - Sample data (columns: ['numero', 'cheval', 'recordG', 'hippo', 'coursescheval']):
2025-11-07 14:52:38,859 - race_prediction.competitive_field_analyzer - INFO -   Horse 0: {'numero': 1, 'cheval': 'Hand Full', 'recordG': 0.0, 'hippo': 'Paris-Vincennes', 'coursescheval': 51}
2025-11-07 14:52:38,860 - race_prediction.competitive_field_analyzer - INFO -   Horse 1: {'numero': 2, 'cheval': 'Neo Turbo', 'recordG': 0.0, 'hippo': 'Paris-Vincennes', 'coursescheval': 54}
2025-11-07 14:52:38,860 - race_prediction.competitive_field_analyzer - INFO -   Horse 2: {'numero': 3, 'cheval': 'Hibiscus de Latom', 'recordG': 0.0, 'hippo': 'Paris-Vincennes', 'coursescheval': 58}
2025-11-07 14:52:38,860 - race_prediction.competitive_field_analyzer - INFO - === END COMPETITIVE ANALYSIS DEBUG ===

2025-11-07 14:52:38,860 - race_prediction.competitive_field_analyzer - INFO - === RETRIEVING HISTORICAL DATA ===
2025-11-07 14:52:38,860 - race_prediction.competitive_field_analyzer - INFO - Fetching historical data for 16 horses: [1406634, 1438113, 1430278, 1430596, 1430400, 1407560, 1433341, 1415077, 1381857, 1403008, 1388158, 1458863, 1384898, 1381710, 1379073, 1403037]
2025-11-07 14:52:38,861 - race_prediction.competitive_field_analyzer - INFO - Batch querying historical data for 16 horses: [1406634, 1438113, 1430278, 1430596, 1430400, 1407560, 1433341, 1415077, 1381857, 1403008, 1388158, 1458863, 1384898, 1381710, 1379073, 1403037]
2025-11-07 14:52:55,939 - race_prediction.competitive_field_analyzer - INFO - Batch query completed in 17.08s, found 215 total records
2025-11-07 14:52:55,947 - race_prediction.competitive_field_analyzer - INFO - Batch query retrieved 215 total historical races
2025-11-07 14:52:55,948 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS PER HORSE ===
2025-11-07 14:52:55,948 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1406634: 9 historical races found
2025-11-07 14:52:55,948 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1438113: 14 historical races found
2025-11-07 14:52:55,948 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1430278: 10 historical races found
2025-11-07 14:52:55,948 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1430596: 11 historical races found
2025-11-07 14:52:55,948 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1430400: 14 historical races found
2025-11-07 14:52:55,948 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1407560: 19 historical races found
2025-11-07 14:52:55,948 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1433341: 6 historical races found
2025-11-07 14:52:55,948 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1415077: 15 historical races found
2025-11-07 14:52:55,948 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1381857: 12 historical races found
2025-11-07 14:52:55,948 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1403008: 18 historical races found
2025-11-07 14:52:55,948 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1388158: 18 historical races found
2025-11-07 14:52:55,948 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1458863: 4 historical races found
2025-11-07 14:52:55,948 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1384898: 20 historical races found
2025-11-07 14:52:55,948 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1381710: 13 historical races found
2025-11-07 14:52:55,948 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1379073: 14 historical races found
2025-11-07 14:52:55,948 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1403037: 18 historical races found
2025-11-07 14:52:55,948 - race_prediction.competitive_field_analyzer - INFO - Retrieved 215 total historical races
2025-11-07 14:52:55,948 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS BY HORSE ===
2025-11-07 14:52:55,948 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1406634: 9 historical races
2025-11-07 14:52:55,948 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1438113: 14 historical races
2025-11-07 14:52:55,948 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1430278: 10 historical races
2025-11-07 14:52:55,948 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1430596: 11 historical races
2025-11-07 14:52:55,948 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1430400: 14 historical races
2025-11-07 14:52:55,948 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1407560: 19 historical races
2025-11-07 14:52:55,948 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1433341: 6 historical races
2025-11-07 14:52:55,948 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1415077: 15 historical races
2025-11-07 14:52:55,948 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1381857: 12 historical races
2025-11-07 14:52:55,948 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1403008: 18 historical races
2025-11-07 14:52:55,948 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1388158: 18 historical races
2025-11-07 14:52:55,948 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1458863: 4 historical races
2025-11-07 14:52:55,948 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1384898: 20 historical races
2025-11-07 14:52:55,948 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1381710: 13 historical races
2025-11-07 14:52:55,948 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1379073: 14 historical races
2025-11-07 14:52:55,948 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1403037: 18 historical races
2025-11-07 14:52:55,948 - race_prediction.competitive_field_analyzer - INFO - === END HISTORICAL DATA RETRIEVAL ===

2025-11-07 14:52:55,949 - race_prediction.competitive_field_analyzer - INFO - === EARNINGS QUALITY ANALYSIS ===
2025-11-07 14:52:55,949 - race_prediction.competitive_field_analyzer - INFO - Valid earnings data: 16/16 horses
2025-11-07 14:52:55,949 - race_prediction.competitive_field_analyzer - INFO - Sample earnings per race: ['297,337', '294,204', '298,103']
2025-11-07 14:52:55,949 - race_prediction.competitive_field_analyzer - INFO - Field earnings stats: avg=275,228, max=426,686
2025-11-07 14:52:55,949 - race_prediction.competitive_field_analyzer - INFO - === TRACK SPECIALIZATION ANALYSIS ===
2025-11-07 14:52:55,949 - race_prediction.competitive_field_analyzer - INFO - Horses with reliable venue data (3+ races): 0/16
2025-11-07 14:52:55,950 - race_prediction.competitive_field_analyzer - INFO - === FORM MOMENTUM ANALYSIS ===
2025-11-07 14:52:55,950 - race_prediction.competitive_field_analyzer - INFO - Field avg horse trend: 1.045, recent perf: 6.87
2025-11-07 14:52:55,950 - race_prediction.competitive_field_analyzer - INFO - Field avg jockey trend: -0.771
2025-11-07 14:52:55,950 - race_prediction.competitive_field_analyzer - INFO - Horses with improving form: 4/16
2025-11-07 14:52:55,950 - race_prediction.competitive_field_analyzer - INFO - === HOT CONNECTIONS ANALYSIS ===
2025-11-07 14:52:55,950 - race_prediction.competitive_field_analyzer - INFO - Jockeys with wins today: 0/16
2025-11-07 14:52:55,950 - race_prediction.competitive_field_analyzer - INFO - Trainers with wins today: 0/16
2025-11-07 14:52:55,951 - race_prediction.competitive_field_analyzer - INFO - === DISTANCE COMFORT ANALYSIS ===
2025-11-07 14:52:55,951 - race_prediction.competitive_field_analyzer - INFO - Current race distance: 2850m
2025-11-07 14:52:55,951 - race_prediction.competitive_field_analyzer - INFO - Horses with similar recent distance: 3/16
2025-11-07 14:52:55,951 - race_prediction.competitive_field_analyzer - INFO - === REALISTIC COMPETITIVE SCORING ===
2025-11-07 14:52:55,951 - race_prediction.competitive_field_analyzer - INFO - üìä COMPETITIVE ANALYSIS SUMMARY:
2025-11-07 14:52:55,951 - race_prediction.competitive_field_analyzer - INFO -    Total competitive races: 215
2025-11-07 14:52:55,951 - race_prediction.competitive_field_analyzer - INFO -    Horses with historical data: 16/16
2025-11-07 14:52:55,951 - race_prediction.competitive_field_analyzer - INFO -    Average races per horse: 13.4
2025-11-07 14:52:55,959 - race_prediction.quinte_prediction_storage - INFO - Stored 16 horses for Quint√© race 1611846
2025-11-07 14:52:57,772 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE ANALYSIS DEBUG ===
2025-11-07 14:52:57,772 - race_prediction.competitive_field_analyzer - INFO - Analyzing competitive field for race with 16 horses
2025-11-07 14:52:57,772 - race_prediction.competitive_field_analyzer - INFO - Race data shape: (16, 278)
2025-11-07 14:52:57,772 - race_prediction.competitive_field_analyzer - INFO - Available columns: ['id', 'comp', 'jour', 'hippo', 'reun', 'prix', 'prixnom', 'typec', 'partant', 'dist', 'handi', 'groupe', 'quinte', 'natpis', 'meteo', 'corde', 'temperature', 'forceVent', 'directionVent', 'nebulosite', 'prediction_results', 'actual_results', 'created_at', 'updated_at', 'processed_data', 'cheque', 'handi_raw', 'reclam', 'sex', 'tempscourse', 'handicap_level_score', 'cl', 'numero', 'cheval', 'age', 'cotedirect', 'coteprob', 'recence', 'ecar', 'defoeil', 'defoeilPrec', 'musiqueche', 'musiquejoc', 'entraineur', 'coursescheval', 'victoirescheval', 'placescheval', 'dernierealloc', 'derniernbpartants', 'dernieredist', 'derniereplace', 'dernierecote', 'dernierEnt', 'proprietaire', 'poidmont', 'pourcVictJockHippo', 'pourcPlaceJockHippo', 'pourcVictChevalHippo', 'pourcPlaceChevalHippo', 'tempstot', 'vha', 'recordG', 'txreclam', 'dernierTxreclam', 'gainsCarriere', 'gainsAnneeEnCours', 'handicapDistance', 'handicapPoids', 'TxVictCouple', 'nbVictCouple', 'nbPlaceCouple', 'idche', 'idJockey', 'idEntraineur', 'defFirstTime', 'oeilFirstTime', 'oeil', 'dernierOeil', 'ratio_victoires', 'ratio_places', 'gains_par_course', 'efficacite_couple', 'regularite_couple', 'progression_couple', 'perf_cheval_hippo', 'perf_jockey_hippo', 'blinkers_first_time', 'has_blinkers', 'has_standard_blinkers', 'has_australian_blinkers', 'blinkers_added', 'blinkers_removed', 'blinkers_type_changed', 'blinkers_any_change', 'blinkers_high_impact_change', 'shoeing_first_time', 'fully_shod', 'front_shod_only', 'back_shod_only', 'barefoot', 'shoeing_changed', 'barefoot_to_shod', 'shod_to_barefoot', 'major_shoeing_change', 'shoeing_complexity', 'multiple_equipment_changes', 'equipment_momentum_score', 'high_equipment_momentum', 'multiple_first_time_changes', 'equipment_optimization_score', 'career_strike_rate', 'earnings_per_race', 'earnings_trend', 'last_race_position_normalized', 'last_race_odds_normalized', 'last_race_field_size_factor', 'distance_consistency', 'vha_normalized', 'claiming_tax_trend', 'class_stability', 'che_global_avg_pos', 'che_global_recent_perf', 'che_global_consistency', 'che_global_trend', 'che_global_pct_top3', 'che_global_nb_courses', 'che_global_total_races', 'che_global_dnf_rate', 'che_weighted_avg_pos', 'che_weighted_recent_perf', 'che_weighted_consistency', 'che_weighted_pct_top3', 'che_weighted_nb_courses', 'che_weighted_total_races', 'che_weighted_dnf_rate', 'che_weighted_trend', 'che_bytype_avg_pos', 'che_bytype_recent_perf', 'che_bytype_consistency', 'che_bytype_trend', 'che_bytype_pct_top3', 'che_bytype_nb_courses', 'che_bytype_dnf_rate', 'joc_global_avg_pos', 'joc_global_recent_perf', 'joc_global_consistency', 'joc_global_trend', 'joc_global_pct_top3', 'joc_global_nb_courses', 'joc_global_total_races', 'joc_global_dnf_rate', 'joc_weighted_avg_pos', 'joc_weighted_recent_perf', 'joc_weighted_consistency', 'joc_weighted_pct_top3', 'joc_weighted_nb_courses', 'joc_weighted_total_races', 'joc_weighted_dnf_rate', 'joc_weighted_trend', 'joc_bytype_avg_pos', 'joc_bytype_recent_perf', 'joc_bytype_consistency', 'joc_bytype_trend', 'joc_bytype_pct_top3', 'joc_bytype_nb_courses', 'joc_bytype_dnf_rate', 'class_drop_pct', 'purse_per_starter', 'purse_ratio', 'moving_up_in_class', 'class_shock_indicator', 'handicap_level_change', 'time_per_distance', 'time_vs_record', 'pace_rating', 'speed_figure_proxy', 'market_confidence_shift', 'last_race_improvement', 'bounce_risk', 'layoff_distance_interaction', 'trainer_change', 'connection_stability', 'field_size_change', 'distance_comfort', 'competition_level_shift', 'recence_x_class_drop', 'trainer_change_x_recence', 'distance_change_x_recence', 'che_by_type_avg_pos', 'che_by_type_recent_perf', 'che_by_type_consistency', 'che_by_type_trend', 'che_by_type_pct_top3', 'che_by_type_nb_courses', 'che_by_type_dnf_rate', 'joc_by_type_avg_pos', 'joc_by_type_recent_perf', 'joc_by_type_consistency', 'joc_by_type_trend', 'joc_by_type_pct_top3', 'joc_by_type_nb_courses', 'joc_by_type_dnf_rate', 'trainer_victoires', 'trainer_places', 'trainer_courses', 'trainer_winrate', 'trainer_placerate', 'trainer_quality_score', 'trainer_experience_level', 'handicap_poids', 'handicap_dist', 'prec_handicap_poids', 'prec_handicap_dist', 'handicap_poids_change', 'handicap_poids_increased', 'handicap_poids_decreased', 'handicap_dist_change', 'handicap_dist_increased', 'handicap_dist_decreased', 'total_handicap', 'handicap_momentum', 'last_race_position', 'last_race_distance', 'distance_change', 'distance_change_pct', 'distance_increased', 'distance_decreased', 'same_distance', 'corde_change', 'corde_improved', 'corde_worsened', 'last_race_top3', 'last_race_won', 'che_bytype_total_races', 'joc_bytype_total_races', 'che_form_momentum', 'che_improving_form', 'che_declining_form', 'che_high_consistency', 'che_recent_quality', 'che_elite_performer', 'che_regular_placer', 'joc_form_momentum', 'joc_improving_form', 'joc_high_consistency', 'joc_elite_performer', 'synergy_both_improving', 'synergy_both_consistent', 'synergy_both_elite', 'overall_momentum_score', 'high_momentum', 'quinte_career_starts', 'quinte_win_rate', 'quinte_top5_rate', 'avg_quinte_position', 'days_since_last_quinte', 'quinte_handicap_specialist', 'quinte_conditions_specialist', 'quinte_large_field_ability', 'quinte_track_condition_fit', 'is_handicap_quinte', 'handicap_division', 'purse_level_category', 'field_size_category', 'track_condition_PH', 'track_condition_DUR', 'track_condition_PS', 'track_condition_PSF', 'weather_clear', 'weather_rain', 'weather_cloudy', 'post_position_bias', 'post_position_track_bias', 'raw_tabnet_prediction', 'predicted_position_tabnet', 'raw_rf_prediction', 'predicted_position_rf', 'predicted_position_base']
2025-11-07 14:52:57,773 - race_prediction.competitive_field_analyzer - INFO - === CRITICAL COLUMNS ANALYSIS ===
2025-11-07 14:52:57,773 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ recordG: 16/16 non-null values (100.0%)
2025-11-07 14:52:57,773 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [0.0, 0.0, 0.0]
2025-11-07 14:52:57,773 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ hippo: 16/16 non-null values (100.0%)
2025-11-07 14:52:57,773 - race_prediction.competitive_field_analyzer - INFO -    Sample values: ['Auteuil', 'Auteuil', 'Auteuil']
2025-11-07 14:52:57,773 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ coursescheval: 16/16 non-null values (100.0%)
2025-11-07 14:52:57,773 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [48, 18, 25]
2025-11-07 14:52:57,773 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ victoirescheval: 16/16 non-null values (100.0%)
2025-11-07 14:52:57,773 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [7, 4, 4]
2025-11-07 14:52:57,773 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ placescheval: 16/16 non-null values (100.0%)
2025-11-07 14:52:57,774 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [14, 14, 12]
2025-11-07 14:52:57,774 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ gainsCarriere: 16/16 non-null values (100.0%)
2025-11-07 14:52:57,774 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [26344200, 28553300, 17633500]
2025-11-07 14:52:57,774 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ age: 16/16 non-null values (100.0%)
2025-11-07 14:52:57,774 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [8, 8, 9]
2025-11-07 14:52:57,774 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ derniereplace: 16/16 non-null values (100.0%)
2025-11-07 14:52:57,774 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [1, 9, 2]
2025-11-07 14:52:57,774 - race_prediction.competitive_field_analyzer - INFO - === RACE METADATA ===
2025-11-07 14:52:57,774 - race_prediction.competitive_field_analyzer - INFO - comp: 1606724
2025-11-07 14:52:57,774 - race_prediction.competitive_field_analyzer - INFO - hippo: Auteuil
2025-11-07 14:52:57,774 - race_prediction.competitive_field_analyzer - INFO - dist: 3900
2025-11-07 14:52:57,774 - race_prediction.competitive_field_analyzer - INFO - typec: Haies
2025-11-07 14:52:57,774 - race_prediction.competitive_field_analyzer - INFO - partant: 16
2025-11-07 14:52:57,774 - race_prediction.competitive_field_analyzer - INFO - === SAMPLE RACE DATA ===
2025-11-07 14:52:57,774 - race_prediction.competitive_field_analyzer - INFO - Sample data (columns: ['numero', 'cheval', 'recordG', 'hippo', 'coursescheval']):
2025-11-07 14:52:57,774 - race_prediction.competitive_field_analyzer - INFO -   Horse 0: {'numero': 1, 'cheval': 'Hamandio', 'recordG': 0.0, 'hippo': 'Auteuil', 'coursescheval': 48}
2025-11-07 14:52:57,774 - race_prediction.competitive_field_analyzer - INFO -   Horse 1: {'numero': 2, 'cheval': 'New President', 'recordG': 0.0, 'hippo': 'Auteuil', 'coursescheval': 18}
2025-11-07 14:52:57,774 - race_prediction.competitive_field_analyzer - INFO -   Horse 2: {'numero': 3, 'cheval': 'Grand Art', 'recordG': 0.0, 'hippo': 'Auteuil', 'coursescheval': 25}
2025-11-07 14:52:57,774 - race_prediction.competitive_field_analyzer - INFO - === END COMPETITIVE ANALYSIS DEBUG ===

2025-11-07 14:52:57,774 - race_prediction.competitive_field_analyzer - INFO - === RETRIEVING HISTORICAL DATA ===
2025-11-07 14:52:57,774 - race_prediction.competitive_field_analyzer - INFO - Fetching historical data for 16 horses: [1398661, 1412451, 1350182, 1400556, 1536715, 1545660, 1415630, 1397720, 1511839, 1537402, 1476552, 1524729, 1533867, 1575110, 1658661, 1536636]
2025-11-07 14:52:57,775 - race_prediction.competitive_field_analyzer - INFO - Batch querying historical data for 16 horses: [1398661, 1412451, 1350182, 1400556, 1536715, 1545660, 1415630, 1397720, 1511839, 1537402, 1476552, 1524729, 1533867, 1575110, 1658661, 1536636]
2025-11-07 14:53:19,152 - race_prediction.competitive_field_analyzer - INFO - Batch query completed in 21.38s, found 119 total records
2025-11-07 14:53:19,158 - race_prediction.competitive_field_analyzer - INFO - Batch query retrieved 119 total historical races
2025-11-07 14:53:19,158 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS PER HORSE ===
2025-11-07 14:53:19,158 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1398661: 11 historical races found
2025-11-07 14:53:19,158 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1412451: 8 historical races found
2025-11-07 14:53:19,158 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1350182: 5 historical races found
2025-11-07 14:53:19,158 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1400556: 7 historical races found
2025-11-07 14:53:19,158 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1536715: 12 historical races found
2025-11-07 14:53:19,158 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1545660: 6 historical races found
2025-11-07 14:53:19,158 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1415630: 6 historical races found
2025-11-07 14:53:19,158 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1397720: 10 historical races found
2025-11-07 14:53:19,158 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1511839: 7 historical races found
2025-11-07 14:53:19,158 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1537402: 9 historical races found
2025-11-07 14:53:19,158 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1476552: 5 historical races found
2025-11-07 14:53:19,158 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1524729: 9 historical races found
2025-11-07 14:53:19,158 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1533867: 10 historical races found
2025-11-07 14:53:19,158 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1575110: 4 historical races found
2025-11-07 14:53:19,158 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1658661: 6 historical races found
2025-11-07 14:53:19,158 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1536636: 4 historical races found
2025-11-07 14:53:19,158 - race_prediction.competitive_field_analyzer - INFO - Retrieved 119 total historical races
2025-11-07 14:53:19,158 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS BY HORSE ===
2025-11-07 14:53:19,158 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1398661: 11 historical races
2025-11-07 14:53:19,158 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1412451: 8 historical races
2025-11-07 14:53:19,158 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1350182: 5 historical races
2025-11-07 14:53:19,158 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1400556: 7 historical races
2025-11-07 14:53:19,158 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1536715: 12 historical races
2025-11-07 14:53:19,158 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1545660: 6 historical races
2025-11-07 14:53:19,158 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1415630: 6 historical races
2025-11-07 14:53:19,158 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1397720: 10 historical races
2025-11-07 14:53:19,158 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1511839: 7 historical races
2025-11-07 14:53:19,158 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1537402: 9 historical races
2025-11-07 14:53:19,158 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1476552: 5 historical races
2025-11-07 14:53:19,158 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1524729: 9 historical races
2025-11-07 14:53:19,158 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1533867: 10 historical races
2025-11-07 14:53:19,158 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1575110: 4 historical races
2025-11-07 14:53:19,159 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1658661: 6 historical races
2025-11-07 14:53:19,159 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1536636: 4 historical races
2025-11-07 14:53:19,159 - race_prediction.competitive_field_analyzer - INFO - === END HISTORICAL DATA RETRIEVAL ===

2025-11-07 14:53:19,159 - race_prediction.competitive_field_analyzer - INFO - === EARNINGS QUALITY ANALYSIS ===
2025-11-07 14:53:19,159 - race_prediction.competitive_field_analyzer - INFO - Valid earnings data: 16/16 horses
2025-11-07 14:53:19,159 - race_prediction.competitive_field_analyzer - INFO - Sample earnings per race: ['548,838', '1,586,294', '705,340']
2025-11-07 14:53:19,159 - race_prediction.competitive_field_analyzer - INFO - Field earnings stats: avg=714,914, max=1,586,294
2025-11-07 14:53:19,159 - race_prediction.competitive_field_analyzer - INFO - === TRACK SPECIALIZATION ANALYSIS ===
2025-11-07 14:53:19,159 - race_prediction.competitive_field_analyzer - INFO - Horses with reliable venue data (3+ races): 0/16
2025-11-07 14:53:19,160 - race_prediction.competitive_field_analyzer - INFO - === FORM MOMENTUM ANALYSIS ===
2025-11-07 14:53:19,160 - race_prediction.competitive_field_analyzer - INFO - Field avg horse trend: 1.675, recent perf: 7.50
2025-11-07 14:53:19,160 - race_prediction.competitive_field_analyzer - INFO - Field avg jockey trend: -0.028
2025-11-07 14:53:19,160 - race_prediction.competitive_field_analyzer - INFO - Horses with improving form: 4/16
2025-11-07 14:53:19,161 - race_prediction.competitive_field_analyzer - INFO - === HOT CONNECTIONS ANALYSIS ===
2025-11-07 14:53:19,161 - race_prediction.competitive_field_analyzer - INFO - Jockeys with wins today: 0/16
2025-11-07 14:53:19,161 - race_prediction.competitive_field_analyzer - INFO - Trainers with wins today: 0/16
2025-11-07 14:53:19,161 - race_prediction.competitive_field_analyzer - INFO - === DISTANCE COMFORT ANALYSIS ===
2025-11-07 14:53:19,161 - race_prediction.competitive_field_analyzer - INFO - Current race distance: 3900m
2025-11-07 14:53:19,161 - race_prediction.competitive_field_analyzer - INFO - Horses with similar recent distance: 3/16
2025-11-07 14:53:19,161 - race_prediction.competitive_field_analyzer - INFO - === REALISTIC COMPETITIVE SCORING ===
2025-11-07 14:53:19,161 - race_prediction.competitive_field_analyzer - INFO - üìä COMPETITIVE ANALYSIS SUMMARY:
2025-11-07 14:53:19,162 - race_prediction.competitive_field_analyzer - INFO -    Total competitive races: 119
2025-11-07 14:53:19,162 - race_prediction.competitive_field_analyzer - INFO -    Horses with historical data: 16/16
2025-11-07 14:53:19,162 - race_prediction.competitive_field_analyzer - INFO -    Average races per horse: 7.4
2025-11-07 14:53:19,169 - race_prediction.quinte_prediction_storage - INFO - Stored 16 horses for Quint√© race 1606724
2025-11-07 14:53:20,977 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE ANALYSIS DEBUG ===
2025-11-07 14:53:20,977 - race_prediction.competitive_field_analyzer - INFO - Analyzing competitive field for race with 16 horses
2025-11-07 14:53:20,977 - race_prediction.competitive_field_analyzer - INFO - Race data shape: (16, 278)
2025-11-07 14:53:20,978 - race_prediction.competitive_field_analyzer - INFO - Available columns: ['id', 'comp', 'jour', 'hippo', 'reun', 'prix', 'prixnom', 'typec', 'partant', 'dist', 'handi', 'groupe', 'quinte', 'natpis', 'meteo', 'corde', 'temperature', 'forceVent', 'directionVent', 'nebulosite', 'prediction_results', 'actual_results', 'created_at', 'updated_at', 'processed_data', 'cheque', 'handi_raw', 'reclam', 'sex', 'tempscourse', 'handicap_level_score', 'cl', 'numero', 'cheval', 'age', 'cotedirect', 'coteprob', 'recence', 'ecar', 'defoeil', 'defoeilPrec', 'musiqueche', 'musiquejoc', 'entraineur', 'coursescheval', 'victoirescheval', 'placescheval', 'dernierealloc', 'derniernbpartants', 'dernieredist', 'derniereplace', 'dernierecote', 'dernierEnt', 'proprietaire', 'poidmont', 'pourcVictJockHippo', 'pourcPlaceJockHippo', 'pourcVictChevalHippo', 'pourcPlaceChevalHippo', 'tempstot', 'vha', 'recordG', 'txreclam', 'dernierTxreclam', 'gainsCarriere', 'gainsAnneeEnCours', 'handicapDistance', 'handicapPoids', 'TxVictCouple', 'nbVictCouple', 'nbPlaceCouple', 'idche', 'idJockey', 'idEntraineur', 'defFirstTime', 'oeilFirstTime', 'oeil', 'dernierOeil', 'ratio_victoires', 'ratio_places', 'gains_par_course', 'efficacite_couple', 'regularite_couple', 'progression_couple', 'perf_cheval_hippo', 'perf_jockey_hippo', 'blinkers_first_time', 'has_blinkers', 'has_standard_blinkers', 'has_australian_blinkers', 'blinkers_added', 'blinkers_removed', 'blinkers_type_changed', 'blinkers_any_change', 'blinkers_high_impact_change', 'shoeing_first_time', 'fully_shod', 'front_shod_only', 'back_shod_only', 'barefoot', 'shoeing_changed', 'barefoot_to_shod', 'shod_to_barefoot', 'major_shoeing_change', 'shoeing_complexity', 'multiple_equipment_changes', 'equipment_momentum_score', 'high_equipment_momentum', 'multiple_first_time_changes', 'equipment_optimization_score', 'career_strike_rate', 'earnings_per_race', 'earnings_trend', 'last_race_position_normalized', 'last_race_odds_normalized', 'last_race_field_size_factor', 'distance_consistency', 'vha_normalized', 'claiming_tax_trend', 'class_stability', 'che_global_avg_pos', 'che_global_recent_perf', 'che_global_consistency', 'che_global_trend', 'che_global_pct_top3', 'che_global_nb_courses', 'che_global_total_races', 'che_global_dnf_rate', 'che_weighted_avg_pos', 'che_weighted_recent_perf', 'che_weighted_consistency', 'che_weighted_pct_top3', 'che_weighted_nb_courses', 'che_weighted_total_races', 'che_weighted_dnf_rate', 'che_weighted_trend', 'che_bytype_avg_pos', 'che_bytype_recent_perf', 'che_bytype_consistency', 'che_bytype_trend', 'che_bytype_pct_top3', 'che_bytype_nb_courses', 'che_bytype_dnf_rate', 'joc_global_avg_pos', 'joc_global_recent_perf', 'joc_global_consistency', 'joc_global_trend', 'joc_global_pct_top3', 'joc_global_nb_courses', 'joc_global_total_races', 'joc_global_dnf_rate', 'joc_weighted_avg_pos', 'joc_weighted_recent_perf', 'joc_weighted_consistency', 'joc_weighted_pct_top3', 'joc_weighted_nb_courses', 'joc_weighted_total_races', 'joc_weighted_dnf_rate', 'joc_weighted_trend', 'joc_bytype_avg_pos', 'joc_bytype_recent_perf', 'joc_bytype_consistency', 'joc_bytype_trend', 'joc_bytype_pct_top3', 'joc_bytype_nb_courses', 'joc_bytype_dnf_rate', 'class_drop_pct', 'purse_per_starter', 'purse_ratio', 'moving_up_in_class', 'class_shock_indicator', 'handicap_level_change', 'time_per_distance', 'time_vs_record', 'pace_rating', 'speed_figure_proxy', 'market_confidence_shift', 'last_race_improvement', 'bounce_risk', 'layoff_distance_interaction', 'trainer_change', 'connection_stability', 'field_size_change', 'distance_comfort', 'competition_level_shift', 'recence_x_class_drop', 'trainer_change_x_recence', 'distance_change_x_recence', 'che_by_type_avg_pos', 'che_by_type_recent_perf', 'che_by_type_consistency', 'che_by_type_trend', 'che_by_type_pct_top3', 'che_by_type_nb_courses', 'che_by_type_dnf_rate', 'joc_by_type_avg_pos', 'joc_by_type_recent_perf', 'joc_by_type_consistency', 'joc_by_type_trend', 'joc_by_type_pct_top3', 'joc_by_type_nb_courses', 'joc_by_type_dnf_rate', 'trainer_victoires', 'trainer_places', 'trainer_courses', 'trainer_winrate', 'trainer_placerate', 'trainer_quality_score', 'trainer_experience_level', 'handicap_poids', 'handicap_dist', 'prec_handicap_poids', 'prec_handicap_dist', 'handicap_poids_change', 'handicap_poids_increased', 'handicap_poids_decreased', 'handicap_dist_change', 'handicap_dist_increased', 'handicap_dist_decreased', 'total_handicap', 'handicap_momentum', 'last_race_position', 'last_race_distance', 'distance_change', 'distance_change_pct', 'distance_increased', 'distance_decreased', 'same_distance', 'corde_change', 'corde_improved', 'corde_worsened', 'last_race_top3', 'last_race_won', 'che_bytype_total_races', 'joc_bytype_total_races', 'che_form_momentum', 'che_improving_form', 'che_declining_form', 'che_high_consistency', 'che_recent_quality', 'che_elite_performer', 'che_regular_placer', 'joc_form_momentum', 'joc_improving_form', 'joc_high_consistency', 'joc_elite_performer', 'synergy_both_improving', 'synergy_both_consistent', 'synergy_both_elite', 'overall_momentum_score', 'high_momentum', 'quinte_career_starts', 'quinte_win_rate', 'quinte_top5_rate', 'avg_quinte_position', 'days_since_last_quinte', 'quinte_handicap_specialist', 'quinte_conditions_specialist', 'quinte_large_field_ability', 'quinte_track_condition_fit', 'is_handicap_quinte', 'handicap_division', 'purse_level_category', 'field_size_category', 'track_condition_PH', 'track_condition_DUR', 'track_condition_PS', 'track_condition_PSF', 'weather_clear', 'weather_rain', 'weather_cloudy', 'post_position_bias', 'post_position_track_bias', 'raw_tabnet_prediction', 'predicted_position_tabnet', 'raw_rf_prediction', 'predicted_position_rf', 'predicted_position_base']
2025-11-07 14:53:20,978 - race_prediction.competitive_field_analyzer - INFO - === CRITICAL COLUMNS ANALYSIS ===
2025-11-07 14:53:20,978 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ recordG: 16/16 non-null values (100.0%)
2025-11-07 14:53:20,978 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [0.0, 0.0, 0.0]
2025-11-07 14:53:20,978 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ hippo: 16/16 non-null values (100.0%)
2025-11-07 14:53:20,978 - race_prediction.competitive_field_analyzer - INFO -    Sample values: ['Paris-Vincennes', 'Paris-Vincennes', 'Paris-Vincennes']
2025-11-07 14:53:20,978 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ coursescheval: 16/16 non-null values (100.0%)
2025-11-07 14:53:20,978 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [107, 79, 127]
2025-11-07 14:53:20,978 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ victoirescheval: 16/16 non-null values (100.0%)
2025-11-07 14:53:20,978 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [6, 10, 11]
2025-11-07 14:53:20,978 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ placescheval: 16/16 non-null values (100.0%)
2025-11-07 14:53:20,978 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [27, 36, 32]
2025-11-07 14:53:20,978 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ gainsCarriere: 16/16 non-null values (100.0%)
2025-11-07 14:53:20,979 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [18153000, 18264500, 18478000]
2025-11-07 14:53:20,979 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ age: 16/16 non-null values (100.0%)
2025-11-07 14:53:20,979 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [9, 10, 9]
2025-11-07 14:53:20,979 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ derniereplace: 16/16 non-null values (100.0%)
2025-11-07 14:53:20,979 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [9.0, 3.0, 10.0]
2025-11-07 14:53:20,979 - race_prediction.competitive_field_analyzer - INFO - === RACE METADATA ===
2025-11-07 14:53:20,979 - race_prediction.competitive_field_analyzer - INFO - comp: 1611759
2025-11-07 14:53:20,979 - race_prediction.competitive_field_analyzer - INFO - hippo: Paris-Vincennes
2025-11-07 14:53:20,979 - race_prediction.competitive_field_analyzer - INFO - dist: 2850
2025-11-07 14:53:20,979 - race_prediction.competitive_field_analyzer - INFO - typec: Attel√©
2025-11-07 14:53:20,979 - race_prediction.competitive_field_analyzer - INFO - partant: 16
2025-11-07 14:53:20,979 - race_prediction.competitive_field_analyzer - INFO - === SAMPLE RACE DATA ===
2025-11-07 14:53:20,979 - race_prediction.competitive_field_analyzer - INFO - Sample data (columns: ['numero', 'cheval', 'recordG', 'hippo', 'coursescheval']):
2025-11-07 14:53:20,979 - race_prediction.competitive_field_analyzer - INFO -   Horse 0: {'numero': 1, 'cheval': 'Guess Fouteau', 'recordG': 0.0, 'hippo': 'Paris-Vincennes', 'coursescheval': 107}
2025-11-07 14:53:20,979 - race_prediction.competitive_field_analyzer - INFO -   Horse 1: {'numero': 2, 'cheval': 'Funny Horse', 'recordG': 0.0, 'hippo': 'Paris-Vincennes', 'coursescheval': 79}
2025-11-07 14:53:20,979 - race_prediction.competitive_field_analyzer - INFO -   Horse 2: {'numero': 3, 'cheval': 'Gamine de Ribeau', 'recordG': 0.0, 'hippo': 'Paris-Vincennes', 'coursescheval': 127}
2025-11-07 14:53:20,979 - race_prediction.competitive_field_analyzer - INFO - === END COMPETITIVE ANALYSIS DEBUG ===

2025-11-07 14:53:20,979 - race_prediction.competitive_field_analyzer - INFO - === RETRIEVING HISTORICAL DATA ===
2025-11-07 14:53:20,979 - race_prediction.competitive_field_analyzer - INFO - Fetching historical data for 16 horses: [1376154, 1325333, 1358535, 1375700, 1372582, 1300190, 1284422, 1326171, 1335702, 1352734, 1293303, 1295566, 1382152, 1354673, 1349957, 1378585]
2025-11-07 14:53:20,980 - race_prediction.competitive_field_analyzer - INFO - Batch querying historical data for 16 horses: [1376154, 1325333, 1358535, 1375700, 1372582, 1300190, 1284422, 1326171, 1335702, 1352734, 1293303, 1295566, 1382152, 1354673, 1349957, 1378585]
2025-11-07 14:57:09,002 - race_prediction.competitive_field_analyzer - INFO - Batch query completed in 228.02s, found 208 total records
2025-11-07 14:57:09,011 - race_prediction.competitive_field_analyzer - INFO - Batch query retrieved 208 total historical races
2025-11-07 14:57:09,011 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS PER HORSE ===
2025-11-07 14:57:09,011 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1376154: 14 historical races found
2025-11-07 14:57:09,011 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1325333: 11 historical races found
2025-11-07 14:57:09,011 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1358535: 13 historical races found
2025-11-07 14:57:09,011 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1375700: 10 historical races found
2025-11-07 14:57:09,011 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1372582: 13 historical races found
2025-11-07 14:57:09,011 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1300190: 16 historical races found
2025-11-07 14:57:09,011 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1284422: 9 historical races found
2025-11-07 14:57:09,015 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1326171: 14 historical races found
2025-11-07 14:57:09,015 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1335702: 18 historical races found
2025-11-07 14:57:09,015 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1352734: 15 historical races found
2025-11-07 14:57:09,015 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1293303: 8 historical races found
2025-11-07 14:57:09,015 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1295566: 20 historical races found
2025-11-07 14:57:09,015 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1382152: 14 historical races found
2025-11-07 14:57:09,015 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1354673: 7 historical races found
2025-11-07 14:57:09,015 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1349957: 16 historical races found
2025-11-07 14:57:09,015 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1378585: 10 historical races found
2025-11-07 14:57:09,015 - race_prediction.competitive_field_analyzer - INFO - Retrieved 208 total historical races
2025-11-07 14:57:09,015 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS BY HORSE ===
2025-11-07 14:57:09,018 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1376154: 14 historical races
2025-11-07 14:57:09,018 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1325333: 11 historical races
2025-11-07 14:57:09,018 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1358535: 13 historical races
2025-11-07 14:57:09,018 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1375700: 10 historical races
2025-11-07 14:57:09,018 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1372582: 13 historical races
2025-11-07 14:57:09,018 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1300190: 16 historical races
2025-11-07 14:57:09,018 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1284422: 9 historical races
2025-11-07 14:57:09,018 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1326171: 14 historical races
2025-11-07 14:57:09,018 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1335702: 18 historical races
2025-11-07 14:57:09,018 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1352734: 15 historical races
2025-11-07 14:57:09,018 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1293303: 8 historical races
2025-11-07 14:57:09,018 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1295566: 20 historical races
2025-11-07 14:57:09,018 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1382152: 14 historical races
2025-11-07 14:57:09,018 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1354673: 7 historical races
2025-11-07 14:57:09,018 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1349957: 16 historical races
2025-11-07 14:57:09,018 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1378585: 10 historical races
2025-11-07 14:57:09,018 - race_prediction.competitive_field_analyzer - INFO - === END HISTORICAL DATA RETRIEVAL ===

2025-11-07 14:57:09,019 - race_prediction.competitive_field_analyzer - INFO - === EARNINGS QUALITY ANALYSIS ===
2025-11-07 14:57:09,019 - race_prediction.competitive_field_analyzer - INFO - Valid earnings data: 16/16 horses
2025-11-07 14:57:09,019 - race_prediction.competitive_field_analyzer - INFO - Sample earnings per race: ['169,654', '231,196', '145,496']
2025-11-07 14:57:09,019 - race_prediction.competitive_field_analyzer - INFO - Field earnings stats: avg=228,347, max=507,615
2025-11-07 14:57:09,019 - race_prediction.competitive_field_analyzer - INFO - === TRACK SPECIALIZATION ANALYSIS ===
2025-11-07 14:57:09,019 - race_prediction.competitive_field_analyzer - INFO - Horses with reliable venue data (3+ races): 0/16
2025-11-07 14:57:09,020 - race_prediction.competitive_field_analyzer - INFO - === FORM MOMENTUM ANALYSIS ===
2025-11-07 14:57:09,020 - race_prediction.competitive_field_analyzer - INFO - Field avg horse trend: 2.001, recent perf: 7.88
2025-11-07 14:57:09,020 - race_prediction.competitive_field_analyzer - INFO - Field avg jockey trend: 0.359
2025-11-07 14:57:09,021 - race_prediction.competitive_field_analyzer - INFO - Horses with improving form: 4/16
2025-11-07 14:57:09,021 - race_prediction.competitive_field_analyzer - INFO - === HOT CONNECTIONS ANALYSIS ===
2025-11-07 14:57:09,021 - race_prediction.competitive_field_analyzer - INFO - Jockeys with wins today: 0/16
2025-11-07 14:57:09,021 - race_prediction.competitive_field_analyzer - INFO - Trainers with wins today: 0/16
2025-11-07 14:57:09,021 - race_prediction.competitive_field_analyzer - INFO - === DISTANCE COMFORT ANALYSIS ===
2025-11-07 14:57:09,021 - race_prediction.competitive_field_analyzer - INFO - Current race distance: 2850m
2025-11-07 14:57:09,021 - race_prediction.competitive_field_analyzer - INFO - Horses with similar recent distance: 9/16
2025-11-07 14:57:09,022 - race_prediction.competitive_field_analyzer - INFO - === REALISTIC COMPETITIVE SCORING ===
2025-11-07 14:57:09,022 - race_prediction.competitive_field_analyzer - INFO - üìä COMPETITIVE ANALYSIS SUMMARY:
2025-11-07 14:57:09,022 - race_prediction.competitive_field_analyzer - INFO -    Total competitive races: 208
2025-11-07 14:57:09,022 - race_prediction.competitive_field_analyzer - INFO -    Horses with historical data: 16/16
2025-11-07 14:57:09,022 - race_prediction.competitive_field_analyzer - INFO -    Average races per horse: 13.0
2025-11-07 14:57:09,033 - race_prediction.quinte_prediction_storage - INFO - Stored 16 horses for Quint√© race 1611759
2025-11-07 14:57:11,435 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE ANALYSIS DEBUG ===
2025-11-07 14:57:11,435 - race_prediction.competitive_field_analyzer - INFO - Analyzing competitive field for race with 16 horses
2025-11-07 14:57:11,435 - race_prediction.competitive_field_analyzer - INFO - Race data shape: (16, 278)
2025-11-07 14:57:11,435 - race_prediction.competitive_field_analyzer - INFO - Available columns: ['id', 'comp', 'jour', 'hippo', 'reun', 'prix', 'prixnom', 'typec', 'partant', 'dist', 'handi', 'groupe', 'quinte', 'natpis', 'meteo', 'corde', 'temperature', 'forceVent', 'directionVent', 'nebulosite', 'prediction_results', 'actual_results', 'created_at', 'updated_at', 'processed_data', 'cheque', 'handi_raw', 'reclam', 'sex', 'tempscourse', 'handicap_level_score', 'cl', 'numero', 'cheval', 'age', 'cotedirect', 'coteprob', 'recence', 'ecar', 'defoeil', 'defoeilPrec', 'musiqueche', 'musiquejoc', 'entraineur', 'coursescheval', 'victoirescheval', 'placescheval', 'dernierealloc', 'derniernbpartants', 'dernieredist', 'derniereplace', 'dernierecote', 'dernierEnt', 'proprietaire', 'poidmont', 'pourcVictJockHippo', 'pourcPlaceJockHippo', 'pourcVictChevalHippo', 'pourcPlaceChevalHippo', 'tempstot', 'vha', 'recordG', 'txreclam', 'dernierTxreclam', 'gainsCarriere', 'gainsAnneeEnCours', 'handicapDistance', 'handicapPoids', 'TxVictCouple', 'nbVictCouple', 'nbPlaceCouple', 'idche', 'idJockey', 'idEntraineur', 'defFirstTime', 'oeilFirstTime', 'oeil', 'dernierOeil', 'ratio_victoires', 'ratio_places', 'gains_par_course', 'efficacite_couple', 'regularite_couple', 'progression_couple', 'perf_cheval_hippo', 'perf_jockey_hippo', 'blinkers_first_time', 'has_blinkers', 'has_standard_blinkers', 'has_australian_blinkers', 'blinkers_added', 'blinkers_removed', 'blinkers_type_changed', 'blinkers_any_change', 'blinkers_high_impact_change', 'shoeing_first_time', 'fully_shod', 'front_shod_only', 'back_shod_only', 'barefoot', 'shoeing_changed', 'barefoot_to_shod', 'shod_to_barefoot', 'major_shoeing_change', 'shoeing_complexity', 'multiple_equipment_changes', 'equipment_momentum_score', 'high_equipment_momentum', 'multiple_first_time_changes', 'equipment_optimization_score', 'career_strike_rate', 'earnings_per_race', 'earnings_trend', 'last_race_position_normalized', 'last_race_odds_normalized', 'last_race_field_size_factor', 'distance_consistency', 'vha_normalized', 'claiming_tax_trend', 'class_stability', 'che_global_avg_pos', 'che_global_recent_perf', 'che_global_consistency', 'che_global_trend', 'che_global_pct_top3', 'che_global_nb_courses', 'che_global_total_races', 'che_global_dnf_rate', 'che_weighted_avg_pos', 'che_weighted_recent_perf', 'che_weighted_consistency', 'che_weighted_pct_top3', 'che_weighted_nb_courses', 'che_weighted_total_races', 'che_weighted_dnf_rate', 'che_weighted_trend', 'che_bytype_avg_pos', 'che_bytype_recent_perf', 'che_bytype_consistency', 'che_bytype_trend', 'che_bytype_pct_top3', 'che_bytype_nb_courses', 'che_bytype_dnf_rate', 'joc_global_avg_pos', 'joc_global_recent_perf', 'joc_global_consistency', 'joc_global_trend', 'joc_global_pct_top3', 'joc_global_nb_courses', 'joc_global_total_races', 'joc_global_dnf_rate', 'joc_weighted_avg_pos', 'joc_weighted_recent_perf', 'joc_weighted_consistency', 'joc_weighted_pct_top3', 'joc_weighted_nb_courses', 'joc_weighted_total_races', 'joc_weighted_dnf_rate', 'joc_weighted_trend', 'joc_bytype_avg_pos', 'joc_bytype_recent_perf', 'joc_bytype_consistency', 'joc_bytype_trend', 'joc_bytype_pct_top3', 'joc_bytype_nb_courses', 'joc_bytype_dnf_rate', 'class_drop_pct', 'purse_per_starter', 'purse_ratio', 'moving_up_in_class', 'class_shock_indicator', 'handicap_level_change', 'time_per_distance', 'time_vs_record', 'pace_rating', 'speed_figure_proxy', 'market_confidence_shift', 'last_race_improvement', 'bounce_risk', 'layoff_distance_interaction', 'trainer_change', 'connection_stability', 'field_size_change', 'distance_comfort', 'competition_level_shift', 'recence_x_class_drop', 'trainer_change_x_recence', 'distance_change_x_recence', 'che_by_type_avg_pos', 'che_by_type_recent_perf', 'che_by_type_consistency', 'che_by_type_trend', 'che_by_type_pct_top3', 'che_by_type_nb_courses', 'che_by_type_dnf_rate', 'joc_by_type_avg_pos', 'joc_by_type_recent_perf', 'joc_by_type_consistency', 'joc_by_type_trend', 'joc_by_type_pct_top3', 'joc_by_type_nb_courses', 'joc_by_type_dnf_rate', 'trainer_victoires', 'trainer_places', 'trainer_courses', 'trainer_winrate', 'trainer_placerate', 'trainer_quality_score', 'trainer_experience_level', 'handicap_poids', 'handicap_dist', 'prec_handicap_poids', 'prec_handicap_dist', 'handicap_poids_change', 'handicap_poids_increased', 'handicap_poids_decreased', 'handicap_dist_change', 'handicap_dist_increased', 'handicap_dist_decreased', 'total_handicap', 'handicap_momentum', 'last_race_position', 'last_race_distance', 'distance_change', 'distance_change_pct', 'distance_increased', 'distance_decreased', 'same_distance', 'corde_change', 'corde_improved', 'corde_worsened', 'last_race_top3', 'last_race_won', 'che_bytype_total_races', 'joc_bytype_total_races', 'che_form_momentum', 'che_improving_form', 'che_declining_form', 'che_high_consistency', 'che_recent_quality', 'che_elite_performer', 'che_regular_placer', 'joc_form_momentum', 'joc_improving_form', 'joc_high_consistency', 'joc_elite_performer', 'synergy_both_improving', 'synergy_both_consistent', 'synergy_both_elite', 'overall_momentum_score', 'high_momentum', 'quinte_career_starts', 'quinte_win_rate', 'quinte_top5_rate', 'avg_quinte_position', 'days_since_last_quinte', 'quinte_handicap_specialist', 'quinte_conditions_specialist', 'quinte_large_field_ability', 'quinte_track_condition_fit', 'is_handicap_quinte', 'handicap_division', 'purse_level_category', 'field_size_category', 'track_condition_PH', 'track_condition_DUR', 'track_condition_PS', 'track_condition_PSF', 'weather_clear', 'weather_rain', 'weather_cloudy', 'post_position_bias', 'post_position_track_bias', 'raw_tabnet_prediction', 'predicted_position_tabnet', 'raw_rf_prediction', 'predicted_position_rf', 'predicted_position_base']
2025-11-07 14:57:11,435 - race_prediction.competitive_field_analyzer - INFO - === CRITICAL COLUMNS ANALYSIS ===
2025-11-07 14:57:11,435 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ recordG: 16/16 non-null values (100.0%)
2025-11-07 14:57:11,435 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [0.0, 0.0, 0.0]
2025-11-07 14:57:11,436 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ hippo: 16/16 non-null values (100.0%)
2025-11-07 14:57:11,436 - race_prediction.competitive_field_analyzer - INFO -    Sample values: ['Chantilly', 'Chantilly', 'Chantilly']
2025-11-07 14:57:11,436 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ coursescheval: 16/16 non-null values (100.0%)
2025-11-07 14:57:11,436 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [24, 13, 33]
2025-11-07 14:57:11,436 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ victoirescheval: 16/16 non-null values (100.0%)
2025-11-07 14:57:11,436 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [7, 5, 6]
2025-11-07 14:57:11,436 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ placescheval: 16/16 non-null values (100.0%)
2025-11-07 14:57:11,436 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [12, 8, 15]
2025-11-07 14:57:11,437 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ gainsCarriere: 16/16 non-null values (100.0%)
2025-11-07 14:57:11,437 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [15966500, 6248800, 13752000]
2025-11-07 14:57:11,437 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ age: 16/16 non-null values (100.0%)
2025-11-07 14:57:11,437 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [8, 4, 5]
2025-11-07 14:57:11,437 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ derniereplace: 16/16 non-null values (100.0%)
2025-11-07 14:57:11,437 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [1, 3, 11]
2025-11-07 14:57:11,437 - race_prediction.competitive_field_analyzer - INFO - === RACE METADATA ===
2025-11-07 14:57:11,437 - race_prediction.competitive_field_analyzer - INFO - comp: 1606698
2025-11-07 14:57:11,437 - race_prediction.competitive_field_analyzer - INFO - hippo: Chantilly
2025-11-07 14:57:11,437 - race_prediction.competitive_field_analyzer - INFO - dist: 1900
2025-11-07 14:57:11,437 - race_prediction.competitive_field_analyzer - INFO - typec: Plat
2025-11-07 14:57:11,437 - race_prediction.competitive_field_analyzer - INFO - partant: 16
2025-11-07 14:57:11,437 - race_prediction.competitive_field_analyzer - INFO - === SAMPLE RACE DATA ===
2025-11-07 14:57:11,437 - race_prediction.competitive_field_analyzer - INFO - Sample data (columns: ['numero', 'cheval', 'recordG', 'hippo', 'coursescheval']):
2025-11-07 14:57:11,437 - race_prediction.competitive_field_analyzer - INFO -   Horse 0: {'numero': 1, 'cheval': 'Kahuna', 'recordG': 0.0, 'hippo': 'Chantilly', 'coursescheval': 24}
2025-11-07 14:57:11,437 - race_prediction.competitive_field_analyzer - INFO -   Horse 1: {'numero': 2, 'cheval': 'Eugene Smith', 'recordG': 0.0, 'hippo': 'Chantilly', 'coursescheval': 13}
2025-11-07 14:57:11,437 - race_prediction.competitive_field_analyzer - INFO -   Horse 2: {'numero': 3, 'cheval': 'No Limit Dream', 'recordG': 0.0, 'hippo': 'Chantilly', 'coursescheval': 33}
2025-11-07 14:57:11,437 - race_prediction.competitive_field_analyzer - INFO - === END COMPETITIVE ANALYSIS DEBUG ===

2025-11-07 14:57:11,438 - race_prediction.competitive_field_analyzer - INFO - === RETRIEVING HISTORICAL DATA ===
2025-11-07 14:57:11,438 - race_prediction.competitive_field_analyzer - INFO - Fetching historical data for 16 horses: [1361490, 1654244, 1554365, 1430346, 1520399, 1553763, 1522211, 1696582, 1572948, 1653958, 1654242, 1559430, 1518271, 1523134, 1559214, 1361409]
2025-11-07 14:57:11,439 - race_prediction.competitive_field_analyzer - INFO - Batch querying historical data for 16 horses: [1361490, 1654244, 1554365, 1430346, 1520399, 1553763, 1522211, 1696582, 1572948, 1653958, 1654242, 1559430, 1518271, 1523134, 1559214, 1361409]
2025-11-07 14:57:31,935 - race_prediction.competitive_field_analyzer - INFO - Batch query completed in 20.50s, found 168 total records
2025-11-07 14:57:31,945 - race_prediction.competitive_field_analyzer - INFO - Batch query retrieved 168 total historical races
2025-11-07 14:57:31,945 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS PER HORSE ===
2025-11-07 14:57:31,945 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1361490: 7 historical races found
2025-11-07 14:57:31,945 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1654244: 9 historical races found
2025-11-07 14:57:31,945 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1554365: 12 historical races found
2025-11-07 14:57:31,945 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1430346: 15 historical races found
2025-11-07 14:57:31,945 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1520399: 7 historical races found
2025-11-07 14:57:31,945 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1553763: 9 historical races found
2025-11-07 14:57:31,945 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1522211: 11 historical races found
2025-11-07 14:57:31,945 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1696582: 10 historical races found
2025-11-07 14:57:31,945 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1572948: 8 historical races found
2025-11-07 14:57:31,945 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1653958: 7 historical races found
2025-11-07 14:57:31,945 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1654242: 6 historical races found
2025-11-07 14:57:31,945 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1559430: 12 historical races found
2025-11-07 14:57:31,945 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1518271: 14 historical races found
2025-11-07 14:57:31,945 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1523134: 11 historical races found
2025-11-07 14:57:31,945 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1559214: 10 historical races found
2025-11-07 14:57:31,945 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1361409: 20 historical races found
2025-11-07 14:57:31,945 - race_prediction.competitive_field_analyzer - INFO - Retrieved 168 total historical races
2025-11-07 14:57:31,945 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS BY HORSE ===
2025-11-07 14:57:31,945 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1361490: 7 historical races
2025-11-07 14:57:31,945 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1654244: 9 historical races
2025-11-07 14:57:31,945 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1554365: 12 historical races
2025-11-07 14:57:31,945 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1430346: 15 historical races
2025-11-07 14:57:31,945 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1520399: 7 historical races
2025-11-07 14:57:31,945 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1553763: 9 historical races
2025-11-07 14:57:31,945 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1522211: 11 historical races
2025-11-07 14:57:31,948 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1696582: 10 historical races
2025-11-07 14:57:31,948 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1572948: 8 historical races
2025-11-07 14:57:31,948 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1653958: 7 historical races
2025-11-07 14:57:31,948 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1654242: 6 historical races
2025-11-07 14:57:31,948 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1559430: 12 historical races
2025-11-07 14:57:31,948 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1518271: 14 historical races
2025-11-07 14:57:31,948 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1523134: 11 historical races
2025-11-07 14:57:31,948 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1559214: 10 historical races
2025-11-07 14:57:31,948 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1361409: 20 historical races
2025-11-07 14:57:31,949 - race_prediction.competitive_field_analyzer - INFO - === END HISTORICAL DATA RETRIEVAL ===

2025-11-07 14:57:31,949 - race_prediction.competitive_field_analyzer - INFO - === EARNINGS QUALITY ANALYSIS ===
2025-11-07 14:57:31,949 - race_prediction.competitive_field_analyzer - INFO - Valid earnings data: 16/16 horses
2025-11-07 14:57:31,949 - race_prediction.competitive_field_analyzer - INFO - Sample earnings per race: ['665,271', '480,677', '416,727']
2025-11-07 14:57:31,949 - race_prediction.competitive_field_analyzer - INFO - Field earnings stats: avg=379,791, max=665,271
2025-11-07 14:57:31,950 - race_prediction.competitive_field_analyzer - INFO - === TRACK SPECIALIZATION ANALYSIS ===
2025-11-07 14:57:31,950 - race_prediction.competitive_field_analyzer - INFO - Horses with reliable venue data (3+ races): 0/16
2025-11-07 14:57:31,951 - race_prediction.competitive_field_analyzer - INFO - === FORM MOMENTUM ANALYSIS ===
2025-11-07 14:57:31,951 - race_prediction.competitive_field_analyzer - INFO - Field avg horse trend: -0.434, recent perf: 6.38
2025-11-07 14:57:31,951 - race_prediction.competitive_field_analyzer - INFO - Field avg jockey trend: -0.372
2025-11-07 14:57:31,951 - race_prediction.competitive_field_analyzer - INFO - Horses with improving form: 4/16
2025-11-07 14:57:31,951 - race_prediction.competitive_field_analyzer - INFO - === HOT CONNECTIONS ANALYSIS ===
2025-11-07 14:57:31,951 - race_prediction.competitive_field_analyzer - INFO - Jockeys with wins today: 0/16
2025-11-07 14:57:31,951 - race_prediction.competitive_field_analyzer - INFO - Trainers with wins today: 0/16
2025-11-07 14:57:31,951 - race_prediction.competitive_field_analyzer - INFO - === DISTANCE COMFORT ANALYSIS ===
2025-11-07 14:57:31,951 - race_prediction.competitive_field_analyzer - INFO - Current race distance: 1900m
2025-11-07 14:57:31,951 - race_prediction.competitive_field_analyzer - INFO - Horses with similar recent distance: 9/16
2025-11-07 14:57:31,951 - race_prediction.competitive_field_analyzer - INFO - === REALISTIC COMPETITIVE SCORING ===
2025-11-07 14:57:31,952 - race_prediction.competitive_field_analyzer - INFO - üìä COMPETITIVE ANALYSIS SUMMARY:
2025-11-07 14:57:31,952 - race_prediction.competitive_field_analyzer - INFO -    Total competitive races: 168
2025-11-07 14:57:31,952 - race_prediction.competitive_field_analyzer - INFO -    Horses with historical data: 16/16
2025-11-07 14:57:31,952 - race_prediction.competitive_field_analyzer - INFO -    Average races per horse: 10.5
2025-11-07 14:57:31,962 - race_prediction.quinte_prediction_storage - INFO - Stored 16 horses for Quint√© race 1606698
2025-11-07 14:57:33,947 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE ANALYSIS DEBUG ===
2025-11-07 14:57:33,947 - race_prediction.competitive_field_analyzer - INFO - Analyzing competitive field for race with 16 horses
2025-11-07 14:57:33,947 - race_prediction.competitive_field_analyzer - INFO - Race data shape: (16, 278)
2025-11-07 14:57:33,947 - race_prediction.competitive_field_analyzer - INFO - Available columns: ['id', 'comp', 'jour', 'hippo', 'reun', 'prix', 'prixnom', 'typec', 'partant', 'dist', 'handi', 'groupe', 'quinte', 'natpis', 'meteo', 'corde', 'temperature', 'forceVent', 'directionVent', 'nebulosite', 'prediction_results', 'actual_results', 'created_at', 'updated_at', 'processed_data', 'cheque', 'handi_raw', 'reclam', 'sex', 'tempscourse', 'handicap_level_score', 'cl', 'numero', 'cheval', 'age', 'cotedirect', 'coteprob', 'recence', 'ecar', 'defoeil', 'defoeilPrec', 'musiqueche', 'musiquejoc', 'entraineur', 'coursescheval', 'victoirescheval', 'placescheval', 'dernierealloc', 'derniernbpartants', 'dernieredist', 'derniereplace', 'dernierecote', 'dernierEnt', 'proprietaire', 'poidmont', 'pourcVictJockHippo', 'pourcPlaceJockHippo', 'pourcVictChevalHippo', 'pourcPlaceChevalHippo', 'tempstot', 'vha', 'recordG', 'txreclam', 'dernierTxreclam', 'gainsCarriere', 'gainsAnneeEnCours', 'handicapDistance', 'handicapPoids', 'TxVictCouple', 'nbVictCouple', 'nbPlaceCouple', 'idche', 'idJockey', 'idEntraineur', 'defFirstTime', 'oeilFirstTime', 'oeil', 'dernierOeil', 'ratio_victoires', 'ratio_places', 'gains_par_course', 'efficacite_couple', 'regularite_couple', 'progression_couple', 'perf_cheval_hippo', 'perf_jockey_hippo', 'blinkers_first_time', 'has_blinkers', 'has_standard_blinkers', 'has_australian_blinkers', 'blinkers_added', 'blinkers_removed', 'blinkers_type_changed', 'blinkers_any_change', 'blinkers_high_impact_change', 'shoeing_first_time', 'fully_shod', 'front_shod_only', 'back_shod_only', 'barefoot', 'shoeing_changed', 'barefoot_to_shod', 'shod_to_barefoot', 'major_shoeing_change', 'shoeing_complexity', 'multiple_equipment_changes', 'equipment_momentum_score', 'high_equipment_momentum', 'multiple_first_time_changes', 'equipment_optimization_score', 'career_strike_rate', 'earnings_per_race', 'earnings_trend', 'last_race_position_normalized', 'last_race_odds_normalized', 'last_race_field_size_factor', 'distance_consistency', 'vha_normalized', 'claiming_tax_trend', 'class_stability', 'che_global_avg_pos', 'che_global_recent_perf', 'che_global_consistency', 'che_global_trend', 'che_global_pct_top3', 'che_global_nb_courses', 'che_global_total_races', 'che_global_dnf_rate', 'che_weighted_avg_pos', 'che_weighted_recent_perf', 'che_weighted_consistency', 'che_weighted_pct_top3', 'che_weighted_nb_courses', 'che_weighted_total_races', 'che_weighted_dnf_rate', 'che_weighted_trend', 'che_bytype_avg_pos', 'che_bytype_recent_perf', 'che_bytype_consistency', 'che_bytype_trend', 'che_bytype_pct_top3', 'che_bytype_nb_courses', 'che_bytype_dnf_rate', 'joc_global_avg_pos', 'joc_global_recent_perf', 'joc_global_consistency', 'joc_global_trend', 'joc_global_pct_top3', 'joc_global_nb_courses', 'joc_global_total_races', 'joc_global_dnf_rate', 'joc_weighted_avg_pos', 'joc_weighted_recent_perf', 'joc_weighted_consistency', 'joc_weighted_pct_top3', 'joc_weighted_nb_courses', 'joc_weighted_total_races', 'joc_weighted_dnf_rate', 'joc_weighted_trend', 'joc_bytype_avg_pos', 'joc_bytype_recent_perf', 'joc_bytype_consistency', 'joc_bytype_trend', 'joc_bytype_pct_top3', 'joc_bytype_nb_courses', 'joc_bytype_dnf_rate', 'class_drop_pct', 'purse_per_starter', 'purse_ratio', 'moving_up_in_class', 'class_shock_indicator', 'handicap_level_change', 'time_per_distance', 'time_vs_record', 'pace_rating', 'speed_figure_proxy', 'market_confidence_shift', 'last_race_improvement', 'bounce_risk', 'layoff_distance_interaction', 'trainer_change', 'connection_stability', 'field_size_change', 'distance_comfort', 'competition_level_shift', 'recence_x_class_drop', 'trainer_change_x_recence', 'distance_change_x_recence', 'che_by_type_avg_pos', 'che_by_type_recent_perf', 'che_by_type_consistency', 'che_by_type_trend', 'che_by_type_pct_top3', 'che_by_type_nb_courses', 'che_by_type_dnf_rate', 'joc_by_type_avg_pos', 'joc_by_type_recent_perf', 'joc_by_type_consistency', 'joc_by_type_trend', 'joc_by_type_pct_top3', 'joc_by_type_nb_courses', 'joc_by_type_dnf_rate', 'trainer_victoires', 'trainer_places', 'trainer_courses', 'trainer_winrate', 'trainer_placerate', 'trainer_quality_score', 'trainer_experience_level', 'handicap_poids', 'handicap_dist', 'prec_handicap_poids', 'prec_handicap_dist', 'handicap_poids_change', 'handicap_poids_increased', 'handicap_poids_decreased', 'handicap_dist_change', 'handicap_dist_increased', 'handicap_dist_decreased', 'total_handicap', 'handicap_momentum', 'last_race_position', 'last_race_distance', 'distance_change', 'distance_change_pct', 'distance_increased', 'distance_decreased', 'same_distance', 'corde_change', 'corde_improved', 'corde_worsened', 'last_race_top3', 'last_race_won', 'che_bytype_total_races', 'joc_bytype_total_races', 'che_form_momentum', 'che_improving_form', 'che_declining_form', 'che_high_consistency', 'che_recent_quality', 'che_elite_performer', 'che_regular_placer', 'joc_form_momentum', 'joc_improving_form', 'joc_high_consistency', 'joc_elite_performer', 'synergy_both_improving', 'synergy_both_consistent', 'synergy_both_elite', 'overall_momentum_score', 'high_momentum', 'quinte_career_starts', 'quinte_win_rate', 'quinte_top5_rate', 'avg_quinte_position', 'days_since_last_quinte', 'quinte_handicap_specialist', 'quinte_conditions_specialist', 'quinte_large_field_ability', 'quinte_track_condition_fit', 'is_handicap_quinte', 'handicap_division', 'purse_level_category', 'field_size_category', 'track_condition_PH', 'track_condition_DUR', 'track_condition_PS', 'track_condition_PSF', 'weather_clear', 'weather_rain', 'weather_cloudy', 'post_position_bias', 'post_position_track_bias', 'raw_tabnet_prediction', 'predicted_position_tabnet', 'raw_rf_prediction', 'predicted_position_rf', 'predicted_position_base']
2025-11-07 14:57:33,948 - race_prediction.competitive_field_analyzer - INFO - === CRITICAL COLUMNS ANALYSIS ===
2025-11-07 14:57:33,948 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ recordG: 16/16 non-null values (100.0%)
2025-11-07 14:57:33,948 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [0.0, 0.0, 0.0]
2025-11-07 14:57:33,948 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ hippo: 16/16 non-null values (100.0%)
2025-11-07 14:57:33,948 - race_prediction.competitive_field_analyzer - INFO -    Sample values: ['Lisieux', 'Lisieux', 'Lisieux']
2025-11-07 14:57:33,948 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ coursescheval: 16/16 non-null values (100.0%)
2025-11-07 14:57:33,948 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [32, 53, 70]
2025-11-07 14:57:33,948 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ victoirescheval: 16/16 non-null values (100.0%)
2025-11-07 14:57:33,948 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [5, 10, 17]
2025-11-07 14:57:33,948 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ placescheval: 16/16 non-null values (100.0%)
2025-11-07 14:57:33,949 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [11, 19, 26]
2025-11-07 14:57:33,949 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ gainsCarriere: 16/16 non-null values (100.0%)
2025-11-07 14:57:33,949 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [26923000, 27238000, 27714000]
2025-11-07 14:57:33,949 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ age: 16/16 non-null values (100.0%)
2025-11-07 14:57:33,949 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [5, 6, 7]
2025-11-07 14:57:33,949 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ derniereplace: 16/16 non-null values (100.0%)
2025-11-07 14:57:33,949 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [8.0, 15.0, 1.0]
2025-11-07 14:57:33,949 - race_prediction.competitive_field_analyzer - INFO - === RACE METADATA ===
2025-11-07 14:57:33,949 - race_prediction.competitive_field_analyzer - INFO - comp: 1610765
2025-11-07 14:57:33,950 - race_prediction.competitive_field_analyzer - INFO - hippo: Lisieux
2025-11-07 14:57:33,950 - race_prediction.competitive_field_analyzer - INFO - dist: 2725
2025-11-07 14:57:33,950 - race_prediction.competitive_field_analyzer - INFO - typec: Attel√©
2025-11-07 14:57:33,950 - race_prediction.competitive_field_analyzer - INFO - partant: 16
2025-11-07 14:57:33,950 - race_prediction.competitive_field_analyzer - INFO - === SAMPLE RACE DATA ===
2025-11-07 14:57:33,950 - race_prediction.competitive_field_analyzer - INFO - Sample data (columns: ['numero', 'cheval', 'recordG', 'hippo', 'coursescheval']):
2025-11-07 14:57:33,950 - race_prediction.competitive_field_analyzer - INFO -   Horse 0: {'numero': 1, 'cheval': 'Keen Winner', 'recordG': 0.0, 'hippo': 'Lisieux', 'coursescheval': 32}
2025-11-07 14:57:33,950 - race_prediction.competitive_field_analyzer - INFO -   Horse 1: {'numero': 2, 'cheval': 'Jeannette Priory', 'recordG': 0.0, 'hippo': 'Lisieux', 'coursescheval': 53}
2025-11-07 14:57:33,950 - race_prediction.competitive_field_analyzer - INFO -   Horse 2: {'numero': 3, 'cheval': 'Idole of Love', 'recordG': 0.0, 'hippo': 'Lisieux', 'coursescheval': 70}
2025-11-07 14:57:33,950 - race_prediction.competitive_field_analyzer - INFO - === END COMPETITIVE ANALYSIS DEBUG ===

2025-11-07 14:57:33,950 - race_prediction.competitive_field_analyzer - INFO - === RETRIEVING HISTORICAL DATA ===
2025-11-07 14:57:33,950 - race_prediction.competitive_field_analyzer - INFO - Fetching historical data for 16 horses: [1572676, 1510765, 1491964, 1438306, 1380598, 1430681, 1430635, 1430387, 1463732, 1497360, 1289057, 1388348, 1437164, 1508812, 1393225, 1318509]
2025-11-07 14:57:33,951 - race_prediction.competitive_field_analyzer - INFO - Batch querying historical data for 16 horses: [1572676, 1510765, 1491964, 1438306, 1380598, 1430681, 1430635, 1430387, 1463732, 1497360, 1289057, 1388348, 1437164, 1508812, 1393225, 1318509]
2025-11-07 14:57:51,304 - race_prediction.competitive_field_analyzer - INFO - Batch query completed in 17.35s, found 185 total records
2025-11-07 14:57:51,314 - race_prediction.competitive_field_analyzer - INFO - Batch query retrieved 185 total historical races
2025-11-07 14:57:51,314 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS PER HORSE ===
2025-11-07 14:57:51,314 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1572676: 14 historical races found
2025-11-07 14:57:51,314 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1510765: 16 historical races found
2025-11-07 14:57:51,314 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1491964: 15 historical races found
2025-11-07 14:57:51,314 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1438306: 8 historical races found
2025-11-07 14:57:51,314 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1380598: 16 historical races found
2025-11-07 14:57:51,314 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1430681: 12 historical races found
2025-11-07 14:57:51,314 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1430635: 5 historical races found
2025-11-07 14:57:51,314 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1430387: 5 historical races found
2025-11-07 14:57:51,314 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1463732: 15 historical races found
2025-11-07 14:57:51,314 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1497360: 16 historical races found
2025-11-07 14:57:51,314 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1289057: 16 historical races found
2025-11-07 14:57:51,314 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1388348: 10 historical races found
2025-11-07 14:57:51,314 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1437164: 12 historical races found
2025-11-07 14:57:51,314 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1508812: 9 historical races found
2025-11-07 14:57:51,314 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1393225: 10 historical races found
2025-11-07 14:57:51,315 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1318509: 6 historical races found
2025-11-07 14:57:51,315 - race_prediction.competitive_field_analyzer - INFO - Retrieved 185 total historical races
2025-11-07 14:57:51,315 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS BY HORSE ===
2025-11-07 14:57:51,315 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1572676: 14 historical races
2025-11-07 14:57:51,315 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1510765: 16 historical races
2025-11-07 14:57:51,315 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1491964: 15 historical races
2025-11-07 14:57:51,315 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1438306: 8 historical races
2025-11-07 14:57:51,315 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1380598: 16 historical races
2025-11-07 14:57:51,315 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1430681: 12 historical races
2025-11-07 14:57:51,315 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1430635: 5 historical races
2025-11-07 14:57:51,315 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1430387: 5 historical races
2025-11-07 14:57:51,315 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1463732: 15 historical races
2025-11-07 14:57:51,315 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1497360: 16 historical races
2025-11-07 14:57:51,315 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1289057: 16 historical races
2025-11-07 14:57:51,315 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1388348: 10 historical races
2025-11-07 14:57:51,315 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1437164: 12 historical races
2025-11-07 14:57:51,315 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1508812: 9 historical races
2025-11-07 14:57:51,315 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1393225: 10 historical races
2025-11-07 14:57:51,315 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1318509: 6 historical races
2025-11-07 14:57:51,315 - race_prediction.competitive_field_analyzer - INFO - === END HISTORICAL DATA RETRIEVAL ===

2025-11-07 14:57:51,315 - race_prediction.competitive_field_analyzer - INFO - === EARNINGS QUALITY ANALYSIS ===
2025-11-07 14:57:51,315 - race_prediction.competitive_field_analyzer - INFO - Valid earnings data: 16/16 horses
2025-11-07 14:57:51,315 - race_prediction.competitive_field_analyzer - INFO - Sample earnings per race: ['841,344', '513,925', '395,914']
2025-11-07 14:57:51,316 - race_prediction.competitive_field_analyzer - INFO - Field earnings stats: avg=731,939, max=1,324,103
2025-11-07 14:57:51,316 - race_prediction.competitive_field_analyzer - INFO - === TRACK SPECIALIZATION ANALYSIS ===
2025-11-07 14:57:51,316 - race_prediction.competitive_field_analyzer - INFO - Horses with reliable venue data (3+ races): 0/16
2025-11-07 14:57:51,317 - race_prediction.competitive_field_analyzer - INFO - === FORM MOMENTUM ANALYSIS ===
2025-11-07 14:57:51,317 - race_prediction.competitive_field_analyzer - INFO - Field avg horse trend: 0.768, recent perf: 7.42
2025-11-07 14:57:51,317 - race_prediction.competitive_field_analyzer - INFO - Field avg jockey trend: 1.613
2025-11-07 14:57:51,317 - race_prediction.competitive_field_analyzer - INFO - Horses with improving form: 2/16
2025-11-07 14:57:51,317 - race_prediction.competitive_field_analyzer - INFO - === HOT CONNECTIONS ANALYSIS ===
2025-11-07 14:57:51,317 - race_prediction.competitive_field_analyzer - INFO - Jockeys with wins today: 0/16
2025-11-07 14:57:51,317 - race_prediction.competitive_field_analyzer - INFO - Trainers with wins today: 0/16
2025-11-07 14:57:51,318 - race_prediction.competitive_field_analyzer - INFO - === DISTANCE COMFORT ANALYSIS ===
2025-11-07 14:57:51,318 - race_prediction.competitive_field_analyzer - INFO - Current race distance: 2725m
2025-11-07 14:57:51,318 - race_prediction.competitive_field_analyzer - INFO - Horses with similar recent distance: 12/16
2025-11-07 14:57:51,318 - race_prediction.competitive_field_analyzer - INFO - === REALISTIC COMPETITIVE SCORING ===
2025-11-07 14:57:51,318 - race_prediction.competitive_field_analyzer - INFO - üìä COMPETITIVE ANALYSIS SUMMARY:
2025-11-07 14:57:51,318 - race_prediction.competitive_field_analyzer - INFO -    Total competitive races: 185
2025-11-07 14:57:51,318 - race_prediction.competitive_field_analyzer - INFO -    Horses with historical data: 16/16
2025-11-07 14:57:51,318 - race_prediction.competitive_field_analyzer - INFO -    Average races per horse: 11.6
2025-11-07 14:57:51,328 - race_prediction.quinte_prediction_storage - INFO - Stored 16 horses for Quint√© race 1610765
2025-11-07 14:57:53,325 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE ANALYSIS DEBUG ===
2025-11-07 14:57:53,325 - race_prediction.competitive_field_analyzer - INFO - Analyzing competitive field for race with 16 horses
2025-11-07 14:57:53,325 - race_prediction.competitive_field_analyzer - INFO - Race data shape: (16, 278)
2025-11-07 14:57:53,325 - race_prediction.competitive_field_analyzer - INFO - Available columns: ['id', 'comp', 'jour', 'hippo', 'reun', 'prix', 'prixnom', 'typec', 'partant', 'dist', 'handi', 'groupe', 'quinte', 'natpis', 'meteo', 'corde', 'temperature', 'forceVent', 'directionVent', 'nebulosite', 'prediction_results', 'actual_results', 'created_at', 'updated_at', 'processed_data', 'cheque', 'handi_raw', 'reclam', 'sex', 'tempscourse', 'handicap_level_score', 'cl', 'numero', 'cheval', 'age', 'cotedirect', 'coteprob', 'recence', 'ecar', 'defoeil', 'defoeilPrec', 'musiqueche', 'musiquejoc', 'entraineur', 'coursescheval', 'victoirescheval', 'placescheval', 'dernierealloc', 'derniernbpartants', 'dernieredist', 'derniereplace', 'dernierecote', 'dernierEnt', 'proprietaire', 'poidmont', 'pourcVictJockHippo', 'pourcPlaceJockHippo', 'pourcVictChevalHippo', 'pourcPlaceChevalHippo', 'tempstot', 'vha', 'recordG', 'txreclam', 'dernierTxreclam', 'gainsCarriere', 'gainsAnneeEnCours', 'handicapDistance', 'handicapPoids', 'TxVictCouple', 'nbVictCouple', 'nbPlaceCouple', 'idche', 'idJockey', 'idEntraineur', 'defFirstTime', 'oeilFirstTime', 'oeil', 'dernierOeil', 'ratio_victoires', 'ratio_places', 'gains_par_course', 'efficacite_couple', 'regularite_couple', 'progression_couple', 'perf_cheval_hippo', 'perf_jockey_hippo', 'blinkers_first_time', 'has_blinkers', 'has_standard_blinkers', 'has_australian_blinkers', 'blinkers_added', 'blinkers_removed', 'blinkers_type_changed', 'blinkers_any_change', 'blinkers_high_impact_change', 'shoeing_first_time', 'fully_shod', 'front_shod_only', 'back_shod_only', 'barefoot', 'shoeing_changed', 'barefoot_to_shod', 'shod_to_barefoot', 'major_shoeing_change', 'shoeing_complexity', 'multiple_equipment_changes', 'equipment_momentum_score', 'high_equipment_momentum', 'multiple_first_time_changes', 'equipment_optimization_score', 'career_strike_rate', 'earnings_per_race', 'earnings_trend', 'last_race_position_normalized', 'last_race_odds_normalized', 'last_race_field_size_factor', 'distance_consistency', 'vha_normalized', 'claiming_tax_trend', 'class_stability', 'che_global_avg_pos', 'che_global_recent_perf', 'che_global_consistency', 'che_global_trend', 'che_global_pct_top3', 'che_global_nb_courses', 'che_global_total_races', 'che_global_dnf_rate', 'che_weighted_avg_pos', 'che_weighted_recent_perf', 'che_weighted_consistency', 'che_weighted_pct_top3', 'che_weighted_nb_courses', 'che_weighted_total_races', 'che_weighted_dnf_rate', 'che_weighted_trend', 'che_bytype_avg_pos', 'che_bytype_recent_perf', 'che_bytype_consistency', 'che_bytype_trend', 'che_bytype_pct_top3', 'che_bytype_nb_courses', 'che_bytype_dnf_rate', 'joc_global_avg_pos', 'joc_global_recent_perf', 'joc_global_consistency', 'joc_global_trend', 'joc_global_pct_top3', 'joc_global_nb_courses', 'joc_global_total_races', 'joc_global_dnf_rate', 'joc_weighted_avg_pos', 'joc_weighted_recent_perf', 'joc_weighted_consistency', 'joc_weighted_pct_top3', 'joc_weighted_nb_courses', 'joc_weighted_total_races', 'joc_weighted_dnf_rate', 'joc_weighted_trend', 'joc_bytype_avg_pos', 'joc_bytype_recent_perf', 'joc_bytype_consistency', 'joc_bytype_trend', 'joc_bytype_pct_top3', 'joc_bytype_nb_courses', 'joc_bytype_dnf_rate', 'class_drop_pct', 'purse_per_starter', 'purse_ratio', 'moving_up_in_class', 'class_shock_indicator', 'handicap_level_change', 'time_per_distance', 'time_vs_record', 'pace_rating', 'speed_figure_proxy', 'market_confidence_shift', 'last_race_improvement', 'bounce_risk', 'layoff_distance_interaction', 'trainer_change', 'connection_stability', 'field_size_change', 'distance_comfort', 'competition_level_shift', 'recence_x_class_drop', 'trainer_change_x_recence', 'distance_change_x_recence', 'che_by_type_avg_pos', 'che_by_type_recent_perf', 'che_by_type_consistency', 'che_by_type_trend', 'che_by_type_pct_top3', 'che_by_type_nb_courses', 'che_by_type_dnf_rate', 'joc_by_type_avg_pos', 'joc_by_type_recent_perf', 'joc_by_type_consistency', 'joc_by_type_trend', 'joc_by_type_pct_top3', 'joc_by_type_nb_courses', 'joc_by_type_dnf_rate', 'trainer_victoires', 'trainer_places', 'trainer_courses', 'trainer_winrate', 'trainer_placerate', 'trainer_quality_score', 'trainer_experience_level', 'handicap_poids', 'handicap_dist', 'prec_handicap_poids', 'prec_handicap_dist', 'handicap_poids_change', 'handicap_poids_increased', 'handicap_poids_decreased', 'handicap_dist_change', 'handicap_dist_increased', 'handicap_dist_decreased', 'total_handicap', 'handicap_momentum', 'last_race_position', 'last_race_distance', 'distance_change', 'distance_change_pct', 'distance_increased', 'distance_decreased', 'same_distance', 'corde_change', 'corde_improved', 'corde_worsened', 'last_race_top3', 'last_race_won', 'che_bytype_total_races', 'joc_bytype_total_races', 'che_form_momentum', 'che_improving_form', 'che_declining_form', 'che_high_consistency', 'che_recent_quality', 'che_elite_performer', 'che_regular_placer', 'joc_form_momentum', 'joc_improving_form', 'joc_high_consistency', 'joc_elite_performer', 'synergy_both_improving', 'synergy_both_consistent', 'synergy_both_elite', 'overall_momentum_score', 'high_momentum', 'quinte_career_starts', 'quinte_win_rate', 'quinte_top5_rate', 'avg_quinte_position', 'days_since_last_quinte', 'quinte_handicap_specialist', 'quinte_conditions_specialist', 'quinte_large_field_ability', 'quinte_track_condition_fit', 'is_handicap_quinte', 'handicap_division', 'purse_level_category', 'field_size_category', 'track_condition_PH', 'track_condition_DUR', 'track_condition_PS', 'track_condition_PSF', 'weather_clear', 'weather_rain', 'weather_cloudy', 'post_position_bias', 'post_position_track_bias', 'raw_tabnet_prediction', 'predicted_position_tabnet', 'raw_rf_prediction', 'predicted_position_rf', 'predicted_position_base']
2025-11-07 14:57:53,326 - race_prediction.competitive_field_analyzer - INFO - === CRITICAL COLUMNS ANALYSIS ===
2025-11-07 14:57:53,326 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ recordG: 16/16 non-null values (100.0%)
2025-11-07 14:57:53,326 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [0.0, 0.0, 0.0]
2025-11-07 14:57:53,326 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ hippo: 16/16 non-null values (100.0%)
2025-11-07 14:57:53,326 - race_prediction.competitive_field_analyzer - INFO -    Sample values: ['Auteuil', 'Auteuil', 'Auteuil']
2025-11-07 14:57:53,326 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ coursescheval: 16/16 non-null values (100.0%)
2025-11-07 14:57:53,326 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [15, 13, 14]
2025-11-07 14:57:53,326 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ victoirescheval: 16/16 non-null values (100.0%)
2025-11-07 14:57:53,326 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [2, 2, 3]
2025-11-07 14:57:53,327 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ placescheval: 16/16 non-null values (100.0%)
2025-11-07 14:57:53,327 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [5, 7, 7]
2025-11-07 14:57:53,327 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ gainsCarriere: 16/16 non-null values (100.0%)
2025-11-07 14:57:53,327 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [12214000, 5804000, 6793000]
2025-11-07 14:57:53,327 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ age: 16/16 non-null values (100.0%)
2025-11-07 14:57:53,327 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [5, 4, 5]
2025-11-07 14:57:53,327 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ derniereplace: 16/16 non-null values (100.0%)
2025-11-07 14:57:53,327 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [10.0, 4.0, 2.0]
2025-11-07 14:57:53,327 - race_prediction.competitive_field_analyzer - INFO - === RACE METADATA ===
2025-11-07 14:57:53,327 - race_prediction.competitive_field_analyzer - INFO - comp: 1606667
2025-11-07 14:57:53,327 - race_prediction.competitive_field_analyzer - INFO - hippo: Auteuil
2025-11-07 14:57:53,327 - race_prediction.competitive_field_analyzer - INFO - dist: 3600
2025-11-07 14:57:53,327 - race_prediction.competitive_field_analyzer - INFO - typec: Haies
2025-11-07 14:57:53,327 - race_prediction.competitive_field_analyzer - INFO - partant: 16
2025-11-07 14:57:53,331 - race_prediction.competitive_field_analyzer - INFO - === SAMPLE RACE DATA ===
2025-11-07 14:57:53,331 - race_prediction.competitive_field_analyzer - INFO - Sample data (columns: ['numero', 'cheval', 'recordG', 'hippo', 'coursescheval']):
2025-11-07 14:57:53,331 - race_prediction.competitive_field_analyzer - INFO -   Horse 0: {'numero': 1, 'cheval': 'Ocre', 'recordG': 0.0, 'hippo': 'Auteuil', 'coursescheval': 15}
2025-11-07 14:57:53,331 - race_prediction.competitive_field_analyzer - INFO -   Horse 1: {'numero': 2, 'cheval': "Gino's Line", 'recordG': 0.0, 'hippo': 'Auteuil', 'coursescheval': 13}
2025-11-07 14:57:53,332 - race_prediction.competitive_field_analyzer - INFO -   Horse 2: {'numero': 3, 'cheval': 'Balling de Juilley', 'recordG': 0.0, 'hippo': 'Auteuil', 'coursescheval': 14}
2025-11-07 14:57:53,332 - race_prediction.competitive_field_analyzer - INFO - === END COMPETITIVE ANALYSIS DEBUG ===

2025-11-07 14:57:53,332 - race_prediction.competitive_field_analyzer - INFO - === RETRIEVING HISTORICAL DATA ===
2025-11-07 14:57:53,332 - race_prediction.competitive_field_analyzer - INFO - Fetching historical data for 16 horses: [1641958, 1722759, 1656919, 1650835, 1724352, 1698138, 1725764, 1667100, 1647372, 1726661, 1579592, 1699706, 1701033, 1650228, 1704425, 1755392]
2025-11-07 14:57:53,333 - race_prediction.competitive_field_analyzer - INFO - Batch querying historical data for 16 horses: [1641958, 1722759, 1656919, 1650835, 1724352, 1698138, 1725764, 1667100, 1647372, 1726661, 1579592, 1699706, 1701033, 1650228, 1704425, 1755392]
2025-11-07 14:58:11,028 - race_prediction.competitive_field_analyzer - INFO - Batch query completed in 17.69s, found 123 total records
2025-11-07 14:58:11,036 - race_prediction.competitive_field_analyzer - INFO - Batch query retrieved 123 total historical races
2025-11-07 14:58:11,036 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS PER HORSE ===
2025-11-07 14:58:11,036 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1641958: 7 historical races found
2025-11-07 14:58:11,036 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1722759: 12 historical races found
2025-11-07 14:58:11,036 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1656919: 6 historical races found
2025-11-07 14:58:11,036 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1650835: 7 historical races found
2025-11-07 14:58:11,036 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1724352: 8 historical races found
2025-11-07 14:58:11,036 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1698138: 11 historical races found
2025-11-07 14:58:11,036 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1725764: 7 historical races found
2025-11-07 14:58:11,036 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1667100: 5 historical races found
2025-11-07 14:58:11,036 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1647372: 7 historical races found
2025-11-07 14:58:11,036 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1726661: 5 historical races found
2025-11-07 14:58:11,036 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1579592: 9 historical races found
2025-11-07 14:58:11,036 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1699706: 9 historical races found
2025-11-07 14:58:11,036 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1701033: 8 historical races found
2025-11-07 14:58:11,036 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1650228: 7 historical races found
2025-11-07 14:58:11,036 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1704425: 7 historical races found
2025-11-07 14:58:11,036 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1755392: 8 historical races found
2025-11-07 14:58:11,036 - race_prediction.competitive_field_analyzer - INFO - Retrieved 123 total historical races
2025-11-07 14:58:11,036 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS BY HORSE ===
2025-11-07 14:58:11,036 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1641958: 7 historical races
2025-11-07 14:58:11,036 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1722759: 12 historical races
2025-11-07 14:58:11,036 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1656919: 6 historical races
2025-11-07 14:58:11,036 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1650835: 7 historical races
2025-11-07 14:58:11,037 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1724352: 8 historical races
2025-11-07 14:58:11,039 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1698138: 11 historical races
2025-11-07 14:58:11,039 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1725764: 7 historical races
2025-11-07 14:58:11,039 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1667100: 5 historical races
2025-11-07 14:58:11,039 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1647372: 7 historical races
2025-11-07 14:58:11,039 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1726661: 5 historical races
2025-11-07 14:58:11,039 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1579592: 9 historical races
2025-11-07 14:58:11,039 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1699706: 9 historical races
2025-11-07 14:58:11,039 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1701033: 8 historical races
2025-11-07 14:58:11,039 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1650228: 7 historical races
2025-11-07 14:58:11,039 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1704425: 7 historical races
2025-11-07 14:58:11,039 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1755392: 8 historical races
2025-11-07 14:58:11,039 - race_prediction.competitive_field_analyzer - INFO - === END HISTORICAL DATA RETRIEVAL ===

2025-11-07 14:58:11,040 - race_prediction.competitive_field_analyzer - INFO - === EARNINGS QUALITY ANALYSIS ===
2025-11-07 14:58:11,040 - race_prediction.competitive_field_analyzer - INFO - Valid earnings data: 16/16 horses
2025-11-07 14:58:11,040 - race_prediction.competitive_field_analyzer - INFO - Sample earnings per race: ['814,267', '446,462', '485,214']
2025-11-07 14:58:11,040 - race_prediction.competitive_field_analyzer - INFO - Field earnings stats: avg=517,638, max=1,046,929
2025-11-07 14:58:11,040 - race_prediction.competitive_field_analyzer - INFO - === TRACK SPECIALIZATION ANALYSIS ===
2025-11-07 14:58:11,040 - race_prediction.competitive_field_analyzer - INFO - Horses with reliable venue data (3+ races): 0/16
2025-11-07 14:58:11,041 - race_prediction.competitive_field_analyzer - INFO - === FORM MOMENTUM ANALYSIS ===
2025-11-07 14:58:11,041 - race_prediction.competitive_field_analyzer - INFO - Field avg horse trend: -1.843, recent perf: 5.04
2025-11-07 14:58:11,041 - race_prediction.competitive_field_analyzer - INFO - Field avg jockey trend: 0.029
2025-11-07 14:58:11,041 - race_prediction.competitive_field_analyzer - INFO - Horses with improving form: 2/16
2025-11-07 14:58:11,042 - race_prediction.competitive_field_analyzer - INFO - === HOT CONNECTIONS ANALYSIS ===
2025-11-07 14:58:11,042 - race_prediction.competitive_field_analyzer - INFO - Jockeys with wins today: 0/16
2025-11-07 14:58:11,042 - race_prediction.competitive_field_analyzer - INFO - Trainers with wins today: 0/16
2025-11-07 14:58:11,042 - race_prediction.competitive_field_analyzer - INFO - === DISTANCE COMFORT ANALYSIS ===
2025-11-07 14:58:11,042 - race_prediction.competitive_field_analyzer - INFO - Current race distance: 3600m
2025-11-07 14:58:11,042 - race_prediction.competitive_field_analyzer - INFO - Horses with similar recent distance: 11/16
2025-11-07 14:58:11,042 - race_prediction.competitive_field_analyzer - INFO - === REALISTIC COMPETITIVE SCORING ===
2025-11-07 14:58:11,043 - race_prediction.competitive_field_analyzer - INFO - üìä COMPETITIVE ANALYSIS SUMMARY:
2025-11-07 14:58:11,043 - race_prediction.competitive_field_analyzer - INFO -    Total competitive races: 123
2025-11-07 14:58:11,043 - race_prediction.competitive_field_analyzer - INFO -    Horses with historical data: 16/16
2025-11-07 14:58:11,043 - race_prediction.competitive_field_analyzer - INFO -    Average races per horse: 7.7
2025-11-07 14:58:11,052 - race_prediction.quinte_prediction_storage - INFO - Stored 16 horses for Quint√© race 1606667
2025-11-07 17:31:57,405 - race_prediction.quinte_prediction_storage - INFO - Quint√© prediction storage initialized at data/hippique2.db
2025-11-07 17:31:59,775 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE ANALYSIS DEBUG ===
2025-11-07 17:31:59,775 - race_prediction.competitive_field_analyzer - INFO - Analyzing competitive field for race with 16 horses
2025-11-07 17:31:59,775 - race_prediction.competitive_field_analyzer - INFO - Race data shape: (16, 280)
2025-11-07 17:31:59,775 - race_prediction.competitive_field_analyzer - INFO - Available columns: ['id', 'comp', 'jour', 'hippo', 'reun', 'prix', 'prixnom', 'typec', 'partant', 'dist', 'handi', 'groupe', 'quinte', 'natpis', 'meteo', 'corde', 'temperature', 'forceVent', 'directionVent', 'nebulosite', 'prediction_results', 'actual_results', 'created_at', 'updated_at', 'processed_data', 'cheque', 'handi_raw', 'reclam', 'sex', 'tempscourse', 'handicap_level_score', 'cl', 'numero', 'cheval', 'age', 'cotedirect', 'coteprob', 'recence', 'ecar', 'defoeil', 'defoeilPrec', 'musiqueche', 'musiquejoc', 'entraineur', 'coursescheval', 'victoirescheval', 'placescheval', 'dernierealloc', 'derniernbpartants', 'dernieredist', 'derniereplace', 'dernierecote', 'dernierEnt', 'proprietaire', 'poidmont', 'pourcVictJockHippo', 'pourcPlaceJockHippo', 'pourcVictChevalHippo', 'pourcPlaceChevalHippo', 'tempstot', 'vha', 'recordG', 'txreclam', 'dernierTxreclam', 'gainsCarriere', 'gainsAnneeEnCours', 'handicapDistance', 'handicapPoids', 'TxVictCouple', 'nbVictCouple', 'nbPlaceCouple', 'idche', 'idJockey', 'idEntraineur', 'defFirstTime', 'oeilFirstTime', 'oeil', 'dernierOeil', 'ratio_victoires', 'ratio_places', 'gains_par_course', 'efficacite_couple', 'regularite_couple', 'progression_couple', 'perf_cheval_hippo', 'perf_jockey_hippo', 'trainer_victoires', 'trainer_places', 'trainer_courses', 'trainer_winrate', 'trainer_placerate', 'trainer_quality_score', 'trainer_experience_level', 'handicap_poids', 'handicap_dist', 'prec_handicap_poids', 'prec_handicap_dist', 'handicap_poids_change', 'handicap_poids_increased', 'handicap_poids_decreased', 'handicap_dist_change', 'handicap_dist_increased', 'handicap_dist_decreased', 'total_handicap', 'handicap_momentum', 'last_race_position', 'last_race_distance', 'distance_change', 'distance_change_pct', 'distance_increased', 'distance_decreased', 'same_distance', 'corde_change', 'corde_improved', 'corde_worsened', 'last_race_top3', 'last_race_won', 'blinkers_first_time', 'has_blinkers', 'has_standard_blinkers', 'has_australian_blinkers', 'blinkers_added', 'blinkers_removed', 'blinkers_type_changed', 'blinkers_any_change', 'blinkers_high_impact_change', 'shoeing_first_time', 'fully_shod', 'front_shod_only', 'back_shod_only', 'barefoot', 'shoeing_changed', 'barefoot_to_shod', 'shod_to_barefoot', 'major_shoeing_change', 'shoeing_complexity', 'multiple_equipment_changes', 'equipment_momentum_score', 'high_equipment_momentum', 'multiple_first_time_changes', 'equipment_optimization_score', 'career_strike_rate', 'earnings_per_race', 'earnings_trend', 'last_race_position_normalized', 'last_race_odds_normalized', 'last_race_field_size_factor', 'distance_consistency', 'vha_normalized', 'claiming_tax_trend', 'class_stability', 'che_global_avg_pos', 'che_global_recent_perf', 'che_global_consistency', 'che_global_trend', 'che_global_pct_top3', 'che_global_nb_courses', 'che_global_total_races', 'che_global_dnf_rate', 'che_weighted_avg_pos', 'che_weighted_recent_perf', 'che_weighted_consistency', 'che_weighted_pct_top3', 'che_weighted_nb_courses', 'che_weighted_total_races', 'che_weighted_dnf_rate', 'che_weighted_trend', 'che_bytype_avg_pos', 'che_bytype_recent_perf', 'che_bytype_consistency', 'che_bytype_trend', 'che_bytype_pct_top3', 'che_bytype_nb_courses', 'che_bytype_total_races', 'che_bytype_dnf_rate', 'joc_global_avg_pos', 'joc_global_recent_perf', 'joc_global_consistency', 'joc_global_trend', 'joc_global_pct_top3', 'joc_global_nb_courses', 'joc_global_total_races', 'joc_global_dnf_rate', 'joc_weighted_avg_pos', 'joc_weighted_recent_perf', 'joc_weighted_consistency', 'joc_weighted_pct_top3', 'joc_weighted_nb_courses', 'joc_weighted_total_races', 'joc_weighted_dnf_rate', 'joc_weighted_trend', 'joc_bytype_avg_pos', 'joc_bytype_recent_perf', 'joc_bytype_consistency', 'joc_bytype_trend', 'joc_bytype_pct_top3', 'joc_bytype_nb_courses', 'joc_bytype_total_races', 'joc_bytype_dnf_rate', 'che_form_momentum', 'che_improving_form', 'che_declining_form', 'che_high_consistency', 'che_recent_quality', 'che_elite_performer', 'che_regular_placer', 'joc_form_momentum', 'joc_improving_form', 'joc_high_consistency', 'joc_elite_performer', 'synergy_both_improving', 'synergy_both_consistent', 'synergy_both_elite', 'overall_momentum_score', 'high_momentum', 'class_drop_pct', 'purse_per_starter', 'purse_ratio', 'moving_up_in_class', 'class_shock_indicator', 'handicap_level_change', 'time_per_distance', 'time_vs_record', 'pace_rating', 'speed_figure_proxy', 'market_confidence_shift', 'last_race_improvement', 'bounce_risk', 'layoff_distance_interaction', 'trainer_change', 'connection_stability', 'field_size_change', 'distance_comfort', 'competition_level_shift', 'recence_x_class_drop', 'trainer_change_x_recence', 'distance_change_x_recence', 'che_by_type_avg_pos', 'che_by_type_recent_perf', 'che_by_type_consistency', 'che_by_type_trend', 'che_by_type_pct_top3', 'che_by_type_nb_courses', 'che_by_type_total_races', 'che_by_type_dnf_rate', 'joc_by_type_avg_pos', 'joc_by_type_recent_perf', 'joc_by_type_consistency', 'joc_by_type_trend', 'joc_by_type_pct_top3', 'joc_by_type_nb_courses', 'joc_by_type_total_races', 'joc_by_type_dnf_rate', 'quinte_career_starts', 'quinte_win_rate', 'quinte_top5_rate', 'avg_quinte_position', 'days_since_last_quinte', 'quinte_handicap_specialist', 'quinte_conditions_specialist', 'quinte_large_field_ability', 'quinte_track_condition_fit', 'is_handicap_quinte', 'handicap_division', 'purse_level_category', 'field_size_category', 'track_condition_PH', 'track_condition_DUR', 'track_condition_PS', 'track_condition_PSF', 'weather_clear', 'weather_rain', 'weather_cloudy', 'post_position_bias', 'post_position_track_bias', 'raw_tabnet_prediction', 'predicted_position_tabnet', 'raw_rf_prediction', 'predicted_position_rf', 'predicted_position_base']
2025-11-07 17:31:59,776 - race_prediction.competitive_field_analyzer - INFO - === CRITICAL COLUMNS ANALYSIS ===
2025-11-07 17:31:59,776 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ recordG: 16/16 non-null values (100.0%)
2025-11-07 17:31:59,776 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [0.0, 0.0, 0.0]
2025-11-07 17:31:59,776 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ hippo: 16/16 non-null values (100.0%)
2025-11-07 17:31:59,776 - race_prediction.competitive_field_analyzer - INFO -    Sample values: ['Paris-Vincennes', 'Paris-Vincennes', 'Paris-Vincennes']
2025-11-07 17:31:59,776 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ coursescheval: 16/16 non-null values (100.0%)
2025-11-07 17:31:59,776 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [26, 17, 21]
2025-11-07 17:31:59,776 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ victoirescheval: 16/16 non-null values (100.0%)
2025-11-07 17:31:59,776 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [4, 5, 5]
2025-11-07 17:31:59,777 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ placescheval: 16/16 non-null values (100.0%)
2025-11-07 17:31:59,777 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [8, 9, 7]
2025-11-07 17:31:59,777 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ gainsCarriere: 16/16 non-null values (100.0%)
2025-11-07 17:31:59,777 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [7921000, 9031000, 11717500]
2025-11-07 17:31:59,778 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ age: 16/16 non-null values (100.0%)
2025-11-07 17:31:59,778 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [5, 5, 5]
2025-11-07 17:31:59,778 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ derniereplace: 16/16 non-null values (100.0%)
2025-11-07 17:31:59,778 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [5.0, 7.0, 15.0]
2025-11-07 17:31:59,778 - race_prediction.competitive_field_analyzer - INFO - === RACE METADATA ===
2025-11-07 17:31:59,778 - race_prediction.competitive_field_analyzer - INFO - comp: 1619965
2025-11-07 17:31:59,778 - race_prediction.competitive_field_analyzer - INFO - hippo: Paris-Vincennes
2025-11-07 17:31:59,778 - race_prediction.competitive_field_analyzer - INFO - dist: 2700
2025-11-07 17:31:59,778 - race_prediction.competitive_field_analyzer - INFO - typec: Attel√©
2025-11-07 17:31:59,779 - race_prediction.competitive_field_analyzer - INFO - partant: 16
2025-11-07 17:31:59,779 - race_prediction.competitive_field_analyzer - INFO - === SAMPLE RACE DATA ===
2025-11-07 17:31:59,779 - race_prediction.competitive_field_analyzer - INFO - Sample data (columns: ['numero', 'cheval', 'recordG', 'hippo', 'coursescheval']):
2025-11-07 17:31:59,779 - race_prediction.competitive_field_analyzer - INFO -   Horse 0: {'numero': 1, 'cheval': 'Kingston de Blary', 'recordG': 0.0, 'hippo': 'Paris-Vincennes', 'coursescheval': 26}
2025-11-07 17:31:59,779 - race_prediction.competitive_field_analyzer - INFO -   Horse 1: {'numero': 2, 'cheval': 'Kamour', 'recordG': 0.0, 'hippo': 'Paris-Vincennes', 'coursescheval': 17}
2025-11-07 17:31:59,779 - race_prediction.competitive_field_analyzer - INFO -   Horse 2: {'numero': 3, 'cheval': 'King Georges', 'recordG': 0.0, 'hippo': 'Paris-Vincennes', 'coursescheval': 21}
2025-11-07 17:31:59,779 - race_prediction.competitive_field_analyzer - INFO - === END COMPETITIVE ANALYSIS DEBUG ===

2025-11-07 17:31:59,779 - race_prediction.competitive_field_analyzer - INFO - === RETRIEVING HISTORICAL DATA ===
2025-11-07 17:31:59,779 - race_prediction.competitive_field_analyzer - INFO - Fetching historical data for 16 horses: [1575813, 1663009, 1576834, 1656229, 1572477, 1660540, 1576402, 1561752, 1582067, 1575455, 1563340, 1581994, 1560715, 1590089, 1587413, 1555299]
2025-11-07 17:31:59,781 - race_prediction.competitive_field_analyzer - INFO - Batch querying historical data for 16 horses: [1575813, 1663009, 1576834, 1656229, 1572477, 1660540, 1576402, 1561752, 1582067, 1575455, 1563340, 1581994, 1560715, 1590089, 1587413, 1555299]
2025-11-07 17:32:24,161 - race_prediction.competitive_field_analyzer - INFO - Batch query completed in 24.38s, found 159 total records
2025-11-07 17:32:24,169 - race_prediction.competitive_field_analyzer - INFO - Batch query retrieved 159 total historical races
2025-11-07 17:32:24,169 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS PER HORSE ===
2025-11-07 17:32:24,169 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1575813: 9 historical races found
2025-11-07 17:32:24,169 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1663009: 6 historical races found
2025-11-07 17:32:24,169 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1576834: 7 historical races found
2025-11-07 17:32:24,169 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1656229: 11 historical races found
2025-11-07 17:32:24,169 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1572477: 14 historical races found
2025-11-07 17:32:24,169 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1660540: 14 historical races found
2025-11-07 17:32:24,169 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1576402: 11 historical races found
2025-11-07 17:32:24,170 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1561752: 7 historical races found
2025-11-07 17:32:24,170 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1582067: 5 historical races found
2025-11-07 17:32:24,170 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1575455: 13 historical races found
2025-11-07 17:32:24,170 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1563340: 9 historical races found
2025-11-07 17:32:24,170 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1581994: 13 historical races found
2025-11-07 17:32:24,170 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1560715: 8 historical races found
2025-11-07 17:32:24,170 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1590089: 13 historical races found
2025-11-07 17:32:24,170 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1587413: 5 historical races found
2025-11-07 17:32:24,170 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1555299: 14 historical races found
2025-11-07 17:32:24,170 - race_prediction.competitive_field_analyzer - INFO - Retrieved 159 total historical races
2025-11-07 17:32:24,170 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS BY HORSE ===
2025-11-07 17:32:24,170 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1575813: 9 historical races
2025-11-07 17:32:24,170 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1663009: 6 historical races
2025-11-07 17:32:24,170 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1576834: 7 historical races
2025-11-07 17:32:24,170 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1656229: 11 historical races
2025-11-07 17:32:24,170 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1572477: 14 historical races
2025-11-07 17:32:24,170 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1660540: 14 historical races
2025-11-07 17:32:24,170 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1576402: 11 historical races
2025-11-07 17:32:24,170 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1561752: 7 historical races
2025-11-07 17:32:24,170 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1582067: 5 historical races
2025-11-07 17:32:24,170 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1575455: 13 historical races
2025-11-07 17:32:24,170 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1563340: 9 historical races
2025-11-07 17:32:24,170 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1581994: 13 historical races
2025-11-07 17:32:24,170 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1560715: 8 historical races
2025-11-07 17:32:24,170 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1590089: 13 historical races
2025-11-07 17:32:24,170 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1587413: 5 historical races
2025-11-07 17:32:24,170 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1555299: 14 historical races
2025-11-07 17:32:24,170 - race_prediction.competitive_field_analyzer - INFO - === END HISTORICAL DATA RETRIEVAL ===

2025-11-07 17:32:24,171 - race_prediction.competitive_field_analyzer - INFO - === EARNINGS QUALITY ANALYSIS ===
2025-11-07 17:32:24,171 - race_prediction.competitive_field_analyzer - INFO - Valid earnings data: 16/16 horses
2025-11-07 17:32:24,171 - race_prediction.competitive_field_analyzer - INFO - Sample earnings per race: ['304,654', '531,235', '557,976']
2025-11-07 17:32:24,171 - race_prediction.competitive_field_analyzer - INFO - Field earnings stats: avg=584,061, max=1,084,062
2025-11-07 17:32:24,171 - race_prediction.competitive_field_analyzer - INFO - === TRACK SPECIALIZATION ANALYSIS ===
2025-11-07 17:32:24,171 - race_prediction.competitive_field_analyzer - INFO - Horses with reliable venue data (3+ races): 0/16
2025-11-07 17:32:24,173 - race_prediction.competitive_field_analyzer - INFO - === FORM MOMENTUM ANALYSIS ===
2025-11-07 17:32:24,173 - race_prediction.competitive_field_analyzer - INFO - Field avg horse trend: 1.984, recent perf: 6.90
2025-11-07 17:32:24,173 - race_prediction.competitive_field_analyzer - INFO - Field avg jockey trend: -0.197
2025-11-07 17:32:24,173 - race_prediction.competitive_field_analyzer - INFO - Horses with improving form: 3/16
2025-11-07 17:32:24,173 - race_prediction.competitive_field_analyzer - INFO - === HOT CONNECTIONS ANALYSIS ===
2025-11-07 17:32:24,173 - race_prediction.competitive_field_analyzer - INFO - Jockeys with wins today: 0/16
2025-11-07 17:32:24,173 - race_prediction.competitive_field_analyzer - INFO - Trainers with wins today: 0/16
2025-11-07 17:32:24,173 - race_prediction.competitive_field_analyzer - INFO - === DISTANCE COMFORT ANALYSIS ===
2025-11-07 17:32:24,173 - race_prediction.competitive_field_analyzer - INFO - Current race distance: 2700m
2025-11-07 17:32:24,174 - race_prediction.competitive_field_analyzer - INFO - Horses with similar recent distance: 10/16
2025-11-07 17:32:24,174 - race_prediction.competitive_field_analyzer - INFO - === REALISTIC COMPETITIVE SCORING ===
2025-11-07 17:32:24,174 - race_prediction.competitive_field_analyzer - INFO - üìä COMPETITIVE ANALYSIS SUMMARY:
2025-11-07 17:32:24,174 - race_prediction.competitive_field_analyzer - INFO -    Total competitive races: 159
2025-11-07 17:32:24,175 - race_prediction.competitive_field_analyzer - INFO -    Horses with historical data: 16/16
2025-11-07 17:32:24,175 - race_prediction.competitive_field_analyzer - INFO -    Average races per horse: 9.9
2025-11-07 17:32:24,193 - race_prediction.quinte_prediction_storage - INFO - Stored 16 horses for Quint√© race 1619965
2025-11-07 22:38:12,056 - RaceFetcher - ERROR - ‚ùå API request failed for /jour: HTTPSConnectionPool(host='aspiturf.com', port=443): Max retries exceeded with url: /api/api/jour?uid=EhBCnKDamDfLkYJJjhWLf47xT7j1&jour=2025-11-07 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x30ecc1c50>: Failed to resolve 'aspiturf.com' ([Errno 8] nodename nor servname provided, or not known)"))
2025-11-07 22:38:12,058 - RaceFetcher - ERROR - Error fetching races for 2025-11-07
2025-11-07 22:38:12,058 - RaceFetcher - ERROR - Error in fetch_and_store_daily_races: Failed to fetch races for 2025-11-07
2025-11-07 22:38:12,061 - RaceFetcher - ERROR - Traceback (most recent call last):
  File "/Users/mattg0/Docs/HorseAIv2/core/connectors/api_daily_sync.py", line 673, in fetch_and_store_daily_races
    api_data = self.fetch_races(date)
               ^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/mattg0/Docs/HorseAIv2/core/connectors/api_daily_sync.py", line 286, in fetch_races
    raise Exception(f"Failed to fetch races for {date}")
Exception: Failed to fetch races for 2025-11-07

2025-11-07 22:38:43,800 - RaceFetcher - ERROR - ‚ùå API request failed for /jour: HTTPSConnectionPool(host='aspiturf.com', port=443): Max retries exceeded with url: /api/api/jour?uid=EhBCnKDamDfLkYJJjhWLf47xT7j1&jour=2025-11-07 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x37e71fd50>: Failed to resolve 'aspiturf.com' ([Errno 8] nodename nor servname provided, or not known)"))
2025-11-07 22:38:43,801 - RaceFetcher - ERROR - Error fetching races for 2025-11-07
2025-11-07 22:38:43,801 - RaceFetcher - ERROR - Error in fetch_and_store_daily_races: Failed to fetch races for 2025-11-07
2025-11-07 22:38:43,801 - RaceFetcher - ERROR - Traceback (most recent call last):
  File "/Users/mattg0/Docs/HorseAIv2/core/connectors/api_daily_sync.py", line 673, in fetch_and_store_daily_races
    api_data = self.fetch_races(date)
               ^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/mattg0/Docs/HorseAIv2/core/connectors/api_daily_sync.py", line 286, in fetch_races
    raise Exception(f"Failed to fetch races for {date}")
Exception: Failed to fetch races for 2025-11-07

2025-11-07 22:38:48,274 - RaceFetcher - ERROR - ‚ùå API request failed for /jour: HTTPSConnectionPool(host='aspiturf.com', port=443): Max retries exceeded with url: /api/api/jour?uid=EhBCnKDamDfLkYJJjhWLf47xT7j1&jour=2025-11-07 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x37b2f73d0>: Failed to resolve 'aspiturf.com' ([Errno 8] nodename nor servname provided, or not known)"))
2025-11-07 22:38:48,274 - RaceFetcher - ERROR - Error fetching races for 2025-11-07
2025-11-07 22:38:48,274 - RaceFetcher - ERROR - Error in fetch_and_store_daily_races: Failed to fetch races for 2025-11-07
2025-11-07 22:38:48,274 - RaceFetcher - ERROR - Traceback (most recent call last):
  File "/Users/mattg0/Docs/HorseAIv2/core/connectors/api_daily_sync.py", line 673, in fetch_and_store_daily_races
    api_data = self.fetch_races(date)
               ^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/mattg0/Docs/HorseAIv2/core/connectors/api_daily_sync.py", line 286, in fetch_races
    raise Exception(f"Failed to fetch races for {date}")
Exception: Failed to fetch races for 2025-11-07

2025-11-07 22:38:51,317 - RaceFetcher - ERROR - ‚ùå API request failed for /jour: HTTPSConnectionPool(host='aspiturf.com', port=443): Max retries exceeded with url: /api/api/jour?uid=EhBCnKDamDfLkYJJjhWLf47xT7j1&jour=2025-11-07 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x30ee4c8d0>: Failed to resolve 'aspiturf.com' ([Errno 8] nodename nor servname provided, or not known)"))
2025-11-07 22:38:51,318 - RaceFetcher - ERROR - Error fetching races for 2025-11-07
2025-11-07 22:38:51,318 - RaceFetcher - ERROR - Error in fetch_and_store_daily_races: Failed to fetch races for 2025-11-07
2025-11-07 22:38:51,318 - RaceFetcher - ERROR - Traceback (most recent call last):
  File "/Users/mattg0/Docs/HorseAIv2/core/connectors/api_daily_sync.py", line 673, in fetch_and_store_daily_races
    api_data = self.fetch_races(date)
               ^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/mattg0/Docs/HorseAIv2/core/connectors/api_daily_sync.py", line 286, in fetch_races
    raise Exception(f"Failed to fetch races for {date}")
Exception: Failed to fetch races for 2025-11-07

2025-11-07 22:39:10,171 - RaceFetcher - ERROR - ‚ùå API request failed for /jour: HTTPSConnectionPool(host='aspiturf.com', port=443): Max retries exceeded with url: /api/api/jour?uid=EhBCnKDamDfLkYJJjhWLf47xT7j1&jour=2025-11-07 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x37efa5dd0>: Failed to resolve 'aspiturf.com' ([Errno 8] nodename nor servname provided, or not known)"))
2025-11-07 22:39:10,171 - RaceFetcher - ERROR - Error fetching races for 2025-11-07
2025-11-07 22:39:10,172 - RaceFetcher - ERROR - Error in fetch_and_store_daily_races: Failed to fetch races for 2025-11-07
2025-11-07 22:39:10,172 - RaceFetcher - ERROR - Traceback (most recent call last):
  File "/Users/mattg0/Docs/HorseAIv2/core/connectors/api_daily_sync.py", line 673, in fetch_and_store_daily_races
    api_data = self.fetch_races(date)
               ^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/mattg0/Docs/HorseAIv2/core/connectors/api_daily_sync.py", line 286, in fetch_races
    raise Exception(f"Failed to fetch races for {date}")
Exception: Failed to fetch races for 2025-11-07

2025-11-08 10:44:28,029 - RaceFetcher - ERROR - ‚ùå API request failed for /jour: HTTPSConnectionPool(host='aspiturf.com', port=443): Max retries exceeded with url: /api/api/jour?uid=EhBCnKDamDfLkYJJjhWLf47xT7j1&jour=2025-11-07 (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x34d0fcdd0>: Failed to resolve 'aspiturf.com' ([Errno 8] nodename nor servname provided, or not known)"))
2025-11-08 10:44:28,030 - RaceFetcher - ERROR - Error fetching races for 2025-11-07
2025-11-08 10:44:28,030 - RaceFetcher - ERROR - Error in fetch_and_store_daily_races: Failed to fetch races for 2025-11-07
2025-11-08 10:44:28,031 - RaceFetcher - ERROR - Traceback (most recent call last):
  File "/Users/mattg0/Docs/HorseAIv2/core/connectors/api_daily_sync.py", line 673, in fetch_and_store_daily_races
    api_data = self.fetch_races(date)
               ^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/mattg0/Docs/HorseAIv2/core/connectors/api_daily_sync.py", line 286, in fetch_races
    raise Exception(f"Failed to fetch races for {date}")
Exception: Failed to fetch races for 2025-11-07

2025-11-08 10:46:38,551 - UnifiedDataPipeline - WARNING - ‚ö†Ô∏è  Feature consistency validation failed for daily_sync: ['Feature che_by_type_avg_pos has 88.9% missing values', 'Feature che_by_type_recent_perf has 88.9% missing values', 'Feature che_by_type_consistency has 88.9% missing values', 'Feature che_by_type_trend has 88.9% missing values', 'Feature che_by_type_pct_top3 has 88.9% missing values', 'Feature che_by_type_nb_courses has 88.9% missing values', 'Feature che_by_type_total_races has 88.9% missing values', 'Feature che_by_type_dnf_rate has 88.9% missing values']
2025-11-08 10:46:40,484 - UnifiedDataPipeline - WARNING - ‚ö†Ô∏è  Feature consistency validation failed for daily_sync: ['Feature che_by_type_avg_pos has 84.6% missing values', 'Feature che_by_type_recent_perf has 84.6% missing values', 'Feature che_by_type_consistency has 84.6% missing values', 'Feature che_by_type_trend has 84.6% missing values', 'Feature che_by_type_pct_top3 has 84.6% missing values', 'Feature che_by_type_nb_courses has 84.6% missing values', 'Feature che_by_type_total_races has 84.6% missing values', 'Feature che_by_type_dnf_rate has 84.6% missing values']
2025-11-08 10:46:40,880 - UnifiedDataPipeline - WARNING - ‚ö†Ô∏è  Feature consistency validation failed for daily_sync: ['Feature che_by_type_avg_pos has 83.3% missing values', 'Feature che_by_type_recent_perf has 83.3% missing values', 'Feature che_by_type_consistency has 83.3% missing values', 'Feature che_by_type_trend has 83.3% missing values', 'Feature che_by_type_pct_top3 has 83.3% missing values', 'Feature che_by_type_nb_courses has 83.3% missing values', 'Feature che_by_type_total_races has 83.3% missing values', 'Feature che_by_type_dnf_rate has 83.3% missing values']
2025-11-08 10:47:47,906 - UnifiedDataPipeline - WARNING - ‚ö†Ô∏è  Feature consistency validation failed for daily_sync: ['Feature che_by_type_avg_pos has 92.3% missing values', 'Feature che_by_type_recent_perf has 92.3% missing values', 'Feature che_by_type_consistency has 92.3% missing values', 'Feature che_by_type_trend has 92.3% missing values', 'Feature che_by_type_pct_top3 has 92.3% missing values', 'Feature che_by_type_nb_courses has 92.3% missing values', 'Feature che_by_type_dnf_rate has 92.3% missing values']
2025-11-08 10:47:57,679 - UnifiedDataPipeline - WARNING - ‚ö†Ô∏è  Feature consistency validation failed for daily_sync: ['Feature che_by_type_total_races has 83.3% missing values']
2025-11-08 10:48:27,414 - UnifiedDataPipeline - WARNING - ‚ö†Ô∏è  Feature consistency validation failed for daily_sync: ['Feature che_by_type_avg_pos has 86.7% missing values', 'Feature che_by_type_recent_perf has 86.7% missing values', 'Feature che_by_type_consistency has 86.7% missing values', 'Feature che_by_type_trend has 86.7% missing values', 'Feature che_by_type_pct_top3 has 86.7% missing values', 'Feature che_by_type_nb_courses has 86.7% missing values', 'Feature che_by_type_total_races has 86.7% missing values', 'Feature che_by_type_dnf_rate has 86.7% missing values']
2025-11-08 10:48:27,595 - UnifiedDataPipeline - WARNING - ‚ö†Ô∏è  Feature consistency validation failed for daily_sync: ['Feature che_by_type_avg_pos has 90.9% missing values', 'Feature che_by_type_recent_perf has 90.9% missing values', 'Feature che_by_type_consistency has 90.9% missing values', 'Feature che_by_type_trend has 90.9% missing values', 'Feature che_by_type_pct_top3 has 90.9% missing values', 'Feature che_by_type_nb_courses has 90.9% missing values', 'Feature che_by_type_total_races has 90.9% missing values', 'Feature che_by_type_dnf_rate has 90.9% missing values']
2025-11-08 10:48:31,226 - UnifiedDataPipeline - WARNING - ‚ö†Ô∏è  Feature consistency validation failed for daily_sync: ['Feature che_by_type_total_races has 91.7% missing values']
2025-11-08 10:48:31,646 - UnifiedDataPipeline - WARNING - ‚ö†Ô∏è  Feature consistency validation failed for daily_sync: ['Feature che_by_type_avg_pos has 83.3% missing values', 'Feature che_by_type_recent_perf has 83.3% missing values', 'Feature che_by_type_consistency has 83.3% missing values', 'Feature che_by_type_trend has 83.3% missing values', 'Feature che_by_type_pct_top3 has 83.3% missing values', 'Feature che_by_type_nb_courses has 83.3% missing values', 'Feature che_by_type_total_races has 83.3% missing values', 'Feature che_by_type_dnf_rate has 83.3% missing values']
2025-11-08 10:48:42,756 - UnifiedDataPipeline - WARNING - ‚ö†Ô∏è  Feature consistency validation failed for daily_sync: ['Feature che_by_type_avg_pos has 84.6% missing values', 'Feature che_by_type_recent_perf has 84.6% missing values', 'Feature che_by_type_consistency has 84.6% missing values', 'Feature che_by_type_trend has 84.6% missing values', 'Feature che_by_type_pct_top3 has 84.6% missing values', 'Feature che_by_type_nb_courses has 84.6% missing values', 'Feature che_by_type_total_races has 84.6% missing values', 'Feature che_by_type_dnf_rate has 84.6% missing values']
2025-11-08 10:48:45,783 - UnifiedDataPipeline - WARNING - ‚ö†Ô∏è  Feature consistency validation failed for daily_sync: ['Feature che_by_type_total_races has 85.7% missing values']
2025-11-08 10:48:45,967 - UnifiedDataPipeline - WARNING - ‚ö†Ô∏è  Feature consistency validation failed for daily_sync: ['Feature che_by_type_total_races has 90.0% missing values']
2025-11-08 10:49:51,144 - UnifiedDataPipeline - WARNING - ‚ö†Ô∏è  Feature consistency validation failed for daily_sync: ['Feature che_by_type_avg_pos has 85.7% missing values', 'Feature che_by_type_recent_perf has 85.7% missing values', 'Feature che_by_type_consistency has 85.7% missing values', 'Feature che_by_type_trend has 85.7% missing values', 'Feature che_by_type_pct_top3 has 85.7% missing values', 'Feature che_by_type_nb_courses has 85.7% missing values', 'Feature che_by_type_total_races has 85.7% missing values', 'Feature che_by_type_dnf_rate has 85.7% missing values']
2025-11-08 10:49:51,536 - UnifiedDataPipeline - WARNING - ‚ö†Ô∏è  Feature consistency validation failed for daily_sync: ['Feature che_by_type_avg_pos has 85.7% missing values', 'Feature che_by_type_recent_perf has 85.7% missing values', 'Feature che_by_type_consistency has 85.7% missing values', 'Feature che_by_type_trend has 85.7% missing values', 'Feature che_by_type_pct_top3 has 85.7% missing values', 'Feature che_by_type_nb_courses has 85.7% missing values', 'Feature che_by_type_total_races has 85.7% missing values', 'Feature che_by_type_dnf_rate has 85.7% missing values']
2025-11-08 10:49:51,966 - UnifiedDataPipeline - WARNING - ‚ö†Ô∏è  Feature consistency validation failed for daily_sync: ['Feature che_by_type_avg_pos has 90.0% missing values', 'Feature che_by_type_recent_perf has 90.0% missing values', 'Feature che_by_type_consistency has 90.0% missing values', 'Feature che_by_type_trend has 90.0% missing values', 'Feature che_by_type_pct_top3 has 90.0% missing values', 'Feature che_by_type_nb_courses has 90.0% missing values', 'Feature che_by_type_total_races has 90.0% missing values', 'Feature che_by_type_dnf_rate has 90.0% missing values']
2025-11-08 10:50:47,318 - race_prediction.quinte_prediction_storage - INFO - Quint√© prediction storage initialized at data/hippique2.db
2025-11-08 10:50:49,674 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE ANALYSIS DEBUG ===
2025-11-08 10:50:49,674 - race_prediction.competitive_field_analyzer - INFO - Analyzing competitive field for race with 13 horses
2025-11-08 10:50:49,674 - race_prediction.competitive_field_analyzer - INFO - Race data shape: (13, 280)
2025-11-08 10:50:49,674 - race_prediction.competitive_field_analyzer - INFO - Available columns: ['id', 'comp', 'jour', 'hippo', 'reun', 'prix', 'prixnom', 'typec', 'partant', 'dist', 'handi', 'groupe', 'quinte', 'natpis', 'meteo', 'corde', 'temperature', 'forceVent', 'directionVent', 'nebulosite', 'prediction_results', 'actual_results', 'created_at', 'updated_at', 'processed_data', 'cheque', 'handi_raw', 'reclam', 'sex', 'tempscourse', 'handicap_level_score', 'cl', 'numero', 'cheval', 'age', 'cotedirect', 'coteprob', 'recence', 'ecar', 'defoeil', 'defoeilPrec', 'musiqueche', 'musiquejoc', 'entraineur', 'coursescheval', 'victoirescheval', 'placescheval', 'dernierealloc', 'derniernbpartants', 'dernieredist', 'derniereplace', 'dernierecote', 'dernierEnt', 'proprietaire', 'poidmont', 'pourcVictJockHippo', 'pourcPlaceJockHippo', 'pourcVictChevalHippo', 'pourcPlaceChevalHippo', 'tempstot', 'vha', 'recordG', 'txreclam', 'dernierTxreclam', 'gainsCarriere', 'gainsAnneeEnCours', 'handicapDistance', 'handicapPoids', 'TxVictCouple', 'nbVictCouple', 'nbPlaceCouple', 'idche', 'idJockey', 'idEntraineur', 'defFirstTime', 'oeilFirstTime', 'oeil', 'dernierOeil', 'ratio_victoires', 'ratio_places', 'gains_par_course', 'efficacite_couple', 'regularite_couple', 'progression_couple', 'perf_cheval_hippo', 'perf_jockey_hippo', 'trainer_victoires', 'trainer_places', 'trainer_courses', 'trainer_winrate', 'trainer_placerate', 'trainer_quality_score', 'trainer_experience_level', 'handicap_poids', 'handicap_dist', 'prec_handicap_poids', 'prec_handicap_dist', 'handicap_poids_change', 'handicap_poids_increased', 'handicap_poids_decreased', 'handicap_dist_change', 'handicap_dist_increased', 'handicap_dist_decreased', 'total_handicap', 'handicap_momentum', 'last_race_position', 'last_race_distance', 'distance_change', 'distance_change_pct', 'distance_increased', 'distance_decreased', 'same_distance', 'corde_change', 'corde_improved', 'corde_worsened', 'last_race_top3', 'last_race_won', 'blinkers_first_time', 'has_blinkers', 'has_standard_blinkers', 'has_australian_blinkers', 'blinkers_added', 'blinkers_removed', 'blinkers_type_changed', 'blinkers_any_change', 'blinkers_high_impact_change', 'shoeing_first_time', 'fully_shod', 'front_shod_only', 'back_shod_only', 'barefoot', 'shoeing_changed', 'barefoot_to_shod', 'shod_to_barefoot', 'major_shoeing_change', 'shoeing_complexity', 'multiple_equipment_changes', 'equipment_momentum_score', 'high_equipment_momentum', 'multiple_first_time_changes', 'equipment_optimization_score', 'career_strike_rate', 'earnings_per_race', 'earnings_trend', 'last_race_position_normalized', 'last_race_odds_normalized', 'last_race_field_size_factor', 'distance_consistency', 'vha_normalized', 'claiming_tax_trend', 'class_stability', 'che_global_avg_pos', 'che_global_recent_perf', 'che_global_consistency', 'che_global_trend', 'che_global_pct_top3', 'che_global_nb_courses', 'che_global_total_races', 'che_global_dnf_rate', 'che_weighted_avg_pos', 'che_weighted_recent_perf', 'che_weighted_consistency', 'che_weighted_pct_top3', 'che_weighted_nb_courses', 'che_weighted_total_races', 'che_weighted_dnf_rate', 'che_weighted_trend', 'che_bytype_avg_pos', 'che_bytype_recent_perf', 'che_bytype_consistency', 'che_bytype_trend', 'che_bytype_pct_top3', 'che_bytype_nb_courses', 'che_bytype_total_races', 'che_bytype_dnf_rate', 'joc_global_avg_pos', 'joc_global_recent_perf', 'joc_global_consistency', 'joc_global_trend', 'joc_global_pct_top3', 'joc_global_nb_courses', 'joc_global_total_races', 'joc_global_dnf_rate', 'joc_weighted_avg_pos', 'joc_weighted_recent_perf', 'joc_weighted_consistency', 'joc_weighted_pct_top3', 'joc_weighted_nb_courses', 'joc_weighted_total_races', 'joc_weighted_dnf_rate', 'joc_weighted_trend', 'joc_bytype_avg_pos', 'joc_bytype_recent_perf', 'joc_bytype_consistency', 'joc_bytype_trend', 'joc_bytype_pct_top3', 'joc_bytype_nb_courses', 'joc_bytype_total_races', 'joc_bytype_dnf_rate', 'che_form_momentum', 'che_improving_form', 'che_declining_form', 'che_high_consistency', 'che_recent_quality', 'che_elite_performer', 'che_regular_placer', 'joc_form_momentum', 'joc_improving_form', 'joc_high_consistency', 'joc_elite_performer', 'synergy_both_improving', 'synergy_both_consistent', 'synergy_both_elite', 'overall_momentum_score', 'high_momentum', 'class_drop_pct', 'purse_per_starter', 'purse_ratio', 'moving_up_in_class', 'class_shock_indicator', 'handicap_level_change', 'time_per_distance', 'time_vs_record', 'pace_rating', 'speed_figure_proxy', 'market_confidence_shift', 'last_race_improvement', 'bounce_risk', 'layoff_distance_interaction', 'trainer_change', 'connection_stability', 'field_size_change', 'distance_comfort', 'competition_level_shift', 'recence_x_class_drop', 'trainer_change_x_recence', 'distance_change_x_recence', 'che_by_type_avg_pos', 'che_by_type_recent_perf', 'che_by_type_consistency', 'che_by_type_trend', 'che_by_type_pct_top3', 'che_by_type_nb_courses', 'che_by_type_total_races', 'che_by_type_dnf_rate', 'joc_by_type_avg_pos', 'joc_by_type_recent_perf', 'joc_by_type_consistency', 'joc_by_type_trend', 'joc_by_type_pct_top3', 'joc_by_type_nb_courses', 'joc_by_type_total_races', 'joc_by_type_dnf_rate', 'quinte_career_starts', 'quinte_win_rate', 'quinte_top5_rate', 'avg_quinte_position', 'days_since_last_quinte', 'quinte_handicap_specialist', 'quinte_conditions_specialist', 'quinte_large_field_ability', 'quinte_track_condition_fit', 'is_handicap_quinte', 'handicap_division', 'purse_level_category', 'field_size_category', 'track_condition_PH', 'track_condition_DUR', 'track_condition_PS', 'track_condition_PSF', 'weather_clear', 'weather_rain', 'weather_cloudy', 'post_position_bias', 'post_position_track_bias', 'raw_tabnet_prediction', 'predicted_position_tabnet', 'raw_rf_prediction', 'predicted_position_rf', 'predicted_position_base']
2025-11-08 10:50:49,674 - race_prediction.competitive_field_analyzer - INFO - === CRITICAL COLUMNS ANALYSIS ===
2025-11-08 10:50:49,674 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ recordG: 13/13 non-null values (100.0%)
2025-11-08 10:50:49,675 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [0.0, 0.0, 0.0]
2025-11-08 10:50:49,675 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ hippo: 13/13 non-null values (100.0%)
2025-11-08 10:50:49,675 - race_prediction.competitive_field_analyzer - INFO -    Sample values: ['Paris-Vincennes', 'Paris-Vincennes', 'Paris-Vincennes']
2025-11-08 10:50:49,675 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ coursescheval: 13/13 non-null values (100.0%)
2025-11-08 10:50:49,675 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [56, 42, 82]
2025-11-08 10:50:49,675 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ victoirescheval: 13/13 non-null values (100.0%)
2025-11-08 10:50:49,675 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [8, 11, 10]
2025-11-08 10:50:49,675 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ placescheval: 13/13 non-null values (100.0%)
2025-11-08 10:50:49,675 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [18, 19, 33]
2025-11-08 10:50:49,675 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ gainsCarriere: 13/13 non-null values (100.0%)
2025-11-08 10:50:49,675 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [27138000, 27381500, 30011500]
2025-11-08 10:50:49,675 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ age: 13/13 non-null values (100.0%)
2025-11-08 10:50:49,675 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [7, 6, 8]
2025-11-08 10:50:49,675 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ derniereplace: 13/13 non-null values (100.0%)
2025-11-08 10:50:49,675 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [7.0, 4.0, 6.0]
2025-11-08 10:50:49,675 - race_prediction.competitive_field_analyzer - INFO - === RACE METADATA ===
2025-11-08 10:50:49,675 - race_prediction.competitive_field_analyzer - INFO - comp: 1619992
2025-11-08 10:50:49,675 - race_prediction.competitive_field_analyzer - INFO - hippo: Paris-Vincennes
2025-11-08 10:50:49,675 - race_prediction.competitive_field_analyzer - INFO - dist: 2700
2025-11-08 10:50:49,675 - race_prediction.competitive_field_analyzer - INFO - typec: Attel√©
2025-11-08 10:50:49,676 - race_prediction.competitive_field_analyzer - INFO - partant: 13
2025-11-08 10:50:49,676 - race_prediction.competitive_field_analyzer - INFO - === SAMPLE RACE DATA ===
2025-11-08 10:50:49,676 - race_prediction.competitive_field_analyzer - INFO - Sample data (columns: ['numero', 'cheval', 'recordG', 'hippo', 'coursescheval']):
2025-11-08 10:50:49,676 - race_prediction.competitive_field_analyzer - INFO -   Horse 0: {'numero': 1, 'cheval': 'Ivanof', 'recordG': 0.0, 'hippo': 'Paris-Vincennes', 'coursescheval': 56}
2025-11-08 10:50:49,676 - race_prediction.competitive_field_analyzer - INFO -   Horse 1: {'numero': 2, 'cheval': 'Jappeloup Turgot', 'recordG': 0.0, 'hippo': 'Paris-Vincennes', 'coursescheval': 42}
2025-11-08 10:50:49,676 - race_prediction.competitive_field_analyzer - INFO -   Horse 2: {'numero': 3, 'cheval': 'Himberland', 'recordG': 0.0, 'hippo': 'Paris-Vincennes', 'coursescheval': 82}
2025-11-08 10:50:49,676 - race_prediction.competitive_field_analyzer - INFO - === END COMPETITIVE ANALYSIS DEBUG ===

2025-11-08 10:50:49,676 - race_prediction.competitive_field_analyzer - INFO - === RETRIEVING HISTORICAL DATA ===
2025-11-08 10:50:49,676 - race_prediction.competitive_field_analyzer - INFO - Fetching historical data for 13 horses: [1474742, 1520426, 1389845, 1485998, 1430681, 1385711, 1431509, 1499311, 1403418, 1444935, 1534739, 1492670, 1498657]
2025-11-08 10:50:49,677 - race_prediction.competitive_field_analyzer - INFO - Batch querying historical data for 13 horses: [1474742, 1520426, 1389845, 1485998, 1430681, 1385711, 1431509, 1499311, 1403418, 1444935, 1534739, 1492670, 1498657]
2025-11-08 10:51:14,732 - race_prediction.competitive_field_analyzer - INFO - Batch query completed in 25.05s, found 158 total records
2025-11-08 10:51:14,741 - race_prediction.competitive_field_analyzer - INFO - Batch query retrieved 158 total historical races
2025-11-08 10:51:14,742 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS PER HORSE ===
2025-11-08 10:51:14,742 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1474742: 15 historical races found
2025-11-08 10:51:14,742 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1520426: 13 historical races found
2025-11-08 10:51:14,742 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1389845: 18 historical races found
2025-11-08 10:51:14,742 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1485998: 7 historical races found
2025-11-08 10:51:14,742 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1430681: 12 historical races found
2025-11-08 10:51:14,742 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1385711: 15 historical races found
2025-11-08 10:51:14,742 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1431509: 13 historical races found
2025-11-08 10:51:14,745 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1499311: 11 historical races found
2025-11-08 10:51:14,746 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1403418: 13 historical races found
2025-11-08 10:51:14,746 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1444935: 9 historical races found
2025-11-08 10:51:14,746 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1534739: 9 historical races found
2025-11-08 10:51:14,747 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1492670: 14 historical races found
2025-11-08 10:51:14,747 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1498657: 9 historical races found
2025-11-08 10:51:14,747 - race_prediction.competitive_field_analyzer - INFO - Retrieved 158 total historical races
2025-11-08 10:51:14,747 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS BY HORSE ===
2025-11-08 10:51:14,747 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1474742: 15 historical races
2025-11-08 10:51:14,749 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1520426: 13 historical races
2025-11-08 10:51:14,749 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1389845: 18 historical races
2025-11-08 10:51:14,749 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1485998: 7 historical races
2025-11-08 10:51:14,749 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1430681: 12 historical races
2025-11-08 10:51:14,749 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1385711: 15 historical races
2025-11-08 10:51:14,749 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1431509: 13 historical races
2025-11-08 10:51:14,749 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1499311: 11 historical races
2025-11-08 10:51:14,749 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1403418: 13 historical races
2025-11-08 10:51:14,749 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1444935: 9 historical races
2025-11-08 10:51:14,749 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1534739: 9 historical races
2025-11-08 10:51:14,749 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1492670: 14 historical races
2025-11-08 10:51:14,749 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1498657: 9 historical races
2025-11-08 10:51:14,749 - race_prediction.competitive_field_analyzer - INFO - === END HISTORICAL DATA RETRIEVAL ===

2025-11-08 10:51:14,750 - race_prediction.competitive_field_analyzer - INFO - === EARNINGS QUALITY ANALYSIS ===
2025-11-08 10:51:14,750 - race_prediction.competitive_field_analyzer - INFO - Valid earnings data: 13/13 horses
2025-11-08 10:51:14,750 - race_prediction.competitive_field_analyzer - INFO - Sample earnings per race: ['484,607', '651,940', '365,994']
2025-11-08 10:51:14,751 - race_prediction.competitive_field_analyzer - INFO - Field earnings stats: avg=601,427, max=951,944
2025-11-08 10:51:14,754 - race_prediction.competitive_field_analyzer - INFO - === TRACK SPECIALIZATION ANALYSIS ===
2025-11-08 10:51:14,754 - race_prediction.competitive_field_analyzer - INFO - Horses with reliable venue data (3+ races): 0/13
2025-11-08 10:51:14,756 - race_prediction.competitive_field_analyzer - INFO - === FORM MOMENTUM ANALYSIS ===
2025-11-08 10:51:14,756 - race_prediction.competitive_field_analyzer - INFO - Field avg horse trend: 1.174, recent perf: 6.46
2025-11-08 10:51:14,756 - race_prediction.competitive_field_analyzer - INFO - Field avg jockey trend: 0.818
2025-11-08 10:51:14,756 - race_prediction.competitive_field_analyzer - INFO - Horses with improving form: 4/13
2025-11-08 10:51:14,757 - race_prediction.competitive_field_analyzer - INFO - === HOT CONNECTIONS ANALYSIS ===
2025-11-08 10:51:14,757 - race_prediction.competitive_field_analyzer - INFO - Jockeys with wins today: 0/13
2025-11-08 10:51:14,757 - race_prediction.competitive_field_analyzer - INFO - Trainers with wins today: 0/13
2025-11-08 10:51:14,757 - race_prediction.competitive_field_analyzer - INFO - === DISTANCE COMFORT ANALYSIS ===
2025-11-08 10:51:14,757 - race_prediction.competitive_field_analyzer - INFO - Current race distance: 2700m
2025-11-08 10:51:14,757 - race_prediction.competitive_field_analyzer - INFO - Horses with similar recent distance: 8/13
2025-11-08 10:51:14,757 - race_prediction.competitive_field_analyzer - INFO - === REALISTIC COMPETITIVE SCORING ===
2025-11-08 10:51:14,758 - race_prediction.competitive_field_analyzer - INFO - üìä COMPETITIVE ANALYSIS SUMMARY:
2025-11-08 10:51:14,758 - race_prediction.competitive_field_analyzer - INFO -    Total competitive races: 158
2025-11-08 10:51:14,758 - race_prediction.competitive_field_analyzer - INFO -    Horses with historical data: 13/13
2025-11-08 10:51:14,758 - race_prediction.competitive_field_analyzer - INFO -    Average races per horse: 12.2
2025-11-08 10:51:14,780 - race_prediction.quinte_prediction_storage - INFO - Stored 13 horses for Quint√© race 1619992
