2025-11-13 14:58:19,331 - RaceArchiver - INFO - Logging initialized to logs/race_archiver_20251113.log
2025-11-13 14:58:19,334 - RaceArchiver - INFO - Database structure verified
2025-11-13 14:58:23,443 - RaceArchiver - INFO - Logging initialized to logs/race_archiver_20251113.log
2025-11-13 14:58:23,445 - RaceArchiver - INFO - Database structure verified
2025-11-13 14:58:27,980 - RaceArchiver - INFO - Logging initialized to logs/race_archiver_20251113.log
2025-11-13 14:58:27,983 - RaceArchiver - INFO - Database structure verified
2025-11-13 14:58:37,862 - RaceArchiver - INFO - Logging initialized to logs/race_archiver_20251113.log
2025-11-13 14:58:37,863 - RaceArchiver - INFO - Database structure verified
2025-11-13 14:58:42,384 - RaceArchiver - INFO - Logging initialized to logs/race_archiver_20251113.log
2025-11-13 14:58:42,386 - RaceArchiver - INFO - Database structure verified
2025-11-13 14:58:43,086 - RaceArchiver - INFO - Logging initialized to logs/race_archiver_20251113.log
2025-11-13 14:58:43,088 - RaceArchiver - INFO - Database structure verified
2025-11-13 14:58:58,037 - RaceArchiver - INFO - Logging initialized to logs/race_archiver_20251113.log
2025-11-13 14:58:58,038 - RaceArchiver - INFO - Database structure verified
2025-11-13 15:07:50,783 - race_prediction.quinte_prediction_storage - INFO - Quint√© prediction storage initialized at data/hippique2.db
2025-11-13 15:07:53,410 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE ANALYSIS DEBUG ===
2025-11-13 15:07:53,410 - race_prediction.competitive_field_analyzer - INFO - Analyzing competitive field for race with 14 horses
2025-11-13 15:07:53,410 - race_prediction.competitive_field_analyzer - INFO - Race data shape: (14, 280)
2025-11-13 15:07:53,410 - race_prediction.competitive_field_analyzer - INFO - Available columns: ['id', 'comp', 'jour', 'hippo', 'reun', 'prix', 'prixnom', 'typec', 'partant', 'dist', 'handi', 'groupe', 'quinte', 'natpis', 'meteo', 'corde', 'temperature', 'forceVent', 'directionVent', 'nebulosite', 'prediction_results', 'actual_results', 'created_at', 'updated_at', 'processed_data', 'cheque', 'handi_raw', 'reclam', 'sex', 'tempscourse', 'handicap_level_score', 'cl', 'numero', 'cheval', 'age', 'cotedirect', 'coteprob', 'recence', 'ecar', 'defoeil', 'defoeilPrec', 'musiqueche', 'musiquejoc', 'entraineur', 'coursescheval', 'victoirescheval', 'placescheval', 'dernierealloc', 'derniernbpartants', 'dernieredist', 'derniereplace', 'dernierecote', 'dernierEnt', 'proprietaire', 'poidmont', 'pourcVictJockHippo', 'pourcPlaceJockHippo', 'pourcVictChevalHippo', 'pourcPlaceChevalHippo', 'tempstot', 'vha', 'recordG', 'txreclam', 'dernierTxreclam', 'gainsCarriere', 'gainsAnneeEnCours', 'handicapDistance', 'handicapPoids', 'TxVictCouple', 'nbVictCouple', 'nbPlaceCouple', 'idche', 'idJockey', 'idEntraineur', 'defFirstTime', 'oeilFirstTime', 'oeil', 'dernierOeil', 'ratio_victoires', 'ratio_places', 'gains_par_course', 'efficacite_couple', 'regularite_couple', 'progression_couple', 'perf_cheval_hippo', 'perf_jockey_hippo', 'trainer_victoires', 'trainer_places', 'trainer_courses', 'trainer_winrate', 'trainer_placerate', 'trainer_quality_score', 'trainer_experience_level', 'handicap_poids', 'handicap_dist', 'prec_handicap_poids', 'prec_handicap_dist', 'handicap_poids_change', 'handicap_poids_increased', 'handicap_poids_decreased', 'handicap_dist_change', 'handicap_dist_increased', 'handicap_dist_decreased', 'total_handicap', 'handicap_momentum', 'last_race_position', 'last_race_distance', 'distance_change', 'distance_change_pct', 'distance_increased', 'distance_decreased', 'same_distance', 'corde_change', 'corde_improved', 'corde_worsened', 'last_race_top3', 'last_race_won', 'blinkers_first_time', 'has_blinkers', 'has_standard_blinkers', 'has_australian_blinkers', 'blinkers_added', 'blinkers_removed', 'blinkers_type_changed', 'blinkers_any_change', 'blinkers_high_impact_change', 'shoeing_first_time', 'fully_shod', 'front_shod_only', 'back_shod_only', 'barefoot', 'shoeing_changed', 'barefoot_to_shod', 'shod_to_barefoot', 'major_shoeing_change', 'shoeing_complexity', 'multiple_equipment_changes', 'equipment_momentum_score', 'high_equipment_momentum', 'multiple_first_time_changes', 'equipment_optimization_score', 'career_strike_rate', 'earnings_per_race', 'earnings_trend', 'last_race_position_normalized', 'last_race_odds_normalized', 'last_race_field_size_factor', 'distance_consistency', 'vha_normalized', 'claiming_tax_trend', 'class_stability', 'che_global_avg_pos', 'che_global_recent_perf', 'che_global_consistency', 'che_global_trend', 'che_global_pct_top3', 'che_global_nb_courses', 'che_global_total_races', 'che_global_dnf_rate', 'che_weighted_avg_pos', 'che_weighted_recent_perf', 'che_weighted_consistency', 'che_weighted_pct_top3', 'che_weighted_nb_courses', 'che_weighted_total_races', 'che_weighted_dnf_rate', 'che_weighted_trend', 'che_bytype_avg_pos', 'che_bytype_recent_perf', 'che_bytype_consistency', 'che_bytype_trend', 'che_bytype_pct_top3', 'che_bytype_nb_courses', 'che_bytype_total_races', 'che_bytype_dnf_rate', 'joc_global_avg_pos', 'joc_global_recent_perf', 'joc_global_consistency', 'joc_global_trend', 'joc_global_pct_top3', 'joc_global_nb_courses', 'joc_global_total_races', 'joc_global_dnf_rate', 'joc_weighted_avg_pos', 'joc_weighted_recent_perf', 'joc_weighted_consistency', 'joc_weighted_pct_top3', 'joc_weighted_nb_courses', 'joc_weighted_total_races', 'joc_weighted_dnf_rate', 'joc_weighted_trend', 'joc_bytype_avg_pos', 'joc_bytype_recent_perf', 'joc_bytype_consistency', 'joc_bytype_trend', 'joc_bytype_pct_top3', 'joc_bytype_nb_courses', 'joc_bytype_total_races', 'joc_bytype_dnf_rate', 'che_form_momentum', 'che_improving_form', 'che_declining_form', 'che_high_consistency', 'che_recent_quality', 'che_elite_performer', 'che_regular_placer', 'joc_form_momentum', 'joc_improving_form', 'joc_high_consistency', 'joc_elite_performer', 'synergy_both_improving', 'synergy_both_consistent', 'synergy_both_elite', 'overall_momentum_score', 'high_momentum', 'class_drop_pct', 'purse_per_starter', 'purse_ratio', 'moving_up_in_class', 'class_shock_indicator', 'handicap_level_change', 'time_per_distance', 'time_vs_record', 'pace_rating', 'speed_figure_proxy', 'market_confidence_shift', 'last_race_improvement', 'bounce_risk', 'layoff_distance_interaction', 'trainer_change', 'connection_stability', 'field_size_change', 'distance_comfort', 'competition_level_shift', 'recence_x_class_drop', 'trainer_change_x_recence', 'distance_change_x_recence', 'che_by_type_avg_pos', 'che_by_type_recent_perf', 'che_by_type_consistency', 'che_by_type_trend', 'che_by_type_pct_top3', 'che_by_type_nb_courses', 'che_by_type_total_races', 'che_by_type_dnf_rate', 'joc_by_type_avg_pos', 'joc_by_type_recent_perf', 'joc_by_type_consistency', 'joc_by_type_trend', 'joc_by_type_pct_top3', 'joc_by_type_nb_courses', 'joc_by_type_total_races', 'joc_by_type_dnf_rate', 'quinte_career_starts', 'quinte_win_rate', 'quinte_top5_rate', 'avg_quinte_position', 'days_since_last_quinte', 'quinte_handicap_specialist', 'quinte_conditions_specialist', 'quinte_large_field_ability', 'quinte_track_condition_fit', 'is_handicap_quinte', 'handicap_division', 'purse_level_category', 'field_size_category', 'track_condition_PH', 'track_condition_DUR', 'track_condition_PS', 'track_condition_PSF', 'weather_clear', 'weather_rain', 'weather_cloudy', 'post_position_bias', 'post_position_track_bias', 'raw_tabnet_prediction', 'predicted_position_tabnet', 'raw_rf_prediction', 'predicted_position_rf', 'predicted_position_base']
2025-11-13 15:07:53,410 - race_prediction.competitive_field_analyzer - INFO - === CRITICAL COLUMNS ANALYSIS ===
2025-11-13 15:07:53,411 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ recordG: 14/14 non-null values (100.0%)
2025-11-13 15:07:53,411 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [0.0, 0.0, 0.0]
2025-11-13 15:07:53,411 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ hippo: 14/14 non-null values (100.0%)
2025-11-13 15:07:53,411 - race_prediction.competitive_field_analyzer - INFO -    Sample values: ['Bordeaux - Le Bouscat', 'Bordeaux - Le Bouscat', 'Bordeaux - Le Bouscat']
2025-11-13 15:07:53,411 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ coursescheval: 14/14 non-null values (100.0%)
2025-11-13 15:07:53,411 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [50, 45, 27]
2025-11-13 15:07:53,411 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ victoirescheval: 14/14 non-null values (100.0%)
2025-11-13 15:07:53,411 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [8, 3, 10]
2025-11-13 15:07:53,411 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ placescheval: 14/14 non-null values (100.0%)
2025-11-13 15:07:53,411 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [14, 6, 15]
2025-11-13 15:07:53,412 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ gainsCarriere: 14/14 non-null values (100.0%)
2025-11-13 15:07:53,412 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [9845500, 10848000, 11219500]
2025-11-13 15:07:53,412 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ age: 14/14 non-null values (100.0%)
2025-11-13 15:07:53,412 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [6, 6, 6]
2025-11-13 15:07:53,412 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ derniereplace: 14/14 non-null values (100.0%)
2025-11-13 15:07:53,412 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [15.0, 8.0, 1.0]
2025-11-13 15:07:53,412 - race_prediction.competitive_field_analyzer - INFO - === RACE METADATA ===
2025-11-13 15:07:53,412 - race_prediction.competitive_field_analyzer - INFO - comp: 1620115
2025-11-13 15:07:53,412 - race_prediction.competitive_field_analyzer - INFO - hippo: Bordeaux - Le Bouscat
2025-11-13 15:07:53,412 - race_prediction.competitive_field_analyzer - INFO - dist: 2650
2025-11-13 15:07:53,412 - race_prediction.competitive_field_analyzer - INFO - typec: Attel√©
2025-11-13 15:07:53,412 - race_prediction.competitive_field_analyzer - INFO - partant: 14
2025-11-13 15:07:53,412 - race_prediction.competitive_field_analyzer - INFO - === SAMPLE RACE DATA ===
2025-11-13 15:07:53,412 - race_prediction.competitive_field_analyzer - INFO - Sample data (columns: ['numero', 'cheval', 'recordG', 'hippo', 'coursescheval']):
2025-11-13 15:07:53,412 - race_prediction.competitive_field_analyzer - INFO -   Horse 0: {'numero': 1, 'cheval': 'Jason Blue', 'recordG': 0.0, 'hippo': 'Bordeaux - Le Bouscat', 'coursescheval': 50}
2025-11-13 15:07:53,412 - race_prediction.competitive_field_analyzer - INFO -   Horse 1: {'numero': 2, 'cheval': 'Jasmin M√©rit√©', 'recordG': 0.0, 'hippo': 'Bordeaux - Le Bouscat', 'coursescheval': 45}
2025-11-13 15:07:53,412 - race_prediction.competitive_field_analyzer - INFO -   Horse 2: {'numero': 3, 'cheval': 'Jalto du Tr√©mont', 'recordG': 0.0, 'hippo': 'Bordeaux - Le Bouscat', 'coursescheval': 27}
2025-11-13 15:07:53,412 - race_prediction.competitive_field_analyzer - INFO - === END COMPETITIVE ANALYSIS DEBUG ===

2025-11-13 15:07:53,412 - race_prediction.competitive_field_analyzer - INFO - === RETRIEVING HISTORICAL DATA ===
2025-11-13 15:07:53,412 - race_prediction.competitive_field_analyzer - INFO - Fetching historical data for 14 horses: [1543500, 1502198, 1558647, 1508696, 1549568, 1385552, 1380632, 1477641, 1379064, 1514170, 1453169, 1326710, 1379329, 1409950]
2025-11-13 15:07:53,414 - race_prediction.competitive_field_analyzer - INFO - Batch querying historical data for 14 horses: [1543500, 1502198, 1558647, 1508696, 1549568, 1385552, 1380632, 1477641, 1379064, 1514170, 1453169, 1326710, 1379329, 1409950]
2025-11-13 15:08:06,988 - race_prediction.competitive_field_analyzer - INFO - Batch query completed in 13.57s, found 181 total records
2025-11-13 15:08:06,996 - race_prediction.competitive_field_analyzer - INFO - Batch query retrieved 181 total historical races
2025-11-13 15:08:06,996 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS PER HORSE ===
2025-11-13 15:08:06,996 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1543500: 18 historical races found
2025-11-13 15:08:06,996 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1502198: 10 historical races found
2025-11-13 15:08:06,996 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1558647: 9 historical races found
2025-11-13 15:08:06,996 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1508696: 6 historical races found
2025-11-13 15:08:06,996 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1549568: 12 historical races found
2025-11-13 15:08:06,996 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1385552: 15 historical races found
2025-11-13 15:08:06,996 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1380632: 14 historical races found
2025-11-13 15:08:06,996 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1477641: 10 historical races found
2025-11-13 15:08:06,996 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1379064: 12 historical races found
2025-11-13 15:08:06,996 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1514170: 17 historical races found
2025-11-13 15:08:06,996 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1453169: 12 historical races found
2025-11-13 15:08:06,996 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1326710: 9 historical races found
2025-11-13 15:08:06,996 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1379329: 20 historical races found
2025-11-13 15:08:06,996 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1409950: 17 historical races found
2025-11-13 15:08:06,996 - race_prediction.competitive_field_analyzer - INFO - Retrieved 181 total historical races
2025-11-13 15:08:06,996 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS BY HORSE ===
2025-11-13 15:08:06,996 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1543500: 18 historical races
2025-11-13 15:08:06,996 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1502198: 10 historical races
2025-11-13 15:08:06,996 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1558647: 9 historical races
2025-11-13 15:08:06,996 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1508696: 6 historical races
2025-11-13 15:08:06,996 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1549568: 12 historical races
2025-11-13 15:08:06,996 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1385552: 15 historical races
2025-11-13 15:08:06,996 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1380632: 14 historical races
2025-11-13 15:08:06,996 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1477641: 10 historical races
2025-11-13 15:08:06,996 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1379064: 12 historical races
2025-11-13 15:08:06,996 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1514170: 17 historical races
2025-11-13 15:08:06,997 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1453169: 12 historical races
2025-11-13 15:08:06,997 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1326710: 9 historical races
2025-11-13 15:08:06,997 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1379329: 20 historical races
2025-11-13 15:08:06,997 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1409950: 17 historical races
2025-11-13 15:08:06,997 - race_prediction.competitive_field_analyzer - INFO - === END HISTORICAL DATA RETRIEVAL ===

2025-11-13 15:08:06,997 - race_prediction.competitive_field_analyzer - INFO - === EARNINGS QUALITY ANALYSIS ===
2025-11-13 15:08:06,997 - race_prediction.competitive_field_analyzer - INFO - Valid earnings data: 14/14 horses
2025-11-13 15:08:06,997 - race_prediction.competitive_field_analyzer - INFO - Sample earnings per race: ['196,910', '241,067', '415,537']
2025-11-13 15:08:06,997 - race_prediction.competitive_field_analyzer - INFO - Field earnings stats: avg=317,099, max=485,827
2025-11-13 15:08:06,997 - race_prediction.competitive_field_analyzer - INFO - === TRACK SPECIALIZATION ANALYSIS ===
2025-11-13 15:08:06,997 - race_prediction.competitive_field_analyzer - INFO - Horses with reliable venue data (3+ races): 0/14
2025-11-13 15:08:06,998 - race_prediction.competitive_field_analyzer - INFO - === FORM MOMENTUM ANALYSIS ===
2025-11-13 15:08:06,998 - race_prediction.competitive_field_analyzer - INFO - Field avg horse trend: 0.657, recent perf: 5.17
2025-11-13 15:08:06,998 - race_prediction.competitive_field_analyzer - INFO - Field avg jockey trend: 0.138
2025-11-13 15:08:06,999 - race_prediction.competitive_field_analyzer - INFO - Horses with improving form: 2/14
2025-11-13 15:08:06,999 - race_prediction.competitive_field_analyzer - INFO - === HOT CONNECTIONS ANALYSIS ===
2025-11-13 15:08:06,999 - race_prediction.competitive_field_analyzer - INFO - Jockeys with wins today: 0/14
2025-11-13 15:08:06,999 - race_prediction.competitive_field_analyzer - INFO - Trainers with wins today: 0/14
2025-11-13 15:08:06,999 - race_prediction.competitive_field_analyzer - INFO - === DISTANCE COMFORT ANALYSIS ===
2025-11-13 15:08:06,999 - race_prediction.competitive_field_analyzer - INFO - Current race distance: 2650m
2025-11-13 15:08:06,999 - race_prediction.competitive_field_analyzer - INFO - Horses with similar recent distance: 10/14
2025-11-13 15:08:06,999 - race_prediction.competitive_field_analyzer - INFO - === REALISTIC COMPETITIVE SCORING ===
2025-11-13 15:08:07,000 - race_prediction.competitive_field_analyzer - INFO - üìä COMPETITIVE ANALYSIS SUMMARY:
2025-11-13 15:08:07,000 - race_prediction.competitive_field_analyzer - INFO -    Total competitive races: 181
2025-11-13 15:08:07,000 - race_prediction.competitive_field_analyzer - INFO -    Horses with historical data: 14/14
2025-11-13 15:08:07,000 - race_prediction.competitive_field_analyzer - INFO -    Average races per horse: 12.9
2025-11-13 15:08:07,021 - race_prediction.quinte_prediction_storage - INFO - Stored 14 horses for Quint√© race 1620115
2025-11-13 15:08:09,131 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE ANALYSIS DEBUG ===
2025-11-13 15:08:09,131 - race_prediction.competitive_field_analyzer - INFO - Analyzing competitive field for race with 16 horses
2025-11-13 15:08:09,131 - race_prediction.competitive_field_analyzer - INFO - Race data shape: (16, 280)
2025-11-13 15:08:09,131 - race_prediction.competitive_field_analyzer - INFO - Available columns: ['id', 'comp', 'jour', 'hippo', 'reun', 'prix', 'prixnom', 'typec', 'partant', 'dist', 'handi', 'groupe', 'quinte', 'natpis', 'meteo', 'corde', 'temperature', 'forceVent', 'directionVent', 'nebulosite', 'prediction_results', 'actual_results', 'created_at', 'updated_at', 'processed_data', 'cheque', 'handi_raw', 'reclam', 'sex', 'tempscourse', 'handicap_level_score', 'cl', 'numero', 'cheval', 'age', 'cotedirect', 'coteprob', 'recence', 'ecar', 'defoeil', 'defoeilPrec', 'musiqueche', 'musiquejoc', 'entraineur', 'coursescheval', 'victoirescheval', 'placescheval', 'dernierealloc', 'derniernbpartants', 'dernieredist', 'derniereplace', 'dernierecote', 'dernierEnt', 'proprietaire', 'poidmont', 'pourcVictJockHippo', 'pourcPlaceJockHippo', 'pourcVictChevalHippo', 'pourcPlaceChevalHippo', 'tempstot', 'vha', 'recordG', 'txreclam', 'dernierTxreclam', 'gainsCarriere', 'gainsAnneeEnCours', 'handicapDistance', 'handicapPoids', 'TxVictCouple', 'nbVictCouple', 'nbPlaceCouple', 'idche', 'idJockey', 'idEntraineur', 'defFirstTime', 'oeilFirstTime', 'oeil', 'dernierOeil', 'ratio_victoires', 'ratio_places', 'gains_par_course', 'efficacite_couple', 'regularite_couple', 'progression_couple', 'perf_cheval_hippo', 'perf_jockey_hippo', 'trainer_victoires', 'trainer_places', 'trainer_courses', 'trainer_winrate', 'trainer_placerate', 'trainer_quality_score', 'trainer_experience_level', 'handicap_poids', 'handicap_dist', 'prec_handicap_poids', 'prec_handicap_dist', 'handicap_poids_change', 'handicap_poids_increased', 'handicap_poids_decreased', 'handicap_dist_change', 'handicap_dist_increased', 'handicap_dist_decreased', 'total_handicap', 'handicap_momentum', 'last_race_position', 'last_race_distance', 'distance_change', 'distance_change_pct', 'distance_increased', 'distance_decreased', 'same_distance', 'corde_change', 'corde_improved', 'corde_worsened', 'last_race_top3', 'last_race_won', 'blinkers_first_time', 'has_blinkers', 'has_standard_blinkers', 'has_australian_blinkers', 'blinkers_added', 'blinkers_removed', 'blinkers_type_changed', 'blinkers_any_change', 'blinkers_high_impact_change', 'shoeing_first_time', 'fully_shod', 'front_shod_only', 'back_shod_only', 'barefoot', 'shoeing_changed', 'barefoot_to_shod', 'shod_to_barefoot', 'major_shoeing_change', 'shoeing_complexity', 'multiple_equipment_changes', 'equipment_momentum_score', 'high_equipment_momentum', 'multiple_first_time_changes', 'equipment_optimization_score', 'career_strike_rate', 'earnings_per_race', 'earnings_trend', 'last_race_position_normalized', 'last_race_odds_normalized', 'last_race_field_size_factor', 'distance_consistency', 'vha_normalized', 'claiming_tax_trend', 'class_stability', 'che_global_avg_pos', 'che_global_recent_perf', 'che_global_consistency', 'che_global_trend', 'che_global_pct_top3', 'che_global_nb_courses', 'che_global_total_races', 'che_global_dnf_rate', 'che_weighted_avg_pos', 'che_weighted_recent_perf', 'che_weighted_consistency', 'che_weighted_pct_top3', 'che_weighted_nb_courses', 'che_weighted_total_races', 'che_weighted_dnf_rate', 'che_weighted_trend', 'che_bytype_avg_pos', 'che_bytype_recent_perf', 'che_bytype_consistency', 'che_bytype_trend', 'che_bytype_pct_top3', 'che_bytype_nb_courses', 'che_bytype_total_races', 'che_bytype_dnf_rate', 'joc_global_avg_pos', 'joc_global_recent_perf', 'joc_global_consistency', 'joc_global_trend', 'joc_global_pct_top3', 'joc_global_nb_courses', 'joc_global_total_races', 'joc_global_dnf_rate', 'joc_weighted_avg_pos', 'joc_weighted_recent_perf', 'joc_weighted_consistency', 'joc_weighted_pct_top3', 'joc_weighted_nb_courses', 'joc_weighted_total_races', 'joc_weighted_dnf_rate', 'joc_weighted_trend', 'joc_bytype_avg_pos', 'joc_bytype_recent_perf', 'joc_bytype_consistency', 'joc_bytype_trend', 'joc_bytype_pct_top3', 'joc_bytype_nb_courses', 'joc_bytype_total_races', 'joc_bytype_dnf_rate', 'che_form_momentum', 'che_improving_form', 'che_declining_form', 'che_high_consistency', 'che_recent_quality', 'che_elite_performer', 'che_regular_placer', 'joc_form_momentum', 'joc_improving_form', 'joc_high_consistency', 'joc_elite_performer', 'synergy_both_improving', 'synergy_both_consistent', 'synergy_both_elite', 'overall_momentum_score', 'high_momentum', 'class_drop_pct', 'purse_per_starter', 'purse_ratio', 'moving_up_in_class', 'class_shock_indicator', 'handicap_level_change', 'time_per_distance', 'time_vs_record', 'pace_rating', 'speed_figure_proxy', 'market_confidence_shift', 'last_race_improvement', 'bounce_risk', 'layoff_distance_interaction', 'trainer_change', 'connection_stability', 'field_size_change', 'distance_comfort', 'competition_level_shift', 'recence_x_class_drop', 'trainer_change_x_recence', 'distance_change_x_recence', 'che_by_type_avg_pos', 'che_by_type_recent_perf', 'che_by_type_consistency', 'che_by_type_trend', 'che_by_type_pct_top3', 'che_by_type_nb_courses', 'che_by_type_total_races', 'che_by_type_dnf_rate', 'joc_by_type_avg_pos', 'joc_by_type_recent_perf', 'joc_by_type_consistency', 'joc_by_type_trend', 'joc_by_type_pct_top3', 'joc_by_type_nb_courses', 'joc_by_type_total_races', 'joc_by_type_dnf_rate', 'quinte_career_starts', 'quinte_win_rate', 'quinte_top5_rate', 'avg_quinte_position', 'days_since_last_quinte', 'quinte_handicap_specialist', 'quinte_conditions_specialist', 'quinte_large_field_ability', 'quinte_track_condition_fit', 'is_handicap_quinte', 'handicap_division', 'purse_level_category', 'field_size_category', 'track_condition_PH', 'track_condition_DUR', 'track_condition_PS', 'track_condition_PSF', 'weather_clear', 'weather_rain', 'weather_cloudy', 'post_position_bias', 'post_position_track_bias', 'raw_tabnet_prediction', 'predicted_position_tabnet', 'raw_rf_prediction', 'predicted_position_rf', 'predicted_position_base']
2025-11-13 15:08:09,131 - race_prediction.competitive_field_analyzer - INFO - === CRITICAL COLUMNS ANALYSIS ===
2025-11-13 15:08:09,131 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ recordG: 16/16 non-null values (100.0%)
2025-11-13 15:08:09,131 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [0.0, 0.0, 0.0]
2025-11-13 15:08:09,131 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ hippo: 16/16 non-null values (100.0%)
2025-11-13 15:08:09,131 - race_prediction.competitive_field_analyzer - INFO -    Sample values: ['Toulouse', 'Toulouse', 'Toulouse']
2025-11-13 15:08:09,132 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ coursescheval: 16/16 non-null values (100.0%)
2025-11-13 15:08:09,132 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [38, 18, 32]
2025-11-13 15:08:09,132 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ victoirescheval: 16/16 non-null values (100.0%)
2025-11-13 15:08:09,132 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [5, 5, 3]
2025-11-13 15:08:09,132 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ placescheval: 16/16 non-null values (100.0%)
2025-11-13 15:08:09,132 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [13, 8, 12]
2025-11-13 15:08:09,132 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ gainsCarriere: 16/16 non-null values (100.0%)
2025-11-13 15:08:09,132 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [11364100, 6467200, 14380900]
2025-11-13 15:08:09,132 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ age: 16/16 non-null values (100.0%)
2025-11-13 15:08:09,132 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [6, 4, 7]
2025-11-13 15:08:09,132 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ derniereplace: 16/16 non-null values (100.0%)
2025-11-13 15:08:09,132 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [4, 2, 8]
2025-11-13 15:08:09,132 - race_prediction.competitive_field_analyzer - INFO - === RACE METADATA ===
2025-11-13 15:08:09,132 - race_prediction.competitive_field_analyzer - INFO - comp: 1621509
2025-11-13 15:08:09,132 - race_prediction.competitive_field_analyzer - INFO - hippo: Toulouse
2025-11-13 15:08:09,132 - race_prediction.competitive_field_analyzer - INFO - dist: 2400
2025-11-13 15:08:09,132 - race_prediction.competitive_field_analyzer - INFO - typec: Plat
2025-11-13 15:08:09,132 - race_prediction.competitive_field_analyzer - INFO - partant: 16
2025-11-13 15:08:09,132 - race_prediction.competitive_field_analyzer - INFO - === SAMPLE RACE DATA ===
2025-11-13 15:08:09,132 - race_prediction.competitive_field_analyzer - INFO - Sample data (columns: ['numero', 'cheval', 'recordG', 'hippo', 'coursescheval']):
2025-11-13 15:08:09,133 - race_prediction.competitive_field_analyzer - INFO -   Horse 0: {'numero': 1, 'cheval': 'Poca Gen', 'recordG': 0.0, 'hippo': 'Toulouse', 'coursescheval': 38}
2025-11-13 15:08:09,133 - race_prediction.competitive_field_analyzer - INFO -   Horse 1: {'numero': 2, 'cheval': 'Xylophone', 'recordG': 0.0, 'hippo': 'Toulouse', 'coursescheval': 18}
2025-11-13 15:08:09,133 - race_prediction.competitive_field_analyzer - INFO -   Horse 2: {'numero': 3, 'cheval': 'Partenit', 'recordG': 0.0, 'hippo': 'Toulouse', 'coursescheval': 32}
2025-11-13 15:08:09,133 - race_prediction.competitive_field_analyzer - INFO - === END COMPETITIVE ANALYSIS DEBUG ===

2025-11-13 15:08:09,133 - race_prediction.competitive_field_analyzer - INFO - === RETRIEVING HISTORICAL DATA ===
2025-11-13 15:08:09,133 - race_prediction.competitive_field_analyzer - INFO - Fetching historical data for 16 horses: [1523391, 1692653, 1489807, 1559962, 1664933, 1432521, 1556177, 1710838, 1661959, 1493602, 1676627, 1560971, 1724288, 1653563, 1741397, 1696803]
2025-11-13 15:08:09,134 - race_prediction.competitive_field_analyzer - INFO - Batch querying historical data for 16 horses: [1523391, 1692653, 1489807, 1559962, 1664933, 1432521, 1556177, 1710838, 1661959, 1493602, 1676627, 1560971, 1724288, 1653563, 1741397, 1696803]
2025-11-13 15:08:18,469 - race_prediction.competitive_field_analyzer - INFO - Batch query completed in 9.33s, found 145 total records
2025-11-13 15:08:18,476 - race_prediction.competitive_field_analyzer - INFO - Batch query retrieved 145 total historical races
2025-11-13 15:08:18,476 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS PER HORSE ===
2025-11-13 15:08:18,476 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1523391: 10 historical races found
2025-11-13 15:08:18,476 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1692653: 10 historical races found
2025-11-13 15:08:18,476 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1489807: 9 historical races found
2025-11-13 15:08:18,476 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1559962: 16 historical races found
2025-11-13 15:08:18,476 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1664933: 8 historical races found
2025-11-13 15:08:18,476 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1432521: 6 historical races found
2025-11-13 15:08:18,476 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1556177: 18 historical races found
2025-11-13 15:08:18,476 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1710838: 11 historical races found
2025-11-13 15:08:18,476 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1661959: 4 historical races found
2025-11-13 15:08:18,476 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1493602: 13 historical races found
2025-11-13 15:08:18,476 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1676627: 9 historical races found
2025-11-13 15:08:18,476 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1560971: 7 historical races found
2025-11-13 15:08:18,476 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1724288: 7 historical races found
2025-11-13 15:08:18,476 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1653563: 6 historical races found
2025-11-13 15:08:18,476 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1741397: 8 historical races found
2025-11-13 15:08:18,476 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1696803: 3 historical races found
2025-11-13 15:08:18,476 - race_prediction.competitive_field_analyzer - INFO - Retrieved 145 total historical races
2025-11-13 15:08:18,476 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS BY HORSE ===
2025-11-13 15:08:18,476 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1523391: 10 historical races
2025-11-13 15:08:18,476 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1692653: 10 historical races
2025-11-13 15:08:18,476 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1489807: 9 historical races
2025-11-13 15:08:18,476 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1559962: 16 historical races
2025-11-13 15:08:18,476 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1664933: 8 historical races
2025-11-13 15:08:18,476 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1432521: 6 historical races
2025-11-13 15:08:18,476 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1556177: 18 historical races
2025-11-13 15:08:18,476 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1710838: 11 historical races
2025-11-13 15:08:18,476 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1661959: 4 historical races
2025-11-13 15:08:18,476 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1493602: 13 historical races
2025-11-13 15:08:18,476 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1676627: 9 historical races
2025-11-13 15:08:18,476 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1560971: 7 historical races
2025-11-13 15:08:18,477 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1724288: 7 historical races
2025-11-13 15:08:18,477 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1653563: 6 historical races
2025-11-13 15:08:18,477 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1741397: 8 historical races
2025-11-13 15:08:18,477 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1696803: 3 historical races
2025-11-13 15:08:18,477 - race_prediction.competitive_field_analyzer - INFO - === END HISTORICAL DATA RETRIEVAL ===

2025-11-13 15:08:18,477 - race_prediction.competitive_field_analyzer - INFO - === EARNINGS QUALITY ANALYSIS ===
2025-11-13 15:08:18,477 - race_prediction.competitive_field_analyzer - INFO - Valid earnings data: 16/16 horses
2025-11-13 15:08:18,477 - race_prediction.competitive_field_analyzer - INFO - Sample earnings per race: ['299,055', '359,289', '449,403']
2025-11-13 15:08:18,477 - race_prediction.competitive_field_analyzer - INFO - Field earnings stats: avg=392,304, max=727,675
2025-11-13 15:08:18,477 - race_prediction.competitive_field_analyzer - INFO - === TRACK SPECIALIZATION ANALYSIS ===
2025-11-13 15:08:18,477 - race_prediction.competitive_field_analyzer - INFO - Horses with reliable venue data (3+ races): 0/16
2025-11-13 15:08:18,478 - race_prediction.competitive_field_analyzer - INFO - === FORM MOMENTUM ANALYSIS ===
2025-11-13 15:08:18,478 - race_prediction.competitive_field_analyzer - INFO - Field avg horse trend: 0.245, recent perf: 7.10
2025-11-13 15:08:18,478 - race_prediction.competitive_field_analyzer - INFO - Field avg jockey trend: -1.515
2025-11-13 15:08:18,478 - race_prediction.competitive_field_analyzer - INFO - Horses with improving form: 4/16
2025-11-13 15:08:18,479 - race_prediction.competitive_field_analyzer - INFO - === HOT CONNECTIONS ANALYSIS ===
2025-11-13 15:08:18,479 - race_prediction.competitive_field_analyzer - INFO - Jockeys with wins today: 0/16
2025-11-13 15:08:18,479 - race_prediction.competitive_field_analyzer - INFO - Trainers with wins today: 0/16
2025-11-13 15:08:18,479 - race_prediction.competitive_field_analyzer - INFO - === DISTANCE COMFORT ANALYSIS ===
2025-11-13 15:08:18,479 - race_prediction.competitive_field_analyzer - INFO - Current race distance: 2400m
2025-11-13 15:08:18,479 - race_prediction.competitive_field_analyzer - INFO - Horses with similar recent distance: 8/16
2025-11-13 15:08:18,479 - race_prediction.competitive_field_analyzer - INFO - === REALISTIC COMPETITIVE SCORING ===
2025-11-13 15:08:18,480 - race_prediction.competitive_field_analyzer - INFO - üìä COMPETITIVE ANALYSIS SUMMARY:
2025-11-13 15:08:18,480 - race_prediction.competitive_field_analyzer - INFO -    Total competitive races: 145
2025-11-13 15:08:18,480 - race_prediction.competitive_field_analyzer - INFO -    Horses with historical data: 16/16
2025-11-13 15:08:18,480 - race_prediction.competitive_field_analyzer - INFO -    Average races per horse: 9.1
2025-11-13 15:08:18,492 - race_prediction.quinte_prediction_storage - INFO - Stored 16 horses for Quint√© race 1621509
2025-11-13 15:08:21,132 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE ANALYSIS DEBUG ===
2025-11-13 15:08:21,133 - race_prediction.competitive_field_analyzer - INFO - Analyzing competitive field for race with 16 horses
2025-11-13 15:08:21,133 - race_prediction.competitive_field_analyzer - INFO - Race data shape: (16, 280)
2025-11-13 15:08:21,133 - race_prediction.competitive_field_analyzer - INFO - Available columns: ['id', 'comp', 'jour', 'hippo', 'reun', 'prix', 'prixnom', 'typec', 'partant', 'dist', 'handi', 'groupe', 'quinte', 'natpis', 'meteo', 'corde', 'temperature', 'forceVent', 'directionVent', 'nebulosite', 'prediction_results', 'actual_results', 'created_at', 'updated_at', 'processed_data', 'cheque', 'handi_raw', 'reclam', 'sex', 'tempscourse', 'handicap_level_score', 'cl', 'numero', 'cheval', 'age', 'cotedirect', 'coteprob', 'recence', 'ecar', 'defoeil', 'defoeilPrec', 'musiqueche', 'musiquejoc', 'entraineur', 'coursescheval', 'victoirescheval', 'placescheval', 'dernierealloc', 'derniernbpartants', 'dernieredist', 'derniereplace', 'dernierecote', 'dernierEnt', 'proprietaire', 'poidmont', 'pourcVictJockHippo', 'pourcPlaceJockHippo', 'pourcVictChevalHippo', 'pourcPlaceChevalHippo', 'tempstot', 'vha', 'recordG', 'txreclam', 'dernierTxreclam', 'gainsCarriere', 'gainsAnneeEnCours', 'handicapDistance', 'handicapPoids', 'TxVictCouple', 'nbVictCouple', 'nbPlaceCouple', 'idche', 'idJockey', 'idEntraineur', 'defFirstTime', 'oeilFirstTime', 'oeil', 'dernierOeil', 'ratio_victoires', 'ratio_places', 'gains_par_course', 'efficacite_couple', 'regularite_couple', 'progression_couple', 'perf_cheval_hippo', 'perf_jockey_hippo', 'trainer_victoires', 'trainer_places', 'trainer_courses', 'trainer_winrate', 'trainer_placerate', 'trainer_quality_score', 'trainer_experience_level', 'handicap_poids', 'handicap_dist', 'prec_handicap_poids', 'prec_handicap_dist', 'handicap_poids_change', 'handicap_poids_increased', 'handicap_poids_decreased', 'handicap_dist_change', 'handicap_dist_increased', 'handicap_dist_decreased', 'total_handicap', 'handicap_momentum', 'last_race_position', 'last_race_distance', 'distance_change', 'distance_change_pct', 'distance_increased', 'distance_decreased', 'same_distance', 'corde_change', 'corde_improved', 'corde_worsened', 'last_race_top3', 'last_race_won', 'blinkers_first_time', 'has_blinkers', 'has_standard_blinkers', 'has_australian_blinkers', 'blinkers_added', 'blinkers_removed', 'blinkers_type_changed', 'blinkers_any_change', 'blinkers_high_impact_change', 'shoeing_first_time', 'fully_shod', 'front_shod_only', 'back_shod_only', 'barefoot', 'shoeing_changed', 'barefoot_to_shod', 'shod_to_barefoot', 'major_shoeing_change', 'shoeing_complexity', 'multiple_equipment_changes', 'equipment_momentum_score', 'high_equipment_momentum', 'multiple_first_time_changes', 'equipment_optimization_score', 'career_strike_rate', 'earnings_per_race', 'earnings_trend', 'last_race_position_normalized', 'last_race_odds_normalized', 'last_race_field_size_factor', 'distance_consistency', 'vha_normalized', 'claiming_tax_trend', 'class_stability', 'che_global_avg_pos', 'che_global_recent_perf', 'che_global_consistency', 'che_global_trend', 'che_global_pct_top3', 'che_global_nb_courses', 'che_global_total_races', 'che_global_dnf_rate', 'che_weighted_avg_pos', 'che_weighted_recent_perf', 'che_weighted_consistency', 'che_weighted_pct_top3', 'che_weighted_nb_courses', 'che_weighted_total_races', 'che_weighted_dnf_rate', 'che_weighted_trend', 'che_bytype_avg_pos', 'che_bytype_recent_perf', 'che_bytype_consistency', 'che_bytype_trend', 'che_bytype_pct_top3', 'che_bytype_nb_courses', 'che_bytype_total_races', 'che_bytype_dnf_rate', 'joc_global_avg_pos', 'joc_global_recent_perf', 'joc_global_consistency', 'joc_global_trend', 'joc_global_pct_top3', 'joc_global_nb_courses', 'joc_global_total_races', 'joc_global_dnf_rate', 'joc_weighted_avg_pos', 'joc_weighted_recent_perf', 'joc_weighted_consistency', 'joc_weighted_pct_top3', 'joc_weighted_nb_courses', 'joc_weighted_total_races', 'joc_weighted_dnf_rate', 'joc_weighted_trend', 'joc_bytype_avg_pos', 'joc_bytype_recent_perf', 'joc_bytype_consistency', 'joc_bytype_trend', 'joc_bytype_pct_top3', 'joc_bytype_nb_courses', 'joc_bytype_total_races', 'joc_bytype_dnf_rate', 'che_form_momentum', 'che_improving_form', 'che_declining_form', 'che_high_consistency', 'che_recent_quality', 'che_elite_performer', 'che_regular_placer', 'joc_form_momentum', 'joc_improving_form', 'joc_high_consistency', 'joc_elite_performer', 'synergy_both_improving', 'synergy_both_consistent', 'synergy_both_elite', 'overall_momentum_score', 'high_momentum', 'class_drop_pct', 'purse_per_starter', 'purse_ratio', 'moving_up_in_class', 'class_shock_indicator', 'handicap_level_change', 'time_per_distance', 'time_vs_record', 'pace_rating', 'speed_figure_proxy', 'market_confidence_shift', 'last_race_improvement', 'bounce_risk', 'layoff_distance_interaction', 'trainer_change', 'connection_stability', 'field_size_change', 'distance_comfort', 'competition_level_shift', 'recence_x_class_drop', 'trainer_change_x_recence', 'distance_change_x_recence', 'che_by_type_avg_pos', 'che_by_type_recent_perf', 'che_by_type_consistency', 'che_by_type_trend', 'che_by_type_pct_top3', 'che_by_type_nb_courses', 'che_by_type_total_races', 'che_by_type_dnf_rate', 'joc_by_type_avg_pos', 'joc_by_type_recent_perf', 'joc_by_type_consistency', 'joc_by_type_trend', 'joc_by_type_pct_top3', 'joc_by_type_nb_courses', 'joc_by_type_total_races', 'joc_by_type_dnf_rate', 'quinte_career_starts', 'quinte_win_rate', 'quinte_top5_rate', 'avg_quinte_position', 'days_since_last_quinte', 'quinte_handicap_specialist', 'quinte_conditions_specialist', 'quinte_large_field_ability', 'quinte_track_condition_fit', 'is_handicap_quinte', 'handicap_division', 'purse_level_category', 'field_size_category', 'track_condition_PH', 'track_condition_DUR', 'track_condition_PS', 'track_condition_PSF', 'weather_clear', 'weather_rain', 'weather_cloudy', 'post_position_bias', 'post_position_track_bias', 'raw_tabnet_prediction', 'predicted_position_tabnet', 'raw_rf_prediction', 'predicted_position_rf', 'predicted_position_base']
2025-11-13 15:08:21,136 - race_prediction.competitive_field_analyzer - INFO - === CRITICAL COLUMNS ANALYSIS ===
2025-11-13 15:08:21,136 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ recordG: 16/16 non-null values (100.0%)
2025-11-13 15:08:21,136 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [0.0, 0.0, 0.0]
2025-11-13 15:08:21,136 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ hippo: 16/16 non-null values (100.0%)
2025-11-13 15:08:21,137 - race_prediction.competitive_field_analyzer - INFO -    Sample values: ['Chantilly', 'Chantilly', 'Chantilly']
2025-11-13 15:08:21,137 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ coursescheval: 16/16 non-null values (100.0%)
2025-11-13 15:08:21,137 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [15, 45, 18]
2025-11-13 15:08:21,137 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ victoirescheval: 16/16 non-null values (100.0%)
2025-11-13 15:08:21,137 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [3, 14, 2]
2025-11-13 15:08:21,137 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ placescheval: 16/16 non-null values (100.0%)
2025-11-13 15:08:21,137 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [10, 23, 8]
2025-11-13 15:08:21,137 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ gainsCarriere: 16/16 non-null values (100.0%)
2025-11-13 15:08:21,137 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [9541000, 31493500, 10844400]
2025-11-13 15:08:21,137 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ age: 16/16 non-null values (100.0%)
2025-11-13 15:08:21,137 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [4, 8, 5]
2025-11-13 15:08:21,137 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ derniereplace: 16/16 non-null values (100.0%)
2025-11-13 15:08:21,137 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [13.0, 2.0, 6.0]
2025-11-13 15:08:21,137 - race_prediction.competitive_field_analyzer - INFO - === RACE METADATA ===
2025-11-13 15:08:21,137 - race_prediction.competitive_field_analyzer - INFO - comp: 1621458
2025-11-13 15:08:21,137 - race_prediction.competitive_field_analyzer - INFO - hippo: Chantilly
2025-11-13 15:08:21,137 - race_prediction.competitive_field_analyzer - INFO - dist: 1900
2025-11-13 15:08:21,137 - race_prediction.competitive_field_analyzer - INFO - typec: Plat
2025-11-13 15:08:21,137 - race_prediction.competitive_field_analyzer - INFO - partant: 16
2025-11-13 15:08:21,137 - race_prediction.competitive_field_analyzer - INFO - === SAMPLE RACE DATA ===
2025-11-13 15:08:21,138 - race_prediction.competitive_field_analyzer - INFO - Sample data (columns: ['numero', 'cheval', 'recordG', 'hippo', 'coursescheval']):
2025-11-13 15:08:21,138 - race_prediction.competitive_field_analyzer - INFO -   Horse 0: {'numero': 1, 'cheval': "O'Wood", 'recordG': 0.0, 'hippo': 'Chantilly', 'coursescheval': 15}
2025-11-13 15:08:21,138 - race_prediction.competitive_field_analyzer - INFO -   Horse 1: {'numero': 2, 'cheval': 'Rock Blanc', 'recordG': 0.0, 'hippo': 'Chantilly', 'coursescheval': 45}
2025-11-13 15:08:21,138 - race_prediction.competitive_field_analyzer - INFO -   Horse 2: {'numero': 3, 'cheval': 'Zvaroshka', 'recordG': 0.0, 'hippo': 'Chantilly', 'coursescheval': 18}
2025-11-13 15:08:21,138 - race_prediction.competitive_field_analyzer - INFO - === END COMPETITIVE ANALYSIS DEBUG ===

2025-11-13 15:08:21,138 - race_prediction.competitive_field_analyzer - INFO - === RETRIEVING HISTORICAL DATA ===
2025-11-13 15:08:21,138 - race_prediction.competitive_field_analyzer - INFO - Fetching historical data for 16 horses: [1662842, 1362456, 1570962, 1522211, 1416740, 1654163, 1546787, 1547421, 1409128, 1661687, 1664057, 1651290, 1559430, 1720975, 1523134, 1415638]
2025-11-13 15:08:21,139 - race_prediction.competitive_field_analyzer - INFO - Batch querying historical data for 16 horses: [1662842, 1362456, 1570962, 1522211, 1416740, 1654163, 1546787, 1547421, 1409128, 1661687, 1664057, 1651290, 1559430, 1720975, 1523134, 1415638]
2025-11-13 15:08:33,532 - race_prediction.competitive_field_analyzer - INFO - Batch query completed in 12.39s, found 158 total records
2025-11-13 15:08:33,539 - race_prediction.competitive_field_analyzer - INFO - Batch query retrieved 158 total historical races
2025-11-13 15:08:33,539 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS PER HORSE ===
2025-11-13 15:08:33,539 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1662842: 7 historical races found
2025-11-13 15:08:33,539 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1362456: 8 historical races found
2025-11-13 15:08:33,539 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1570962: 5 historical races found
2025-11-13 15:08:33,539 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1522211: 10 historical races found
2025-11-13 15:08:33,539 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1416740: 13 historical races found
2025-11-13 15:08:33,539 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1654163: 9 historical races found
2025-11-13 15:08:33,539 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1546787: 9 historical races found
2025-11-13 15:08:33,539 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1547421: 14 historical races found
2025-11-13 15:08:33,539 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1409128: 17 historical races found
2025-11-13 15:08:33,539 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1661687: 7 historical races found
2025-11-13 15:08:33,539 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1664057: 5 historical races found
2025-11-13 15:08:33,539 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1651290: 7 historical races found
2025-11-13 15:08:33,539 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1559430: 12 historical races found
2025-11-13 15:08:33,540 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1720975: 15 historical races found
2025-11-13 15:08:33,540 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1523134: 10 historical races found
2025-11-13 15:08:33,540 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1415638: 10 historical races found
2025-11-13 15:08:33,540 - race_prediction.competitive_field_analyzer - INFO - Retrieved 158 total historical races
2025-11-13 15:08:33,540 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS BY HORSE ===
2025-11-13 15:08:33,540 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1662842: 7 historical races
2025-11-13 15:08:33,540 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1362456: 8 historical races
2025-11-13 15:08:33,540 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1570962: 5 historical races
2025-11-13 15:08:33,540 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1522211: 10 historical races
2025-11-13 15:08:33,540 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1416740: 13 historical races
2025-11-13 15:08:33,540 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1654163: 9 historical races
2025-11-13 15:08:33,540 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1546787: 9 historical races
2025-11-13 15:08:33,540 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1547421: 14 historical races
2025-11-13 15:08:33,540 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1409128: 17 historical races
2025-11-13 15:08:33,540 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1661687: 7 historical races
2025-11-13 15:08:33,540 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1664057: 5 historical races
2025-11-13 15:08:33,540 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1651290: 7 historical races
2025-11-13 15:08:33,540 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1559430: 12 historical races
2025-11-13 15:08:33,540 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1720975: 15 historical races
2025-11-13 15:08:33,540 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1523134: 10 historical races
2025-11-13 15:08:33,540 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1415638: 10 historical races
2025-11-13 15:08:33,540 - race_prediction.competitive_field_analyzer - INFO - === END HISTORICAL DATA RETRIEVAL ===

2025-11-13 15:08:33,540 - race_prediction.competitive_field_analyzer - INFO - === EARNINGS QUALITY ANALYSIS ===
2025-11-13 15:08:33,541 - race_prediction.competitive_field_analyzer - INFO - Valid earnings data: 16/16 horses
2025-11-13 15:08:33,541 - race_prediction.competitive_field_analyzer - INFO - Sample earnings per race: ['636,067', '699,856', '602,467']
2025-11-13 15:08:33,541 - race_prediction.competitive_field_analyzer - INFO - Field earnings stats: avg=390,247, max=699,856
2025-11-13 15:08:33,541 - race_prediction.competitive_field_analyzer - INFO - === TRACK SPECIALIZATION ANALYSIS ===
2025-11-13 15:08:33,541 - race_prediction.competitive_field_analyzer - INFO - Horses with reliable venue data (3+ races): 0/16
2025-11-13 15:08:33,542 - race_prediction.competitive_field_analyzer - INFO - === FORM MOMENTUM ANALYSIS ===
2025-11-13 15:08:33,542 - race_prediction.competitive_field_analyzer - INFO - Field avg horse trend: 0.587, recent perf: 6.90
2025-11-13 15:08:33,542 - race_prediction.competitive_field_analyzer - INFO - Field avg jockey trend: -2.909
2025-11-13 15:08:33,543 - race_prediction.competitive_field_analyzer - INFO - Horses with improving form: 4/16
2025-11-13 15:08:33,543 - race_prediction.competitive_field_analyzer - INFO - === HOT CONNECTIONS ANALYSIS ===
2025-11-13 15:08:33,543 - race_prediction.competitive_field_analyzer - INFO - Jockeys with wins today: 0/16
2025-11-13 15:08:33,562 - race_prediction.competitive_field_analyzer - INFO - Trainers with wins today: 0/16
2025-11-13 15:08:33,563 - race_prediction.competitive_field_analyzer - INFO - === DISTANCE COMFORT ANALYSIS ===
2025-11-13 15:08:33,563 - race_prediction.competitive_field_analyzer - INFO - Current race distance: 1900m
2025-11-13 15:08:33,563 - race_prediction.competitive_field_analyzer - INFO - Horses with similar recent distance: 15/16
2025-11-13 15:08:33,563 - race_prediction.competitive_field_analyzer - INFO - === REALISTIC COMPETITIVE SCORING ===
2025-11-13 15:08:33,564 - race_prediction.competitive_field_analyzer - INFO - üìä COMPETITIVE ANALYSIS SUMMARY:
2025-11-13 15:08:33,564 - race_prediction.competitive_field_analyzer - INFO -    Total competitive races: 158
2025-11-13 15:08:33,564 - race_prediction.competitive_field_analyzer - INFO -    Horses with historical data: 16/16
2025-11-13 15:08:33,564 - race_prediction.competitive_field_analyzer - INFO -    Average races per horse: 9.9
2025-11-13 15:08:33,588 - race_prediction.quinte_prediction_storage - INFO - Stored 16 horses for Quint√© race 1621458
2025-11-13 15:08:35,933 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE ANALYSIS DEBUG ===
2025-11-13 15:08:35,934 - race_prediction.competitive_field_analyzer - INFO - Analyzing competitive field for race with 16 horses
2025-11-13 15:08:35,934 - race_prediction.competitive_field_analyzer - INFO - Race data shape: (16, 280)
2025-11-13 15:08:35,934 - race_prediction.competitive_field_analyzer - INFO - Available columns: ['id', 'comp', 'jour', 'hippo', 'reun', 'prix', 'prixnom', 'typec', 'partant', 'dist', 'handi', 'groupe', 'quinte', 'natpis', 'meteo', 'corde', 'temperature', 'forceVent', 'directionVent', 'nebulosite', 'prediction_results', 'actual_results', 'created_at', 'updated_at', 'processed_data', 'cheque', 'handi_raw', 'reclam', 'sex', 'tempscourse', 'handicap_level_score', 'cl', 'numero', 'cheval', 'age', 'cotedirect', 'coteprob', 'recence', 'ecar', 'defoeil', 'defoeilPrec', 'musiqueche', 'musiquejoc', 'entraineur', 'coursescheval', 'victoirescheval', 'placescheval', 'dernierealloc', 'derniernbpartants', 'dernieredist', 'derniereplace', 'dernierecote', 'dernierEnt', 'proprietaire', 'poidmont', 'pourcVictJockHippo', 'pourcPlaceJockHippo', 'pourcVictChevalHippo', 'pourcPlaceChevalHippo', 'tempstot', 'vha', 'recordG', 'txreclam', 'dernierTxreclam', 'gainsCarriere', 'gainsAnneeEnCours', 'handicapDistance', 'handicapPoids', 'TxVictCouple', 'nbVictCouple', 'nbPlaceCouple', 'idche', 'idJockey', 'idEntraineur', 'defFirstTime', 'oeilFirstTime', 'oeil', 'dernierOeil', 'ratio_victoires', 'ratio_places', 'gains_par_course', 'efficacite_couple', 'regularite_couple', 'progression_couple', 'perf_cheval_hippo', 'perf_jockey_hippo', 'trainer_victoires', 'trainer_places', 'trainer_courses', 'trainer_winrate', 'trainer_placerate', 'trainer_quality_score', 'trainer_experience_level', 'handicap_poids', 'handicap_dist', 'prec_handicap_poids', 'prec_handicap_dist', 'handicap_poids_change', 'handicap_poids_increased', 'handicap_poids_decreased', 'handicap_dist_change', 'handicap_dist_increased', 'handicap_dist_decreased', 'total_handicap', 'handicap_momentum', 'last_race_position', 'last_race_distance', 'distance_change', 'distance_change_pct', 'distance_increased', 'distance_decreased', 'same_distance', 'corde_change', 'corde_improved', 'corde_worsened', 'last_race_top3', 'last_race_won', 'blinkers_first_time', 'has_blinkers', 'has_standard_blinkers', 'has_australian_blinkers', 'blinkers_added', 'blinkers_removed', 'blinkers_type_changed', 'blinkers_any_change', 'blinkers_high_impact_change', 'shoeing_first_time', 'fully_shod', 'front_shod_only', 'back_shod_only', 'barefoot', 'shoeing_changed', 'barefoot_to_shod', 'shod_to_barefoot', 'major_shoeing_change', 'shoeing_complexity', 'multiple_equipment_changes', 'equipment_momentum_score', 'high_equipment_momentum', 'multiple_first_time_changes', 'equipment_optimization_score', 'career_strike_rate', 'earnings_per_race', 'earnings_trend', 'last_race_position_normalized', 'last_race_odds_normalized', 'last_race_field_size_factor', 'distance_consistency', 'vha_normalized', 'claiming_tax_trend', 'class_stability', 'che_global_avg_pos', 'che_global_recent_perf', 'che_global_consistency', 'che_global_trend', 'che_global_pct_top3', 'che_global_nb_courses', 'che_global_total_races', 'che_global_dnf_rate', 'che_weighted_avg_pos', 'che_weighted_recent_perf', 'che_weighted_consistency', 'che_weighted_pct_top3', 'che_weighted_nb_courses', 'che_weighted_total_races', 'che_weighted_dnf_rate', 'che_weighted_trend', 'che_bytype_avg_pos', 'che_bytype_recent_perf', 'che_bytype_consistency', 'che_bytype_trend', 'che_bytype_pct_top3', 'che_bytype_nb_courses', 'che_bytype_total_races', 'che_bytype_dnf_rate', 'joc_global_avg_pos', 'joc_global_recent_perf', 'joc_global_consistency', 'joc_global_trend', 'joc_global_pct_top3', 'joc_global_nb_courses', 'joc_global_total_races', 'joc_global_dnf_rate', 'joc_weighted_avg_pos', 'joc_weighted_recent_perf', 'joc_weighted_consistency', 'joc_weighted_pct_top3', 'joc_weighted_nb_courses', 'joc_weighted_total_races', 'joc_weighted_dnf_rate', 'joc_weighted_trend', 'joc_bytype_avg_pos', 'joc_bytype_recent_perf', 'joc_bytype_consistency', 'joc_bytype_trend', 'joc_bytype_pct_top3', 'joc_bytype_nb_courses', 'joc_bytype_total_races', 'joc_bytype_dnf_rate', 'che_form_momentum', 'che_improving_form', 'che_declining_form', 'che_high_consistency', 'che_recent_quality', 'che_elite_performer', 'che_regular_placer', 'joc_form_momentum', 'joc_improving_form', 'joc_high_consistency', 'joc_elite_performer', 'synergy_both_improving', 'synergy_both_consistent', 'synergy_both_elite', 'overall_momentum_score', 'high_momentum', 'class_drop_pct', 'purse_per_starter', 'purse_ratio', 'moving_up_in_class', 'class_shock_indicator', 'handicap_level_change', 'time_per_distance', 'time_vs_record', 'pace_rating', 'speed_figure_proxy', 'market_confidence_shift', 'last_race_improvement', 'bounce_risk', 'layoff_distance_interaction', 'trainer_change', 'connection_stability', 'field_size_change', 'distance_comfort', 'competition_level_shift', 'recence_x_class_drop', 'trainer_change_x_recence', 'distance_change_x_recence', 'che_by_type_avg_pos', 'che_by_type_recent_perf', 'che_by_type_consistency', 'che_by_type_trend', 'che_by_type_pct_top3', 'che_by_type_nb_courses', 'che_by_type_total_races', 'che_by_type_dnf_rate', 'joc_by_type_avg_pos', 'joc_by_type_recent_perf', 'joc_by_type_consistency', 'joc_by_type_trend', 'joc_by_type_pct_top3', 'joc_by_type_nb_courses', 'joc_by_type_total_races', 'joc_by_type_dnf_rate', 'quinte_career_starts', 'quinte_win_rate', 'quinte_top5_rate', 'avg_quinte_position', 'days_since_last_quinte', 'quinte_handicap_specialist', 'quinte_conditions_specialist', 'quinte_large_field_ability', 'quinte_track_condition_fit', 'is_handicap_quinte', 'handicap_division', 'purse_level_category', 'field_size_category', 'track_condition_PH', 'track_condition_DUR', 'track_condition_PS', 'track_condition_PSF', 'weather_clear', 'weather_rain', 'weather_cloudy', 'post_position_bias', 'post_position_track_bias', 'raw_tabnet_prediction', 'predicted_position_tabnet', 'raw_rf_prediction', 'predicted_position_rf', 'predicted_position_base']
2025-11-13 15:08:35,934 - race_prediction.competitive_field_analyzer - INFO - === CRITICAL COLUMNS ANALYSIS ===
2025-11-13 15:08:35,934 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ recordG: 16/16 non-null values (100.0%)
2025-11-13 15:08:35,934 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [0.0, 0.0, 0.0]
2025-11-13 15:08:35,934 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ hippo: 16/16 non-null values (100.0%)
2025-11-13 15:08:35,934 - race_prediction.competitive_field_analyzer - INFO -    Sample values: ['Saint-Cloud', 'Saint-Cloud', 'Saint-Cloud']
2025-11-13 15:08:35,934 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ coursescheval: 16/16 non-null values (100.0%)
2025-11-13 15:08:35,934 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [21, 35, 18]
2025-11-13 15:08:35,934 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ victoirescheval: 16/16 non-null values (100.0%)
2025-11-13 15:08:35,935 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [3, 6, 3]
2025-11-13 15:08:35,935 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ placescheval: 16/16 non-null values (100.0%)
2025-11-13 15:08:35,935 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [8, 22, 7]
2025-11-13 15:08:35,935 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ gainsCarriere: 16/16 non-null values (100.0%)
2025-11-13 15:08:35,935 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [10650100, 23140400, 8457900]
2025-11-13 15:08:35,935 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ age: 16/16 non-null values (100.0%)
2025-11-13 15:08:35,935 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [5, 7, 4]
2025-11-13 15:08:35,935 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ derniereplace: 16/16 non-null values (100.0%)
2025-11-13 15:08:35,935 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [2.0, 5.0, 4.0]
2025-11-13 15:08:35,935 - race_prediction.competitive_field_analyzer - INFO - === RACE METADATA ===
2025-11-13 15:08:35,935 - race_prediction.competitive_field_analyzer - INFO - comp: 1621443
2025-11-13 15:08:35,935 - race_prediction.competitive_field_analyzer - INFO - hippo: Saint-Cloud
2025-11-13 15:08:35,935 - race_prediction.competitive_field_analyzer - INFO - dist: 1600
2025-11-13 15:08:35,935 - race_prediction.competitive_field_analyzer - INFO - typec: Plat
2025-11-13 15:08:35,935 - race_prediction.competitive_field_analyzer - INFO - partant: 16
2025-11-13 15:08:35,935 - race_prediction.competitive_field_analyzer - INFO - === SAMPLE RACE DATA ===
2025-11-13 15:08:35,935 - race_prediction.competitive_field_analyzer - INFO - Sample data (columns: ['numero', 'cheval', 'recordG', 'hippo', 'coursescheval']):
2025-11-13 15:08:35,936 - race_prediction.competitive_field_analyzer - INFO -   Horse 0: {'numero': 1, 'cheval': 'Olympic Message', 'recordG': 0.0, 'hippo': 'Saint-Cloud', 'coursescheval': 21}
2025-11-13 15:08:35,936 - race_prediction.competitive_field_analyzer - INFO -   Horse 1: {'numero': 2, 'cheval': 'Harper', 'recordG': 0.0, 'hippo': 'Saint-Cloud', 'coursescheval': 35}
2025-11-13 15:08:35,936 - race_prediction.competitive_field_analyzer - INFO -   Horse 2: {'numero': 3, 'cheval': 'Divide And Rule', 'recordG': 0.0, 'hippo': 'Saint-Cloud', 'coursescheval': 18}
2025-11-13 15:08:35,936 - race_prediction.competitive_field_analyzer - INFO - === END COMPETITIVE ANALYSIS DEBUG ===

2025-11-13 15:08:35,936 - race_prediction.competitive_field_analyzer - INFO - === RETRIEVING HISTORICAL DATA ===
2025-11-13 15:08:35,936 - race_prediction.competitive_field_analyzer - INFO - Fetching historical data for 16 horses: [1561006, 1408356, 1676665, 1657763, 1523301, 1724362, 1655542, 1654258, 1723957, 1523186, 1572946, 1741661, 1520399, 1653870, 1641065, 1741448]
2025-11-13 15:08:35,937 - race_prediction.competitive_field_analyzer - INFO - Batch querying historical data for 16 horses: [1561006, 1408356, 1676665, 1657763, 1523301, 1724362, 1655542, 1654258, 1723957, 1523186, 1572946, 1741661, 1520399, 1653870, 1641065, 1741448]
2025-11-13 15:08:48,558 - race_prediction.competitive_field_analyzer - INFO - Batch query completed in 12.62s, found 144 total records
2025-11-13 15:08:48,565 - race_prediction.competitive_field_analyzer - INFO - Batch query retrieved 144 total historical races
2025-11-13 15:08:48,565 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS PER HORSE ===
2025-11-13 15:08:48,565 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1561006: 5 historical races found
2025-11-13 15:08:48,565 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1408356: 4 historical races found
2025-11-13 15:08:48,565 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1676665: 9 historical races found
2025-11-13 15:08:48,565 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1657763: 7 historical races found
2025-11-13 15:08:48,565 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1523301: 18 historical races found
2025-11-13 15:08:48,565 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1724362: 12 historical races found
2025-11-13 15:08:48,565 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1655542: 12 historical races found
2025-11-13 15:08:48,565 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1654258: 5 historical races found
2025-11-13 15:08:48,565 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1723957: 11 historical races found
2025-11-13 15:08:48,565 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1523186: 10 historical races found
2025-11-13 15:08:48,565 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1572946: 9 historical races found
2025-11-13 15:08:48,565 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1741661: 7 historical races found
2025-11-13 15:08:48,565 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1520399: 6 historical races found
2025-11-13 15:08:48,565 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1653870: 15 historical races found
2025-11-13 15:08:48,565 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1641065: 11 historical races found
2025-11-13 15:08:48,565 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1741448: 3 historical races found
2025-11-13 15:08:48,565 - race_prediction.competitive_field_analyzer - INFO - Retrieved 144 total historical races
2025-11-13 15:08:48,565 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS BY HORSE ===
2025-11-13 15:08:48,565 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1561006: 5 historical races
2025-11-13 15:08:48,565 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1408356: 4 historical races
2025-11-13 15:08:48,565 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1676665: 9 historical races
2025-11-13 15:08:48,565 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1657763: 7 historical races
2025-11-13 15:08:48,565 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1523301: 18 historical races
2025-11-13 15:08:48,566 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1724362: 12 historical races
2025-11-13 15:08:48,566 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1655542: 12 historical races
2025-11-13 15:08:48,566 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1654258: 5 historical races
2025-11-13 15:08:48,566 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1723957: 11 historical races
2025-11-13 15:08:48,566 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1523186: 10 historical races
2025-11-13 15:08:48,566 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1572946: 9 historical races
2025-11-13 15:08:48,566 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1741661: 7 historical races
2025-11-13 15:08:48,566 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1520399: 6 historical races
2025-11-13 15:08:48,566 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1653870: 15 historical races
2025-11-13 15:08:48,566 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1641065: 11 historical races
2025-11-13 15:08:48,566 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1741448: 3 historical races
2025-11-13 15:08:48,566 - race_prediction.competitive_field_analyzer - INFO - === END HISTORICAL DATA RETRIEVAL ===

2025-11-13 15:08:48,566 - race_prediction.competitive_field_analyzer - INFO - === EARNINGS QUALITY ANALYSIS ===
2025-11-13 15:08:48,566 - race_prediction.competitive_field_analyzer - INFO - Valid earnings data: 16/16 horses
2025-11-13 15:08:48,566 - race_prediction.competitive_field_analyzer - INFO - Sample earnings per race: ['507,148', '661,154', '469,883']
2025-11-13 15:08:48,566 - race_prediction.competitive_field_analyzer - INFO - Field earnings stats: avg=425,329, max=661,154
2025-11-13 15:08:48,566 - race_prediction.competitive_field_analyzer - INFO - === TRACK SPECIALIZATION ANALYSIS ===
2025-11-13 15:08:48,566 - race_prediction.competitive_field_analyzer - INFO - Horses with reliable venue data (3+ races): 0/16
2025-11-13 15:08:48,567 - race_prediction.competitive_field_analyzer - INFO - === FORM MOMENTUM ANALYSIS ===
2025-11-13 15:08:48,568 - race_prediction.competitive_field_analyzer - INFO - Field avg horse trend: 0.564, recent perf: 6.25
2025-11-13 15:08:48,568 - race_prediction.competitive_field_analyzer - INFO - Field avg jockey trend: -1.174
2025-11-13 15:08:48,568 - race_prediction.competitive_field_analyzer - INFO - Horses with improving form: 2/16
2025-11-13 15:08:48,568 - race_prediction.competitive_field_analyzer - INFO - === HOT CONNECTIONS ANALYSIS ===
2025-11-13 15:08:48,568 - race_prediction.competitive_field_analyzer - INFO - Jockeys with wins today: 0/16
2025-11-13 15:08:48,568 - race_prediction.competitive_field_analyzer - INFO - Trainers with wins today: 0/16
2025-11-13 15:08:48,568 - race_prediction.competitive_field_analyzer - INFO - === DISTANCE COMFORT ANALYSIS ===
2025-11-13 15:08:48,568 - race_prediction.competitive_field_analyzer - INFO - Current race distance: 1600m
2025-11-13 15:08:48,568 - race_prediction.competitive_field_analyzer - INFO - Horses with similar recent distance: 14/16
2025-11-13 15:08:48,568 - race_prediction.competitive_field_analyzer - INFO - === REALISTIC COMPETITIVE SCORING ===
2025-11-13 15:08:48,569 - race_prediction.competitive_field_analyzer - INFO - üìä COMPETITIVE ANALYSIS SUMMARY:
2025-11-13 15:08:48,569 - race_prediction.competitive_field_analyzer - INFO -    Total competitive races: 144
2025-11-13 15:08:48,569 - race_prediction.competitive_field_analyzer - INFO -    Horses with historical data: 16/16
2025-11-13 15:08:48,569 - race_prediction.competitive_field_analyzer - INFO -    Average races per horse: 9.0
2025-11-13 15:08:48,584 - race_prediction.quinte_prediction_storage - INFO - Stored 16 horses for Quint√© race 1621443
2025-11-13 15:08:50,943 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE ANALYSIS DEBUG ===
2025-11-13 15:08:50,943 - race_prediction.competitive_field_analyzer - INFO - Analyzing competitive field for race with 13 horses
2025-11-13 15:08:50,943 - race_prediction.competitive_field_analyzer - INFO - Race data shape: (13, 280)
2025-11-13 15:08:50,943 - race_prediction.competitive_field_analyzer - INFO - Available columns: ['id', 'comp', 'jour', 'hippo', 'reun', 'prix', 'prixnom', 'typec', 'partant', 'dist', 'handi', 'groupe', 'quinte', 'natpis', 'meteo', 'corde', 'temperature', 'forceVent', 'directionVent', 'nebulosite', 'prediction_results', 'actual_results', 'created_at', 'updated_at', 'processed_data', 'cheque', 'handi_raw', 'reclam', 'sex', 'tempscourse', 'handicap_level_score', 'cl', 'numero', 'cheval', 'age', 'cotedirect', 'coteprob', 'recence', 'ecar', 'defoeil', 'defoeilPrec', 'musiqueche', 'musiquejoc', 'entraineur', 'coursescheval', 'victoirescheval', 'placescheval', 'dernierealloc', 'derniernbpartants', 'dernieredist', 'derniereplace', 'dernierecote', 'dernierEnt', 'proprietaire', 'poidmont', 'pourcVictJockHippo', 'pourcPlaceJockHippo', 'pourcVictChevalHippo', 'pourcPlaceChevalHippo', 'tempstot', 'vha', 'recordG', 'txreclam', 'dernierTxreclam', 'gainsCarriere', 'gainsAnneeEnCours', 'handicapDistance', 'handicapPoids', 'TxVictCouple', 'nbVictCouple', 'nbPlaceCouple', 'idche', 'idJockey', 'idEntraineur', 'defFirstTime', 'oeilFirstTime', 'oeil', 'dernierOeil', 'ratio_victoires', 'ratio_places', 'gains_par_course', 'efficacite_couple', 'regularite_couple', 'progression_couple', 'perf_cheval_hippo', 'perf_jockey_hippo', 'trainer_victoires', 'trainer_places', 'trainer_courses', 'trainer_winrate', 'trainer_placerate', 'trainer_quality_score', 'trainer_experience_level', 'handicap_poids', 'handicap_dist', 'prec_handicap_poids', 'prec_handicap_dist', 'handicap_poids_change', 'handicap_poids_increased', 'handicap_poids_decreased', 'handicap_dist_change', 'handicap_dist_increased', 'handicap_dist_decreased', 'total_handicap', 'handicap_momentum', 'last_race_position', 'last_race_distance', 'distance_change', 'distance_change_pct', 'distance_increased', 'distance_decreased', 'same_distance', 'corde_change', 'corde_improved', 'corde_worsened', 'last_race_top3', 'last_race_won', 'blinkers_first_time', 'has_blinkers', 'has_standard_blinkers', 'has_australian_blinkers', 'blinkers_added', 'blinkers_removed', 'blinkers_type_changed', 'blinkers_any_change', 'blinkers_high_impact_change', 'shoeing_first_time', 'fully_shod', 'front_shod_only', 'back_shod_only', 'barefoot', 'shoeing_changed', 'barefoot_to_shod', 'shod_to_barefoot', 'major_shoeing_change', 'shoeing_complexity', 'multiple_equipment_changes', 'equipment_momentum_score', 'high_equipment_momentum', 'multiple_first_time_changes', 'equipment_optimization_score', 'career_strike_rate', 'earnings_per_race', 'earnings_trend', 'last_race_position_normalized', 'last_race_odds_normalized', 'last_race_field_size_factor', 'distance_consistency', 'vha_normalized', 'claiming_tax_trend', 'class_stability', 'che_global_avg_pos', 'che_global_recent_perf', 'che_global_consistency', 'che_global_trend', 'che_global_pct_top3', 'che_global_nb_courses', 'che_global_total_races', 'che_global_dnf_rate', 'che_weighted_avg_pos', 'che_weighted_recent_perf', 'che_weighted_consistency', 'che_weighted_pct_top3', 'che_weighted_nb_courses', 'che_weighted_total_races', 'che_weighted_dnf_rate', 'che_weighted_trend', 'che_bytype_avg_pos', 'che_bytype_recent_perf', 'che_bytype_consistency', 'che_bytype_trend', 'che_bytype_pct_top3', 'che_bytype_nb_courses', 'che_bytype_total_races', 'che_bytype_dnf_rate', 'joc_global_avg_pos', 'joc_global_recent_perf', 'joc_global_consistency', 'joc_global_trend', 'joc_global_pct_top3', 'joc_global_nb_courses', 'joc_global_total_races', 'joc_global_dnf_rate', 'joc_weighted_avg_pos', 'joc_weighted_recent_perf', 'joc_weighted_consistency', 'joc_weighted_pct_top3', 'joc_weighted_nb_courses', 'joc_weighted_total_races', 'joc_weighted_dnf_rate', 'joc_weighted_trend', 'joc_bytype_avg_pos', 'joc_bytype_recent_perf', 'joc_bytype_consistency', 'joc_bytype_trend', 'joc_bytype_pct_top3', 'joc_bytype_nb_courses', 'joc_bytype_total_races', 'joc_bytype_dnf_rate', 'che_form_momentum', 'che_improving_form', 'che_declining_form', 'che_high_consistency', 'che_recent_quality', 'che_elite_performer', 'che_regular_placer', 'joc_form_momentum', 'joc_improving_form', 'joc_high_consistency', 'joc_elite_performer', 'synergy_both_improving', 'synergy_both_consistent', 'synergy_both_elite', 'overall_momentum_score', 'high_momentum', 'class_drop_pct', 'purse_per_starter', 'purse_ratio', 'moving_up_in_class', 'class_shock_indicator', 'handicap_level_change', 'time_per_distance', 'time_vs_record', 'pace_rating', 'speed_figure_proxy', 'market_confidence_shift', 'last_race_improvement', 'bounce_risk', 'layoff_distance_interaction', 'trainer_change', 'connection_stability', 'field_size_change', 'distance_comfort', 'competition_level_shift', 'recence_x_class_drop', 'trainer_change_x_recence', 'distance_change_x_recence', 'che_by_type_avg_pos', 'che_by_type_recent_perf', 'che_by_type_consistency', 'che_by_type_trend', 'che_by_type_pct_top3', 'che_by_type_nb_courses', 'che_by_type_total_races', 'che_by_type_dnf_rate', 'joc_by_type_avg_pos', 'joc_by_type_recent_perf', 'joc_by_type_consistency', 'joc_by_type_trend', 'joc_by_type_pct_top3', 'joc_by_type_nb_courses', 'joc_by_type_total_races', 'joc_by_type_dnf_rate', 'quinte_career_starts', 'quinte_win_rate', 'quinte_top5_rate', 'avg_quinte_position', 'days_since_last_quinte', 'quinte_handicap_specialist', 'quinte_conditions_specialist', 'quinte_large_field_ability', 'quinte_track_condition_fit', 'is_handicap_quinte', 'handicap_division', 'purse_level_category', 'field_size_category', 'track_condition_PH', 'track_condition_DUR', 'track_condition_PS', 'track_condition_PSF', 'weather_clear', 'weather_rain', 'weather_cloudy', 'post_position_bias', 'post_position_track_bias', 'raw_tabnet_prediction', 'predicted_position_tabnet', 'raw_rf_prediction', 'predicted_position_rf', 'predicted_position_base']
2025-11-13 15:08:50,943 - race_prediction.competitive_field_analyzer - INFO - === CRITICAL COLUMNS ANALYSIS ===
2025-11-13 15:08:50,943 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ recordG: 13/13 non-null values (100.0%)
2025-11-13 15:08:50,944 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [0.0, 0.0, 0.0]
2025-11-13 15:08:50,944 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ hippo: 13/13 non-null values (100.0%)
2025-11-13 15:08:50,944 - race_prediction.competitive_field_analyzer - INFO -    Sample values: ['Paris-Vincennes', 'Paris-Vincennes', 'Paris-Vincennes']
2025-11-13 15:08:50,944 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ coursescheval: 13/13 non-null values (100.0%)
2025-11-13 15:08:50,944 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [56, 42, 82]
2025-11-13 15:08:50,944 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ victoirescheval: 13/13 non-null values (100.0%)
2025-11-13 15:08:50,944 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [8, 11, 10]
2025-11-13 15:08:50,944 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ placescheval: 13/13 non-null values (100.0%)
2025-11-13 15:08:50,944 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [18, 19, 33]
2025-11-13 15:08:50,944 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ gainsCarriere: 13/13 non-null values (100.0%)
2025-11-13 15:08:50,944 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [27138000, 27381500, 30011500]
2025-11-13 15:08:50,944 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ age: 13/13 non-null values (100.0%)
2025-11-13 15:08:50,944 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [7, 6, 8]
2025-11-13 15:08:50,944 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ derniereplace: 13/13 non-null values (100.0%)
2025-11-13 15:08:50,944 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [7.0, 4.0, 6.0]
2025-11-13 15:08:50,945 - race_prediction.competitive_field_analyzer - INFO - === RACE METADATA ===
2025-11-13 15:08:50,945 - race_prediction.competitive_field_analyzer - INFO - comp: 1619992
2025-11-13 15:08:50,945 - race_prediction.competitive_field_analyzer - INFO - hippo: Paris-Vincennes
2025-11-13 15:08:50,945 - race_prediction.competitive_field_analyzer - INFO - dist: 2700
2025-11-13 15:08:50,945 - race_prediction.competitive_field_analyzer - INFO - typec: Attel√©
2025-11-13 15:08:50,945 - race_prediction.competitive_field_analyzer - INFO - partant: 13
2025-11-13 15:08:50,945 - race_prediction.competitive_field_analyzer - INFO - === SAMPLE RACE DATA ===
2025-11-13 15:08:50,945 - race_prediction.competitive_field_analyzer - INFO - Sample data (columns: ['numero', 'cheval', 'recordG', 'hippo', 'coursescheval']):
2025-11-13 15:08:50,945 - race_prediction.competitive_field_analyzer - INFO -   Horse 0: {'numero': 1, 'cheval': 'Ivanof', 'recordG': 0.0, 'hippo': 'Paris-Vincennes', 'coursescheval': 56}
2025-11-13 15:08:50,945 - race_prediction.competitive_field_analyzer - INFO -   Horse 1: {'numero': 2, 'cheval': 'Jappeloup Turgot', 'recordG': 0.0, 'hippo': 'Paris-Vincennes', 'coursescheval': 42}
2025-11-13 15:08:50,945 - race_prediction.competitive_field_analyzer - INFO -   Horse 2: {'numero': 3, 'cheval': 'Himberland', 'recordG': 0.0, 'hippo': 'Paris-Vincennes', 'coursescheval': 82}
2025-11-13 15:08:50,945 - race_prediction.competitive_field_analyzer - INFO - === END COMPETITIVE ANALYSIS DEBUG ===

2025-11-13 15:08:50,945 - race_prediction.competitive_field_analyzer - INFO - === RETRIEVING HISTORICAL DATA ===
2025-11-13 15:08:50,945 - race_prediction.competitive_field_analyzer - INFO - Fetching historical data for 13 horses: [1474742, 1520426, 1389845, 1485998, 1430681, 1385711, 1431509, 1499311, 1403418, 1444935, 1534739, 1492670, 1498657]
2025-11-13 15:08:50,946 - race_prediction.competitive_field_analyzer - INFO - Batch querying historical data for 13 horses: [1474742, 1520426, 1389845, 1485998, 1430681, 1385711, 1431509, 1499311, 1403418, 1444935, 1534739, 1492670, 1498657]
2025-11-13 15:09:02,479 - race_prediction.competitive_field_analyzer - INFO - Batch query completed in 11.53s, found 158 total records
2025-11-13 15:09:02,486 - race_prediction.competitive_field_analyzer - INFO - Batch query retrieved 158 total historical races
2025-11-13 15:09:02,486 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS PER HORSE ===
2025-11-13 15:09:02,486 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1474742: 15 historical races found
2025-11-13 15:09:02,486 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1520426: 13 historical races found
2025-11-13 15:09:02,486 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1389845: 18 historical races found
2025-11-13 15:09:02,486 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1485998: 7 historical races found
2025-11-13 15:09:02,486 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1430681: 12 historical races found
2025-11-13 15:09:02,486 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1385711: 15 historical races found
2025-11-13 15:09:02,486 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1431509: 13 historical races found
2025-11-13 15:09:02,486 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1499311: 11 historical races found
2025-11-13 15:09:02,486 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1403418: 13 historical races found
2025-11-13 15:09:02,486 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1444935: 9 historical races found
2025-11-13 15:09:02,486 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1534739: 9 historical races found
2025-11-13 15:09:02,486 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1492670: 14 historical races found
2025-11-13 15:09:02,486 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1498657: 9 historical races found
2025-11-13 15:09:02,486 - race_prediction.competitive_field_analyzer - INFO - Retrieved 158 total historical races
2025-11-13 15:09:02,486 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS BY HORSE ===
2025-11-13 15:09:02,486 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1474742: 15 historical races
2025-11-13 15:09:02,486 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1520426: 13 historical races
2025-11-13 15:09:02,486 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1389845: 18 historical races
2025-11-13 15:09:02,486 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1485998: 7 historical races
2025-11-13 15:09:02,486 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1430681: 12 historical races
2025-11-13 15:09:02,486 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1385711: 15 historical races
2025-11-13 15:09:02,486 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1431509: 13 historical races
2025-11-13 15:09:02,486 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1499311: 11 historical races
2025-11-13 15:09:02,486 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1403418: 13 historical races
2025-11-13 15:09:02,486 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1444935: 9 historical races
2025-11-13 15:09:02,487 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1534739: 9 historical races
2025-11-13 15:09:02,487 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1492670: 14 historical races
2025-11-13 15:09:02,487 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1498657: 9 historical races
2025-11-13 15:09:02,487 - race_prediction.competitive_field_analyzer - INFO - === END HISTORICAL DATA RETRIEVAL ===

2025-11-13 15:09:02,487 - race_prediction.competitive_field_analyzer - INFO - === EARNINGS QUALITY ANALYSIS ===
2025-11-13 15:09:02,487 - race_prediction.competitive_field_analyzer - INFO - Valid earnings data: 13/13 horses
2025-11-13 15:09:02,487 - race_prediction.competitive_field_analyzer - INFO - Sample earnings per race: ['484,607', '651,940', '365,994']
2025-11-13 15:09:02,487 - race_prediction.competitive_field_analyzer - INFO - Field earnings stats: avg=601,427, max=951,944
2025-11-13 15:09:02,487 - race_prediction.competitive_field_analyzer - INFO - === TRACK SPECIALIZATION ANALYSIS ===
2025-11-13 15:09:02,487 - race_prediction.competitive_field_analyzer - INFO - Horses with reliable venue data (3+ races): 0/13
2025-11-13 15:09:02,488 - race_prediction.competitive_field_analyzer - INFO - === FORM MOMENTUM ANALYSIS ===
2025-11-13 15:09:02,488 - race_prediction.competitive_field_analyzer - INFO - Field avg horse trend: 1.174, recent perf: 6.46
2025-11-13 15:09:02,488 - race_prediction.competitive_field_analyzer - INFO - Field avg jockey trend: 0.347
2025-11-13 15:09:02,488 - race_prediction.competitive_field_analyzer - INFO - Horses with improving form: 4/13
2025-11-13 15:09:02,488 - race_prediction.competitive_field_analyzer - INFO - === HOT CONNECTIONS ANALYSIS ===
2025-11-13 15:09:02,488 - race_prediction.competitive_field_analyzer - INFO - Jockeys with wins today: 0/13
2025-11-13 15:09:02,488 - race_prediction.competitive_field_analyzer - INFO - Trainers with wins today: 0/13
2025-11-13 15:09:02,489 - race_prediction.competitive_field_analyzer - INFO - === DISTANCE COMFORT ANALYSIS ===
2025-11-13 15:09:02,489 - race_prediction.competitive_field_analyzer - INFO - Current race distance: 2700m
2025-11-13 15:09:02,489 - race_prediction.competitive_field_analyzer - INFO - Horses with similar recent distance: 8/13
2025-11-13 15:09:02,489 - race_prediction.competitive_field_analyzer - INFO - === REALISTIC COMPETITIVE SCORING ===
2025-11-13 15:09:02,489 - race_prediction.competitive_field_analyzer - INFO - üìä COMPETITIVE ANALYSIS SUMMARY:
2025-11-13 15:09:02,489 - race_prediction.competitive_field_analyzer - INFO -    Total competitive races: 158
2025-11-13 15:09:02,489 - race_prediction.competitive_field_analyzer - INFO -    Horses with historical data: 13/13
2025-11-13 15:09:02,489 - race_prediction.competitive_field_analyzer - INFO -    Average races per horse: 12.2
2025-11-13 15:09:02,502 - race_prediction.quinte_prediction_storage - INFO - Stored 13 horses for Quint√© race 1619992
2025-11-13 15:09:04,536 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE ANALYSIS DEBUG ===
2025-11-13 15:09:04,536 - race_prediction.competitive_field_analyzer - INFO - Analyzing competitive field for race with 16 horses
2025-11-13 15:09:04,536 - race_prediction.competitive_field_analyzer - INFO - Race data shape: (16, 280)
2025-11-13 15:09:04,536 - race_prediction.competitive_field_analyzer - INFO - Available columns: ['id', 'comp', 'jour', 'hippo', 'reun', 'prix', 'prixnom', 'typec', 'partant', 'dist', 'handi', 'groupe', 'quinte', 'natpis', 'meteo', 'corde', 'temperature', 'forceVent', 'directionVent', 'nebulosite', 'prediction_results', 'actual_results', 'created_at', 'updated_at', 'processed_data', 'cheque', 'handi_raw', 'reclam', 'sex', 'tempscourse', 'handicap_level_score', 'cl', 'numero', 'cheval', 'age', 'cotedirect', 'coteprob', 'recence', 'ecar', 'defoeil', 'defoeilPrec', 'musiqueche', 'musiquejoc', 'entraineur', 'coursescheval', 'victoirescheval', 'placescheval', 'dernierealloc', 'derniernbpartants', 'dernieredist', 'derniereplace', 'dernierecote', 'dernierEnt', 'proprietaire', 'poidmont', 'pourcVictJockHippo', 'pourcPlaceJockHippo', 'pourcVictChevalHippo', 'pourcPlaceChevalHippo', 'tempstot', 'vha', 'recordG', 'txreclam', 'dernierTxreclam', 'gainsCarriere', 'gainsAnneeEnCours', 'handicapDistance', 'handicapPoids', 'TxVictCouple', 'nbVictCouple', 'nbPlaceCouple', 'idche', 'idJockey', 'idEntraineur', 'defFirstTime', 'oeilFirstTime', 'oeil', 'dernierOeil', 'ratio_victoires', 'ratio_places', 'gains_par_course', 'efficacite_couple', 'regularite_couple', 'progression_couple', 'perf_cheval_hippo', 'perf_jockey_hippo', 'trainer_victoires', 'trainer_places', 'trainer_courses', 'trainer_winrate', 'trainer_placerate', 'trainer_quality_score', 'trainer_experience_level', 'handicap_poids', 'handicap_dist', 'prec_handicap_poids', 'prec_handicap_dist', 'handicap_poids_change', 'handicap_poids_increased', 'handicap_poids_decreased', 'handicap_dist_change', 'handicap_dist_increased', 'handicap_dist_decreased', 'total_handicap', 'handicap_momentum', 'last_race_position', 'last_race_distance', 'distance_change', 'distance_change_pct', 'distance_increased', 'distance_decreased', 'same_distance', 'corde_change', 'corde_improved', 'corde_worsened', 'last_race_top3', 'last_race_won', 'blinkers_first_time', 'has_blinkers', 'has_standard_blinkers', 'has_australian_blinkers', 'blinkers_added', 'blinkers_removed', 'blinkers_type_changed', 'blinkers_any_change', 'blinkers_high_impact_change', 'shoeing_first_time', 'fully_shod', 'front_shod_only', 'back_shod_only', 'barefoot', 'shoeing_changed', 'barefoot_to_shod', 'shod_to_barefoot', 'major_shoeing_change', 'shoeing_complexity', 'multiple_equipment_changes', 'equipment_momentum_score', 'high_equipment_momentum', 'multiple_first_time_changes', 'equipment_optimization_score', 'career_strike_rate', 'earnings_per_race', 'earnings_trend', 'last_race_position_normalized', 'last_race_odds_normalized', 'last_race_field_size_factor', 'distance_consistency', 'vha_normalized', 'claiming_tax_trend', 'class_stability', 'che_global_avg_pos', 'che_global_recent_perf', 'che_global_consistency', 'che_global_trend', 'che_global_pct_top3', 'che_global_nb_courses', 'che_global_total_races', 'che_global_dnf_rate', 'che_weighted_avg_pos', 'che_weighted_recent_perf', 'che_weighted_consistency', 'che_weighted_pct_top3', 'che_weighted_nb_courses', 'che_weighted_total_races', 'che_weighted_dnf_rate', 'che_weighted_trend', 'che_bytype_avg_pos', 'che_bytype_recent_perf', 'che_bytype_consistency', 'che_bytype_trend', 'che_bytype_pct_top3', 'che_bytype_nb_courses', 'che_bytype_total_races', 'che_bytype_dnf_rate', 'joc_global_avg_pos', 'joc_global_recent_perf', 'joc_global_consistency', 'joc_global_trend', 'joc_global_pct_top3', 'joc_global_nb_courses', 'joc_global_total_races', 'joc_global_dnf_rate', 'joc_weighted_avg_pos', 'joc_weighted_recent_perf', 'joc_weighted_consistency', 'joc_weighted_pct_top3', 'joc_weighted_nb_courses', 'joc_weighted_total_races', 'joc_weighted_dnf_rate', 'joc_weighted_trend', 'joc_bytype_avg_pos', 'joc_bytype_recent_perf', 'joc_bytype_consistency', 'joc_bytype_trend', 'joc_bytype_pct_top3', 'joc_bytype_nb_courses', 'joc_bytype_total_races', 'joc_bytype_dnf_rate', 'che_form_momentum', 'che_improving_form', 'che_declining_form', 'che_high_consistency', 'che_recent_quality', 'che_elite_performer', 'che_regular_placer', 'joc_form_momentum', 'joc_improving_form', 'joc_high_consistency', 'joc_elite_performer', 'synergy_both_improving', 'synergy_both_consistent', 'synergy_both_elite', 'overall_momentum_score', 'high_momentum', 'class_drop_pct', 'purse_per_starter', 'purse_ratio', 'moving_up_in_class', 'class_shock_indicator', 'handicap_level_change', 'time_per_distance', 'time_vs_record', 'pace_rating', 'speed_figure_proxy', 'market_confidence_shift', 'last_race_improvement', 'bounce_risk', 'layoff_distance_interaction', 'trainer_change', 'connection_stability', 'field_size_change', 'distance_comfort', 'competition_level_shift', 'recence_x_class_drop', 'trainer_change_x_recence', 'distance_change_x_recence', 'che_by_type_avg_pos', 'che_by_type_recent_perf', 'che_by_type_consistency', 'che_by_type_trend', 'che_by_type_pct_top3', 'che_by_type_nb_courses', 'che_by_type_total_races', 'che_by_type_dnf_rate', 'joc_by_type_avg_pos', 'joc_by_type_recent_perf', 'joc_by_type_consistency', 'joc_by_type_trend', 'joc_by_type_pct_top3', 'joc_by_type_nb_courses', 'joc_by_type_total_races', 'joc_by_type_dnf_rate', 'quinte_career_starts', 'quinte_win_rate', 'quinte_top5_rate', 'avg_quinte_position', 'days_since_last_quinte', 'quinte_handicap_specialist', 'quinte_conditions_specialist', 'quinte_large_field_ability', 'quinte_track_condition_fit', 'is_handicap_quinte', 'handicap_division', 'purse_level_category', 'field_size_category', 'track_condition_PH', 'track_condition_DUR', 'track_condition_PS', 'track_condition_PSF', 'weather_clear', 'weather_rain', 'weather_cloudy', 'post_position_bias', 'post_position_track_bias', 'raw_tabnet_prediction', 'predicted_position_tabnet', 'raw_rf_prediction', 'predicted_position_rf', 'predicted_position_base']
2025-11-13 15:09:04,536 - race_prediction.competitive_field_analyzer - INFO - === CRITICAL COLUMNS ANALYSIS ===
2025-11-13 15:09:04,536 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ recordG: 16/16 non-null values (100.0%)
2025-11-13 15:09:04,536 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [0.0, 0.0, 0.0]
2025-11-13 15:09:04,537 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ hippo: 16/16 non-null values (100.0%)
2025-11-13 15:09:04,537 - race_prediction.competitive_field_analyzer - INFO -    Sample values: ['Paris-Vincennes', 'Paris-Vincennes', 'Paris-Vincennes']
2025-11-13 15:09:04,537 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ coursescheval: 16/16 non-null values (100.0%)
2025-11-13 15:09:04,537 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [26, 17, 21]
2025-11-13 15:09:04,537 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ victoirescheval: 16/16 non-null values (100.0%)
2025-11-13 15:09:04,537 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [4, 5, 5]
2025-11-13 15:09:04,537 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ placescheval: 16/16 non-null values (100.0%)
2025-11-13 15:09:04,537 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [8, 9, 7]
2025-11-13 15:09:04,537 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ gainsCarriere: 16/16 non-null values (100.0%)
2025-11-13 15:09:04,537 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [7921000, 9031000, 11717500]
2025-11-13 15:09:04,537 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ age: 16/16 non-null values (100.0%)
2025-11-13 15:09:04,537 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [5, 5, 5]
2025-11-13 15:09:04,537 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ derniereplace: 16/16 non-null values (100.0%)
2025-11-13 15:09:04,537 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [5.0, 7.0, 15.0]
2025-11-13 15:09:04,537 - race_prediction.competitive_field_analyzer - INFO - === RACE METADATA ===
2025-11-13 15:09:04,537 - race_prediction.competitive_field_analyzer - INFO - comp: 1619965
2025-11-13 15:09:04,537 - race_prediction.competitive_field_analyzer - INFO - hippo: Paris-Vincennes
2025-11-13 15:09:04,537 - race_prediction.competitive_field_analyzer - INFO - dist: 2700
2025-11-13 15:09:04,537 - race_prediction.competitive_field_analyzer - INFO - typec: Attel√©
2025-11-13 15:09:04,537 - race_prediction.competitive_field_analyzer - INFO - partant: 16
2025-11-13 15:09:04,537 - race_prediction.competitive_field_analyzer - INFO - === SAMPLE RACE DATA ===
2025-11-13 15:09:04,537 - race_prediction.competitive_field_analyzer - INFO - Sample data (columns: ['numero', 'cheval', 'recordG', 'hippo', 'coursescheval']):
2025-11-13 15:09:04,538 - race_prediction.competitive_field_analyzer - INFO -   Horse 0: {'numero': 1, 'cheval': 'Kingston de Blary', 'recordG': 0.0, 'hippo': 'Paris-Vincennes', 'coursescheval': 26}
2025-11-13 15:09:04,538 - race_prediction.competitive_field_analyzer - INFO -   Horse 1: {'numero': 2, 'cheval': 'Kamour', 'recordG': 0.0, 'hippo': 'Paris-Vincennes', 'coursescheval': 17}
2025-11-13 15:09:04,538 - race_prediction.competitive_field_analyzer - INFO -   Horse 2: {'numero': 3, 'cheval': 'King Georges', 'recordG': 0.0, 'hippo': 'Paris-Vincennes', 'coursescheval': 21}
2025-11-13 15:09:04,538 - race_prediction.competitive_field_analyzer - INFO - === END COMPETITIVE ANALYSIS DEBUG ===

2025-11-13 15:09:04,538 - race_prediction.competitive_field_analyzer - INFO - === RETRIEVING HISTORICAL DATA ===
2025-11-13 15:09:04,538 - race_prediction.competitive_field_analyzer - INFO - Fetching historical data for 16 horses: [1575813, 1663009, 1576834, 1656229, 1572477, 1660540, 1576402, 1561752, 1582067, 1575455, 1563340, 1581994, 1560715, 1590089, 1587413, 1555299]
2025-11-13 15:09:04,539 - race_prediction.competitive_field_analyzer - INFO - Batch querying historical data for 16 horses: [1575813, 1663009, 1576834, 1656229, 1572477, 1660540, 1576402, 1561752, 1582067, 1575455, 1563340, 1581994, 1560715, 1590089, 1587413, 1555299]
2025-11-13 15:09:15,407 - race_prediction.competitive_field_analyzer - INFO - Batch query completed in 10.87s, found 154 total records
2025-11-13 15:09:15,415 - race_prediction.competitive_field_analyzer - INFO - Batch query retrieved 154 total historical races
2025-11-13 15:09:15,415 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS PER HORSE ===
2025-11-13 15:09:15,415 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1575813: 9 historical races found
2025-11-13 15:09:15,415 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1663009: 5 historical races found
2025-11-13 15:09:15,415 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1576834: 7 historical races found
2025-11-13 15:09:15,415 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1656229: 11 historical races found
2025-11-13 15:09:15,415 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1572477: 14 historical races found
2025-11-13 15:09:15,415 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1660540: 13 historical races found
2025-11-13 15:09:15,415 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1576402: 11 historical races found
2025-11-13 15:09:15,415 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1561752: 7 historical races found
2025-11-13 15:09:15,415 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1582067: 5 historical races found
2025-11-13 15:09:15,415 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1575455: 13 historical races found
2025-11-13 15:09:15,415 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1563340: 8 historical races found
2025-11-13 15:09:15,415 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1581994: 13 historical races found
2025-11-13 15:09:15,415 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1560715: 7 historical races found
2025-11-13 15:09:15,415 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1590089: 13 historical races found
2025-11-13 15:09:15,415 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1587413: 5 historical races found
2025-11-13 15:09:15,415 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1555299: 13 historical races found
2025-11-13 15:09:15,415 - race_prediction.competitive_field_analyzer - INFO - Retrieved 154 total historical races
2025-11-13 15:09:15,415 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS BY HORSE ===
2025-11-13 15:09:15,415 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1575813: 9 historical races
2025-11-13 15:09:15,415 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1663009: 5 historical races
2025-11-13 15:09:15,415 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1576834: 7 historical races
2025-11-13 15:09:15,415 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1656229: 11 historical races
2025-11-13 15:09:15,415 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1572477: 14 historical races
2025-11-13 15:09:15,415 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1660540: 13 historical races
2025-11-13 15:09:15,415 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1576402: 11 historical races
2025-11-13 15:09:15,415 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1561752: 7 historical races
2025-11-13 15:09:15,415 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1582067: 5 historical races
2025-11-13 15:09:15,416 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1575455: 13 historical races
2025-11-13 15:09:15,416 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1563340: 8 historical races
2025-11-13 15:09:15,416 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1581994: 13 historical races
2025-11-13 15:09:15,416 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1560715: 7 historical races
2025-11-13 15:09:15,417 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1590089: 13 historical races
2025-11-13 15:09:15,417 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1587413: 5 historical races
2025-11-13 15:09:15,417 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1555299: 13 historical races
2025-11-13 15:09:15,417 - race_prediction.competitive_field_analyzer - INFO - === END HISTORICAL DATA RETRIEVAL ===

2025-11-13 15:09:15,417 - race_prediction.competitive_field_analyzer - INFO - === EARNINGS QUALITY ANALYSIS ===
2025-11-13 15:09:15,417 - race_prediction.competitive_field_analyzer - INFO - Valid earnings data: 16/16 horses
2025-11-13 15:09:15,417 - race_prediction.competitive_field_analyzer - INFO - Sample earnings per race: ['304,654', '531,235', '557,976']
2025-11-13 15:09:15,419 - race_prediction.competitive_field_analyzer - INFO - Field earnings stats: avg=584,061, max=1,084,062
2025-11-13 15:09:15,419 - race_prediction.competitive_field_analyzer - INFO - === TRACK SPECIALIZATION ANALYSIS ===
2025-11-13 15:09:15,419 - race_prediction.competitive_field_analyzer - INFO - Horses with reliable venue data (3+ races): 0/16
2025-11-13 15:09:15,420 - race_prediction.competitive_field_analyzer - INFO - === FORM MOMENTUM ANALYSIS ===
2025-11-13 15:09:15,421 - race_prediction.competitive_field_analyzer - INFO - Field avg horse trend: 1.984, recent perf: 6.90
2025-11-13 15:09:15,421 - race_prediction.competitive_field_analyzer - INFO - Field avg jockey trend: -0.236
2025-11-13 15:09:15,421 - race_prediction.competitive_field_analyzer - INFO - Horses with improving form: 3/16
2025-11-13 15:09:15,421 - race_prediction.competitive_field_analyzer - INFO - === HOT CONNECTIONS ANALYSIS ===
2025-11-13 15:09:15,421 - race_prediction.competitive_field_analyzer - INFO - Jockeys with wins today: 0/16
2025-11-13 15:09:15,421 - race_prediction.competitive_field_analyzer - INFO - Trainers with wins today: 0/16
2025-11-13 15:09:15,421 - race_prediction.competitive_field_analyzer - INFO - === DISTANCE COMFORT ANALYSIS ===
2025-11-13 15:09:15,421 - race_prediction.competitive_field_analyzer - INFO - Current race distance: 2700m
2025-11-13 15:09:15,421 - race_prediction.competitive_field_analyzer - INFO - Horses with similar recent distance: 10/16
2025-11-13 15:09:15,421 - race_prediction.competitive_field_analyzer - INFO - === REALISTIC COMPETITIVE SCORING ===
2025-11-13 15:09:15,422 - race_prediction.competitive_field_analyzer - INFO - üìä COMPETITIVE ANALYSIS SUMMARY:
2025-11-13 15:09:15,422 - race_prediction.competitive_field_analyzer - INFO -    Total competitive races: 154
2025-11-13 15:09:15,422 - race_prediction.competitive_field_analyzer - INFO -    Horses with historical data: 16/16
2025-11-13 15:09:15,422 - race_prediction.competitive_field_analyzer - INFO -    Average races per horse: 9.6
2025-11-13 15:09:15,435 - race_prediction.quinte_prediction_storage - INFO - Stored 16 horses for Quint√© race 1619965
2025-11-13 15:09:17,443 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE ANALYSIS DEBUG ===
2025-11-13 15:09:17,444 - race_prediction.competitive_field_analyzer - INFO - Analyzing competitive field for race with 14 horses
2025-11-13 15:09:17,444 - race_prediction.competitive_field_analyzer - INFO - Race data shape: (14, 280)
2025-11-13 15:09:17,444 - race_prediction.competitive_field_analyzer - INFO - Available columns: ['id', 'comp', 'jour', 'hippo', 'reun', 'prix', 'prixnom', 'typec', 'partant', 'dist', 'handi', 'groupe', 'quinte', 'natpis', 'meteo', 'corde', 'temperature', 'forceVent', 'directionVent', 'nebulosite', 'prediction_results', 'actual_results', 'created_at', 'updated_at', 'processed_data', 'cheque', 'handi_raw', 'reclam', 'sex', 'tempscourse', 'handicap_level_score', 'cl', 'numero', 'cheval', 'age', 'cotedirect', 'coteprob', 'recence', 'ecar', 'defoeil', 'defoeilPrec', 'musiqueche', 'musiquejoc', 'entraineur', 'coursescheval', 'victoirescheval', 'placescheval', 'dernierealloc', 'derniernbpartants', 'dernieredist', 'derniereplace', 'dernierecote', 'dernierEnt', 'proprietaire', 'poidmont', 'pourcVictJockHippo', 'pourcPlaceJockHippo', 'pourcVictChevalHippo', 'pourcPlaceChevalHippo', 'tempstot', 'vha', 'recordG', 'txreclam', 'dernierTxreclam', 'gainsCarriere', 'gainsAnneeEnCours', 'handicapDistance', 'handicapPoids', 'TxVictCouple', 'nbVictCouple', 'nbPlaceCouple', 'idche', 'idJockey', 'idEntraineur', 'defFirstTime', 'oeilFirstTime', 'oeil', 'dernierOeil', 'ratio_victoires', 'ratio_places', 'gains_par_course', 'efficacite_couple', 'regularite_couple', 'progression_couple', 'perf_cheval_hippo', 'perf_jockey_hippo', 'trainer_victoires', 'trainer_places', 'trainer_courses', 'trainer_winrate', 'trainer_placerate', 'trainer_quality_score', 'trainer_experience_level', 'handicap_poids', 'handicap_dist', 'prec_handicap_poids', 'prec_handicap_dist', 'handicap_poids_change', 'handicap_poids_increased', 'handicap_poids_decreased', 'handicap_dist_change', 'handicap_dist_increased', 'handicap_dist_decreased', 'total_handicap', 'handicap_momentum', 'last_race_position', 'last_race_distance', 'distance_change', 'distance_change_pct', 'distance_increased', 'distance_decreased', 'same_distance', 'corde_change', 'corde_improved', 'corde_worsened', 'last_race_top3', 'last_race_won', 'blinkers_first_time', 'has_blinkers', 'has_standard_blinkers', 'has_australian_blinkers', 'blinkers_added', 'blinkers_removed', 'blinkers_type_changed', 'blinkers_any_change', 'blinkers_high_impact_change', 'shoeing_first_time', 'fully_shod', 'front_shod_only', 'back_shod_only', 'barefoot', 'shoeing_changed', 'barefoot_to_shod', 'shod_to_barefoot', 'major_shoeing_change', 'shoeing_complexity', 'multiple_equipment_changes', 'equipment_momentum_score', 'high_equipment_momentum', 'multiple_first_time_changes', 'equipment_optimization_score', 'career_strike_rate', 'earnings_per_race', 'earnings_trend', 'last_race_position_normalized', 'last_race_odds_normalized', 'last_race_field_size_factor', 'distance_consistency', 'vha_normalized', 'claiming_tax_trend', 'class_stability', 'che_global_avg_pos', 'che_global_recent_perf', 'che_global_consistency', 'che_global_trend', 'che_global_pct_top3', 'che_global_nb_courses', 'che_global_total_races', 'che_global_dnf_rate', 'che_weighted_avg_pos', 'che_weighted_recent_perf', 'che_weighted_consistency', 'che_weighted_pct_top3', 'che_weighted_nb_courses', 'che_weighted_total_races', 'che_weighted_dnf_rate', 'che_weighted_trend', 'che_bytype_avg_pos', 'che_bytype_recent_perf', 'che_bytype_consistency', 'che_bytype_trend', 'che_bytype_pct_top3', 'che_bytype_nb_courses', 'che_bytype_total_races', 'che_bytype_dnf_rate', 'joc_global_avg_pos', 'joc_global_recent_perf', 'joc_global_consistency', 'joc_global_trend', 'joc_global_pct_top3', 'joc_global_nb_courses', 'joc_global_total_races', 'joc_global_dnf_rate', 'joc_weighted_avg_pos', 'joc_weighted_recent_perf', 'joc_weighted_consistency', 'joc_weighted_pct_top3', 'joc_weighted_nb_courses', 'joc_weighted_total_races', 'joc_weighted_dnf_rate', 'joc_weighted_trend', 'joc_bytype_avg_pos', 'joc_bytype_recent_perf', 'joc_bytype_consistency', 'joc_bytype_trend', 'joc_bytype_pct_top3', 'joc_bytype_nb_courses', 'joc_bytype_total_races', 'joc_bytype_dnf_rate', 'che_form_momentum', 'che_improving_form', 'che_declining_form', 'che_high_consistency', 'che_recent_quality', 'che_elite_performer', 'che_regular_placer', 'joc_form_momentum', 'joc_improving_form', 'joc_high_consistency', 'joc_elite_performer', 'synergy_both_improving', 'synergy_both_consistent', 'synergy_both_elite', 'overall_momentum_score', 'high_momentum', 'class_drop_pct', 'purse_per_starter', 'purse_ratio', 'moving_up_in_class', 'class_shock_indicator', 'handicap_level_change', 'time_per_distance', 'time_vs_record', 'pace_rating', 'speed_figure_proxy', 'market_confidence_shift', 'last_race_improvement', 'bounce_risk', 'layoff_distance_interaction', 'trainer_change', 'connection_stability', 'field_size_change', 'distance_comfort', 'competition_level_shift', 'recence_x_class_drop', 'trainer_change_x_recence', 'distance_change_x_recence', 'che_by_type_avg_pos', 'che_by_type_recent_perf', 'che_by_type_consistency', 'che_by_type_trend', 'che_by_type_pct_top3', 'che_by_type_nb_courses', 'che_by_type_total_races', 'che_by_type_dnf_rate', 'joc_by_type_avg_pos', 'joc_by_type_recent_perf', 'joc_by_type_consistency', 'joc_by_type_trend', 'joc_by_type_pct_top3', 'joc_by_type_nb_courses', 'joc_by_type_total_races', 'joc_by_type_dnf_rate', 'quinte_career_starts', 'quinte_win_rate', 'quinte_top5_rate', 'avg_quinte_position', 'days_since_last_quinte', 'quinte_handicap_specialist', 'quinte_conditions_specialist', 'quinte_large_field_ability', 'quinte_track_condition_fit', 'is_handicap_quinte', 'handicap_division', 'purse_level_category', 'field_size_category', 'track_condition_PH', 'track_condition_DUR', 'track_condition_PS', 'track_condition_PSF', 'weather_clear', 'weather_rain', 'weather_cloudy', 'post_position_bias', 'post_position_track_bias', 'raw_tabnet_prediction', 'predicted_position_tabnet', 'raw_rf_prediction', 'predicted_position_rf', 'predicted_position_base']
2025-11-13 15:09:17,444 - race_prediction.competitive_field_analyzer - INFO - === CRITICAL COLUMNS ANALYSIS ===
2025-11-13 15:09:17,444 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ recordG: 14/14 non-null values (100.0%)
2025-11-13 15:09:17,444 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [0.0, 0.0, 0.0]
2025-11-13 15:09:17,444 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ hippo: 14/14 non-null values (100.0%)
2025-11-13 15:09:17,445 - race_prediction.competitive_field_analyzer - INFO -    Sample values: ['Paris-Vincennes', 'Paris-Vincennes', 'Paris-Vincennes']
2025-11-13 15:09:17,445 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ coursescheval: 14/14 non-null values (100.0%)
2025-11-13 15:09:17,445 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [32, 33, 13]
2025-11-13 15:09:17,445 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ victoirescheval: 14/14 non-null values (100.0%)
2025-11-13 15:09:17,445 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [8, 4, 2]
2025-11-13 15:09:17,445 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ placescheval: 14/14 non-null values (100.0%)
2025-11-13 15:09:17,445 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [13, 12, 7]
2025-11-13 15:09:17,445 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ gainsCarriere: 14/14 non-null values (100.0%)
2025-11-13 15:09:17,445 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [42628000, 30300500, 59663300]
2025-11-13 15:09:17,445 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ age: 14/14 non-null values (100.0%)
2025-11-13 15:09:17,445 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [5, 4, 5]
2025-11-13 15:09:17,445 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ derniereplace: 14/14 non-null values (100.0%)
2025-11-13 15:09:17,445 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [15.0, 4.0, 6.0]
2025-11-13 15:09:17,445 - race_prediction.competitive_field_analyzer - INFO - === RACE METADATA ===
2025-11-13 15:09:17,445 - race_prediction.competitive_field_analyzer - INFO - comp: 1618804
2025-11-13 15:09:17,445 - race_prediction.competitive_field_analyzer - INFO - hippo: Paris-Vincennes
2025-11-13 15:09:17,445 - race_prediction.competitive_field_analyzer - INFO - dist: 2100
2025-11-13 15:09:17,445 - race_prediction.competitive_field_analyzer - INFO - typec: Attel√©
2025-11-13 15:09:17,445 - race_prediction.competitive_field_analyzer - INFO - partant: 14
2025-11-13 15:09:17,445 - race_prediction.competitive_field_analyzer - INFO - === SAMPLE RACE DATA ===
2025-11-13 15:09:17,445 - race_prediction.competitive_field_analyzer - INFO - Sample data (columns: ['numero', 'cheval', 'recordG', 'hippo', 'coursescheval']):
2025-11-13 15:09:17,446 - race_prediction.competitive_field_analyzer - INFO -   Horse 0: {'numero': 1, 'cheval': 'Kokote', 'recordG': 0.0, 'hippo': 'Paris-Vincennes', 'coursescheval': 32}
2025-11-13 15:09:17,446 - race_prediction.competitive_field_analyzer - INFO -   Horse 1: {'numero': 2, 'cheval': 'Learn To Fly', 'recordG': 0.0, 'hippo': 'Paris-Vincennes', 'coursescheval': 33}
2025-11-13 15:09:17,446 - race_prediction.competitive_field_analyzer - INFO -   Horse 2: {'numero': 3, 'cheval': 'East Asia', 'recordG': 0.0, 'hippo': 'Paris-Vincennes', 'coursescheval': 13}
2025-11-13 15:09:17,446 - race_prediction.competitive_field_analyzer - INFO - === END COMPETITIVE ANALYSIS DEBUG ===

2025-11-13 15:09:17,446 - race_prediction.competitive_field_analyzer - INFO - === RETRIEVING HISTORICAL DATA ===
2025-11-13 15:09:17,446 - race_prediction.competitive_field_analyzer - INFO - Fetching historical data for 14 horses: [1576750, 1665539, 1578262, 1553537, 1585391, 1565653, 1666500, 1553531, 1688648, 1661600, 1578244, 1571244, 1561739, 1562064]
2025-11-13 15:09:17,447 - race_prediction.competitive_field_analyzer - INFO - Batch querying historical data for 14 horses: [1576750, 1665539, 1578262, 1553537, 1585391, 1565653, 1666500, 1553531, 1688648, 1661600, 1578244, 1571244, 1561739, 1562064]
2025-11-13 15:09:28,678 - race_prediction.competitive_field_analyzer - INFO - Batch query completed in 11.23s, found 118 total records
2025-11-13 15:09:28,685 - race_prediction.competitive_field_analyzer - INFO - Batch query retrieved 118 total historical races
2025-11-13 15:09:28,685 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS PER HORSE ===
2025-11-13 15:09:28,685 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1576750: 11 historical races found
2025-11-13 15:09:28,685 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1665539: 14 historical races found
2025-11-13 15:09:28,685 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1578262: 5 historical races found
2025-11-13 15:09:28,685 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1553537: 10 historical races found
2025-11-13 15:09:28,685 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1585391: 5 historical races found
2025-11-13 15:09:28,685 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1565653: 13 historical races found
2025-11-13 15:09:28,685 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1666500: 7 historical races found
2025-11-13 15:09:28,685 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1553531: 12 historical races found
2025-11-13 15:09:28,685 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1688648: 4 historical races found
2025-11-13 15:09:28,685 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1661600: 7 historical races found
2025-11-13 15:09:28,685 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1578244: 4 historical races found
2025-11-13 15:09:28,685 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1571244: 4 historical races found
2025-11-13 15:09:28,685 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1561739: 9 historical races found
2025-11-13 15:09:28,685 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1562064: 13 historical races found
2025-11-13 15:09:28,685 - race_prediction.competitive_field_analyzer - INFO - Retrieved 118 total historical races
2025-11-13 15:09:28,685 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS BY HORSE ===
2025-11-13 15:09:28,685 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1576750: 11 historical races
2025-11-13 15:09:28,685 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1665539: 14 historical races
2025-11-13 15:09:28,685 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1578262: 5 historical races
2025-11-13 15:09:28,685 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1553537: 10 historical races
2025-11-13 15:09:28,685 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1585391: 5 historical races
2025-11-13 15:09:28,685 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1565653: 13 historical races
2025-11-13 15:09:28,685 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1666500: 7 historical races
2025-11-13 15:09:28,685 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1553531: 12 historical races
2025-11-13 15:09:28,685 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1688648: 4 historical races
2025-11-13 15:09:28,685 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1661600: 7 historical races
2025-11-13 15:09:28,686 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1578244: 4 historical races
2025-11-13 15:09:28,686 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1571244: 4 historical races
2025-11-13 15:09:28,686 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1561739: 9 historical races
2025-11-13 15:09:28,686 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1562064: 13 historical races
2025-11-13 15:09:28,686 - race_prediction.competitive_field_analyzer - INFO - === END HISTORICAL DATA RETRIEVAL ===

2025-11-13 15:09:28,686 - race_prediction.competitive_field_analyzer - INFO - === EARNINGS QUALITY ANALYSIS ===
2025-11-13 15:09:28,686 - race_prediction.competitive_field_analyzer - INFO - Valid earnings data: 14/14 horses
2025-11-13 15:09:28,686 - race_prediction.competitive_field_analyzer - INFO - Sample earnings per race: ['1,332,125', '918,197', '4,589,485']
2025-11-13 15:09:28,686 - race_prediction.competitive_field_analyzer - INFO - Field earnings stats: avg=2,560,695, max=12,615,550
2025-11-13 15:09:28,687 - race_prediction.competitive_field_analyzer - INFO - === TRACK SPECIALIZATION ANALYSIS ===
2025-11-13 15:09:28,687 - race_prediction.competitive_field_analyzer - INFO - Horses with reliable venue data (3+ races): 0/14
2025-11-13 15:09:28,688 - race_prediction.competitive_field_analyzer - INFO - === FORM MOMENTUM ANALYSIS ===
2025-11-13 15:09:28,688 - race_prediction.competitive_field_analyzer - INFO - Field avg horse trend: 1.845, recent perf: 6.52
2025-11-13 15:09:28,688 - race_prediction.competitive_field_analyzer - INFO - Field avg jockey trend: -1.451
2025-11-13 15:09:28,688 - race_prediction.competitive_field_analyzer - INFO - Horses with improving form: 5/14
2025-11-13 15:09:28,688 - race_prediction.competitive_field_analyzer - INFO - === HOT CONNECTIONS ANALYSIS ===
2025-11-13 15:09:28,688 - race_prediction.competitive_field_analyzer - INFO - Jockeys with wins today: 0/14
2025-11-13 15:09:28,688 - race_prediction.competitive_field_analyzer - INFO - Trainers with wins today: 0/14
2025-11-13 15:09:28,688 - race_prediction.competitive_field_analyzer - INFO - === DISTANCE COMFORT ANALYSIS ===
2025-11-13 15:09:28,688 - race_prediction.competitive_field_analyzer - INFO - Current race distance: 2100m
2025-11-13 15:09:28,689 - race_prediction.competitive_field_analyzer - INFO - Horses with similar recent distance: 3/14
2025-11-13 15:09:28,689 - race_prediction.competitive_field_analyzer - INFO - === REALISTIC COMPETITIVE SCORING ===
2025-11-13 15:09:28,689 - race_prediction.competitive_field_analyzer - INFO - üìä COMPETITIVE ANALYSIS SUMMARY:
2025-11-13 15:09:28,689 - race_prediction.competitive_field_analyzer - INFO -    Total competitive races: 118
2025-11-13 15:09:28,689 - race_prediction.competitive_field_analyzer - INFO -    Horses with historical data: 14/14
2025-11-13 15:09:28,689 - race_prediction.competitive_field_analyzer - INFO -    Average races per horse: 8.4
2025-11-13 15:09:28,701 - race_prediction.quinte_prediction_storage - INFO - Stored 14 horses for Quint√© race 1618804
2025-11-13 15:09:30,703 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE ANALYSIS DEBUG ===
2025-11-13 15:09:30,703 - race_prediction.competitive_field_analyzer - INFO - Analyzing competitive field for race with 16 horses
2025-11-13 15:09:30,703 - race_prediction.competitive_field_analyzer - INFO - Race data shape: (16, 280)
2025-11-13 15:09:30,703 - race_prediction.competitive_field_analyzer - INFO - Available columns: ['id', 'comp', 'jour', 'hippo', 'reun', 'prix', 'prixnom', 'typec', 'partant', 'dist', 'handi', 'groupe', 'quinte', 'natpis', 'meteo', 'corde', 'temperature', 'forceVent', 'directionVent', 'nebulosite', 'prediction_results', 'actual_results', 'created_at', 'updated_at', 'processed_data', 'cheque', 'handi_raw', 'reclam', 'sex', 'tempscourse', 'handicap_level_score', 'cl', 'numero', 'cheval', 'age', 'cotedirect', 'coteprob', 'recence', 'ecar', 'defoeil', 'defoeilPrec', 'musiqueche', 'musiquejoc', 'entraineur', 'coursescheval', 'victoirescheval', 'placescheval', 'dernierealloc', 'derniernbpartants', 'dernieredist', 'derniereplace', 'dernierecote', 'dernierEnt', 'proprietaire', 'poidmont', 'pourcVictJockHippo', 'pourcPlaceJockHippo', 'pourcVictChevalHippo', 'pourcPlaceChevalHippo', 'tempstot', 'vha', 'recordG', 'txreclam', 'dernierTxreclam', 'gainsCarriere', 'gainsAnneeEnCours', 'handicapDistance', 'handicapPoids', 'TxVictCouple', 'nbVictCouple', 'nbPlaceCouple', 'idche', 'idJockey', 'idEntraineur', 'defFirstTime', 'oeilFirstTime', 'oeil', 'dernierOeil', 'ratio_victoires', 'ratio_places', 'gains_par_course', 'efficacite_couple', 'regularite_couple', 'progression_couple', 'perf_cheval_hippo', 'perf_jockey_hippo', 'trainer_victoires', 'trainer_places', 'trainer_courses', 'trainer_winrate', 'trainer_placerate', 'trainer_quality_score', 'trainer_experience_level', 'handicap_poids', 'handicap_dist', 'prec_handicap_poids', 'prec_handicap_dist', 'handicap_poids_change', 'handicap_poids_increased', 'handicap_poids_decreased', 'handicap_dist_change', 'handicap_dist_increased', 'handicap_dist_decreased', 'total_handicap', 'handicap_momentum', 'last_race_position', 'last_race_distance', 'distance_change', 'distance_change_pct', 'distance_increased', 'distance_decreased', 'same_distance', 'corde_change', 'corde_improved', 'corde_worsened', 'last_race_top3', 'last_race_won', 'blinkers_first_time', 'has_blinkers', 'has_standard_blinkers', 'has_australian_blinkers', 'blinkers_added', 'blinkers_removed', 'blinkers_type_changed', 'blinkers_any_change', 'blinkers_high_impact_change', 'shoeing_first_time', 'fully_shod', 'front_shod_only', 'back_shod_only', 'barefoot', 'shoeing_changed', 'barefoot_to_shod', 'shod_to_barefoot', 'major_shoeing_change', 'shoeing_complexity', 'multiple_equipment_changes', 'equipment_momentum_score', 'high_equipment_momentum', 'multiple_first_time_changes', 'equipment_optimization_score', 'career_strike_rate', 'earnings_per_race', 'earnings_trend', 'last_race_position_normalized', 'last_race_odds_normalized', 'last_race_field_size_factor', 'distance_consistency', 'vha_normalized', 'claiming_tax_trend', 'class_stability', 'che_global_avg_pos', 'che_global_recent_perf', 'che_global_consistency', 'che_global_trend', 'che_global_pct_top3', 'che_global_nb_courses', 'che_global_total_races', 'che_global_dnf_rate', 'che_weighted_avg_pos', 'che_weighted_recent_perf', 'che_weighted_consistency', 'che_weighted_pct_top3', 'che_weighted_nb_courses', 'che_weighted_total_races', 'che_weighted_dnf_rate', 'che_weighted_trend', 'che_bytype_avg_pos', 'che_bytype_recent_perf', 'che_bytype_consistency', 'che_bytype_trend', 'che_bytype_pct_top3', 'che_bytype_nb_courses', 'che_bytype_total_races', 'che_bytype_dnf_rate', 'joc_global_avg_pos', 'joc_global_recent_perf', 'joc_global_consistency', 'joc_global_trend', 'joc_global_pct_top3', 'joc_global_nb_courses', 'joc_global_total_races', 'joc_global_dnf_rate', 'joc_weighted_avg_pos', 'joc_weighted_recent_perf', 'joc_weighted_consistency', 'joc_weighted_pct_top3', 'joc_weighted_nb_courses', 'joc_weighted_total_races', 'joc_weighted_dnf_rate', 'joc_weighted_trend', 'joc_bytype_avg_pos', 'joc_bytype_recent_perf', 'joc_bytype_consistency', 'joc_bytype_trend', 'joc_bytype_pct_top3', 'joc_bytype_nb_courses', 'joc_bytype_total_races', 'joc_bytype_dnf_rate', 'che_form_momentum', 'che_improving_form', 'che_declining_form', 'che_high_consistency', 'che_recent_quality', 'che_elite_performer', 'che_regular_placer', 'joc_form_momentum', 'joc_improving_form', 'joc_high_consistency', 'joc_elite_performer', 'synergy_both_improving', 'synergy_both_consistent', 'synergy_both_elite', 'overall_momentum_score', 'high_momentum', 'class_drop_pct', 'purse_per_starter', 'purse_ratio', 'moving_up_in_class', 'class_shock_indicator', 'handicap_level_change', 'time_per_distance', 'time_vs_record', 'pace_rating', 'speed_figure_proxy', 'market_confidence_shift', 'last_race_improvement', 'bounce_risk', 'layoff_distance_interaction', 'trainer_change', 'connection_stability', 'field_size_change', 'distance_comfort', 'competition_level_shift', 'recence_x_class_drop', 'trainer_change_x_recence', 'distance_change_x_recence', 'che_by_type_avg_pos', 'che_by_type_recent_perf', 'che_by_type_consistency', 'che_by_type_trend', 'che_by_type_pct_top3', 'che_by_type_nb_courses', 'che_by_type_total_races', 'che_by_type_dnf_rate', 'joc_by_type_avg_pos', 'joc_by_type_recent_perf', 'joc_by_type_consistency', 'joc_by_type_trend', 'joc_by_type_pct_top3', 'joc_by_type_nb_courses', 'joc_by_type_total_races', 'joc_by_type_dnf_rate', 'quinte_career_starts', 'quinte_win_rate', 'quinte_top5_rate', 'avg_quinte_position', 'days_since_last_quinte', 'quinte_handicap_specialist', 'quinte_conditions_specialist', 'quinte_large_field_ability', 'quinte_track_condition_fit', 'is_handicap_quinte', 'handicap_division', 'purse_level_category', 'field_size_category', 'track_condition_PH', 'track_condition_DUR', 'track_condition_PS', 'track_condition_PSF', 'weather_clear', 'weather_rain', 'weather_cloudy', 'post_position_bias', 'post_position_track_bias', 'raw_tabnet_prediction', 'predicted_position_tabnet', 'raw_rf_prediction', 'predicted_position_rf', 'predicted_position_base']
2025-11-13 15:09:30,703 - race_prediction.competitive_field_analyzer - INFO - === CRITICAL COLUMNS ANALYSIS ===
2025-11-13 15:09:30,704 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ recordG: 16/16 non-null values (100.0%)
2025-11-13 15:09:30,704 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [0.0, 0.0, 0.0]
2025-11-13 15:09:30,704 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ hippo: 16/16 non-null values (100.0%)
2025-11-13 15:09:30,704 - race_prediction.competitive_field_analyzer - INFO -    Sample values: ['Nantes', 'Nantes', 'Nantes']
2025-11-13 15:09:30,704 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ coursescheval: 16/16 non-null values (100.0%)
2025-11-13 15:09:30,704 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [48, 57, 40]
2025-11-13 15:09:30,704 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ victoirescheval: 16/16 non-null values (100.0%)
2025-11-13 15:09:30,704 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [8, 17, 7]
2025-11-13 15:09:30,704 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ placescheval: 16/16 non-null values (100.0%)
2025-11-13 15:09:30,704 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [21, 28, 18]
2025-11-13 15:09:30,704 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ gainsCarriere: 16/16 non-null values (100.0%)
2025-11-13 15:09:30,704 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [27407000, 27703500, 28295000]
2025-11-13 15:09:30,704 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ age: 16/16 non-null values (100.0%)
2025-11-13 15:09:30,704 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [7, 8, 6]
2025-11-13 15:09:30,704 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ derniereplace: 16/16 non-null values (100.0%)
2025-11-13 15:09:30,705 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [7.0, 1.0, 10.0]
2025-11-13 15:09:30,705 - race_prediction.competitive_field_analyzer - INFO - === RACE METADATA ===
2025-11-13 15:09:30,705 - race_prediction.competitive_field_analyzer - INFO - comp: 1619950
2025-11-13 15:09:30,705 - race_prediction.competitive_field_analyzer - INFO - hippo: Nantes
2025-11-13 15:09:30,705 - race_prediction.competitive_field_analyzer - INFO - dist: 3000
2025-11-13 15:09:30,705 - race_prediction.competitive_field_analyzer - INFO - typec: Attel√©
2025-11-13 15:09:30,705 - race_prediction.competitive_field_analyzer - INFO - partant: 16
2025-11-13 15:09:30,705 - race_prediction.competitive_field_analyzer - INFO - === SAMPLE RACE DATA ===
2025-11-13 15:09:30,705 - race_prediction.competitive_field_analyzer - INFO - Sample data (columns: ['numero', 'cheval', 'recordG', 'hippo', 'coursescheval']):
2025-11-13 15:09:30,705 - race_prediction.competitive_field_analyzer - INFO -   Horse 0: {'numero': 1, 'cheval': 'Idylle Express', 'recordG': 0.0, 'hippo': 'Nantes', 'coursescheval': 48}
2025-11-13 15:09:30,705 - race_prediction.competitive_field_analyzer - INFO -   Horse 1: {'numero': 2, 'cheval': 'Hiwi Rocq', 'recordG': 0.0, 'hippo': 'Nantes', 'coursescheval': 57}
2025-11-13 15:09:30,705 - race_prediction.competitive_field_analyzer - INFO -   Horse 2: {'numero': 3, 'cheval': 'Jongleuse de Lune', 'recordG': 0.0, 'hippo': 'Nantes', 'coursescheval': 40}
2025-11-13 15:09:30,705 - race_prediction.competitive_field_analyzer - INFO - === END COMPETITIVE ANALYSIS DEBUG ===

2025-11-13 15:09:30,705 - race_prediction.competitive_field_analyzer - INFO - === RETRIEVING HISTORICAL DATA ===
2025-11-13 15:09:30,705 - race_prediction.competitive_field_analyzer - INFO - Fetching historical data for 16 horses: [1491747, 1389850, 1515214, 1438306, 1387981, 1553530, 1380598, 1519607, 1460254, 1382982, 1497360, 1382150, 1556553, 1434377, 1468153, 1574234]
2025-11-13 15:09:30,707 - race_prediction.competitive_field_analyzer - INFO - Batch querying historical data for 16 horses: [1491747, 1389850, 1515214, 1438306, 1387981, 1553530, 1380598, 1519607, 1460254, 1382982, 1497360, 1382150, 1556553, 1434377, 1468153, 1574234]
2025-11-13 15:09:43,261 - race_prediction.competitive_field_analyzer - INFO - Batch query completed in 12.55s, found 200 total records
2025-11-13 15:09:43,270 - race_prediction.competitive_field_analyzer - INFO - Batch query retrieved 200 total historical races
2025-11-13 15:09:43,270 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS PER HORSE ===
2025-11-13 15:09:43,270 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1491747: 11 historical races found
2025-11-13 15:09:43,270 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1389850: 4 historical races found
2025-11-13 15:09:43,270 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1515214: 15 historical races found
2025-11-13 15:09:43,270 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1438306: 8 historical races found
2025-11-13 15:09:43,271 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1387981: 9 historical races found
2025-11-13 15:09:43,271 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1553530: 13 historical races found
2025-11-13 15:09:43,271 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1380598: 16 historical races found
2025-11-13 15:09:43,271 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1519607: 19 historical races found
2025-11-13 15:09:43,271 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1460254: 8 historical races found
2025-11-13 15:09:43,271 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1382982: 16 historical races found
2025-11-13 15:09:43,271 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1497360: 16 historical races found
2025-11-13 15:09:43,271 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1382150: 15 historical races found
2025-11-13 15:09:43,271 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1556553: 6 historical races found
2025-11-13 15:09:43,271 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1434377: 20 historical races found
2025-11-13 15:09:43,271 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1468153: 11 historical races found
2025-11-13 15:09:43,271 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1574234: 13 historical races found
2025-11-13 15:09:43,271 - race_prediction.competitive_field_analyzer - INFO - Retrieved 200 total historical races
2025-11-13 15:09:43,271 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS BY HORSE ===
2025-11-13 15:09:43,271 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1491747: 11 historical races
2025-11-13 15:09:43,271 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1389850: 4 historical races
2025-11-13 15:09:43,271 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1515214: 15 historical races
2025-11-13 15:09:43,271 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1438306: 8 historical races
2025-11-13 15:09:43,271 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1387981: 9 historical races
2025-11-13 15:09:43,271 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1553530: 13 historical races
2025-11-13 15:09:43,271 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1380598: 16 historical races
2025-11-13 15:09:43,271 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1519607: 19 historical races
2025-11-13 15:09:43,271 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1460254: 8 historical races
2025-11-13 15:09:43,271 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1382982: 16 historical races
2025-11-13 15:09:43,271 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1497360: 16 historical races
2025-11-13 15:09:43,271 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1382150: 15 historical races
2025-11-13 15:09:43,271 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1556553: 6 historical races
2025-11-13 15:09:43,271 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1434377: 20 historical races
2025-11-13 15:09:43,271 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1468153: 11 historical races
2025-11-13 15:09:43,271 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1574234: 13 historical races
2025-11-13 15:09:43,271 - race_prediction.competitive_field_analyzer - INFO - === END HISTORICAL DATA RETRIEVAL ===

2025-11-13 15:09:43,272 - race_prediction.competitive_field_analyzer - INFO - === EARNINGS QUALITY ANALYSIS ===
2025-11-13 15:09:43,272 - race_prediction.competitive_field_analyzer - INFO - Valid earnings data: 16/16 horses
2025-11-13 15:09:43,272 - race_prediction.competitive_field_analyzer - INFO - Sample earnings per race: ['570,979', '486,026', '707,375']
2025-11-13 15:09:43,272 - race_prediction.competitive_field_analyzer - INFO - Field earnings stats: avg=815,220, max=2,183,902
2025-11-13 15:09:43,272 - race_prediction.competitive_field_analyzer - INFO - === TRACK SPECIALIZATION ANALYSIS ===
2025-11-13 15:09:43,272 - race_prediction.competitive_field_analyzer - INFO - Horses with reliable venue data (3+ races): 0/16
2025-11-13 15:09:43,273 - race_prediction.competitive_field_analyzer - INFO - === FORM MOMENTUM ANALYSIS ===
2025-11-13 15:09:43,273 - race_prediction.competitive_field_analyzer - INFO - Field avg horse trend: -2.065, recent perf: 6.77
2025-11-13 15:09:43,273 - race_prediction.competitive_field_analyzer - INFO - Field avg jockey trend: -1.440
2025-11-13 15:09:43,273 - race_prediction.competitive_field_analyzer - INFO - Horses with improving form: 1/16
2025-11-13 15:09:43,273 - race_prediction.competitive_field_analyzer - INFO - === HOT CONNECTIONS ANALYSIS ===
2025-11-13 15:09:43,274 - race_prediction.competitive_field_analyzer - INFO - Jockeys with wins today: 0/16
2025-11-13 15:09:43,274 - race_prediction.competitive_field_analyzer - INFO - Trainers with wins today: 0/16
2025-11-13 15:09:43,274 - race_prediction.competitive_field_analyzer - INFO - === DISTANCE COMFORT ANALYSIS ===
2025-11-13 15:09:43,274 - race_prediction.competitive_field_analyzer - INFO - Current race distance: 3000m
2025-11-13 15:09:43,274 - race_prediction.competitive_field_analyzer - INFO - Horses with similar recent distance: 10/16
2025-11-13 15:09:43,274 - race_prediction.competitive_field_analyzer - INFO - === REALISTIC COMPETITIVE SCORING ===
2025-11-13 15:09:43,274 - race_prediction.competitive_field_analyzer - INFO - üìä COMPETITIVE ANALYSIS SUMMARY:
2025-11-13 15:09:43,274 - race_prediction.competitive_field_analyzer - INFO -    Total competitive races: 200
2025-11-13 15:09:43,274 - race_prediction.competitive_field_analyzer - INFO -    Horses with historical data: 16/16
2025-11-13 15:09:43,275 - race_prediction.competitive_field_analyzer - INFO -    Average races per horse: 12.5
2025-11-13 15:09:43,287 - race_prediction.quinte_prediction_storage - INFO - Stored 16 horses for Quint√© race 1619950
2025-11-13 15:09:45,907 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE ANALYSIS DEBUG ===
2025-11-13 15:09:45,907 - race_prediction.competitive_field_analyzer - INFO - Analyzing competitive field for race with 16 horses
2025-11-13 15:09:45,907 - race_prediction.competitive_field_analyzer - INFO - Race data shape: (16, 280)
2025-11-13 15:09:45,907 - race_prediction.competitive_field_analyzer - INFO - Available columns: ['id', 'comp', 'jour', 'hippo', 'reun', 'prix', 'prixnom', 'typec', 'partant', 'dist', 'handi', 'groupe', 'quinte', 'natpis', 'meteo', 'corde', 'temperature', 'forceVent', 'directionVent', 'nebulosite', 'prediction_results', 'actual_results', 'created_at', 'updated_at', 'processed_data', 'cheque', 'handi_raw', 'reclam', 'sex', 'tempscourse', 'handicap_level_score', 'cl', 'numero', 'cheval', 'age', 'cotedirect', 'coteprob', 'recence', 'ecar', 'defoeil', 'defoeilPrec', 'musiqueche', 'musiquejoc', 'entraineur', 'coursescheval', 'victoirescheval', 'placescheval', 'dernierealloc', 'derniernbpartants', 'dernieredist', 'derniereplace', 'dernierecote', 'dernierEnt', 'proprietaire', 'poidmont', 'pourcVictJockHippo', 'pourcPlaceJockHippo', 'pourcVictChevalHippo', 'pourcPlaceChevalHippo', 'tempstot', 'vha', 'recordG', 'txreclam', 'dernierTxreclam', 'gainsCarriere', 'gainsAnneeEnCours', 'handicapDistance', 'handicapPoids', 'TxVictCouple', 'nbVictCouple', 'nbPlaceCouple', 'idche', 'idJockey', 'idEntraineur', 'defFirstTime', 'oeilFirstTime', 'oeil', 'dernierOeil', 'ratio_victoires', 'ratio_places', 'gains_par_course', 'efficacite_couple', 'regularite_couple', 'progression_couple', 'perf_cheval_hippo', 'perf_jockey_hippo', 'trainer_victoires', 'trainer_places', 'trainer_courses', 'trainer_winrate', 'trainer_placerate', 'trainer_quality_score', 'trainer_experience_level', 'handicap_poids', 'handicap_dist', 'prec_handicap_poids', 'prec_handicap_dist', 'handicap_poids_change', 'handicap_poids_increased', 'handicap_poids_decreased', 'handicap_dist_change', 'handicap_dist_increased', 'handicap_dist_decreased', 'total_handicap', 'handicap_momentum', 'last_race_position', 'last_race_distance', 'distance_change', 'distance_change_pct', 'distance_increased', 'distance_decreased', 'same_distance', 'corde_change', 'corde_improved', 'corde_worsened', 'last_race_top3', 'last_race_won', 'blinkers_first_time', 'has_blinkers', 'has_standard_blinkers', 'has_australian_blinkers', 'blinkers_added', 'blinkers_removed', 'blinkers_type_changed', 'blinkers_any_change', 'blinkers_high_impact_change', 'shoeing_first_time', 'fully_shod', 'front_shod_only', 'back_shod_only', 'barefoot', 'shoeing_changed', 'barefoot_to_shod', 'shod_to_barefoot', 'major_shoeing_change', 'shoeing_complexity', 'multiple_equipment_changes', 'equipment_momentum_score', 'high_equipment_momentum', 'multiple_first_time_changes', 'equipment_optimization_score', 'career_strike_rate', 'earnings_per_race', 'earnings_trend', 'last_race_position_normalized', 'last_race_odds_normalized', 'last_race_field_size_factor', 'distance_consistency', 'vha_normalized', 'claiming_tax_trend', 'class_stability', 'che_global_avg_pos', 'che_global_recent_perf', 'che_global_consistency', 'che_global_trend', 'che_global_pct_top3', 'che_global_nb_courses', 'che_global_total_races', 'che_global_dnf_rate', 'che_weighted_avg_pos', 'che_weighted_recent_perf', 'che_weighted_consistency', 'che_weighted_pct_top3', 'che_weighted_nb_courses', 'che_weighted_total_races', 'che_weighted_dnf_rate', 'che_weighted_trend', 'che_bytype_avg_pos', 'che_bytype_recent_perf', 'che_bytype_consistency', 'che_bytype_trend', 'che_bytype_pct_top3', 'che_bytype_nb_courses', 'che_bytype_total_races', 'che_bytype_dnf_rate', 'joc_global_avg_pos', 'joc_global_recent_perf', 'joc_global_consistency', 'joc_global_trend', 'joc_global_pct_top3', 'joc_global_nb_courses', 'joc_global_total_races', 'joc_global_dnf_rate', 'joc_weighted_avg_pos', 'joc_weighted_recent_perf', 'joc_weighted_consistency', 'joc_weighted_pct_top3', 'joc_weighted_nb_courses', 'joc_weighted_total_races', 'joc_weighted_dnf_rate', 'joc_weighted_trend', 'joc_bytype_avg_pos', 'joc_bytype_recent_perf', 'joc_bytype_consistency', 'joc_bytype_trend', 'joc_bytype_pct_top3', 'joc_bytype_nb_courses', 'joc_bytype_total_races', 'joc_bytype_dnf_rate', 'che_form_momentum', 'che_improving_form', 'che_declining_form', 'che_high_consistency', 'che_recent_quality', 'che_elite_performer', 'che_regular_placer', 'joc_form_momentum', 'joc_improving_form', 'joc_high_consistency', 'joc_elite_performer', 'synergy_both_improving', 'synergy_both_consistent', 'synergy_both_elite', 'overall_momentum_score', 'high_momentum', 'class_drop_pct', 'purse_per_starter', 'purse_ratio', 'moving_up_in_class', 'class_shock_indicator', 'handicap_level_change', 'time_per_distance', 'time_vs_record', 'pace_rating', 'speed_figure_proxy', 'market_confidence_shift', 'last_race_improvement', 'bounce_risk', 'layoff_distance_interaction', 'trainer_change', 'connection_stability', 'field_size_change', 'distance_comfort', 'competition_level_shift', 'recence_x_class_drop', 'trainer_change_x_recence', 'distance_change_x_recence', 'che_by_type_avg_pos', 'che_by_type_recent_perf', 'che_by_type_consistency', 'che_by_type_trend', 'che_by_type_pct_top3', 'che_by_type_nb_courses', 'che_by_type_total_races', 'che_by_type_dnf_rate', 'joc_by_type_avg_pos', 'joc_by_type_recent_perf', 'joc_by_type_consistency', 'joc_by_type_trend', 'joc_by_type_pct_top3', 'joc_by_type_nb_courses', 'joc_by_type_total_races', 'joc_by_type_dnf_rate', 'quinte_career_starts', 'quinte_win_rate', 'quinte_top5_rate', 'avg_quinte_position', 'days_since_last_quinte', 'quinte_handicap_specialist', 'quinte_conditions_specialist', 'quinte_large_field_ability', 'quinte_track_condition_fit', 'is_handicap_quinte', 'handicap_division', 'purse_level_category', 'field_size_category', 'track_condition_PH', 'track_condition_DUR', 'track_condition_PS', 'track_condition_PSF', 'weather_clear', 'weather_rain', 'weather_cloudy', 'post_position_bias', 'post_position_track_bias', 'raw_tabnet_prediction', 'predicted_position_tabnet', 'raw_rf_prediction', 'predicted_position_rf', 'predicted_position_base']
2025-11-13 15:09:45,907 - race_prediction.competitive_field_analyzer - INFO - === CRITICAL COLUMNS ANALYSIS ===
2025-11-13 15:09:45,907 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ recordG: 16/16 non-null values (100.0%)
2025-11-13 15:09:45,907 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [0.0, 0.0, 0.0]
2025-11-13 15:09:45,907 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ hippo: 16/16 non-null values (100.0%)
2025-11-13 15:09:45,907 - race_prediction.competitive_field_analyzer - INFO -    Sample values: ['Paris-Vincennes', 'Paris-Vincennes', 'Paris-Vincennes']
2025-11-13 15:09:45,908 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ coursescheval: 16/16 non-null values (100.0%)
2025-11-13 15:09:45,908 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [25, 22, 40]
2025-11-13 15:09:45,908 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ victoirescheval: 16/16 non-null values (100.0%)
2025-11-13 15:09:45,908 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [5, 3, 3]
2025-11-13 15:09:45,908 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ placescheval: 16/16 non-null values (100.0%)
2025-11-13 15:09:45,908 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [9, 7, 9]
2025-11-13 15:09:45,908 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ gainsCarriere: 16/16 non-null values (100.0%)
2025-11-13 15:09:45,908 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [8792000, 8806000, 8993000]
2025-11-13 15:09:45,908 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ age: 16/16 non-null values (100.0%)
2025-11-13 15:09:45,908 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [5, 5, 5]
2025-11-13 15:09:45,908 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ derniereplace: 16/16 non-null values (100.0%)
2025-11-13 15:09:45,908 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [9.0, 7.0, 15.0]
2025-11-13 15:09:45,908 - race_prediction.competitive_field_analyzer - INFO - === RACE METADATA ===
2025-11-13 15:09:45,908 - race_prediction.competitive_field_analyzer - INFO - comp: 1618791
2025-11-13 15:09:45,908 - race_prediction.competitive_field_analyzer - INFO - hippo: Paris-Vincennes
2025-11-13 15:09:45,908 - race_prediction.competitive_field_analyzer - INFO - dist: 2700
2025-11-13 15:09:45,908 - race_prediction.competitive_field_analyzer - INFO - typec: Attel√©
2025-11-13 15:09:45,908 - race_prediction.competitive_field_analyzer - INFO - partant: 16
2025-11-13 15:09:45,908 - race_prediction.competitive_field_analyzer - INFO - === SAMPLE RACE DATA ===
2025-11-13 15:09:45,908 - race_prediction.competitive_field_analyzer - INFO - Sample data (columns: ['numero', 'cheval', 'recordG', 'hippo', 'coursescheval']):
2025-11-13 15:09:45,909 - race_prediction.competitive_field_analyzer - INFO -   Horse 0: {'numero': 1, 'cheval': "Karvina d'Ela", 'recordG': 0.0, 'hippo': 'Paris-Vincennes', 'coursescheval': 25}
2025-11-13 15:09:45,909 - race_prediction.competitive_field_analyzer - INFO -   Horse 1: {'numero': 2, 'cheval': 'Koh Samui', 'recordG': 0.0, 'hippo': 'Paris-Vincennes', 'coursescheval': 22}
2025-11-13 15:09:45,909 - race_prediction.competitive_field_analyzer - INFO -   Horse 2: {'numero': 3, 'cheval': 'Kelle Class', 'recordG': 0.0, 'hippo': 'Paris-Vincennes', 'coursescheval': 40}
2025-11-13 15:09:45,909 - race_prediction.competitive_field_analyzer - INFO - === END COMPETITIVE ANALYSIS DEBUG ===

2025-11-13 15:09:45,909 - race_prediction.competitive_field_analyzer - INFO - === RETRIEVING HISTORICAL DATA ===
2025-11-13 15:09:45,909 - race_prediction.competitive_field_analyzer - INFO - Fetching historical data for 16 horses: [1580126, 1575520, 1566866, 1572457, 1565635, 1583971, 1552861, 1657540, 1557734, 1581928, 1660138, 1580185, 1584739, 1558628, 1552859, 1575465]
2025-11-13 15:09:45,910 - race_prediction.competitive_field_analyzer - INFO - Batch querying historical data for 16 horses: [1580126, 1575520, 1566866, 1572457, 1565635, 1583971, 1552861, 1657540, 1557734, 1581928, 1660138, 1580185, 1584739, 1558628, 1552859, 1575465]
2025-11-13 15:09:58,146 - race_prediction.competitive_field_analyzer - INFO - Batch query completed in 12.24s, found 181 total records
2025-11-13 15:09:58,153 - race_prediction.competitive_field_analyzer - INFO - Batch query retrieved 181 total historical races
2025-11-13 15:09:58,154 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS PER HORSE ===
2025-11-13 15:09:58,154 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1580126: 9 historical races found
2025-11-13 15:09:58,154 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1575520: 10 historical races found
2025-11-13 15:09:58,154 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1566866: 14 historical races found
2025-11-13 15:09:58,154 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1572457: 15 historical races found
2025-11-13 15:09:58,154 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1565635: 7 historical races found
2025-11-13 15:09:58,154 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1583971: 9 historical races found
2025-11-13 15:09:58,154 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1552861: 14 historical races found
2025-11-13 15:09:58,154 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1657540: 8 historical races found
2025-11-13 15:09:58,154 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1557734: 12 historical races found
2025-11-13 15:09:58,154 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1581928: 17 historical races found
2025-11-13 15:09:58,154 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1660138: 10 historical races found
2025-11-13 15:09:58,154 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1580185: 12 historical races found
2025-11-13 15:09:58,154 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1584739: 9 historical races found
2025-11-13 15:09:58,154 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1558628: 9 historical races found
2025-11-13 15:09:58,154 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1552859: 12 historical races found
2025-11-13 15:09:58,154 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1575465: 14 historical races found
2025-11-13 15:09:58,154 - race_prediction.competitive_field_analyzer - INFO - Retrieved 181 total historical races
2025-11-13 15:09:58,154 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS BY HORSE ===
2025-11-13 15:09:58,154 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1580126: 9 historical races
2025-11-13 15:09:58,154 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1575520: 10 historical races
2025-11-13 15:09:58,154 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1566866: 14 historical races
2025-11-13 15:09:58,154 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1572457: 15 historical races
2025-11-13 15:09:58,154 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1565635: 7 historical races
2025-11-13 15:09:58,154 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1583971: 9 historical races
2025-11-13 15:09:58,154 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1552861: 14 historical races
2025-11-13 15:09:58,154 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1657540: 8 historical races
2025-11-13 15:09:58,154 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1557734: 12 historical races
2025-11-13 15:09:58,154 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1581928: 17 historical races
2025-11-13 15:09:58,154 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1660138: 10 historical races
2025-11-13 15:09:58,154 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1580185: 12 historical races
2025-11-13 15:09:58,154 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1584739: 9 historical races
2025-11-13 15:09:58,154 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1558628: 9 historical races
2025-11-13 15:09:58,154 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1552859: 12 historical races
2025-11-13 15:09:58,154 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1575465: 14 historical races
2025-11-13 15:09:58,154 - race_prediction.competitive_field_analyzer - INFO - === END HISTORICAL DATA RETRIEVAL ===

2025-11-13 15:09:58,155 - race_prediction.competitive_field_analyzer - INFO - === EARNINGS QUALITY ANALYSIS ===
2025-11-13 15:09:58,155 - race_prediction.competitive_field_analyzer - INFO - Valid earnings data: 16/16 horses
2025-11-13 15:09:58,155 - race_prediction.competitive_field_analyzer - INFO - Sample earnings per race: ['351,680', '400,273', '224,825']
2025-11-13 15:09:58,155 - race_prediction.competitive_field_analyzer - INFO - Field earnings stats: avg=368,848, max=666,214
2025-11-13 15:09:58,155 - race_prediction.competitive_field_analyzer - INFO - === TRACK SPECIALIZATION ANALYSIS ===
2025-11-13 15:09:58,155 - race_prediction.competitive_field_analyzer - INFO - Horses with reliable venue data (3+ races): 0/16
2025-11-13 15:09:58,156 - race_prediction.competitive_field_analyzer - INFO - === FORM MOMENTUM ANALYSIS ===
2025-11-13 15:09:58,156 - race_prediction.competitive_field_analyzer - INFO - Field avg horse trend: 0.689, recent perf: 7.75
2025-11-13 15:09:58,156 - race_prediction.competitive_field_analyzer - INFO - Field avg jockey trend: -0.681
2025-11-13 15:09:58,157 - race_prediction.competitive_field_analyzer - INFO - Horses with improving form: 4/16
2025-11-13 15:09:58,157 - race_prediction.competitive_field_analyzer - INFO - === HOT CONNECTIONS ANALYSIS ===
2025-11-13 15:09:58,157 - race_prediction.competitive_field_analyzer - INFO - Jockeys with wins today: 0/16
2025-11-13 15:09:58,157 - race_prediction.competitive_field_analyzer - INFO - Trainers with wins today: 0/16
2025-11-13 15:09:58,157 - race_prediction.competitive_field_analyzer - INFO - === DISTANCE COMFORT ANALYSIS ===
2025-11-13 15:09:58,157 - race_prediction.competitive_field_analyzer - INFO - Current race distance: 2700m
2025-11-13 15:09:58,157 - race_prediction.competitive_field_analyzer - INFO - Horses with similar recent distance: 13/16
2025-11-13 15:09:58,157 - race_prediction.competitive_field_analyzer - INFO - === REALISTIC COMPETITIVE SCORING ===
2025-11-13 15:09:58,158 - race_prediction.competitive_field_analyzer - INFO - üìä COMPETITIVE ANALYSIS SUMMARY:
2025-11-13 15:09:58,158 - race_prediction.competitive_field_analyzer - INFO -    Total competitive races: 181
2025-11-13 15:09:58,158 - race_prediction.competitive_field_analyzer - INFO -    Horses with historical data: 16/16
2025-11-13 15:09:58,158 - race_prediction.competitive_field_analyzer - INFO -    Average races per horse: 11.3
2025-11-13 15:09:58,170 - race_prediction.quinte_prediction_storage - INFO - Stored 16 horses for Quint√© race 1618791
2025-11-13 15:10:00,262 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE ANALYSIS DEBUG ===
2025-11-13 15:10:00,262 - race_prediction.competitive_field_analyzer - INFO - Analyzing competitive field for race with 16 horses
2025-11-13 15:10:00,262 - race_prediction.competitive_field_analyzer - INFO - Race data shape: (16, 280)
2025-11-13 15:10:00,262 - race_prediction.competitive_field_analyzer - INFO - Available columns: ['id', 'comp', 'jour', 'hippo', 'reun', 'prix', 'prixnom', 'typec', 'partant', 'dist', 'handi', 'groupe', 'quinte', 'natpis', 'meteo', 'corde', 'temperature', 'forceVent', 'directionVent', 'nebulosite', 'prediction_results', 'actual_results', 'created_at', 'updated_at', 'processed_data', 'cheque', 'handi_raw', 'reclam', 'sex', 'tempscourse', 'handicap_level_score', 'cl', 'numero', 'cheval', 'age', 'cotedirect', 'coteprob', 'recence', 'ecar', 'defoeil', 'defoeilPrec', 'musiqueche', 'musiquejoc', 'entraineur', 'coursescheval', 'victoirescheval', 'placescheval', 'dernierealloc', 'derniernbpartants', 'dernieredist', 'derniereplace', 'dernierecote', 'dernierEnt', 'proprietaire', 'poidmont', 'pourcVictJockHippo', 'pourcPlaceJockHippo', 'pourcVictChevalHippo', 'pourcPlaceChevalHippo', 'tempstot', 'vha', 'recordG', 'txreclam', 'dernierTxreclam', 'gainsCarriere', 'gainsAnneeEnCours', 'handicapDistance', 'handicapPoids', 'TxVictCouple', 'nbVictCouple', 'nbPlaceCouple', 'idche', 'idJockey', 'idEntraineur', 'defFirstTime', 'oeilFirstTime', 'oeil', 'dernierOeil', 'ratio_victoires', 'ratio_places', 'gains_par_course', 'efficacite_couple', 'regularite_couple', 'progression_couple', 'perf_cheval_hippo', 'perf_jockey_hippo', 'trainer_victoires', 'trainer_places', 'trainer_courses', 'trainer_winrate', 'trainer_placerate', 'trainer_quality_score', 'trainer_experience_level', 'handicap_poids', 'handicap_dist', 'prec_handicap_poids', 'prec_handicap_dist', 'handicap_poids_change', 'handicap_poids_increased', 'handicap_poids_decreased', 'handicap_dist_change', 'handicap_dist_increased', 'handicap_dist_decreased', 'total_handicap', 'handicap_momentum', 'last_race_position', 'last_race_distance', 'distance_change', 'distance_change_pct', 'distance_increased', 'distance_decreased', 'same_distance', 'corde_change', 'corde_improved', 'corde_worsened', 'last_race_top3', 'last_race_won', 'blinkers_first_time', 'has_blinkers', 'has_standard_blinkers', 'has_australian_blinkers', 'blinkers_added', 'blinkers_removed', 'blinkers_type_changed', 'blinkers_any_change', 'blinkers_high_impact_change', 'shoeing_first_time', 'fully_shod', 'front_shod_only', 'back_shod_only', 'barefoot', 'shoeing_changed', 'barefoot_to_shod', 'shod_to_barefoot', 'major_shoeing_change', 'shoeing_complexity', 'multiple_equipment_changes', 'equipment_momentum_score', 'high_equipment_momentum', 'multiple_first_time_changes', 'equipment_optimization_score', 'career_strike_rate', 'earnings_per_race', 'earnings_trend', 'last_race_position_normalized', 'last_race_odds_normalized', 'last_race_field_size_factor', 'distance_consistency', 'vha_normalized', 'claiming_tax_trend', 'class_stability', 'che_global_avg_pos', 'che_global_recent_perf', 'che_global_consistency', 'che_global_trend', 'che_global_pct_top3', 'che_global_nb_courses', 'che_global_total_races', 'che_global_dnf_rate', 'che_weighted_avg_pos', 'che_weighted_recent_perf', 'che_weighted_consistency', 'che_weighted_pct_top3', 'che_weighted_nb_courses', 'che_weighted_total_races', 'che_weighted_dnf_rate', 'che_weighted_trend', 'che_bytype_avg_pos', 'che_bytype_recent_perf', 'che_bytype_consistency', 'che_bytype_trend', 'che_bytype_pct_top3', 'che_bytype_nb_courses', 'che_bytype_total_races', 'che_bytype_dnf_rate', 'joc_global_avg_pos', 'joc_global_recent_perf', 'joc_global_consistency', 'joc_global_trend', 'joc_global_pct_top3', 'joc_global_nb_courses', 'joc_global_total_races', 'joc_global_dnf_rate', 'joc_weighted_avg_pos', 'joc_weighted_recent_perf', 'joc_weighted_consistency', 'joc_weighted_pct_top3', 'joc_weighted_nb_courses', 'joc_weighted_total_races', 'joc_weighted_dnf_rate', 'joc_weighted_trend', 'joc_bytype_avg_pos', 'joc_bytype_recent_perf', 'joc_bytype_consistency', 'joc_bytype_trend', 'joc_bytype_pct_top3', 'joc_bytype_nb_courses', 'joc_bytype_total_races', 'joc_bytype_dnf_rate', 'che_form_momentum', 'che_improving_form', 'che_declining_form', 'che_high_consistency', 'che_recent_quality', 'che_elite_performer', 'che_regular_placer', 'joc_form_momentum', 'joc_improving_form', 'joc_high_consistency', 'joc_elite_performer', 'synergy_both_improving', 'synergy_both_consistent', 'synergy_both_elite', 'overall_momentum_score', 'high_momentum', 'class_drop_pct', 'purse_per_starter', 'purse_ratio', 'moving_up_in_class', 'class_shock_indicator', 'handicap_level_change', 'time_per_distance', 'time_vs_record', 'pace_rating', 'speed_figure_proxy', 'market_confidence_shift', 'last_race_improvement', 'bounce_risk', 'layoff_distance_interaction', 'trainer_change', 'connection_stability', 'field_size_change', 'distance_comfort', 'competition_level_shift', 'recence_x_class_drop', 'trainer_change_x_recence', 'distance_change_x_recence', 'che_by_type_avg_pos', 'che_by_type_recent_perf', 'che_by_type_consistency', 'che_by_type_trend', 'che_by_type_pct_top3', 'che_by_type_nb_courses', 'che_by_type_total_races', 'che_by_type_dnf_rate', 'joc_by_type_avg_pos', 'joc_by_type_recent_perf', 'joc_by_type_consistency', 'joc_by_type_trend', 'joc_by_type_pct_top3', 'joc_by_type_nb_courses', 'joc_by_type_total_races', 'joc_by_type_dnf_rate', 'quinte_career_starts', 'quinte_win_rate', 'quinte_top5_rate', 'avg_quinte_position', 'days_since_last_quinte', 'quinte_handicap_specialist', 'quinte_conditions_specialist', 'quinte_large_field_ability', 'quinte_track_condition_fit', 'is_handicap_quinte', 'handicap_division', 'purse_level_category', 'field_size_category', 'track_condition_PH', 'track_condition_DUR', 'track_condition_PS', 'track_condition_PSF', 'weather_clear', 'weather_rain', 'weather_cloudy', 'post_position_bias', 'post_position_track_bias', 'raw_tabnet_prediction', 'predicted_position_tabnet', 'raw_rf_prediction', 'predicted_position_rf', 'predicted_position_base']
2025-11-13 15:10:00,262 - race_prediction.competitive_field_analyzer - INFO - === CRITICAL COLUMNS ANALYSIS ===
2025-11-13 15:10:00,262 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ recordG: 16/16 non-null values (100.0%)
2025-11-13 15:10:00,262 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [0.0, 0.0, 0.0]
2025-11-13 15:10:00,262 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ hippo: 16/16 non-null values (100.0%)
2025-11-13 15:10:00,262 - race_prediction.competitive_field_analyzer - INFO -    Sample values: ['Fontainebleau', 'Fontainebleau', 'Fontainebleau']
2025-11-13 15:10:00,263 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ coursescheval: 16/16 non-null values (100.0%)
2025-11-13 15:10:00,263 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [53, 21, 16]
2025-11-13 15:10:00,263 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ victoirescheval: 16/16 non-null values (100.0%)
2025-11-13 15:10:00,263 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [7, 4, 2]
2025-11-13 15:10:00,263 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ placescheval: 16/16 non-null values (100.0%)
2025-11-13 15:10:00,263 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [27, 10, 4]
2025-11-13 15:10:00,263 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ gainsCarriere: 16/16 non-null values (100.0%)
2025-11-13 15:10:00,263 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [22846000, 9401600, 6511700]
2025-11-13 15:10:00,263 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ age: 16/16 non-null values (100.0%)
2025-11-13 15:10:00,263 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [6, 4, 4]
2025-11-13 15:10:00,263 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ derniereplace: 16/16 non-null values (100.0%)
2025-11-13 15:10:00,263 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [4, 9, 13]
2025-11-13 15:10:00,263 - race_prediction.competitive_field_analyzer - INFO - === RACE METADATA ===
2025-11-13 15:10:00,263 - race_prediction.competitive_field_analyzer - INFO - comp: 1621325
2025-11-13 15:10:00,263 - race_prediction.competitive_field_analyzer - INFO - hippo: Fontainebleau
2025-11-13 15:10:00,263 - race_prediction.competitive_field_analyzer - INFO - dist: 1200
2025-11-13 15:10:00,263 - race_prediction.competitive_field_analyzer - INFO - typec: Plat
2025-11-13 15:10:00,263 - race_prediction.competitive_field_analyzer - INFO - partant: 16
2025-11-13 15:10:00,263 - race_prediction.competitive_field_analyzer - INFO - === SAMPLE RACE DATA ===
2025-11-13 15:10:00,263 - race_prediction.competitive_field_analyzer - INFO - Sample data (columns: ['numero', 'cheval', 'recordG', 'hippo', 'coursescheval']):
2025-11-13 15:10:00,263 - race_prediction.competitive_field_analyzer - INFO -   Horse 0: {'numero': 1, 'cheval': 'Lesslepasser', 'recordG': 0.0, 'hippo': 'Fontainebleau', 'coursescheval': 53}
2025-11-13 15:10:00,264 - race_prediction.competitive_field_analyzer - INFO -   Horse 1: {'numero': 2, 'cheval': 'Baileys Bachelor', 'recordG': 0.0, 'hippo': 'Fontainebleau', 'coursescheval': 21}
2025-11-13 15:10:00,264 - race_prediction.competitive_field_analyzer - INFO -   Horse 2: {'numero': 3, 'cheval': 'Egiategia', 'recordG': 0.0, 'hippo': 'Fontainebleau', 'coursescheval': 16}
2025-11-13 15:10:00,264 - race_prediction.competitive_field_analyzer - INFO - === END COMPETITIVE ANALYSIS DEBUG ===

2025-11-13 15:10:00,264 - race_prediction.competitive_field_analyzer - INFO - === RETRIEVING HISTORICAL DATA ===
2025-11-13 15:10:00,264 - race_prediction.competitive_field_analyzer - INFO - Fetching historical data for 16 horses: [1496093, 1706564, 1678623, 1523528, 1650654, 1559990, 1720549, 1719436, 1704590, 1705449, 1734348, 1407350, 1405039, 1369482, 1478223, 1405437]
2025-11-13 15:10:00,265 - race_prediction.competitive_field_analyzer - INFO - Batch querying historical data for 16 horses: [1496093, 1706564, 1678623, 1523528, 1650654, 1559990, 1720549, 1719436, 1704590, 1705449, 1734348, 1407350, 1405039, 1369482, 1478223, 1405437]
2025-11-13 15:10:11,251 - race_prediction.competitive_field_analyzer - INFO - Batch query completed in 10.99s, found 183 total records
2025-11-13 15:10:11,259 - race_prediction.competitive_field_analyzer - INFO - Batch query retrieved 183 total historical races
2025-11-13 15:10:11,259 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS PER HORSE ===
2025-11-13 15:10:11,259 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1496093: 10 historical races found
2025-11-13 15:10:11,259 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1706564: 15 historical races found
2025-11-13 15:10:11,259 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1678623: 8 historical races found
2025-11-13 15:10:11,259 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1523528: 7 historical races found
2025-11-13 15:10:11,259 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1650654: 11 historical races found
2025-11-13 15:10:11,259 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1559990: 9 historical races found
2025-11-13 15:10:11,259 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1720549: 7 historical races found
2025-11-13 15:10:11,259 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1719436: 7 historical races found
2025-11-13 15:10:11,259 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1704590: 20 historical races found
2025-11-13 15:10:11,259 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1705449: 9 historical races found
2025-11-13 15:10:11,259 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1734348: 10 historical races found
2025-11-13 15:10:11,259 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1407350: 15 historical races found
2025-11-13 15:10:11,259 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1405039: 13 historical races found
2025-11-13 15:10:11,259 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1369482: 19 historical races found
2025-11-13 15:10:11,259 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1478223: 14 historical races found
2025-11-13 15:10:11,259 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1405437: 9 historical races found
2025-11-13 15:10:11,259 - race_prediction.competitive_field_analyzer - INFO - Retrieved 183 total historical races
2025-11-13 15:10:11,259 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS BY HORSE ===
2025-11-13 15:10:11,259 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1496093: 10 historical races
2025-11-13 15:10:11,259 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1706564: 15 historical races
2025-11-13 15:10:11,259 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1678623: 8 historical races
2025-11-13 15:10:11,259 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1523528: 7 historical races
2025-11-13 15:10:11,259 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1650654: 11 historical races
2025-11-13 15:10:11,259 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1559990: 9 historical races
2025-11-13 15:10:11,259 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1720549: 7 historical races
2025-11-13 15:10:11,259 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1719436: 7 historical races
2025-11-13 15:10:11,259 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1704590: 20 historical races
2025-11-13 15:10:11,260 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1705449: 9 historical races
2025-11-13 15:10:11,260 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1734348: 10 historical races
2025-11-13 15:10:11,260 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1407350: 15 historical races
2025-11-13 15:10:11,260 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1405039: 13 historical races
2025-11-13 15:10:11,260 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1369482: 19 historical races
2025-11-13 15:10:11,260 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1478223: 14 historical races
2025-11-13 15:10:11,260 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1405437: 9 historical races
2025-11-13 15:10:11,260 - race_prediction.competitive_field_analyzer - INFO - === END HISTORICAL DATA RETRIEVAL ===

2025-11-13 15:10:11,260 - race_prediction.competitive_field_analyzer - INFO - === EARNINGS QUALITY ANALYSIS ===
2025-11-13 15:10:11,260 - race_prediction.competitive_field_analyzer - INFO - Valid earnings data: 16/16 horses
2025-11-13 15:10:11,260 - race_prediction.competitive_field_analyzer - INFO - Sample earnings per race: ['431,057', '447,695', '406,981']
2025-11-13 15:10:11,260 - race_prediction.competitive_field_analyzer - INFO - Field earnings stats: avg=367,495, max=632,720
2025-11-13 15:10:11,260 - race_prediction.competitive_field_analyzer - INFO - === TRACK SPECIALIZATION ANALYSIS ===
2025-11-13 15:10:11,260 - race_prediction.competitive_field_analyzer - INFO - Horses with reliable venue data (3+ races): 0/16
2025-11-13 15:10:11,261 - race_prediction.competitive_field_analyzer - INFO - === FORM MOMENTUM ANALYSIS ===
2025-11-13 15:10:11,261 - race_prediction.competitive_field_analyzer - INFO - Field avg horse trend: -1.455, recent perf: 6.65
2025-11-13 15:10:11,261 - race_prediction.competitive_field_analyzer - INFO - Field avg jockey trend: 0.316
2025-11-13 15:10:11,261 - race_prediction.competitive_field_analyzer - INFO - Horses with improving form: 3/16
2025-11-13 15:10:11,262 - race_prediction.competitive_field_analyzer - INFO - === HOT CONNECTIONS ANALYSIS ===
2025-11-13 15:10:11,262 - race_prediction.competitive_field_analyzer - INFO - Jockeys with wins today: 0/16
2025-11-13 15:10:11,262 - race_prediction.competitive_field_analyzer - INFO - Trainers with wins today: 0/16
2025-11-13 15:10:11,262 - race_prediction.competitive_field_analyzer - INFO - === DISTANCE COMFORT ANALYSIS ===
2025-11-13 15:10:11,262 - race_prediction.competitive_field_analyzer - INFO - Current race distance: 1200m
2025-11-13 15:10:11,262 - race_prediction.competitive_field_analyzer - INFO - Horses with similar recent distance: 16/16
2025-11-13 15:10:11,262 - race_prediction.competitive_field_analyzer - INFO - === REALISTIC COMPETITIVE SCORING ===
2025-11-13 15:10:11,263 - race_prediction.competitive_field_analyzer - INFO - üìä COMPETITIVE ANALYSIS SUMMARY:
2025-11-13 15:10:11,263 - race_prediction.competitive_field_analyzer - INFO -    Total competitive races: 183
2025-11-13 15:10:11,263 - race_prediction.competitive_field_analyzer - INFO -    Horses with historical data: 16/16
2025-11-13 15:10:11,263 - race_prediction.competitive_field_analyzer - INFO -    Average races per horse: 11.4
2025-11-13 15:10:11,274 - race_prediction.quinte_prediction_storage - INFO - Stored 16 horses for Quint√© race 1621325
2025-11-13 15:10:13,306 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE ANALYSIS DEBUG ===
2025-11-13 15:10:13,306 - race_prediction.competitive_field_analyzer - INFO - Analyzing competitive field for race with 16 horses
2025-11-13 15:10:13,306 - race_prediction.competitive_field_analyzer - INFO - Race data shape: (16, 280)
2025-11-13 15:10:13,306 - race_prediction.competitive_field_analyzer - INFO - Available columns: ['id', 'comp', 'jour', 'hippo', 'reun', 'prix', 'prixnom', 'typec', 'partant', 'dist', 'handi', 'groupe', 'quinte', 'natpis', 'meteo', 'corde', 'temperature', 'forceVent', 'directionVent', 'nebulosite', 'prediction_results', 'actual_results', 'created_at', 'updated_at', 'processed_data', 'cheque', 'handi_raw', 'reclam', 'sex', 'tempscourse', 'handicap_level_score', 'cl', 'numero', 'cheval', 'age', 'cotedirect', 'coteprob', 'recence', 'ecar', 'defoeil', 'defoeilPrec', 'musiqueche', 'musiquejoc', 'entraineur', 'coursescheval', 'victoirescheval', 'placescheval', 'dernierealloc', 'derniernbpartants', 'dernieredist', 'derniereplace', 'dernierecote', 'dernierEnt', 'proprietaire', 'poidmont', 'pourcVictJockHippo', 'pourcPlaceJockHippo', 'pourcVictChevalHippo', 'pourcPlaceChevalHippo', 'tempstot', 'vha', 'recordG', 'txreclam', 'dernierTxreclam', 'gainsCarriere', 'gainsAnneeEnCours', 'handicapDistance', 'handicapPoids', 'TxVictCouple', 'nbVictCouple', 'nbPlaceCouple', 'idche', 'idJockey', 'idEntraineur', 'defFirstTime', 'oeilFirstTime', 'oeil', 'dernierOeil', 'ratio_victoires', 'ratio_places', 'gains_par_course', 'efficacite_couple', 'regularite_couple', 'progression_couple', 'perf_cheval_hippo', 'perf_jockey_hippo', 'trainer_victoires', 'trainer_places', 'trainer_courses', 'trainer_winrate', 'trainer_placerate', 'trainer_quality_score', 'trainer_experience_level', 'handicap_poids', 'handicap_dist', 'prec_handicap_poids', 'prec_handicap_dist', 'handicap_poids_change', 'handicap_poids_increased', 'handicap_poids_decreased', 'handicap_dist_change', 'handicap_dist_increased', 'handicap_dist_decreased', 'total_handicap', 'handicap_momentum', 'last_race_position', 'last_race_distance', 'distance_change', 'distance_change_pct', 'distance_increased', 'distance_decreased', 'same_distance', 'corde_change', 'corde_improved', 'corde_worsened', 'last_race_top3', 'last_race_won', 'blinkers_first_time', 'has_blinkers', 'has_standard_blinkers', 'has_australian_blinkers', 'blinkers_added', 'blinkers_removed', 'blinkers_type_changed', 'blinkers_any_change', 'blinkers_high_impact_change', 'shoeing_first_time', 'fully_shod', 'front_shod_only', 'back_shod_only', 'barefoot', 'shoeing_changed', 'barefoot_to_shod', 'shod_to_barefoot', 'major_shoeing_change', 'shoeing_complexity', 'multiple_equipment_changes', 'equipment_momentum_score', 'high_equipment_momentum', 'multiple_first_time_changes', 'equipment_optimization_score', 'career_strike_rate', 'earnings_per_race', 'earnings_trend', 'last_race_position_normalized', 'last_race_odds_normalized', 'last_race_field_size_factor', 'distance_consistency', 'vha_normalized', 'claiming_tax_trend', 'class_stability', 'che_global_avg_pos', 'che_global_recent_perf', 'che_global_consistency', 'che_global_trend', 'che_global_pct_top3', 'che_global_nb_courses', 'che_global_total_races', 'che_global_dnf_rate', 'che_weighted_avg_pos', 'che_weighted_recent_perf', 'che_weighted_consistency', 'che_weighted_pct_top3', 'che_weighted_nb_courses', 'che_weighted_total_races', 'che_weighted_dnf_rate', 'che_weighted_trend', 'che_bytype_avg_pos', 'che_bytype_recent_perf', 'che_bytype_consistency', 'che_bytype_trend', 'che_bytype_pct_top3', 'che_bytype_nb_courses', 'che_bytype_total_races', 'che_bytype_dnf_rate', 'joc_global_avg_pos', 'joc_global_recent_perf', 'joc_global_consistency', 'joc_global_trend', 'joc_global_pct_top3', 'joc_global_nb_courses', 'joc_global_total_races', 'joc_global_dnf_rate', 'joc_weighted_avg_pos', 'joc_weighted_recent_perf', 'joc_weighted_consistency', 'joc_weighted_pct_top3', 'joc_weighted_nb_courses', 'joc_weighted_total_races', 'joc_weighted_dnf_rate', 'joc_weighted_trend', 'joc_bytype_avg_pos', 'joc_bytype_recent_perf', 'joc_bytype_consistency', 'joc_bytype_trend', 'joc_bytype_pct_top3', 'joc_bytype_nb_courses', 'joc_bytype_total_races', 'joc_bytype_dnf_rate', 'che_form_momentum', 'che_improving_form', 'che_declining_form', 'che_high_consistency', 'che_recent_quality', 'che_elite_performer', 'che_regular_placer', 'joc_form_momentum', 'joc_improving_form', 'joc_high_consistency', 'joc_elite_performer', 'synergy_both_improving', 'synergy_both_consistent', 'synergy_both_elite', 'overall_momentum_score', 'high_momentum', 'class_drop_pct', 'purse_per_starter', 'purse_ratio', 'moving_up_in_class', 'class_shock_indicator', 'handicap_level_change', 'time_per_distance', 'time_vs_record', 'pace_rating', 'speed_figure_proxy', 'market_confidence_shift', 'last_race_improvement', 'bounce_risk', 'layoff_distance_interaction', 'trainer_change', 'connection_stability', 'field_size_change', 'distance_comfort', 'competition_level_shift', 'recence_x_class_drop', 'trainer_change_x_recence', 'distance_change_x_recence', 'che_by_type_avg_pos', 'che_by_type_recent_perf', 'che_by_type_consistency', 'che_by_type_trend', 'che_by_type_pct_top3', 'che_by_type_nb_courses', 'che_by_type_total_races', 'che_by_type_dnf_rate', 'joc_by_type_avg_pos', 'joc_by_type_recent_perf', 'joc_by_type_consistency', 'joc_by_type_trend', 'joc_by_type_pct_top3', 'joc_by_type_nb_courses', 'joc_by_type_total_races', 'joc_by_type_dnf_rate', 'quinte_career_starts', 'quinte_win_rate', 'quinte_top5_rate', 'avg_quinte_position', 'days_since_last_quinte', 'quinte_handicap_specialist', 'quinte_conditions_specialist', 'quinte_large_field_ability', 'quinte_track_condition_fit', 'is_handicap_quinte', 'handicap_division', 'purse_level_category', 'field_size_category', 'track_condition_PH', 'track_condition_DUR', 'track_condition_PS', 'track_condition_PSF', 'weather_clear', 'weather_rain', 'weather_cloudy', 'post_position_bias', 'post_position_track_bias', 'raw_tabnet_prediction', 'predicted_position_tabnet', 'raw_rf_prediction', 'predicted_position_rf', 'predicted_position_base']
2025-11-13 15:10:13,307 - race_prediction.competitive_field_analyzer - INFO - === CRITICAL COLUMNS ANALYSIS ===
2025-11-13 15:10:13,307 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ recordG: 16/16 non-null values (100.0%)
2025-11-13 15:10:13,307 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [0.0, 0.0, 0.0]
2025-11-13 15:10:13,307 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ hippo: 16/16 non-null values (100.0%)
2025-11-13 15:10:13,307 - race_prediction.competitive_field_analyzer - INFO -    Sample values: ['Deauville', 'Deauville', 'Deauville']
2025-11-13 15:10:13,307 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ coursescheval: 16/16 non-null values (100.0%)
2025-11-13 15:10:13,307 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [23, 43, 16]
2025-11-13 15:10:13,307 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ victoirescheval: 16/16 non-null values (100.0%)
2025-11-13 15:10:13,307 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [6, 7, 7]
2025-11-13 15:10:13,307 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ placescheval: 16/16 non-null values (100.0%)
2025-11-13 15:10:13,307 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [13, 20, 9]
2025-11-13 15:10:13,307 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ gainsCarriere: 16/16 non-null values (100.0%)
2025-11-13 15:10:13,307 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [38043500, 21987100, 14052200]
2025-11-13 15:10:13,308 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ age: 16/16 non-null values (100.0%)
2025-11-13 15:10:13,308 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [5, 9, 6]
2025-11-13 15:10:13,308 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ derniereplace: 16/16 non-null values (100.0%)
2025-11-13 15:10:13,308 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [10.0, 15.0, 1.0]
2025-11-13 15:10:13,308 - race_prediction.competitive_field_analyzer - INFO - === RACE METADATA ===
2025-11-13 15:10:13,308 - race_prediction.competitive_field_analyzer - INFO - comp: 1621292
2025-11-13 15:10:13,308 - race_prediction.competitive_field_analyzer - INFO - hippo: Deauville
2025-11-13 15:10:13,308 - race_prediction.competitive_field_analyzer - INFO - dist: 1400
2025-11-13 15:10:13,308 - race_prediction.competitive_field_analyzer - INFO - typec: Plat
2025-11-13 15:10:13,308 - race_prediction.competitive_field_analyzer - INFO - partant: 16
2025-11-13 15:10:13,308 - race_prediction.competitive_field_analyzer - INFO - === SAMPLE RACE DATA ===
2025-11-13 15:10:13,308 - race_prediction.competitive_field_analyzer - INFO - Sample data (columns: ['numero', 'cheval', 'recordG', 'hippo', 'coursescheval']):
2025-11-13 15:10:13,308 - race_prediction.competitive_field_analyzer - INFO -   Horse 0: {'numero': 1, 'cheval': 'Breizh Sky', 'recordG': 0.0, 'hippo': 'Deauville', 'coursescheval': 23}
2025-11-13 15:10:13,308 - race_prediction.competitive_field_analyzer - INFO -   Horse 1: {'numero': 2, 'cheval': 'Zerostress', 'recordG': 0.0, 'hippo': 'Deauville', 'coursescheval': 43}
2025-11-13 15:10:13,308 - race_prediction.competitive_field_analyzer - INFO -   Horse 2: {'numero': 3, 'cheval': 'Mount Athos', 'recordG': 0.0, 'hippo': 'Deauville', 'coursescheval': 16}
2025-11-13 15:10:13,308 - race_prediction.competitive_field_analyzer - INFO - === END COMPETITIVE ANALYSIS DEBUG ===

2025-11-13 15:10:13,308 - race_prediction.competitive_field_analyzer - INFO - === RETRIEVING HISTORICAL DATA ===
2025-11-13 15:10:13,308 - race_prediction.competitive_field_analyzer - INFO - Fetching historical data for 16 horses: [1553071, 1343224, 1547627, 1653430, 1431723, 1658782, 1524442, 1654290, 1724320, 1732625, 1727088, 1717199, 1697253, 1654483, 1676659, 1559722]
2025-11-13 15:10:13,310 - race_prediction.competitive_field_analyzer - INFO - Batch querying historical data for 16 horses: [1553071, 1343224, 1547627, 1653430, 1431723, 1658782, 1524442, 1654290, 1724320, 1732625, 1727088, 1717199, 1697253, 1654483, 1676659, 1559722]
2025-11-13 15:10:24,678 - race_prediction.competitive_field_analyzer - INFO - Batch query completed in 11.37s, found 120 total records
2025-11-13 15:10:24,684 - race_prediction.competitive_field_analyzer - INFO - Batch query retrieved 120 total historical races
2025-11-13 15:10:24,684 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS PER HORSE ===
2025-11-13 15:10:24,684 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1553071: 5 historical races found
2025-11-13 15:10:24,684 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1343224: 6 historical races found
2025-11-13 15:10:24,684 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1547627: 3 historical races found
2025-11-13 15:10:24,684 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1653430: 11 historical races found
2025-11-13 15:10:24,684 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1431723: 8 historical races found
2025-11-13 15:10:24,684 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1658782: 6 historical races found
2025-11-13 15:10:24,684 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1524442: 7 historical races found
2025-11-13 15:10:24,684 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1654290: 8 historical races found
2025-11-13 15:10:24,684 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1724320: 2 historical races found
2025-11-13 15:10:24,684 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1732625: 12 historical races found
2025-11-13 15:10:24,684 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1727088: 9 historical races found
2025-11-13 15:10:24,684 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1717199: 8 historical races found
2025-11-13 15:10:24,684 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1697253: 7 historical races found
2025-11-13 15:10:24,684 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1654483: 8 historical races found
2025-11-13 15:10:24,684 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1676659: 8 historical races found
2025-11-13 15:10:24,684 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1559722: 12 historical races found
2025-11-13 15:10:24,684 - race_prediction.competitive_field_analyzer - INFO - Retrieved 120 total historical races
2025-11-13 15:10:24,684 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS BY HORSE ===
2025-11-13 15:10:24,684 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1553071: 5 historical races
2025-11-13 15:10:24,684 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1343224: 6 historical races
2025-11-13 15:10:24,684 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1547627: 3 historical races
2025-11-13 15:10:24,684 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1653430: 11 historical races
2025-11-13 15:10:24,684 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1431723: 8 historical races
2025-11-13 15:10:24,684 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1658782: 6 historical races
2025-11-13 15:10:24,684 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1524442: 7 historical races
2025-11-13 15:10:24,684 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1654290: 8 historical races
2025-11-13 15:10:24,684 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1724320: 2 historical races
2025-11-13 15:10:24,685 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1732625: 12 historical races
2025-11-13 15:10:24,685 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1727088: 9 historical races
2025-11-13 15:10:24,685 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1717199: 8 historical races
2025-11-13 15:10:24,685 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1697253: 7 historical races
2025-11-13 15:10:24,685 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1654483: 8 historical races
2025-11-13 15:10:24,685 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1676659: 8 historical races
2025-11-13 15:10:24,685 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1559722: 12 historical races
2025-11-13 15:10:24,685 - race_prediction.competitive_field_analyzer - INFO - === END HISTORICAL DATA RETRIEVAL ===

2025-11-13 15:10:24,685 - race_prediction.competitive_field_analyzer - INFO - === EARNINGS QUALITY ANALYSIS ===
2025-11-13 15:10:24,685 - race_prediction.competitive_field_analyzer - INFO - Valid earnings data: 16/16 horses
2025-11-13 15:10:24,685 - race_prediction.competitive_field_analyzer - INFO - Sample earnings per race: ['1,654,065', '511,328', '878,262']
2025-11-13 15:10:24,685 - race_prediction.competitive_field_analyzer - INFO - Field earnings stats: avg=767,679, max=1,654,065
2025-11-13 15:10:24,685 - race_prediction.competitive_field_analyzer - INFO - === TRACK SPECIALIZATION ANALYSIS ===
2025-11-13 15:10:24,685 - race_prediction.competitive_field_analyzer - INFO - Horses with reliable venue data (3+ races): 0/16
2025-11-13 15:10:24,686 - race_prediction.competitive_field_analyzer - INFO - === FORM MOMENTUM ANALYSIS ===
2025-11-13 15:10:24,686 - race_prediction.competitive_field_analyzer - INFO - Field avg horse trend: -0.195, recent perf: 7.77
2025-11-13 15:10:24,686 - race_prediction.competitive_field_analyzer - INFO - Field avg jockey trend: -2.306
2025-11-13 15:10:24,686 - race_prediction.competitive_field_analyzer - INFO - Horses with improving form: 4/16
2025-11-13 15:10:24,687 - race_prediction.competitive_field_analyzer - INFO - === HOT CONNECTIONS ANALYSIS ===
2025-11-13 15:10:24,687 - race_prediction.competitive_field_analyzer - INFO - Jockeys with wins today: 0/16
2025-11-13 15:10:24,687 - race_prediction.competitive_field_analyzer - INFO - Trainers with wins today: 0/16
2025-11-13 15:10:24,687 - race_prediction.competitive_field_analyzer - INFO - === DISTANCE COMFORT ANALYSIS ===
2025-11-13 15:10:24,687 - race_prediction.competitive_field_analyzer - INFO - Current race distance: 1400m
2025-11-13 15:10:24,687 - race_prediction.competitive_field_analyzer - INFO - Horses with similar recent distance: 13/16
2025-11-13 15:10:24,687 - race_prediction.competitive_field_analyzer - INFO - === REALISTIC COMPETITIVE SCORING ===
2025-11-13 15:10:24,688 - race_prediction.competitive_field_analyzer - INFO - üìä COMPETITIVE ANALYSIS SUMMARY:
2025-11-13 15:10:24,688 - race_prediction.competitive_field_analyzer - INFO -    Total competitive races: 120
2025-11-13 15:10:24,688 - race_prediction.competitive_field_analyzer - INFO -    Horses with historical data: 16/16
2025-11-13 15:10:24,688 - race_prediction.competitive_field_analyzer - INFO -    Average races per horse: 7.5
2025-11-13 15:10:24,701 - race_prediction.quinte_prediction_storage - INFO - Stored 16 horses for Quint√© race 1621292
2025-11-13 15:10:26,708 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE ANALYSIS DEBUG ===
2025-11-13 15:10:26,709 - race_prediction.competitive_field_analyzer - INFO - Analyzing competitive field for race with 16 horses
2025-11-13 15:10:26,709 - race_prediction.competitive_field_analyzer - INFO - Race data shape: (16, 280)
2025-11-13 15:10:26,709 - race_prediction.competitive_field_analyzer - INFO - Available columns: ['id', 'comp', 'jour', 'hippo', 'reun', 'prix', 'prixnom', 'typec', 'partant', 'dist', 'handi', 'groupe', 'quinte', 'natpis', 'meteo', 'corde', 'temperature', 'forceVent', 'directionVent', 'nebulosite', 'prediction_results', 'actual_results', 'created_at', 'updated_at', 'processed_data', 'cheque', 'handi_raw', 'reclam', 'sex', 'tempscourse', 'handicap_level_score', 'cl', 'numero', 'cheval', 'age', 'cotedirect', 'coteprob', 'recence', 'ecar', 'defoeil', 'defoeilPrec', 'musiqueche', 'musiquejoc', 'entraineur', 'coursescheval', 'victoirescheval', 'placescheval', 'dernierealloc', 'derniernbpartants', 'dernieredist', 'derniereplace', 'dernierecote', 'dernierEnt', 'proprietaire', 'poidmont', 'pourcVictJockHippo', 'pourcPlaceJockHippo', 'pourcVictChevalHippo', 'pourcPlaceChevalHippo', 'tempstot', 'vha', 'recordG', 'txreclam', 'dernierTxreclam', 'gainsCarriere', 'gainsAnneeEnCours', 'handicapDistance', 'handicapPoids', 'TxVictCouple', 'nbVictCouple', 'nbPlaceCouple', 'idche', 'idJockey', 'idEntraineur', 'defFirstTime', 'oeilFirstTime', 'oeil', 'dernierOeil', 'ratio_victoires', 'ratio_places', 'gains_par_course', 'efficacite_couple', 'regularite_couple', 'progression_couple', 'perf_cheval_hippo', 'perf_jockey_hippo', 'trainer_victoires', 'trainer_places', 'trainer_courses', 'trainer_winrate', 'trainer_placerate', 'trainer_quality_score', 'trainer_experience_level', 'handicap_poids', 'handicap_dist', 'prec_handicap_poids', 'prec_handicap_dist', 'handicap_poids_change', 'handicap_poids_increased', 'handicap_poids_decreased', 'handicap_dist_change', 'handicap_dist_increased', 'handicap_dist_decreased', 'total_handicap', 'handicap_momentum', 'last_race_position', 'last_race_distance', 'distance_change', 'distance_change_pct', 'distance_increased', 'distance_decreased', 'same_distance', 'corde_change', 'corde_improved', 'corde_worsened', 'last_race_top3', 'last_race_won', 'blinkers_first_time', 'has_blinkers', 'has_standard_blinkers', 'has_australian_blinkers', 'blinkers_added', 'blinkers_removed', 'blinkers_type_changed', 'blinkers_any_change', 'blinkers_high_impact_change', 'shoeing_first_time', 'fully_shod', 'front_shod_only', 'back_shod_only', 'barefoot', 'shoeing_changed', 'barefoot_to_shod', 'shod_to_barefoot', 'major_shoeing_change', 'shoeing_complexity', 'multiple_equipment_changes', 'equipment_momentum_score', 'high_equipment_momentum', 'multiple_first_time_changes', 'equipment_optimization_score', 'career_strike_rate', 'earnings_per_race', 'earnings_trend', 'last_race_position_normalized', 'last_race_odds_normalized', 'last_race_field_size_factor', 'distance_consistency', 'vha_normalized', 'claiming_tax_trend', 'class_stability', 'che_global_avg_pos', 'che_global_recent_perf', 'che_global_consistency', 'che_global_trend', 'che_global_pct_top3', 'che_global_nb_courses', 'che_global_total_races', 'che_global_dnf_rate', 'che_weighted_avg_pos', 'che_weighted_recent_perf', 'che_weighted_consistency', 'che_weighted_pct_top3', 'che_weighted_nb_courses', 'che_weighted_total_races', 'che_weighted_dnf_rate', 'che_weighted_trend', 'che_bytype_avg_pos', 'che_bytype_recent_perf', 'che_bytype_consistency', 'che_bytype_trend', 'che_bytype_pct_top3', 'che_bytype_nb_courses', 'che_bytype_total_races', 'che_bytype_dnf_rate', 'joc_global_avg_pos', 'joc_global_recent_perf', 'joc_global_consistency', 'joc_global_trend', 'joc_global_pct_top3', 'joc_global_nb_courses', 'joc_global_total_races', 'joc_global_dnf_rate', 'joc_weighted_avg_pos', 'joc_weighted_recent_perf', 'joc_weighted_consistency', 'joc_weighted_pct_top3', 'joc_weighted_nb_courses', 'joc_weighted_total_races', 'joc_weighted_dnf_rate', 'joc_weighted_trend', 'joc_bytype_avg_pos', 'joc_bytype_recent_perf', 'joc_bytype_consistency', 'joc_bytype_trend', 'joc_bytype_pct_top3', 'joc_bytype_nb_courses', 'joc_bytype_total_races', 'joc_bytype_dnf_rate', 'che_form_momentum', 'che_improving_form', 'che_declining_form', 'che_high_consistency', 'che_recent_quality', 'che_elite_performer', 'che_regular_placer', 'joc_form_momentum', 'joc_improving_form', 'joc_high_consistency', 'joc_elite_performer', 'synergy_both_improving', 'synergy_both_consistent', 'synergy_both_elite', 'overall_momentum_score', 'high_momentum', 'class_drop_pct', 'purse_per_starter', 'purse_ratio', 'moving_up_in_class', 'class_shock_indicator', 'handicap_level_change', 'time_per_distance', 'time_vs_record', 'pace_rating', 'speed_figure_proxy', 'market_confidence_shift', 'last_race_improvement', 'bounce_risk', 'layoff_distance_interaction', 'trainer_change', 'connection_stability', 'field_size_change', 'distance_comfort', 'competition_level_shift', 'recence_x_class_drop', 'trainer_change_x_recence', 'distance_change_x_recence', 'che_by_type_avg_pos', 'che_by_type_recent_perf', 'che_by_type_consistency', 'che_by_type_trend', 'che_by_type_pct_top3', 'che_by_type_nb_courses', 'che_by_type_total_races', 'che_by_type_dnf_rate', 'joc_by_type_avg_pos', 'joc_by_type_recent_perf', 'joc_by_type_consistency', 'joc_by_type_trend', 'joc_by_type_pct_top3', 'joc_by_type_nb_courses', 'joc_by_type_total_races', 'joc_by_type_dnf_rate', 'quinte_career_starts', 'quinte_win_rate', 'quinte_top5_rate', 'avg_quinte_position', 'days_since_last_quinte', 'quinte_handicap_specialist', 'quinte_conditions_specialist', 'quinte_large_field_ability', 'quinte_track_condition_fit', 'is_handicap_quinte', 'handicap_division', 'purse_level_category', 'field_size_category', 'track_condition_PH', 'track_condition_DUR', 'track_condition_PS', 'track_condition_PSF', 'weather_clear', 'weather_rain', 'weather_cloudy', 'post_position_bias', 'post_position_track_bias', 'raw_tabnet_prediction', 'predicted_position_tabnet', 'raw_rf_prediction', 'predicted_position_rf', 'predicted_position_base']
2025-11-13 15:10:26,709 - race_prediction.competitive_field_analyzer - INFO - === CRITICAL COLUMNS ANALYSIS ===
2025-11-13 15:10:26,709 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ recordG: 16/16 non-null values (100.0%)
2025-11-13 15:10:26,709 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [0.0, 0.0, 0.0]
2025-11-13 15:10:26,709 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ hippo: 16/16 non-null values (100.0%)
2025-11-13 15:10:26,709 - race_prediction.competitive_field_analyzer - INFO -    Sample values: ['Laval', 'Laval', 'Laval']
2025-11-13 15:10:26,709 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ coursescheval: 16/16 non-null values (100.0%)
2025-11-13 15:10:26,709 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [85, 73, 78]
2025-11-13 15:10:26,710 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ victoirescheval: 16/16 non-null values (100.0%)
2025-11-13 15:10:26,710 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [8, 11, 17]
2025-11-13 15:10:26,710 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ placescheval: 16/16 non-null values (100.0%)
2025-11-13 15:10:26,710 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [18, 23, 30]
2025-11-13 15:10:26,710 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ gainsCarriere: 16/16 non-null values (100.0%)
2025-11-13 15:10:26,710 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [22501500, 22801000, 23105500]
2025-11-13 15:10:26,710 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ age: 16/16 non-null values (100.0%)
2025-11-13 15:10:26,710 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [8, 9, 9]
2025-11-13 15:10:26,710 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ derniereplace: 16/16 non-null values (100.0%)
2025-11-13 15:10:26,710 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [7.0, 9.0, 8.0]
2025-11-13 15:10:26,710 - race_prediction.competitive_field_analyzer - INFO - === RACE METADATA ===
2025-11-13 15:10:26,710 - race_prediction.competitive_field_analyzer - INFO - comp: 1619849
2025-11-13 15:10:26,710 - race_prediction.competitive_field_analyzer - INFO - hippo: Laval
2025-11-13 15:10:26,710 - race_prediction.competitive_field_analyzer - INFO - dist: 2850
2025-11-13 15:10:26,710 - race_prediction.competitive_field_analyzer - INFO - typec: Attel√©
2025-11-13 15:10:26,710 - race_prediction.competitive_field_analyzer - INFO - partant: 16
2025-11-13 15:10:26,710 - race_prediction.competitive_field_analyzer - INFO - === SAMPLE RACE DATA ===
2025-11-13 15:10:26,710 - race_prediction.competitive_field_analyzer - INFO - Sample data (columns: ['numero', 'cheval', 'recordG', 'hippo', 'coursescheval']):
2025-11-13 15:10:26,711 - race_prediction.competitive_field_analyzer - INFO -   Horse 0: {'numero': 1, 'cheval': 'H√©va Blonde', 'recordG': 0.0, 'hippo': 'Laval', 'coursescheval': 85}
2025-11-13 15:10:26,711 - race_prediction.competitive_field_analyzer - INFO -   Horse 1: {'numero': 2, 'cheval': 'Gourou', 'recordG': 0.0, 'hippo': 'Laval', 'coursescheval': 73}
2025-11-13 15:10:26,711 - race_prediction.competitive_field_analyzer - INFO -   Horse 2: {'numero': 3, 'cheval': 'Galant de Bruy√®re', 'recordG': 0.0, 'hippo': 'Laval', 'coursescheval': 78}
2025-11-13 15:10:26,711 - race_prediction.competitive_field_analyzer - INFO - === END COMPETITIVE ANALYSIS DEBUG ===

2025-11-13 15:10:26,711 - race_prediction.competitive_field_analyzer - INFO - === RETRIEVING HISTORICAL DATA ===
2025-11-13 15:10:26,711 - race_prediction.competitive_field_analyzer - INFO - Fetching historical data for 16 horses: [1389426, 1377688, 1346764, 1496464, 1386541, 1562423, 1510165, 1409950, 1576878, 1444935, 1562520, 1524168, 1372573, 1445819, 1558525, 1402571]
2025-11-13 15:10:26,712 - race_prediction.competitive_field_analyzer - INFO - Batch querying historical data for 16 horses: [1389426, 1377688, 1346764, 1496464, 1386541, 1562423, 1510165, 1409950, 1576878, 1444935, 1562520, 1524168, 1372573, 1445819, 1558525, 1402571]
2025-11-13 15:10:38,776 - race_prediction.competitive_field_analyzer - INFO - Batch query completed in 12.06s, found 202 total records
2025-11-13 15:10:38,785 - race_prediction.competitive_field_analyzer - INFO - Batch query retrieved 202 total historical races
2025-11-13 15:10:38,785 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS PER HORSE ===
2025-11-13 15:10:38,785 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1389426: 13 historical races found
2025-11-13 15:10:38,785 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1377688: 16 historical races found
2025-11-13 15:10:38,785 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1346764: 16 historical races found
2025-11-13 15:10:38,785 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1496464: 8 historical races found
2025-11-13 15:10:38,785 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1386541: 17 historical races found
2025-11-13 15:10:38,785 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1562423: 14 historical races found
2025-11-13 15:10:38,785 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1510165: 7 historical races found
2025-11-13 15:10:38,785 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1409950: 17 historical races found
2025-11-13 15:10:38,785 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1576878: 12 historical races found
2025-11-13 15:10:38,785 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1444935: 9 historical races found
2025-11-13 15:10:38,785 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1562520: 14 historical races found
2025-11-13 15:10:38,785 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1524168: 12 historical races found
2025-11-13 15:10:38,785 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1372573: 11 historical races found
2025-11-13 15:10:38,785 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1445819: 10 historical races found
2025-11-13 15:10:38,785 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1558525: 11 historical races found
2025-11-13 15:10:38,785 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1402571: 15 historical races found
2025-11-13 15:10:38,785 - race_prediction.competitive_field_analyzer - INFO - Retrieved 202 total historical races
2025-11-13 15:10:38,785 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS BY HORSE ===
2025-11-13 15:10:38,785 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1389426: 13 historical races
2025-11-13 15:10:38,785 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1377688: 16 historical races
2025-11-13 15:10:38,785 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1346764: 16 historical races
2025-11-13 15:10:38,785 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1496464: 8 historical races
2025-11-13 15:10:38,785 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1386541: 17 historical races
2025-11-13 15:10:38,785 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1562423: 14 historical races
2025-11-13 15:10:38,785 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1510165: 7 historical races
2025-11-13 15:10:38,785 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1409950: 17 historical races
2025-11-13 15:10:38,785 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1576878: 12 historical races
2025-11-13 15:10:38,785 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1444935: 9 historical races
2025-11-13 15:10:38,785 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1562520: 14 historical races
2025-11-13 15:10:38,786 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1524168: 12 historical races
2025-11-13 15:10:38,786 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1372573: 11 historical races
2025-11-13 15:10:38,786 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1445819: 10 historical races
2025-11-13 15:10:38,786 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1558525: 11 historical races
2025-11-13 15:10:38,786 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1402571: 15 historical races
2025-11-13 15:10:38,786 - race_prediction.competitive_field_analyzer - INFO - === END HISTORICAL DATA RETRIEVAL ===

2025-11-13 15:10:38,786 - race_prediction.competitive_field_analyzer - INFO - === EARNINGS QUALITY ANALYSIS ===
2025-11-13 15:10:38,786 - race_prediction.competitive_field_analyzer - INFO - Valid earnings data: 16/16 horses
2025-11-13 15:10:38,786 - race_prediction.competitive_field_analyzer - INFO - Sample earnings per race: ['264,724', '312,342', '296,224']
2025-11-13 15:10:38,786 - race_prediction.competitive_field_analyzer - INFO - Field earnings stats: avg=641,472, max=1,179,968
2025-11-13 15:10:38,786 - race_prediction.competitive_field_analyzer - INFO - === TRACK SPECIALIZATION ANALYSIS ===
2025-11-13 15:10:38,786 - race_prediction.competitive_field_analyzer - INFO - Horses with reliable venue data (3+ races): 0/16
2025-11-13 15:10:38,787 - race_prediction.competitive_field_analyzer - INFO - === FORM MOMENTUM ANALYSIS ===
2025-11-13 15:10:38,787 - race_prediction.competitive_field_analyzer - INFO - Field avg horse trend: 3.256, recent perf: 7.83
2025-11-13 15:10:38,787 - race_prediction.competitive_field_analyzer - INFO - Field avg jockey trend: 1.229
2025-11-13 15:10:38,787 - race_prediction.competitive_field_analyzer - INFO - Horses with improving form: 6/16
2025-11-13 15:10:38,788 - race_prediction.competitive_field_analyzer - INFO - === HOT CONNECTIONS ANALYSIS ===
2025-11-13 15:10:38,788 - race_prediction.competitive_field_analyzer - INFO - Jockeys with wins today: 0/16
2025-11-13 15:10:38,788 - race_prediction.competitive_field_analyzer - INFO - Trainers with wins today: 0/16
2025-11-13 15:10:38,788 - race_prediction.competitive_field_analyzer - INFO - === DISTANCE COMFORT ANALYSIS ===
2025-11-13 15:10:38,788 - race_prediction.competitive_field_analyzer - INFO - Current race distance: 2850m
2025-11-13 15:10:38,788 - race_prediction.competitive_field_analyzer - INFO - Horses with similar recent distance: 11/16
2025-11-13 15:10:38,788 - race_prediction.competitive_field_analyzer - INFO - === REALISTIC COMPETITIVE SCORING ===
2025-11-13 15:10:38,789 - race_prediction.competitive_field_analyzer - INFO - üìä COMPETITIVE ANALYSIS SUMMARY:
2025-11-13 15:10:38,789 - race_prediction.competitive_field_analyzer - INFO -    Total competitive races: 202
2025-11-13 15:10:38,789 - race_prediction.competitive_field_analyzer - INFO -    Horses with historical data: 16/16
2025-11-13 15:10:38,789 - race_prediction.competitive_field_analyzer - INFO -    Average races per horse: 12.6
2025-11-13 15:10:38,802 - race_prediction.quinte_prediction_storage - INFO - Stored 16 horses for Quint√© race 1619849
2025-11-13 15:10:41,021 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE ANALYSIS DEBUG ===
2025-11-13 15:10:41,021 - race_prediction.competitive_field_analyzer - INFO - Analyzing competitive field for race with 14 horses
2025-11-13 15:10:41,021 - race_prediction.competitive_field_analyzer - INFO - Race data shape: (14, 280)
2025-11-13 15:10:41,021 - race_prediction.competitive_field_analyzer - INFO - Available columns: ['id', 'comp', 'jour', 'hippo', 'reun', 'prix', 'prixnom', 'typec', 'partant', 'dist', 'handi', 'groupe', 'quinte', 'natpis', 'meteo', 'corde', 'temperature', 'forceVent', 'directionVent', 'nebulosite', 'prediction_results', 'actual_results', 'created_at', 'updated_at', 'processed_data', 'cheque', 'handi_raw', 'reclam', 'sex', 'tempscourse', 'handicap_level_score', 'cl', 'numero', 'cheval', 'age', 'cotedirect', 'coteprob', 'recence', 'ecar', 'defoeil', 'defoeilPrec', 'musiqueche', 'musiquejoc', 'entraineur', 'coursescheval', 'victoirescheval', 'placescheval', 'dernierealloc', 'derniernbpartants', 'dernieredist', 'derniereplace', 'dernierecote', 'dernierEnt', 'proprietaire', 'poidmont', 'pourcVictJockHippo', 'pourcPlaceJockHippo', 'pourcVictChevalHippo', 'pourcPlaceChevalHippo', 'tempstot', 'vha', 'recordG', 'txreclam', 'dernierTxreclam', 'gainsCarriere', 'gainsAnneeEnCours', 'handicapDistance', 'handicapPoids', 'TxVictCouple', 'nbVictCouple', 'nbPlaceCouple', 'idche', 'idJockey', 'idEntraineur', 'defFirstTime', 'oeilFirstTime', 'oeil', 'dernierOeil', 'ratio_victoires', 'ratio_places', 'gains_par_course', 'efficacite_couple', 'regularite_couple', 'progression_couple', 'perf_cheval_hippo', 'perf_jockey_hippo', 'trainer_victoires', 'trainer_places', 'trainer_courses', 'trainer_winrate', 'trainer_placerate', 'trainer_quality_score', 'trainer_experience_level', 'handicap_poids', 'handicap_dist', 'prec_handicap_poids', 'prec_handicap_dist', 'handicap_poids_change', 'handicap_poids_increased', 'handicap_poids_decreased', 'handicap_dist_change', 'handicap_dist_increased', 'handicap_dist_decreased', 'total_handicap', 'handicap_momentum', 'last_race_position', 'last_race_distance', 'distance_change', 'distance_change_pct', 'distance_increased', 'distance_decreased', 'same_distance', 'corde_change', 'corde_improved', 'corde_worsened', 'last_race_top3', 'last_race_won', 'blinkers_first_time', 'has_blinkers', 'has_standard_blinkers', 'has_australian_blinkers', 'blinkers_added', 'blinkers_removed', 'blinkers_type_changed', 'blinkers_any_change', 'blinkers_high_impact_change', 'shoeing_first_time', 'fully_shod', 'front_shod_only', 'back_shod_only', 'barefoot', 'shoeing_changed', 'barefoot_to_shod', 'shod_to_barefoot', 'major_shoeing_change', 'shoeing_complexity', 'multiple_equipment_changes', 'equipment_momentum_score', 'high_equipment_momentum', 'multiple_first_time_changes', 'equipment_optimization_score', 'career_strike_rate', 'earnings_per_race', 'earnings_trend', 'last_race_position_normalized', 'last_race_odds_normalized', 'last_race_field_size_factor', 'distance_consistency', 'vha_normalized', 'claiming_tax_trend', 'class_stability', 'che_global_avg_pos', 'che_global_recent_perf', 'che_global_consistency', 'che_global_trend', 'che_global_pct_top3', 'che_global_nb_courses', 'che_global_total_races', 'che_global_dnf_rate', 'che_weighted_avg_pos', 'che_weighted_recent_perf', 'che_weighted_consistency', 'che_weighted_pct_top3', 'che_weighted_nb_courses', 'che_weighted_total_races', 'che_weighted_dnf_rate', 'che_weighted_trend', 'che_bytype_avg_pos', 'che_bytype_recent_perf', 'che_bytype_consistency', 'che_bytype_trend', 'che_bytype_pct_top3', 'che_bytype_nb_courses', 'che_bytype_total_races', 'che_bytype_dnf_rate', 'joc_global_avg_pos', 'joc_global_recent_perf', 'joc_global_consistency', 'joc_global_trend', 'joc_global_pct_top3', 'joc_global_nb_courses', 'joc_global_total_races', 'joc_global_dnf_rate', 'joc_weighted_avg_pos', 'joc_weighted_recent_perf', 'joc_weighted_consistency', 'joc_weighted_pct_top3', 'joc_weighted_nb_courses', 'joc_weighted_total_races', 'joc_weighted_dnf_rate', 'joc_weighted_trend', 'joc_bytype_avg_pos', 'joc_bytype_recent_perf', 'joc_bytype_consistency', 'joc_bytype_trend', 'joc_bytype_pct_top3', 'joc_bytype_nb_courses', 'joc_bytype_total_races', 'joc_bytype_dnf_rate', 'che_form_momentum', 'che_improving_form', 'che_declining_form', 'che_high_consistency', 'che_recent_quality', 'che_elite_performer', 'che_regular_placer', 'joc_form_momentum', 'joc_improving_form', 'joc_high_consistency', 'joc_elite_performer', 'synergy_both_improving', 'synergy_both_consistent', 'synergy_both_elite', 'overall_momentum_score', 'high_momentum', 'class_drop_pct', 'purse_per_starter', 'purse_ratio', 'moving_up_in_class', 'class_shock_indicator', 'handicap_level_change', 'time_per_distance', 'time_vs_record', 'pace_rating', 'speed_figure_proxy', 'market_confidence_shift', 'last_race_improvement', 'bounce_risk', 'layoff_distance_interaction', 'trainer_change', 'connection_stability', 'field_size_change', 'distance_comfort', 'competition_level_shift', 'recence_x_class_drop', 'trainer_change_x_recence', 'distance_change_x_recence', 'che_by_type_avg_pos', 'che_by_type_recent_perf', 'che_by_type_consistency', 'che_by_type_trend', 'che_by_type_pct_top3', 'che_by_type_nb_courses', 'che_by_type_total_races', 'che_by_type_dnf_rate', 'joc_by_type_avg_pos', 'joc_by_type_recent_perf', 'joc_by_type_consistency', 'joc_by_type_trend', 'joc_by_type_pct_top3', 'joc_by_type_nb_courses', 'joc_by_type_total_races', 'joc_by_type_dnf_rate', 'quinte_career_starts', 'quinte_win_rate', 'quinte_top5_rate', 'avg_quinte_position', 'days_since_last_quinte', 'quinte_handicap_specialist', 'quinte_conditions_specialist', 'quinte_large_field_ability', 'quinte_track_condition_fit', 'is_handicap_quinte', 'handicap_division', 'purse_level_category', 'field_size_category', 'track_condition_PH', 'track_condition_DUR', 'track_condition_PS', 'track_condition_PSF', 'weather_clear', 'weather_rain', 'weather_cloudy', 'post_position_bias', 'post_position_track_bias', 'raw_tabnet_prediction', 'predicted_position_tabnet', 'raw_rf_prediction', 'predicted_position_rf', 'predicted_position_base']
2025-11-13 15:10:41,021 - race_prediction.competitive_field_analyzer - INFO - === CRITICAL COLUMNS ANALYSIS ===
2025-11-13 15:10:41,021 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ recordG: 14/14 non-null values (100.0%)
2025-11-13 15:10:41,022 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [0.0, 0.0, 0.0]
2025-11-13 15:10:41,022 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ hippo: 14/14 non-null values (100.0%)
2025-11-13 15:10:41,022 - race_prediction.competitive_field_analyzer - INFO -    Sample values: ['Paris-Vincennes', 'Paris-Vincennes', 'Paris-Vincennes']
2025-11-13 15:10:41,022 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ coursescheval: 14/14 non-null values (100.0%)
2025-11-13 15:10:41,022 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [51, 76, 62]
2025-11-13 15:10:41,022 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ victoirescheval: 14/14 non-null values (100.0%)
2025-11-13 15:10:41,022 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [13, 5, 7]
2025-11-13 15:10:41,022 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ placescheval: 14/14 non-null values (100.0%)
2025-11-13 15:10:41,022 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [21, 24, 17]
2025-11-13 15:10:41,022 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ gainsCarriere: 14/14 non-null values (100.0%)
2025-11-13 15:10:41,022 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [18807000, 18470000, 18857500]
2025-11-13 15:10:41,022 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ age: 14/14 non-null values (100.0%)
2025-11-13 15:10:41,022 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [7, 7, 7]
2025-11-13 15:10:41,022 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ derniereplace: 14/14 non-null values (100.0%)
2025-11-13 15:10:41,022 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [1.0, 7.0, 3.0]
2025-11-13 15:10:41,022 - race_prediction.competitive_field_analyzer - INFO - === RACE METADATA ===
2025-11-13 15:10:41,022 - race_prediction.competitive_field_analyzer - INFO - comp: 1618773
2025-11-13 15:10:41,022 - race_prediction.competitive_field_analyzer - INFO - hippo: Paris-Vincennes
2025-11-13 15:10:41,022 - race_prediction.competitive_field_analyzer - INFO - dist: 2100
2025-11-13 15:10:41,022 - race_prediction.competitive_field_analyzer - INFO - typec: Attel√©
2025-11-13 15:10:41,022 - race_prediction.competitive_field_analyzer - INFO - partant: 14
2025-11-13 15:10:41,022 - race_prediction.competitive_field_analyzer - INFO - === SAMPLE RACE DATA ===
2025-11-13 15:10:41,023 - race_prediction.competitive_field_analyzer - INFO - Sample data (columns: ['numero', 'cheval', 'recordG', 'hippo', 'coursescheval']):
2025-11-13 15:10:41,023 - race_prediction.competitive_field_analyzer - INFO -   Horse 0: {'numero': 1, 'cheval': "Iggypop d'Herfraie", 'recordG': 0.0, 'hippo': 'Paris-Vincennes', 'coursescheval': 51}
2025-11-13 15:10:41,023 - race_prediction.competitive_field_analyzer - INFO -   Horse 1: {'numero': 2, 'cheval': 'Impartial', 'recordG': 0.0, 'hippo': 'Paris-Vincennes', 'coursescheval': 76}
2025-11-13 15:10:41,023 - race_prediction.competitive_field_analyzer - INFO -   Horse 2: {'numero': 3, 'cheval': 'Id√©al Green', 'recordG': 0.0, 'hippo': 'Paris-Vincennes', 'coursescheval': 62}
2025-11-13 15:10:41,023 - race_prediction.competitive_field_analyzer - INFO - === END COMPETITIVE ANALYSIS DEBUG ===

2025-11-13 15:10:41,023 - race_prediction.competitive_field_analyzer - INFO - === RETRIEVING HISTORICAL DATA ===
2025-11-13 15:10:41,023 - race_prediction.competitive_field_analyzer - INFO - Fetching historical data for 14 horses: [1473075, 1490567, 1473111, 1384818, 1389868, 1381857, 1461024, 1372582, 1505177, 1491965, 1457923, 1460581, 1470146, 1490898]
2025-11-13 15:10:41,024 - race_prediction.competitive_field_analyzer - INFO - Batch querying historical data for 14 horses: [1473075, 1490567, 1473111, 1384818, 1389868, 1381857, 1461024, 1372582, 1505177, 1491965, 1457923, 1460581, 1470146, 1490898]
2025-11-13 15:10:52,309 - race_prediction.competitive_field_analyzer - INFO - Batch query completed in 11.28s, found 201 total records
2025-11-13 15:10:52,317 - race_prediction.competitive_field_analyzer - INFO - Batch query retrieved 201 total historical races
2025-11-13 15:10:52,317 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS PER HORSE ===
2025-11-13 15:10:52,317 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1473075: 13 historical races found
2025-11-13 15:10:52,317 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1490567: 18 historical races found
2025-11-13 15:10:52,317 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1473111: 15 historical races found
2025-11-13 15:10:52,317 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1384818: 12 historical races found
2025-11-13 15:10:52,317 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1389868: 14 historical races found
2025-11-13 15:10:52,317 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1381857: 12 historical races found
2025-11-13 15:10:52,317 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1461024: 19 historical races found
2025-11-13 15:10:52,318 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1372582: 12 historical races found
2025-11-13 15:10:52,318 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1505177: 14 historical races found
2025-11-13 15:10:52,318 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1491965: 20 historical races found
2025-11-13 15:10:52,318 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1457923: 14 historical races found
2025-11-13 15:10:52,318 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1460581: 13 historical races found
2025-11-13 15:10:52,318 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1470146: 20 historical races found
2025-11-13 15:10:52,318 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1490898: 5 historical races found
2025-11-13 15:10:52,318 - race_prediction.competitive_field_analyzer - INFO - Retrieved 201 total historical races
2025-11-13 15:10:52,318 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS BY HORSE ===
2025-11-13 15:10:52,318 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1473075: 13 historical races
2025-11-13 15:10:52,318 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1490567: 18 historical races
2025-11-13 15:10:52,318 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1473111: 15 historical races
2025-11-13 15:10:52,318 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1384818: 12 historical races
2025-11-13 15:10:52,318 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1389868: 14 historical races
2025-11-13 15:10:52,318 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1381857: 12 historical races
2025-11-13 15:10:52,318 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1461024: 19 historical races
2025-11-13 15:10:52,318 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1372582: 12 historical races
2025-11-13 15:10:52,318 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1505177: 14 historical races
2025-11-13 15:10:52,318 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1491965: 20 historical races
2025-11-13 15:10:52,318 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1457923: 14 historical races
2025-11-13 15:10:52,318 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1460581: 13 historical races
2025-11-13 15:10:52,318 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1470146: 20 historical races
2025-11-13 15:10:52,318 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1490898: 5 historical races
2025-11-13 15:10:52,318 - race_prediction.competitive_field_analyzer - INFO - === END HISTORICAL DATA RETRIEVAL ===

2025-11-13 15:10:52,318 - race_prediction.competitive_field_analyzer - INFO - === EARNINGS QUALITY ANALYSIS ===
2025-11-13 15:10:52,318 - race_prediction.competitive_field_analyzer - INFO - Valid earnings data: 14/14 horses
2025-11-13 15:10:52,318 - race_prediction.competitive_field_analyzer - INFO - Sample earnings per race: ['368,765', '243,026', '304,153']
2025-11-13 15:10:52,319 - race_prediction.competitive_field_analyzer - INFO - Field earnings stats: avg=278,307, max=630,207
2025-11-13 15:10:52,319 - race_prediction.competitive_field_analyzer - INFO - === TRACK SPECIALIZATION ANALYSIS ===
2025-11-13 15:10:52,319 - race_prediction.competitive_field_analyzer - INFO - Horses with reliable venue data (3+ races): 0/14
2025-11-13 15:10:52,320 - race_prediction.competitive_field_analyzer - INFO - === FORM MOMENTUM ANALYSIS ===
2025-11-13 15:10:52,320 - race_prediction.competitive_field_analyzer - INFO - Field avg horse trend: 2.468, recent perf: 6.52
2025-11-13 15:10:52,320 - race_prediction.competitive_field_analyzer - INFO - Field avg jockey trend: -1.384
2025-11-13 15:10:52,320 - race_prediction.competitive_field_analyzer - INFO - Horses with improving form: 3/14
2025-11-13 15:10:52,320 - race_prediction.competitive_field_analyzer - INFO - === HOT CONNECTIONS ANALYSIS ===
2025-11-13 15:10:52,320 - race_prediction.competitive_field_analyzer - INFO - Jockeys with wins today: 0/14
2025-11-13 15:10:52,320 - race_prediction.competitive_field_analyzer - INFO - Trainers with wins today: 0/14
2025-11-13 15:10:52,320 - race_prediction.competitive_field_analyzer - INFO - === DISTANCE COMFORT ANALYSIS ===
2025-11-13 15:10:52,320 - race_prediction.competitive_field_analyzer - INFO - Current race distance: 2100m
2025-11-13 15:10:52,320 - race_prediction.competitive_field_analyzer - INFO - Horses with similar recent distance: 1/14
2025-11-13 15:10:52,320 - race_prediction.competitive_field_analyzer - INFO - === REALISTIC COMPETITIVE SCORING ===
2025-11-13 15:10:52,321 - race_prediction.competitive_field_analyzer - INFO - üìä COMPETITIVE ANALYSIS SUMMARY:
2025-11-13 15:10:52,321 - race_prediction.competitive_field_analyzer - INFO -    Total competitive races: 201
2025-11-13 15:10:52,321 - race_prediction.competitive_field_analyzer - INFO -    Horses with historical data: 14/14
2025-11-13 15:10:52,321 - race_prediction.competitive_field_analyzer - INFO -    Average races per horse: 14.4
2025-11-13 15:10:52,333 - race_prediction.quinte_prediction_storage - INFO - Stored 14 horses for Quint√© race 1618773
2025-11-13 15:10:54,331 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE ANALYSIS DEBUG ===
2025-11-13 15:10:54,331 - race_prediction.competitive_field_analyzer - INFO - Analyzing competitive field for race with 15 horses
2025-11-13 15:10:54,331 - race_prediction.competitive_field_analyzer - INFO - Race data shape: (15, 280)
2025-11-13 15:10:54,331 - race_prediction.competitive_field_analyzer - INFO - Available columns: ['id', 'comp', 'jour', 'hippo', 'reun', 'prix', 'prixnom', 'typec', 'partant', 'dist', 'handi', 'groupe', 'quinte', 'natpis', 'meteo', 'corde', 'temperature', 'forceVent', 'directionVent', 'nebulosite', 'prediction_results', 'actual_results', 'created_at', 'updated_at', 'processed_data', 'cheque', 'handi_raw', 'reclam', 'sex', 'tempscourse', 'handicap_level_score', 'cl', 'numero', 'cheval', 'age', 'cotedirect', 'coteprob', 'recence', 'ecar', 'defoeil', 'defoeilPrec', 'musiqueche', 'musiquejoc', 'entraineur', 'coursescheval', 'victoirescheval', 'placescheval', 'dernierealloc', 'derniernbpartants', 'dernieredist', 'derniereplace', 'dernierecote', 'dernierEnt', 'proprietaire', 'poidmont', 'pourcVictJockHippo', 'pourcPlaceJockHippo', 'pourcVictChevalHippo', 'pourcPlaceChevalHippo', 'tempstot', 'vha', 'recordG', 'txreclam', 'dernierTxreclam', 'gainsCarriere', 'gainsAnneeEnCours', 'handicapDistance', 'handicapPoids', 'TxVictCouple', 'nbVictCouple', 'nbPlaceCouple', 'idche', 'idJockey', 'idEntraineur', 'defFirstTime', 'oeilFirstTime', 'oeil', 'dernierOeil', 'ratio_victoires', 'ratio_places', 'gains_par_course', 'efficacite_couple', 'regularite_couple', 'progression_couple', 'perf_cheval_hippo', 'perf_jockey_hippo', 'trainer_victoires', 'trainer_places', 'trainer_courses', 'trainer_winrate', 'trainer_placerate', 'trainer_quality_score', 'trainer_experience_level', 'handicap_poids', 'handicap_dist', 'prec_handicap_poids', 'prec_handicap_dist', 'handicap_poids_change', 'handicap_poids_increased', 'handicap_poids_decreased', 'handicap_dist_change', 'handicap_dist_increased', 'handicap_dist_decreased', 'total_handicap', 'handicap_momentum', 'last_race_position', 'last_race_distance', 'distance_change', 'distance_change_pct', 'distance_increased', 'distance_decreased', 'same_distance', 'corde_change', 'corde_improved', 'corde_worsened', 'last_race_top3', 'last_race_won', 'blinkers_first_time', 'has_blinkers', 'has_standard_blinkers', 'has_australian_blinkers', 'blinkers_added', 'blinkers_removed', 'blinkers_type_changed', 'blinkers_any_change', 'blinkers_high_impact_change', 'shoeing_first_time', 'fully_shod', 'front_shod_only', 'back_shod_only', 'barefoot', 'shoeing_changed', 'barefoot_to_shod', 'shod_to_barefoot', 'major_shoeing_change', 'shoeing_complexity', 'multiple_equipment_changes', 'equipment_momentum_score', 'high_equipment_momentum', 'multiple_first_time_changes', 'equipment_optimization_score', 'career_strike_rate', 'earnings_per_race', 'earnings_trend', 'last_race_position_normalized', 'last_race_odds_normalized', 'last_race_field_size_factor', 'distance_consistency', 'vha_normalized', 'claiming_tax_trend', 'class_stability', 'che_global_avg_pos', 'che_global_recent_perf', 'che_global_consistency', 'che_global_trend', 'che_global_pct_top3', 'che_global_nb_courses', 'che_global_total_races', 'che_global_dnf_rate', 'che_weighted_avg_pos', 'che_weighted_recent_perf', 'che_weighted_consistency', 'che_weighted_pct_top3', 'che_weighted_nb_courses', 'che_weighted_total_races', 'che_weighted_dnf_rate', 'che_weighted_trend', 'che_bytype_avg_pos', 'che_bytype_recent_perf', 'che_bytype_consistency', 'che_bytype_trend', 'che_bytype_pct_top3', 'che_bytype_nb_courses', 'che_bytype_total_races', 'che_bytype_dnf_rate', 'joc_global_avg_pos', 'joc_global_recent_perf', 'joc_global_consistency', 'joc_global_trend', 'joc_global_pct_top3', 'joc_global_nb_courses', 'joc_global_total_races', 'joc_global_dnf_rate', 'joc_weighted_avg_pos', 'joc_weighted_recent_perf', 'joc_weighted_consistency', 'joc_weighted_pct_top3', 'joc_weighted_nb_courses', 'joc_weighted_total_races', 'joc_weighted_dnf_rate', 'joc_weighted_trend', 'joc_bytype_avg_pos', 'joc_bytype_recent_perf', 'joc_bytype_consistency', 'joc_bytype_trend', 'joc_bytype_pct_top3', 'joc_bytype_nb_courses', 'joc_bytype_total_races', 'joc_bytype_dnf_rate', 'che_form_momentum', 'che_improving_form', 'che_declining_form', 'che_high_consistency', 'che_recent_quality', 'che_elite_performer', 'che_regular_placer', 'joc_form_momentum', 'joc_improving_form', 'joc_high_consistency', 'joc_elite_performer', 'synergy_both_improving', 'synergy_both_consistent', 'synergy_both_elite', 'overall_momentum_score', 'high_momentum', 'class_drop_pct', 'purse_per_starter', 'purse_ratio', 'moving_up_in_class', 'class_shock_indicator', 'handicap_level_change', 'time_per_distance', 'time_vs_record', 'pace_rating', 'speed_figure_proxy', 'market_confidence_shift', 'last_race_improvement', 'bounce_risk', 'layoff_distance_interaction', 'trainer_change', 'connection_stability', 'field_size_change', 'distance_comfort', 'competition_level_shift', 'recence_x_class_drop', 'trainer_change_x_recence', 'distance_change_x_recence', 'che_by_type_avg_pos', 'che_by_type_recent_perf', 'che_by_type_consistency', 'che_by_type_trend', 'che_by_type_pct_top3', 'che_by_type_nb_courses', 'che_by_type_total_races', 'che_by_type_dnf_rate', 'joc_by_type_avg_pos', 'joc_by_type_recent_perf', 'joc_by_type_consistency', 'joc_by_type_trend', 'joc_by_type_pct_top3', 'joc_by_type_nb_courses', 'joc_by_type_total_races', 'joc_by_type_dnf_rate', 'quinte_career_starts', 'quinte_win_rate', 'quinte_top5_rate', 'avg_quinte_position', 'days_since_last_quinte', 'quinte_handicap_specialist', 'quinte_conditions_specialist', 'quinte_large_field_ability', 'quinte_track_condition_fit', 'is_handicap_quinte', 'handicap_division', 'purse_level_category', 'field_size_category', 'track_condition_PH', 'track_condition_DUR', 'track_condition_PS', 'track_condition_PSF', 'weather_clear', 'weather_rain', 'weather_cloudy', 'post_position_bias', 'post_position_track_bias', 'raw_tabnet_prediction', 'predicted_position_tabnet', 'raw_rf_prediction', 'predicted_position_rf', 'predicted_position_base']
2025-11-13 15:10:54,331 - race_prediction.competitive_field_analyzer - INFO - === CRITICAL COLUMNS ANALYSIS ===
2025-11-13 15:10:54,332 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ recordG: 15/15 non-null values (100.0%)
2025-11-13 15:10:54,332 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [0.0, 0.0, 0.0]
2025-11-13 15:10:54,332 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ hippo: 15/15 non-null values (100.0%)
2025-11-13 15:10:54,332 - race_prediction.competitive_field_analyzer - INFO -    Sample values: ['Paris-Vincennes', 'Paris-Vincennes', 'Paris-Vincennes']
2025-11-13 15:10:54,332 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ coursescheval: 15/15 non-null values (100.0%)
2025-11-13 15:10:54,332 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [62, 54, 48]
2025-11-13 15:10:54,332 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ victoirescheval: 15/15 non-null values (100.0%)
2025-11-13 15:10:54,332 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [10, 9, 7]
2025-11-13 15:10:54,332 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ placescheval: 15/15 non-null values (100.0%)
2025-11-13 15:10:54,332 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [30, 26, 23]
2025-11-13 15:10:54,332 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ gainsCarriere: 15/15 non-null values (100.0%)
2025-11-13 15:10:54,332 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [10216000, 23926200, 24329300]
2025-11-13 15:10:54,332 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ age: 15/15 non-null values (100.0%)
2025-11-13 15:10:54,332 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [7, 7, 7]
2025-11-13 15:10:54,332 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ derniereplace: 15/15 non-null values (100.0%)
2025-11-13 15:10:54,332 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [4.0, 6.0, 1.0]
2025-11-13 15:10:54,332 - race_prediction.competitive_field_analyzer - INFO - === RACE METADATA ===
2025-11-13 15:10:54,333 - race_prediction.competitive_field_analyzer - INFO - comp: 1617175
2025-11-13 15:10:54,333 - race_prediction.competitive_field_analyzer - INFO - hippo: Paris-Vincennes
2025-11-13 15:10:54,333 - race_prediction.competitive_field_analyzer - INFO - dist: 2700
2025-11-13 15:10:54,333 - race_prediction.competitive_field_analyzer - INFO - typec: Attel√©
2025-11-13 15:10:54,333 - race_prediction.competitive_field_analyzer - INFO - partant: 15
2025-11-13 15:10:54,333 - race_prediction.competitive_field_analyzer - INFO - === SAMPLE RACE DATA ===
2025-11-13 15:10:54,333 - race_prediction.competitive_field_analyzer - INFO - Sample data (columns: ['numero', 'cheval', 'recordG', 'hippo', 'coursescheval']):
2025-11-13 15:10:54,333 - race_prediction.competitive_field_analyzer - INFO -   Horse 0: {'numero': 1, 'cheval': 'Un Mec Paasloo', 'recordG': 0.0, 'hippo': 'Paris-Vincennes', 'coursescheval': 62}
2025-11-13 15:10:54,333 - race_prediction.competitive_field_analyzer - INFO -   Horse 1: {'numero': 2, 'cheval': 'Cool Kronos', 'recordG': 0.0, 'hippo': 'Paris-Vincennes', 'coursescheval': 54}
2025-11-13 15:10:54,333 - race_prediction.competitive_field_analyzer - INFO -   Horse 2: {'numero': 3, 'cheval': 'Power Doc', 'recordG': 0.0, 'hippo': 'Paris-Vincennes', 'coursescheval': 48}
2025-11-13 15:10:54,333 - race_prediction.competitive_field_analyzer - INFO - === END COMPETITIVE ANALYSIS DEBUG ===

2025-11-13 15:10:54,333 - race_prediction.competitive_field_analyzer - INFO - === RETRIEVING HISTORICAL DATA ===
2025-11-13 15:10:54,333 - race_prediction.competitive_field_analyzer - INFO - Fetching historical data for 15 horses: [1471793, 1451537, 1451535, 1389387, 1398609, 1450371, 1345331, 1490438, 1389845, 1337803, 1458251, 1389366, 1433230, 1467198, 1430681]
2025-11-13 15:10:54,334 - race_prediction.competitive_field_analyzer - INFO - Batch querying historical data for 15 horses: [1471793, 1451537, 1451535, 1389387, 1398609, 1450371, 1345331, 1490438, 1389845, 1337803, 1458251, 1389366, 1433230, 1467198, 1430681]
2025-11-13 15:11:05,475 - race_prediction.competitive_field_analyzer - INFO - Batch query completed in 11.14s, found 186 total records
2025-11-13 15:11:05,483 - race_prediction.competitive_field_analyzer - INFO - Batch query retrieved 186 total historical races
2025-11-13 15:11:05,483 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS PER HORSE ===
2025-11-13 15:11:05,483 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1471793: 13 historical races found
2025-11-13 15:11:05,483 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1451537: 12 historical races found
2025-11-13 15:11:05,483 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1451535: 13 historical races found
2025-11-13 15:11:05,483 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1389387: 13 historical races found
2025-11-13 15:11:05,483 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1398609: 11 historical races found
2025-11-13 15:11:05,483 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1450371: 12 historical races found
2025-11-13 15:11:05,483 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1345331: 11 historical races found
2025-11-13 15:11:05,483 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1490438: 13 historical races found
2025-11-13 15:11:05,483 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1389845: 18 historical races found
2025-11-13 15:11:05,483 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1337803: 11 historical races found
2025-11-13 15:11:05,483 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1458251: 11 historical races found
2025-11-13 15:11:05,483 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1389366: 10 historical races found
2025-11-13 15:11:05,484 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1433230: 14 historical races found
2025-11-13 15:11:05,484 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1467198: 12 historical races found
2025-11-13 15:11:05,484 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1430681: 12 historical races found
2025-11-13 15:11:05,484 - race_prediction.competitive_field_analyzer - INFO - Retrieved 186 total historical races
2025-11-13 15:11:05,484 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS BY HORSE ===
2025-11-13 15:11:05,484 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1471793: 13 historical races
2025-11-13 15:11:05,484 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1451537: 12 historical races
2025-11-13 15:11:05,484 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1451535: 13 historical races
2025-11-13 15:11:05,484 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1389387: 13 historical races
2025-11-13 15:11:05,484 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1398609: 11 historical races
2025-11-13 15:11:05,484 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1450371: 12 historical races
2025-11-13 15:11:05,484 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1345331: 11 historical races
2025-11-13 15:11:05,484 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1490438: 13 historical races
2025-11-13 15:11:05,484 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1389845: 18 historical races
2025-11-13 15:11:05,484 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1337803: 11 historical races
2025-11-13 15:11:05,484 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1458251: 11 historical races
2025-11-13 15:11:05,484 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1389366: 10 historical races
2025-11-13 15:11:05,484 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1433230: 14 historical races
2025-11-13 15:11:05,484 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1467198: 12 historical races
2025-11-13 15:11:05,484 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1430681: 12 historical races
2025-11-13 15:11:05,484 - race_prediction.competitive_field_analyzer - INFO - === END HISTORICAL DATA RETRIEVAL ===

2025-11-13 15:11:05,484 - race_prediction.competitive_field_analyzer - INFO - === EARNINGS QUALITY ANALYSIS ===
2025-11-13 15:11:05,484 - race_prediction.competitive_field_analyzer - INFO - Valid earnings data: 15/15 horses
2025-11-13 15:11:05,484 - race_prediction.competitive_field_analyzer - INFO - Sample earnings per race: ['164,774', '443,078', '506,860']
2025-11-13 15:11:05,484 - race_prediction.competitive_field_analyzer - INFO - Field earnings stats: avg=459,555, max=893,738
2025-11-13 15:11:05,485 - race_prediction.competitive_field_analyzer - INFO - === TRACK SPECIALIZATION ANALYSIS ===
2025-11-13 15:11:05,485 - race_prediction.competitive_field_analyzer - INFO - Horses with reliable venue data (3+ races): 0/15
2025-11-13 15:11:05,485 - race_prediction.competitive_field_analyzer - INFO - === FORM MOMENTUM ANALYSIS ===
2025-11-13 15:11:05,486 - race_prediction.competitive_field_analyzer - INFO - Field avg horse trend: 4.031, recent perf: 7.76
2025-11-13 15:11:05,486 - race_prediction.competitive_field_analyzer - INFO - Field avg jockey trend: -0.841
2025-11-13 15:11:05,486 - race_prediction.competitive_field_analyzer - INFO - Horses with improving form: 3/15
2025-11-13 15:11:05,486 - race_prediction.competitive_field_analyzer - INFO - === HOT CONNECTIONS ANALYSIS ===
2025-11-13 15:11:05,486 - race_prediction.competitive_field_analyzer - INFO - Jockeys with wins today: 0/15
2025-11-13 15:11:05,486 - race_prediction.competitive_field_analyzer - INFO - Trainers with wins today: 0/15
2025-11-13 15:11:05,486 - race_prediction.competitive_field_analyzer - INFO - === DISTANCE COMFORT ANALYSIS ===
2025-11-13 15:11:05,486 - race_prediction.competitive_field_analyzer - INFO - Current race distance: 2700m
2025-11-13 15:11:05,486 - race_prediction.competitive_field_analyzer - INFO - Horses with similar recent distance: 13/15
2025-11-13 15:11:05,486 - race_prediction.competitive_field_analyzer - INFO - === REALISTIC COMPETITIVE SCORING ===
2025-11-13 15:11:05,487 - race_prediction.competitive_field_analyzer - INFO - üìä COMPETITIVE ANALYSIS SUMMARY:
2025-11-13 15:11:05,487 - race_prediction.competitive_field_analyzer - INFO -    Total competitive races: 186
2025-11-13 15:11:05,487 - race_prediction.competitive_field_analyzer - INFO -    Horses with historical data: 15/15
2025-11-13 15:11:05,487 - race_prediction.competitive_field_analyzer - INFO -    Average races per horse: 12.4
2025-11-13 15:11:05,500 - race_prediction.quinte_prediction_storage - INFO - Stored 15 horses for Quint√© race 1617175
2025-11-13 15:11:07,521 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE ANALYSIS DEBUG ===
2025-11-13 15:11:07,521 - race_prediction.competitive_field_analyzer - INFO - Analyzing competitive field for race with 16 horses
2025-11-13 15:11:07,521 - race_prediction.competitive_field_analyzer - INFO - Race data shape: (16, 280)
2025-11-13 15:11:07,521 - race_prediction.competitive_field_analyzer - INFO - Available columns: ['id', 'comp', 'jour', 'hippo', 'reun', 'prix', 'prixnom', 'typec', 'partant', 'dist', 'handi', 'groupe', 'quinte', 'natpis', 'meteo', 'corde', 'temperature', 'forceVent', 'directionVent', 'nebulosite', 'prediction_results', 'actual_results', 'created_at', 'updated_at', 'processed_data', 'cheque', 'handi_raw', 'reclam', 'sex', 'tempscourse', 'handicap_level_score', 'cl', 'numero', 'cheval', 'age', 'cotedirect', 'coteprob', 'recence', 'ecar', 'defoeil', 'defoeilPrec', 'musiqueche', 'musiquejoc', 'entraineur', 'coursescheval', 'victoirescheval', 'placescheval', 'dernierealloc', 'derniernbpartants', 'dernieredist', 'derniereplace', 'dernierecote', 'dernierEnt', 'proprietaire', 'poidmont', 'pourcVictJockHippo', 'pourcPlaceJockHippo', 'pourcVictChevalHippo', 'pourcPlaceChevalHippo', 'tempstot', 'vha', 'recordG', 'txreclam', 'dernierTxreclam', 'gainsCarriere', 'gainsAnneeEnCours', 'handicapDistance', 'handicapPoids', 'TxVictCouple', 'nbVictCouple', 'nbPlaceCouple', 'idche', 'idJockey', 'idEntraineur', 'defFirstTime', 'oeilFirstTime', 'oeil', 'dernierOeil', 'ratio_victoires', 'ratio_places', 'gains_par_course', 'efficacite_couple', 'regularite_couple', 'progression_couple', 'perf_cheval_hippo', 'perf_jockey_hippo', 'trainer_victoires', 'trainer_places', 'trainer_courses', 'trainer_winrate', 'trainer_placerate', 'trainer_quality_score', 'trainer_experience_level', 'handicap_poids', 'handicap_dist', 'prec_handicap_poids', 'prec_handicap_dist', 'handicap_poids_change', 'handicap_poids_increased', 'handicap_poids_decreased', 'handicap_dist_change', 'handicap_dist_increased', 'handicap_dist_decreased', 'total_handicap', 'handicap_momentum', 'last_race_position', 'last_race_distance', 'distance_change', 'distance_change_pct', 'distance_increased', 'distance_decreased', 'same_distance', 'corde_change', 'corde_improved', 'corde_worsened', 'last_race_top3', 'last_race_won', 'blinkers_first_time', 'has_blinkers', 'has_standard_blinkers', 'has_australian_blinkers', 'blinkers_added', 'blinkers_removed', 'blinkers_type_changed', 'blinkers_any_change', 'blinkers_high_impact_change', 'shoeing_first_time', 'fully_shod', 'front_shod_only', 'back_shod_only', 'barefoot', 'shoeing_changed', 'barefoot_to_shod', 'shod_to_barefoot', 'major_shoeing_change', 'shoeing_complexity', 'multiple_equipment_changes', 'equipment_momentum_score', 'high_equipment_momentum', 'multiple_first_time_changes', 'equipment_optimization_score', 'career_strike_rate', 'earnings_per_race', 'earnings_trend', 'last_race_position_normalized', 'last_race_odds_normalized', 'last_race_field_size_factor', 'distance_consistency', 'vha_normalized', 'claiming_tax_trend', 'class_stability', 'che_global_avg_pos', 'che_global_recent_perf', 'che_global_consistency', 'che_global_trend', 'che_global_pct_top3', 'che_global_nb_courses', 'che_global_total_races', 'che_global_dnf_rate', 'che_weighted_avg_pos', 'che_weighted_recent_perf', 'che_weighted_consistency', 'che_weighted_pct_top3', 'che_weighted_nb_courses', 'che_weighted_total_races', 'che_weighted_dnf_rate', 'che_weighted_trend', 'che_bytype_avg_pos', 'che_bytype_recent_perf', 'che_bytype_consistency', 'che_bytype_trend', 'che_bytype_pct_top3', 'che_bytype_nb_courses', 'che_bytype_total_races', 'che_bytype_dnf_rate', 'joc_global_avg_pos', 'joc_global_recent_perf', 'joc_global_consistency', 'joc_global_trend', 'joc_global_pct_top3', 'joc_global_nb_courses', 'joc_global_total_races', 'joc_global_dnf_rate', 'joc_weighted_avg_pos', 'joc_weighted_recent_perf', 'joc_weighted_consistency', 'joc_weighted_pct_top3', 'joc_weighted_nb_courses', 'joc_weighted_total_races', 'joc_weighted_dnf_rate', 'joc_weighted_trend', 'joc_bytype_avg_pos', 'joc_bytype_recent_perf', 'joc_bytype_consistency', 'joc_bytype_trend', 'joc_bytype_pct_top3', 'joc_bytype_nb_courses', 'joc_bytype_total_races', 'joc_bytype_dnf_rate', 'che_form_momentum', 'che_improving_form', 'che_declining_form', 'che_high_consistency', 'che_recent_quality', 'che_elite_performer', 'che_regular_placer', 'joc_form_momentum', 'joc_improving_form', 'joc_high_consistency', 'joc_elite_performer', 'synergy_both_improving', 'synergy_both_consistent', 'synergy_both_elite', 'overall_momentum_score', 'high_momentum', 'class_drop_pct', 'purse_per_starter', 'purse_ratio', 'moving_up_in_class', 'class_shock_indicator', 'handicap_level_change', 'time_per_distance', 'time_vs_record', 'pace_rating', 'speed_figure_proxy', 'market_confidence_shift', 'last_race_improvement', 'bounce_risk', 'layoff_distance_interaction', 'trainer_change', 'connection_stability', 'field_size_change', 'distance_comfort', 'competition_level_shift', 'recence_x_class_drop', 'trainer_change_x_recence', 'distance_change_x_recence', 'che_by_type_avg_pos', 'che_by_type_recent_perf', 'che_by_type_consistency', 'che_by_type_trend', 'che_by_type_pct_top3', 'che_by_type_nb_courses', 'che_by_type_total_races', 'che_by_type_dnf_rate', 'joc_by_type_avg_pos', 'joc_by_type_recent_perf', 'joc_by_type_consistency', 'joc_by_type_trend', 'joc_by_type_pct_top3', 'joc_by_type_nb_courses', 'joc_by_type_total_races', 'joc_by_type_dnf_rate', 'quinte_career_starts', 'quinte_win_rate', 'quinte_top5_rate', 'avg_quinte_position', 'days_since_last_quinte', 'quinte_handicap_specialist', 'quinte_conditions_specialist', 'quinte_large_field_ability', 'quinte_track_condition_fit', 'is_handicap_quinte', 'handicap_division', 'purse_level_category', 'field_size_category', 'track_condition_PH', 'track_condition_DUR', 'track_condition_PS', 'track_condition_PSF', 'weather_clear', 'weather_rain', 'weather_cloudy', 'post_position_bias', 'post_position_track_bias', 'raw_tabnet_prediction', 'predicted_position_tabnet', 'raw_rf_prediction', 'predicted_position_rf', 'predicted_position_base']
2025-11-13 15:11:07,521 - race_prediction.competitive_field_analyzer - INFO - === CRITICAL COLUMNS ANALYSIS ===
2025-11-13 15:11:07,521 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ recordG: 16/16 non-null values (100.0%)
2025-11-13 15:11:07,522 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [0.0, 0.0, 0.0]
2025-11-13 15:11:07,522 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ hippo: 16/16 non-null values (100.0%)
2025-11-13 15:11:07,522 - race_prediction.competitive_field_analyzer - INFO -    Sample values: ['Auteuil', 'Auteuil', 'Auteuil']
2025-11-13 15:11:07,522 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ coursescheval: 16/16 non-null values (100.0%)
2025-11-13 15:11:07,522 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [20, 25, 8]
2025-11-13 15:11:07,522 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ victoirescheval: 16/16 non-null values (100.0%)
2025-11-13 15:11:07,522 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [3, 4, 3]
2025-11-13 15:11:07,522 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ placescheval: 16/16 non-null values (100.0%)
2025-11-13 15:11:07,522 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [7, 8, 4]
2025-11-13 15:11:07,522 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ gainsCarriere: 16/16 non-null values (100.0%)
2025-11-13 15:11:07,522 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [6640000, 4414500, 7328500]
2025-11-13 15:11:07,522 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ age: 16/16 non-null values (100.0%)
2025-11-13 15:11:07,522 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [4, 4, 4]
2025-11-13 15:11:07,522 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ derniereplace: 16/16 non-null values (100.0%)
2025-11-13 15:11:07,522 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [1.0, 2.0, 10.0]
2025-11-13 15:11:07,522 - race_prediction.competitive_field_analyzer - INFO - === RACE METADATA ===
2025-11-13 15:11:07,522 - race_prediction.competitive_field_analyzer - INFO - comp: 1607476
2025-11-13 15:11:07,522 - race_prediction.competitive_field_analyzer - INFO - hippo: Auteuil
2025-11-13 15:11:07,522 - race_prediction.competitive_field_analyzer - INFO - dist: 3600
2025-11-13 15:11:07,522 - race_prediction.competitive_field_analyzer - INFO - typec: Haies
2025-11-13 15:11:07,522 - race_prediction.competitive_field_analyzer - INFO - partant: 16
2025-11-13 15:11:07,522 - race_prediction.competitive_field_analyzer - INFO - === SAMPLE RACE DATA ===
2025-11-13 15:11:07,523 - race_prediction.competitive_field_analyzer - INFO - Sample data (columns: ['numero', 'cheval', 'recordG', 'hippo', 'coursescheval']):
2025-11-13 15:11:07,523 - race_prediction.competitive_field_analyzer - INFO -   Horse 0: {'numero': 1, 'cheval': 'Grey Fighter', 'recordG': 0.0, 'hippo': 'Auteuil', 'coursescheval': 20}
2025-11-13 15:11:07,523 - race_prediction.competitive_field_analyzer - INFO -   Horse 1: {'numero': 2, 'cheval': 'Shalaa Dancer', 'recordG': 0.0, 'hippo': 'Auteuil', 'coursescheval': 25}
2025-11-13 15:11:07,523 - race_prediction.competitive_field_analyzer - INFO -   Horse 2: {'numero': 3, 'cheval': 'Luzeraise', 'recordG': 0.0, 'hippo': 'Auteuil', 'coursescheval': 8}
2025-11-13 15:11:07,523 - race_prediction.competitive_field_analyzer - INFO - === END COMPETITIVE ANALYSIS DEBUG ===

2025-11-13 15:11:07,523 - race_prediction.competitive_field_analyzer - INFO - === RETRIEVING HISTORICAL DATA ===
2025-11-13 15:11:07,523 - race_prediction.competitive_field_analyzer - INFO - Fetching historical data for 16 horses: [1653553, 1654634, 1724352, 1698969, 1696568, 1700430, 1717543, 1724968, 1698118, 1698982, 1699665, 1731703, 1720923, 1664891, 1762007, 1713242]
2025-11-13 15:11:07,524 - race_prediction.competitive_field_analyzer - INFO - Batch querying historical data for 16 horses: [1653553, 1654634, 1724352, 1698969, 1696568, 1700430, 1717543, 1724968, 1698118, 1698982, 1699665, 1731703, 1720923, 1664891, 1762007, 1713242]
2025-11-13 15:11:18,343 - race_prediction.competitive_field_analyzer - INFO - Batch query completed in 10.82s, found 119 total records
2025-11-13 15:11:18,349 - race_prediction.competitive_field_analyzer - INFO - Batch query retrieved 119 total historical races
2025-11-13 15:11:18,349 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS PER HORSE ===
2025-11-13 15:11:18,349 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1653553: 7 historical races found
2025-11-13 15:11:18,349 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1654634: 11 historical races found
2025-11-13 15:11:18,349 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1724352: 8 historical races found
2025-11-13 15:11:18,349 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1698969: 11 historical races found
2025-11-13 15:11:18,349 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1696568: 6 historical races found
2025-11-13 15:11:18,349 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1700430: 8 historical races found
2025-11-13 15:11:18,349 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1717543: 4 historical races found
2025-11-13 15:11:18,349 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1724968: 5 historical races found
2025-11-13 15:11:18,349 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1698118: 8 historical races found
2025-11-13 15:11:18,349 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1698982: 8 historical races found
2025-11-13 15:11:18,349 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1699665: 5 historical races found
2025-11-13 15:11:18,349 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1731703: 5 historical races found
2025-11-13 15:11:18,349 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1720923: 9 historical races found
2025-11-13 15:11:18,349 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1664891: 11 historical races found
2025-11-13 15:11:18,349 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1762007: 4 historical races found
2025-11-13 15:11:18,349 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1713242: 9 historical races found
2025-11-13 15:11:18,349 - race_prediction.competitive_field_analyzer - INFO - Retrieved 119 total historical races
2025-11-13 15:11:18,349 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS BY HORSE ===
2025-11-13 15:11:18,349 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1653553: 7 historical races
2025-11-13 15:11:18,349 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1654634: 11 historical races
2025-11-13 15:11:18,349 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1724352: 8 historical races
2025-11-13 15:11:18,349 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1698969: 11 historical races
2025-11-13 15:11:18,349 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1696568: 6 historical races
2025-11-13 15:11:18,349 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1700430: 8 historical races
2025-11-13 15:11:18,349 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1717543: 4 historical races
2025-11-13 15:11:18,349 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1724968: 5 historical races
2025-11-13 15:11:18,349 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1698118: 8 historical races
2025-11-13 15:11:18,350 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1698982: 8 historical races
2025-11-13 15:11:18,350 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1699665: 5 historical races
2025-11-13 15:11:18,350 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1731703: 5 historical races
2025-11-13 15:11:18,350 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1720923: 9 historical races
2025-11-13 15:11:18,350 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1664891: 11 historical races
2025-11-13 15:11:18,350 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1762007: 4 historical races
2025-11-13 15:11:18,350 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1713242: 9 historical races
2025-11-13 15:11:18,350 - race_prediction.competitive_field_analyzer - INFO - === END HISTORICAL DATA RETRIEVAL ===

2025-11-13 15:11:18,350 - race_prediction.competitive_field_analyzer - INFO - === EARNINGS QUALITY ANALYSIS ===
2025-11-13 15:11:18,350 - race_prediction.competitive_field_analyzer - INFO - Valid earnings data: 16/16 horses
2025-11-13 15:11:18,350 - race_prediction.competitive_field_analyzer - INFO - Sample earnings per race: ['332,000', '176,580', '916,062']
2025-11-13 15:11:18,351 - race_prediction.competitive_field_analyzer - INFO - Field earnings stats: avg=494,094, max=916,062
2025-11-13 15:11:18,351 - race_prediction.competitive_field_analyzer - INFO - === TRACK SPECIALIZATION ANALYSIS ===
2025-11-13 15:11:18,351 - race_prediction.competitive_field_analyzer - INFO - Horses with reliable venue data (3+ races): 0/16
2025-11-13 15:11:18,352 - race_prediction.competitive_field_analyzer - INFO - === FORM MOMENTUM ANALYSIS ===
2025-11-13 15:11:18,352 - race_prediction.competitive_field_analyzer - INFO - Field avg horse trend: -1.077, recent perf: 6.29
2025-11-13 15:11:18,352 - race_prediction.competitive_field_analyzer - INFO - Field avg jockey trend: -1.309
2025-11-13 15:11:18,352 - race_prediction.competitive_field_analyzer - INFO - Horses with improving form: 2/16
2025-11-13 15:11:18,352 - race_prediction.competitive_field_analyzer - INFO - === HOT CONNECTIONS ANALYSIS ===
2025-11-13 15:11:18,352 - race_prediction.competitive_field_analyzer - INFO - Jockeys with wins today: 0/16
2025-11-13 15:11:18,352 - race_prediction.competitive_field_analyzer - INFO - Trainers with wins today: 0/16
2025-11-13 15:11:18,353 - race_prediction.competitive_field_analyzer - INFO - === DISTANCE COMFORT ANALYSIS ===
2025-11-13 15:11:18,353 - race_prediction.competitive_field_analyzer - INFO - Current race distance: 3600m
2025-11-13 15:11:18,353 - race_prediction.competitive_field_analyzer - INFO - Horses with similar recent distance: 12/16
2025-11-13 15:11:18,353 - race_prediction.competitive_field_analyzer - INFO - === REALISTIC COMPETITIVE SCORING ===
2025-11-13 15:11:18,353 - race_prediction.competitive_field_analyzer - INFO - üìä COMPETITIVE ANALYSIS SUMMARY:
2025-11-13 15:11:18,353 - race_prediction.competitive_field_analyzer - INFO -    Total competitive races: 119
2025-11-13 15:11:18,353 - race_prediction.competitive_field_analyzer - INFO -    Horses with historical data: 16/16
2025-11-13 15:11:18,353 - race_prediction.competitive_field_analyzer - INFO -    Average races per horse: 7.4
2025-11-13 15:11:18,366 - race_prediction.quinte_prediction_storage - INFO - Stored 16 horses for Quint√© race 1607476
2025-11-13 15:11:20,646 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE ANALYSIS DEBUG ===
2025-11-13 15:11:20,646 - race_prediction.competitive_field_analyzer - INFO - Analyzing competitive field for race with 16 horses
2025-11-13 15:11:20,646 - race_prediction.competitive_field_analyzer - INFO - Race data shape: (16, 280)
2025-11-13 15:11:20,646 - race_prediction.competitive_field_analyzer - INFO - Available columns: ['id', 'comp', 'jour', 'hippo', 'reun', 'prix', 'prixnom', 'typec', 'partant', 'dist', 'handi', 'groupe', 'quinte', 'natpis', 'meteo', 'corde', 'temperature', 'forceVent', 'directionVent', 'nebulosite', 'prediction_results', 'actual_results', 'created_at', 'updated_at', 'processed_data', 'cheque', 'handi_raw', 'reclam', 'sex', 'tempscourse', 'handicap_level_score', 'cl', 'numero', 'cheval', 'age', 'cotedirect', 'coteprob', 'recence', 'ecar', 'defoeil', 'defoeilPrec', 'musiqueche', 'musiquejoc', 'entraineur', 'coursescheval', 'victoirescheval', 'placescheval', 'dernierealloc', 'derniernbpartants', 'dernieredist', 'derniereplace', 'dernierecote', 'dernierEnt', 'proprietaire', 'poidmont', 'pourcVictJockHippo', 'pourcPlaceJockHippo', 'pourcVictChevalHippo', 'pourcPlaceChevalHippo', 'tempstot', 'vha', 'recordG', 'txreclam', 'dernierTxreclam', 'gainsCarriere', 'gainsAnneeEnCours', 'handicapDistance', 'handicapPoids', 'TxVictCouple', 'nbVictCouple', 'nbPlaceCouple', 'idche', 'idJockey', 'idEntraineur', 'defFirstTime', 'oeilFirstTime', 'oeil', 'dernierOeil', 'ratio_victoires', 'ratio_places', 'gains_par_course', 'efficacite_couple', 'regularite_couple', 'progression_couple', 'perf_cheval_hippo', 'perf_jockey_hippo', 'trainer_victoires', 'trainer_places', 'trainer_courses', 'trainer_winrate', 'trainer_placerate', 'trainer_quality_score', 'trainer_experience_level', 'handicap_poids', 'handicap_dist', 'prec_handicap_poids', 'prec_handicap_dist', 'handicap_poids_change', 'handicap_poids_increased', 'handicap_poids_decreased', 'handicap_dist_change', 'handicap_dist_increased', 'handicap_dist_decreased', 'total_handicap', 'handicap_momentum', 'last_race_position', 'last_race_distance', 'distance_change', 'distance_change_pct', 'distance_increased', 'distance_decreased', 'same_distance', 'corde_change', 'corde_improved', 'corde_worsened', 'last_race_top3', 'last_race_won', 'blinkers_first_time', 'has_blinkers', 'has_standard_blinkers', 'has_australian_blinkers', 'blinkers_added', 'blinkers_removed', 'blinkers_type_changed', 'blinkers_any_change', 'blinkers_high_impact_change', 'shoeing_first_time', 'fully_shod', 'front_shod_only', 'back_shod_only', 'barefoot', 'shoeing_changed', 'barefoot_to_shod', 'shod_to_barefoot', 'major_shoeing_change', 'shoeing_complexity', 'multiple_equipment_changes', 'equipment_momentum_score', 'high_equipment_momentum', 'multiple_first_time_changes', 'equipment_optimization_score', 'career_strike_rate', 'earnings_per_race', 'earnings_trend', 'last_race_position_normalized', 'last_race_odds_normalized', 'last_race_field_size_factor', 'distance_consistency', 'vha_normalized', 'claiming_tax_trend', 'class_stability', 'che_global_avg_pos', 'che_global_recent_perf', 'che_global_consistency', 'che_global_trend', 'che_global_pct_top3', 'che_global_nb_courses', 'che_global_total_races', 'che_global_dnf_rate', 'che_weighted_avg_pos', 'che_weighted_recent_perf', 'che_weighted_consistency', 'che_weighted_pct_top3', 'che_weighted_nb_courses', 'che_weighted_total_races', 'che_weighted_dnf_rate', 'che_weighted_trend', 'che_bytype_avg_pos', 'che_bytype_recent_perf', 'che_bytype_consistency', 'che_bytype_trend', 'che_bytype_pct_top3', 'che_bytype_nb_courses', 'che_bytype_total_races', 'che_bytype_dnf_rate', 'joc_global_avg_pos', 'joc_global_recent_perf', 'joc_global_consistency', 'joc_global_trend', 'joc_global_pct_top3', 'joc_global_nb_courses', 'joc_global_total_races', 'joc_global_dnf_rate', 'joc_weighted_avg_pos', 'joc_weighted_recent_perf', 'joc_weighted_consistency', 'joc_weighted_pct_top3', 'joc_weighted_nb_courses', 'joc_weighted_total_races', 'joc_weighted_dnf_rate', 'joc_weighted_trend', 'joc_bytype_avg_pos', 'joc_bytype_recent_perf', 'joc_bytype_consistency', 'joc_bytype_trend', 'joc_bytype_pct_top3', 'joc_bytype_nb_courses', 'joc_bytype_total_races', 'joc_bytype_dnf_rate', 'che_form_momentum', 'che_improving_form', 'che_declining_form', 'che_high_consistency', 'che_recent_quality', 'che_elite_performer', 'che_regular_placer', 'joc_form_momentum', 'joc_improving_form', 'joc_high_consistency', 'joc_elite_performer', 'synergy_both_improving', 'synergy_both_consistent', 'synergy_both_elite', 'overall_momentum_score', 'high_momentum', 'class_drop_pct', 'purse_per_starter', 'purse_ratio', 'moving_up_in_class', 'class_shock_indicator', 'handicap_level_change', 'time_per_distance', 'time_vs_record', 'pace_rating', 'speed_figure_proxy', 'market_confidence_shift', 'last_race_improvement', 'bounce_risk', 'layoff_distance_interaction', 'trainer_change', 'connection_stability', 'field_size_change', 'distance_comfort', 'competition_level_shift', 'recence_x_class_drop', 'trainer_change_x_recence', 'distance_change_x_recence', 'che_by_type_avg_pos', 'che_by_type_recent_perf', 'che_by_type_consistency', 'che_by_type_trend', 'che_by_type_pct_top3', 'che_by_type_nb_courses', 'che_by_type_total_races', 'che_by_type_dnf_rate', 'joc_by_type_avg_pos', 'joc_by_type_recent_perf', 'joc_by_type_consistency', 'joc_by_type_trend', 'joc_by_type_pct_top3', 'joc_by_type_nb_courses', 'joc_by_type_total_races', 'joc_by_type_dnf_rate', 'quinte_career_starts', 'quinte_win_rate', 'quinte_top5_rate', 'avg_quinte_position', 'days_since_last_quinte', 'quinte_handicap_specialist', 'quinte_conditions_specialist', 'quinte_large_field_ability', 'quinte_track_condition_fit', 'is_handicap_quinte', 'handicap_division', 'purse_level_category', 'field_size_category', 'track_condition_PH', 'track_condition_DUR', 'track_condition_PS', 'track_condition_PSF', 'weather_clear', 'weather_rain', 'weather_cloudy', 'post_position_bias', 'post_position_track_bias', 'raw_tabnet_prediction', 'predicted_position_tabnet', 'raw_rf_prediction', 'predicted_position_rf', 'predicted_position_base']
2025-11-13 15:11:20,646 - race_prediction.competitive_field_analyzer - INFO - === CRITICAL COLUMNS ANALYSIS ===
2025-11-13 15:11:20,646 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ recordG: 16/16 non-null values (100.0%)
2025-11-13 15:11:20,646 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [0.0, 0.0, 0.0]
2025-11-13 15:11:20,647 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ hippo: 16/16 non-null values (100.0%)
2025-11-13 15:11:20,647 - race_prediction.competitive_field_analyzer - INFO -    Sample values: ['Chantilly', 'Chantilly', 'Chantilly']
2025-11-13 15:11:20,647 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ coursescheval: 16/16 non-null values (100.0%)
2025-11-13 15:11:20,647 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [16, 28, 18]
2025-11-13 15:11:20,647 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ victoirescheval: 16/16 non-null values (100.0%)
2025-11-13 15:11:20,647 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [2, 4, 2]
2025-11-13 15:11:20,647 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ placescheval: 16/16 non-null values (100.0%)
2025-11-13 15:11:20,647 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [5, 11, 9]
2025-11-13 15:11:20,647 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ gainsCarriere: 16/16 non-null values (100.0%)
2025-11-13 15:11:20,647 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [7929000, 15456100, 9414400]
2025-11-13 15:11:20,647 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ age: 16/16 non-null values (100.0%)
2025-11-13 15:11:20,647 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [4, 5, 4]
2025-11-13 15:11:20,647 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ derniereplace: 16/16 non-null values (100.0%)
2025-11-13 15:11:20,647 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [4, 1, 3]
2025-11-13 15:11:20,647 - race_prediction.competitive_field_analyzer - INFO - === RACE METADATA ===
2025-11-13 15:11:20,647 - race_prediction.competitive_field_analyzer - INFO - comp: 1607452
2025-11-13 15:11:20,647 - race_prediction.competitive_field_analyzer - INFO - hippo: Chantilly
2025-11-13 15:11:20,647 - race_prediction.competitive_field_analyzer - INFO - dist: 1600
2025-11-13 15:11:20,647 - race_prediction.competitive_field_analyzer - INFO - typec: Plat
2025-11-13 15:11:20,647 - race_prediction.competitive_field_analyzer - INFO - partant: 16
2025-11-13 15:11:20,647 - race_prediction.competitive_field_analyzer - INFO - === SAMPLE RACE DATA ===
2025-11-13 15:11:20,647 - race_prediction.competitive_field_analyzer - INFO - Sample data (columns: ['numero', 'cheval', 'recordG', 'hippo', 'coursescheval']):
2025-11-13 15:11:20,648 - race_prediction.competitive_field_analyzer - INFO -   Horse 0: {'numero': 1, 'cheval': 'Babakool', 'recordG': 0.0, 'hippo': 'Chantilly', 'coursescheval': 16}
2025-11-13 15:11:20,648 - race_prediction.competitive_field_analyzer - INFO -   Horse 1: {'numero': 2, 'cheval': 'Alva', 'recordG': 0.0, 'hippo': 'Chantilly', 'coursescheval': 28}
2025-11-13 15:11:20,648 - race_prediction.competitive_field_analyzer - INFO -   Horse 2: {'numero': 3, 'cheval': 'Tortisambert', 'recordG': 0.0, 'hippo': 'Chantilly', 'coursescheval': 18}
2025-11-13 15:11:20,648 - race_prediction.competitive_field_analyzer - INFO - === END COMPETITIVE ANALYSIS DEBUG ===

2025-11-13 15:11:20,648 - race_prediction.competitive_field_analyzer - INFO - === RETRIEVING HISTORICAL DATA ===
2025-11-13 15:11:20,648 - race_prediction.competitive_field_analyzer - INFO - Fetching historical data for 16 horses: [1654085, 1559222, 1653990, 1545829, 1654567, 1559877, 1662833, 1732313, 1554365, 1655704, 1523574, 1666989, 1523504, 1653870, 1641065, 1654449]
2025-11-13 15:11:20,649 - race_prediction.competitive_field_analyzer - INFO - Batch querying historical data for 16 horses: [1654085, 1559222, 1653990, 1545829, 1654567, 1559877, 1662833, 1732313, 1554365, 1655704, 1523574, 1666989, 1523504, 1653870, 1641065, 1654449]
2025-11-13 15:11:32,620 - race_prediction.competitive_field_analyzer - INFO - Batch query completed in 11.97s, found 153 total records
2025-11-13 15:11:32,627 - race_prediction.competitive_field_analyzer - INFO - Batch query retrieved 153 total historical races
2025-11-13 15:11:32,627 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS PER HORSE ===
2025-11-13 15:11:32,627 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1654085: 6 historical races found
2025-11-13 15:11:32,627 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1559222: 9 historical races found
2025-11-13 15:11:32,627 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1653990: 10 historical races found
2025-11-13 15:11:32,627 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1545829: 18 historical races found
2025-11-13 15:11:32,627 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1654567: 9 historical races found
2025-11-13 15:11:32,627 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1559877: 12 historical races found
2025-11-13 15:11:32,627 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1662833: 9 historical races found
2025-11-13 15:11:32,627 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1732313: 6 historical races found
2025-11-13 15:11:32,627 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1554365: 12 historical races found
2025-11-13 15:11:32,627 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1655704: 8 historical races found
2025-11-13 15:11:32,627 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1523574: 9 historical races found
2025-11-13 15:11:32,627 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1666989: 5 historical races found
2025-11-13 15:11:32,627 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1523504: 7 historical races found
2025-11-13 15:11:32,627 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1653870: 15 historical races found
2025-11-13 15:11:32,627 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1641065: 11 historical races found
2025-11-13 15:11:32,627 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1654449: 7 historical races found
2025-11-13 15:11:32,627 - race_prediction.competitive_field_analyzer - INFO - Retrieved 153 total historical races
2025-11-13 15:11:32,627 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS BY HORSE ===
2025-11-13 15:11:32,627 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1654085: 6 historical races
2025-11-13 15:11:32,627 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1559222: 9 historical races
2025-11-13 15:11:32,627 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1653990: 10 historical races
2025-11-13 15:11:32,627 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1545829: 18 historical races
2025-11-13 15:11:32,627 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1654567: 9 historical races
2025-11-13 15:11:32,627 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1559877: 12 historical races
2025-11-13 15:11:32,627 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1662833: 9 historical races
2025-11-13 15:11:32,627 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1732313: 6 historical races
2025-11-13 15:11:32,627 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1554365: 12 historical races
2025-11-13 15:11:32,627 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1655704: 8 historical races
2025-11-13 15:11:32,627 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1523574: 9 historical races
2025-11-13 15:11:32,627 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1666989: 5 historical races
2025-11-13 15:11:32,627 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1523504: 7 historical races
2025-11-13 15:11:32,627 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1653870: 15 historical races
2025-11-13 15:11:32,627 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1641065: 11 historical races
2025-11-13 15:11:32,627 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1654449: 7 historical races
2025-11-13 15:11:32,627 - race_prediction.competitive_field_analyzer - INFO - === END HISTORICAL DATA RETRIEVAL ===

2025-11-13 15:11:32,628 - race_prediction.competitive_field_analyzer - INFO - === EARNINGS QUALITY ANALYSIS ===
2025-11-13 15:11:32,628 - race_prediction.competitive_field_analyzer - INFO - Valid earnings data: 16/16 horses
2025-11-13 15:11:32,628 - race_prediction.competitive_field_analyzer - INFO - Sample earnings per race: ['495,562', '552,004', '523,022']
2025-11-13 15:11:32,628 - race_prediction.competitive_field_analyzer - INFO - Field earnings stats: avg=440,587, max=596,623
2025-11-13 15:11:32,628 - race_prediction.competitive_field_analyzer - INFO - === TRACK SPECIALIZATION ANALYSIS ===
2025-11-13 15:11:32,628 - race_prediction.competitive_field_analyzer - INFO - Horses with reliable venue data (3+ races): 0/16
2025-11-13 15:11:32,629 - race_prediction.competitive_field_analyzer - INFO - === FORM MOMENTUM ANALYSIS ===
2025-11-13 15:11:32,629 - race_prediction.competitive_field_analyzer - INFO - Field avg horse trend: 0.714, recent perf: 8.25
2025-11-13 15:11:32,629 - race_prediction.competitive_field_analyzer - INFO - Field avg jockey trend: -1.273
2025-11-13 15:11:32,629 - race_prediction.competitive_field_analyzer - INFO - Horses with improving form: 5/16
2025-11-13 15:11:32,629 - race_prediction.competitive_field_analyzer - INFO - === HOT CONNECTIONS ANALYSIS ===
2025-11-13 15:11:32,630 - race_prediction.competitive_field_analyzer - INFO - Jockeys with wins today: 0/16
2025-11-13 15:11:32,630 - race_prediction.competitive_field_analyzer - INFO - Trainers with wins today: 0/16
2025-11-13 15:11:32,630 - race_prediction.competitive_field_analyzer - INFO - === DISTANCE COMFORT ANALYSIS ===
2025-11-13 15:11:32,630 - race_prediction.competitive_field_analyzer - INFO - Current race distance: 1600m
2025-11-13 15:11:32,630 - race_prediction.competitive_field_analyzer - INFO - Horses with similar recent distance: 15/16
2025-11-13 15:11:32,630 - race_prediction.competitive_field_analyzer - INFO - === REALISTIC COMPETITIVE SCORING ===
2025-11-13 15:11:32,630 - race_prediction.competitive_field_analyzer - INFO - üìä COMPETITIVE ANALYSIS SUMMARY:
2025-11-13 15:11:32,631 - race_prediction.competitive_field_analyzer - INFO -    Total competitive races: 153
2025-11-13 15:11:32,631 - race_prediction.competitive_field_analyzer - INFO -    Horses with historical data: 16/16
2025-11-13 15:11:32,631 - race_prediction.competitive_field_analyzer - INFO -    Average races per horse: 9.6
2025-11-13 15:11:32,644 - race_prediction.quinte_prediction_storage - INFO - Stored 16 horses for Quint√© race 1607452
2025-11-13 15:11:34,585 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE ANALYSIS DEBUG ===
2025-11-13 15:11:34,585 - race_prediction.competitive_field_analyzer - INFO - Analyzing competitive field for race with 16 horses
2025-11-13 15:11:34,585 - race_prediction.competitive_field_analyzer - INFO - Race data shape: (16, 280)
2025-11-13 15:11:34,585 - race_prediction.competitive_field_analyzer - INFO - Available columns: ['id', 'comp', 'jour', 'hippo', 'reun', 'prix', 'prixnom', 'typec', 'partant', 'dist', 'handi', 'groupe', 'quinte', 'natpis', 'meteo', 'corde', 'temperature', 'forceVent', 'directionVent', 'nebulosite', 'prediction_results', 'actual_results', 'created_at', 'updated_at', 'processed_data', 'cheque', 'handi_raw', 'reclam', 'sex', 'tempscourse', 'handicap_level_score', 'cl', 'numero', 'cheval', 'age', 'cotedirect', 'coteprob', 'recence', 'ecar', 'defoeil', 'defoeilPrec', 'musiqueche', 'musiquejoc', 'entraineur', 'coursescheval', 'victoirescheval', 'placescheval', 'dernierealloc', 'derniernbpartants', 'dernieredist', 'derniereplace', 'dernierecote', 'dernierEnt', 'proprietaire', 'poidmont', 'pourcVictJockHippo', 'pourcPlaceJockHippo', 'pourcVictChevalHippo', 'pourcPlaceChevalHippo', 'tempstot', 'vha', 'recordG', 'txreclam', 'dernierTxreclam', 'gainsCarriere', 'gainsAnneeEnCours', 'handicapDistance', 'handicapPoids', 'TxVictCouple', 'nbVictCouple', 'nbPlaceCouple', 'idche', 'idJockey', 'idEntraineur', 'defFirstTime', 'oeilFirstTime', 'oeil', 'dernierOeil', 'ratio_victoires', 'ratio_places', 'gains_par_course', 'efficacite_couple', 'regularite_couple', 'progression_couple', 'perf_cheval_hippo', 'perf_jockey_hippo', 'trainer_victoires', 'trainer_places', 'trainer_courses', 'trainer_winrate', 'trainer_placerate', 'trainer_quality_score', 'trainer_experience_level', 'handicap_poids', 'handicap_dist', 'prec_handicap_poids', 'prec_handicap_dist', 'handicap_poids_change', 'handicap_poids_increased', 'handicap_poids_decreased', 'handicap_dist_change', 'handicap_dist_increased', 'handicap_dist_decreased', 'total_handicap', 'handicap_momentum', 'last_race_position', 'last_race_distance', 'distance_change', 'distance_change_pct', 'distance_increased', 'distance_decreased', 'same_distance', 'corde_change', 'corde_improved', 'corde_worsened', 'last_race_top3', 'last_race_won', 'blinkers_first_time', 'has_blinkers', 'has_standard_blinkers', 'has_australian_blinkers', 'blinkers_added', 'blinkers_removed', 'blinkers_type_changed', 'blinkers_any_change', 'blinkers_high_impact_change', 'shoeing_first_time', 'fully_shod', 'front_shod_only', 'back_shod_only', 'barefoot', 'shoeing_changed', 'barefoot_to_shod', 'shod_to_barefoot', 'major_shoeing_change', 'shoeing_complexity', 'multiple_equipment_changes', 'equipment_momentum_score', 'high_equipment_momentum', 'multiple_first_time_changes', 'equipment_optimization_score', 'career_strike_rate', 'earnings_per_race', 'earnings_trend', 'last_race_position_normalized', 'last_race_odds_normalized', 'last_race_field_size_factor', 'distance_consistency', 'vha_normalized', 'claiming_tax_trend', 'class_stability', 'che_global_avg_pos', 'che_global_recent_perf', 'che_global_consistency', 'che_global_trend', 'che_global_pct_top3', 'che_global_nb_courses', 'che_global_total_races', 'che_global_dnf_rate', 'che_weighted_avg_pos', 'che_weighted_recent_perf', 'che_weighted_consistency', 'che_weighted_pct_top3', 'che_weighted_nb_courses', 'che_weighted_total_races', 'che_weighted_dnf_rate', 'che_weighted_trend', 'che_bytype_avg_pos', 'che_bytype_recent_perf', 'che_bytype_consistency', 'che_bytype_trend', 'che_bytype_pct_top3', 'che_bytype_nb_courses', 'che_bytype_total_races', 'che_bytype_dnf_rate', 'joc_global_avg_pos', 'joc_global_recent_perf', 'joc_global_consistency', 'joc_global_trend', 'joc_global_pct_top3', 'joc_global_nb_courses', 'joc_global_total_races', 'joc_global_dnf_rate', 'joc_weighted_avg_pos', 'joc_weighted_recent_perf', 'joc_weighted_consistency', 'joc_weighted_pct_top3', 'joc_weighted_nb_courses', 'joc_weighted_total_races', 'joc_weighted_dnf_rate', 'joc_weighted_trend', 'joc_bytype_avg_pos', 'joc_bytype_recent_perf', 'joc_bytype_consistency', 'joc_bytype_trend', 'joc_bytype_pct_top3', 'joc_bytype_nb_courses', 'joc_bytype_total_races', 'joc_bytype_dnf_rate', 'che_form_momentum', 'che_improving_form', 'che_declining_form', 'che_high_consistency', 'che_recent_quality', 'che_elite_performer', 'che_regular_placer', 'joc_form_momentum', 'joc_improving_form', 'joc_high_consistency', 'joc_elite_performer', 'synergy_both_improving', 'synergy_both_consistent', 'synergy_both_elite', 'overall_momentum_score', 'high_momentum', 'class_drop_pct', 'purse_per_starter', 'purse_ratio', 'moving_up_in_class', 'class_shock_indicator', 'handicap_level_change', 'time_per_distance', 'time_vs_record', 'pace_rating', 'speed_figure_proxy', 'market_confidence_shift', 'last_race_improvement', 'bounce_risk', 'layoff_distance_interaction', 'trainer_change', 'connection_stability', 'field_size_change', 'distance_comfort', 'competition_level_shift', 'recence_x_class_drop', 'trainer_change_x_recence', 'distance_change_x_recence', 'che_by_type_avg_pos', 'che_by_type_recent_perf', 'che_by_type_consistency', 'che_by_type_trend', 'che_by_type_pct_top3', 'che_by_type_nb_courses', 'che_by_type_total_races', 'che_by_type_dnf_rate', 'joc_by_type_avg_pos', 'joc_by_type_recent_perf', 'joc_by_type_consistency', 'joc_by_type_trend', 'joc_by_type_pct_top3', 'joc_by_type_nb_courses', 'joc_by_type_total_races', 'joc_by_type_dnf_rate', 'quinte_career_starts', 'quinte_win_rate', 'quinte_top5_rate', 'avg_quinte_position', 'days_since_last_quinte', 'quinte_handicap_specialist', 'quinte_conditions_specialist', 'quinte_large_field_ability', 'quinte_track_condition_fit', 'is_handicap_quinte', 'handicap_division', 'purse_level_category', 'field_size_category', 'track_condition_PH', 'track_condition_DUR', 'track_condition_PS', 'track_condition_PSF', 'weather_clear', 'weather_rain', 'weather_cloudy', 'post_position_bias', 'post_position_track_bias', 'raw_tabnet_prediction', 'predicted_position_tabnet', 'raw_rf_prediction', 'predicted_position_rf', 'predicted_position_base']
2025-11-13 15:11:34,585 - race_prediction.competitive_field_analyzer - INFO - === CRITICAL COLUMNS ANALYSIS ===
2025-11-13 15:11:34,585 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ recordG: 16/16 non-null values (100.0%)
2025-11-13 15:11:34,585 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [0.0, 0.0, 0.0]
2025-11-13 15:11:34,585 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ hippo: 16/16 non-null values (100.0%)
2025-11-13 15:11:34,585 - race_prediction.competitive_field_analyzer - INFO -    Sample values: ['Chantilly', 'Chantilly', 'Chantilly']
2025-11-13 15:11:34,586 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ coursescheval: 16/16 non-null values (100.0%)
2025-11-13 15:11:34,586 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [10, 8, 19]
2025-11-13 15:11:34,586 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ victoirescheval: 16/16 non-null values (100.0%)
2025-11-13 15:11:34,586 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [2, 3, 1]
2025-11-13 15:11:34,586 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ placescheval: 16/16 non-null values (100.0%)
2025-11-13 15:11:34,586 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [6, 3, 6]
2025-11-13 15:11:34,586 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ gainsCarriere: 16/16 non-null values (100.0%)
2025-11-13 15:11:34,586 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [7208200, 4146000, 6594800]
2025-11-13 15:11:34,586 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ age: 16/16 non-null values (100.0%)
2025-11-13 15:11:34,586 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [3, 3, 3]
2025-11-13 15:11:34,586 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ derniereplace: 16/16 non-null values (100.0%)
2025-11-13 15:11:34,586 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [3.0, 4.0, 2.0]
2025-11-13 15:11:34,586 - race_prediction.competitive_field_analyzer - INFO - === RACE METADATA ===
2025-11-13 15:11:34,586 - race_prediction.competitive_field_analyzer - INFO - comp: 1607432
2025-11-13 15:11:34,586 - race_prediction.competitive_field_analyzer - INFO - hippo: Chantilly
2025-11-13 15:11:34,586 - race_prediction.competitive_field_analyzer - INFO - dist: 1400
2025-11-13 15:11:34,586 - race_prediction.competitive_field_analyzer - INFO - typec: Plat
2025-11-13 15:11:34,586 - race_prediction.competitive_field_analyzer - INFO - partant: 16
2025-11-13 15:11:34,586 - race_prediction.competitive_field_analyzer - INFO - === SAMPLE RACE DATA ===
2025-11-13 15:11:34,586 - race_prediction.competitive_field_analyzer - INFO - Sample data (columns: ['numero', 'cheval', 'recordG', 'hippo', 'coursescheval']):
2025-11-13 15:11:34,587 - race_prediction.competitive_field_analyzer - INFO -   Horse 0: {'numero': 1, 'cheval': 'Wewilldanceagain', 'recordG': 0.0, 'hippo': 'Chantilly', 'coursescheval': 10}
2025-11-13 15:11:34,587 - race_prediction.competitive_field_analyzer - INFO -   Horse 1: {'numero': 2, 'cheval': 'Hacqueville', 'recordG': 0.0, 'hippo': 'Chantilly', 'coursescheval': 8}
2025-11-13 15:11:34,587 - race_prediction.competitive_field_analyzer - INFO -   Horse 2: {'numero': 3, 'cheval': 'Prince Aubois', 'recordG': 0.0, 'hippo': 'Chantilly', 'coursescheval': 19}
2025-11-13 15:11:34,587 - race_prediction.competitive_field_analyzer - INFO - === END COMPETITIVE ANALYSIS DEBUG ===

2025-11-13 15:11:34,587 - race_prediction.competitive_field_analyzer - INFO - === RETRIEVING HISTORICAL DATA ===
2025-11-13 15:11:34,587 - race_prediction.competitive_field_analyzer - INFO - Fetching historical data for 16 horses: [1722704, 1714279, 1708698, 1731948, 1723301, 1738781, 1751977, 1738213, 1719432, 1732888, 1728006, 1743064, 1712195, 1718927, 1714982, 1725781]
2025-11-13 15:11:34,588 - race_prediction.competitive_field_analyzer - INFO - Batch querying historical data for 16 horses: [1722704, 1714279, 1708698, 1731948, 1723301, 1738781, 1751977, 1738213, 1719432, 1732888, 1728006, 1743064, 1712195, 1718927, 1714982, 1725781]
2025-11-13 15:11:56,172 - race_prediction.competitive_field_analyzer - INFO - Batch query completed in 21.58s, found 126 total records
2025-11-13 15:11:56,179 - race_prediction.competitive_field_analyzer - INFO - Batch query retrieved 126 total historical races
2025-11-13 15:11:56,179 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS PER HORSE ===
2025-11-13 15:11:56,179 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1722704: 8 historical races found
2025-11-13 15:11:56,179 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1714279: 7 historical races found
2025-11-13 15:11:56,179 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1708698: 12 historical races found
2025-11-13 15:11:56,179 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1731948: 11 historical races found
2025-11-13 15:11:56,179 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1723301: 8 historical races found
2025-11-13 15:11:56,179 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1738781: 6 historical races found
2025-11-13 15:11:56,179 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1751977: 7 historical races found
2025-11-13 15:11:56,179 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1738213: 10 historical races found
2025-11-13 15:11:56,179 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1719432: 10 historical races found
2025-11-13 15:11:56,179 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1732888: 6 historical races found
2025-11-13 15:11:56,180 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1728006: 12 historical races found
2025-11-13 15:11:56,180 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1743064: 7 historical races found
2025-11-13 15:11:56,180 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1712195: 6 historical races found
2025-11-13 15:11:56,180 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1718927: 3 historical races found
2025-11-13 15:11:56,180 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1714982: 9 historical races found
2025-11-13 15:11:56,180 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1725781: 4 historical races found
2025-11-13 15:11:56,180 - race_prediction.competitive_field_analyzer - INFO - Retrieved 126 total historical races
2025-11-13 15:11:56,180 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS BY HORSE ===
2025-11-13 15:11:56,180 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1722704: 8 historical races
2025-11-13 15:11:56,180 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1714279: 7 historical races
2025-11-13 15:11:56,180 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1708698: 12 historical races
2025-11-13 15:11:56,180 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1731948: 11 historical races
2025-11-13 15:11:56,180 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1723301: 8 historical races
2025-11-13 15:11:56,180 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1738781: 6 historical races
2025-11-13 15:11:56,180 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1751977: 7 historical races
2025-11-13 15:11:56,180 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1738213: 10 historical races
2025-11-13 15:11:56,180 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1719432: 10 historical races
2025-11-13 15:11:56,180 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1732888: 6 historical races
2025-11-13 15:11:56,180 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1728006: 12 historical races
2025-11-13 15:11:56,180 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1743064: 7 historical races
2025-11-13 15:11:56,180 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1712195: 6 historical races
2025-11-13 15:11:56,180 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1718927: 3 historical races
2025-11-13 15:11:56,180 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1714982: 9 historical races
2025-11-13 15:11:56,180 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1725781: 4 historical races
2025-11-13 15:11:56,180 - race_prediction.competitive_field_analyzer - INFO - === END HISTORICAL DATA RETRIEVAL ===

2025-11-13 15:11:56,181 - race_prediction.competitive_field_analyzer - INFO - === EARNINGS QUALITY ANALYSIS ===
2025-11-13 15:11:56,181 - race_prediction.competitive_field_analyzer - INFO - Valid earnings data: 16/16 horses
2025-11-13 15:11:56,181 - race_prediction.competitive_field_analyzer - INFO - Sample earnings per race: ['720,820', '518,250', '347,095']
2025-11-13 15:11:56,181 - race_prediction.competitive_field_analyzer - INFO - Field earnings stats: avg=396,519, max=720,820
2025-11-13 15:11:56,182 - race_prediction.competitive_field_analyzer - INFO - === TRACK SPECIALIZATION ANALYSIS ===
2025-11-13 15:11:56,182 - race_prediction.competitive_field_analyzer - INFO - Horses with reliable venue data (3+ races): 0/16
2025-11-13 15:11:56,183 - race_prediction.competitive_field_analyzer - INFO - === FORM MOMENTUM ANALYSIS ===
2025-11-13 15:11:56,183 - race_prediction.competitive_field_analyzer - INFO - Field avg horse trend: 1.040, recent perf: 6.56
2025-11-13 15:11:56,183 - race_prediction.competitive_field_analyzer - INFO - Field avg jockey trend: 2.069
2025-11-13 15:11:56,183 - race_prediction.competitive_field_analyzer - INFO - Horses with improving form: 3/16
2025-11-13 15:11:56,184 - race_prediction.competitive_field_analyzer - INFO - === HOT CONNECTIONS ANALYSIS ===
2025-11-13 15:11:56,184 - race_prediction.competitive_field_analyzer - INFO - Jockeys with wins today: 0/16
2025-11-13 15:11:56,184 - race_prediction.competitive_field_analyzer - INFO - Trainers with wins today: 0/16
2025-11-13 15:11:56,184 - race_prediction.competitive_field_analyzer - INFO - === DISTANCE COMFORT ANALYSIS ===
2025-11-13 15:11:56,184 - race_prediction.competitive_field_analyzer - INFO - Current race distance: 1400m
2025-11-13 15:11:56,184 - race_prediction.competitive_field_analyzer - INFO - Horses with similar recent distance: 15/16
2025-11-13 15:11:56,184 - race_prediction.competitive_field_analyzer - INFO - === REALISTIC COMPETITIVE SCORING ===
2025-11-13 15:11:56,185 - race_prediction.competitive_field_analyzer - INFO - üìä COMPETITIVE ANALYSIS SUMMARY:
2025-11-13 15:11:56,185 - race_prediction.competitive_field_analyzer - INFO -    Total competitive races: 126
2025-11-13 15:11:56,185 - race_prediction.competitive_field_analyzer - INFO -    Horses with historical data: 16/16
2025-11-13 15:11:56,185 - race_prediction.competitive_field_analyzer - INFO -    Average races per horse: 7.9
2025-11-13 15:11:56,200 - race_prediction.quinte_prediction_storage - INFO - Stored 16 horses for Quint√© race 1607432
2025-11-13 15:11:58,602 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE ANALYSIS DEBUG ===
2025-11-13 15:11:58,602 - race_prediction.competitive_field_analyzer - INFO - Analyzing competitive field for race with 16 horses
2025-11-13 15:11:58,602 - race_prediction.competitive_field_analyzer - INFO - Race data shape: (16, 280)
2025-11-13 15:11:58,603 - race_prediction.competitive_field_analyzer - INFO - Available columns: ['id', 'comp', 'jour', 'hippo', 'reun', 'prix', 'prixnom', 'typec', 'partant', 'dist', 'handi', 'groupe', 'quinte', 'natpis', 'meteo', 'corde', 'temperature', 'forceVent', 'directionVent', 'nebulosite', 'prediction_results', 'actual_results', 'created_at', 'updated_at', 'processed_data', 'cheque', 'handi_raw', 'reclam', 'sex', 'tempscourse', 'handicap_level_score', 'cl', 'numero', 'cheval', 'age', 'cotedirect', 'coteprob', 'recence', 'ecar', 'defoeil', 'defoeilPrec', 'musiqueche', 'musiquejoc', 'entraineur', 'coursescheval', 'victoirescheval', 'placescheval', 'dernierealloc', 'derniernbpartants', 'dernieredist', 'derniereplace', 'dernierecote', 'dernierEnt', 'proprietaire', 'poidmont', 'pourcVictJockHippo', 'pourcPlaceJockHippo', 'pourcVictChevalHippo', 'pourcPlaceChevalHippo', 'tempstot', 'vha', 'recordG', 'txreclam', 'dernierTxreclam', 'gainsCarriere', 'gainsAnneeEnCours', 'handicapDistance', 'handicapPoids', 'TxVictCouple', 'nbVictCouple', 'nbPlaceCouple', 'idche', 'idJockey', 'idEntraineur', 'defFirstTime', 'oeilFirstTime', 'oeil', 'dernierOeil', 'ratio_victoires', 'ratio_places', 'gains_par_course', 'efficacite_couple', 'regularite_couple', 'progression_couple', 'perf_cheval_hippo', 'perf_jockey_hippo', 'trainer_victoires', 'trainer_places', 'trainer_courses', 'trainer_winrate', 'trainer_placerate', 'trainer_quality_score', 'trainer_experience_level', 'handicap_poids', 'handicap_dist', 'prec_handicap_poids', 'prec_handicap_dist', 'handicap_poids_change', 'handicap_poids_increased', 'handicap_poids_decreased', 'handicap_dist_change', 'handicap_dist_increased', 'handicap_dist_decreased', 'total_handicap', 'handicap_momentum', 'last_race_position', 'last_race_distance', 'distance_change', 'distance_change_pct', 'distance_increased', 'distance_decreased', 'same_distance', 'corde_change', 'corde_improved', 'corde_worsened', 'last_race_top3', 'last_race_won', 'blinkers_first_time', 'has_blinkers', 'has_standard_blinkers', 'has_australian_blinkers', 'blinkers_added', 'blinkers_removed', 'blinkers_type_changed', 'blinkers_any_change', 'blinkers_high_impact_change', 'shoeing_first_time', 'fully_shod', 'front_shod_only', 'back_shod_only', 'barefoot', 'shoeing_changed', 'barefoot_to_shod', 'shod_to_barefoot', 'major_shoeing_change', 'shoeing_complexity', 'multiple_equipment_changes', 'equipment_momentum_score', 'high_equipment_momentum', 'multiple_first_time_changes', 'equipment_optimization_score', 'career_strike_rate', 'earnings_per_race', 'earnings_trend', 'last_race_position_normalized', 'last_race_odds_normalized', 'last_race_field_size_factor', 'distance_consistency', 'vha_normalized', 'claiming_tax_trend', 'class_stability', 'che_global_avg_pos', 'che_global_recent_perf', 'che_global_consistency', 'che_global_trend', 'che_global_pct_top3', 'che_global_nb_courses', 'che_global_total_races', 'che_global_dnf_rate', 'che_weighted_avg_pos', 'che_weighted_recent_perf', 'che_weighted_consistency', 'che_weighted_pct_top3', 'che_weighted_nb_courses', 'che_weighted_total_races', 'che_weighted_dnf_rate', 'che_weighted_trend', 'che_bytype_avg_pos', 'che_bytype_recent_perf', 'che_bytype_consistency', 'che_bytype_trend', 'che_bytype_pct_top3', 'che_bytype_nb_courses', 'che_bytype_total_races', 'che_bytype_dnf_rate', 'joc_global_avg_pos', 'joc_global_recent_perf', 'joc_global_consistency', 'joc_global_trend', 'joc_global_pct_top3', 'joc_global_nb_courses', 'joc_global_total_races', 'joc_global_dnf_rate', 'joc_weighted_avg_pos', 'joc_weighted_recent_perf', 'joc_weighted_consistency', 'joc_weighted_pct_top3', 'joc_weighted_nb_courses', 'joc_weighted_total_races', 'joc_weighted_dnf_rate', 'joc_weighted_trend', 'joc_bytype_avg_pos', 'joc_bytype_recent_perf', 'joc_bytype_consistency', 'joc_bytype_trend', 'joc_bytype_pct_top3', 'joc_bytype_nb_courses', 'joc_bytype_total_races', 'joc_bytype_dnf_rate', 'che_form_momentum', 'che_improving_form', 'che_declining_form', 'che_high_consistency', 'che_recent_quality', 'che_elite_performer', 'che_regular_placer', 'joc_form_momentum', 'joc_improving_form', 'joc_high_consistency', 'joc_elite_performer', 'synergy_both_improving', 'synergy_both_consistent', 'synergy_both_elite', 'overall_momentum_score', 'high_momentum', 'class_drop_pct', 'purse_per_starter', 'purse_ratio', 'moving_up_in_class', 'class_shock_indicator', 'handicap_level_change', 'time_per_distance', 'time_vs_record', 'pace_rating', 'speed_figure_proxy', 'market_confidence_shift', 'last_race_improvement', 'bounce_risk', 'layoff_distance_interaction', 'trainer_change', 'connection_stability', 'field_size_change', 'distance_comfort', 'competition_level_shift', 'recence_x_class_drop', 'trainer_change_x_recence', 'distance_change_x_recence', 'che_by_type_avg_pos', 'che_by_type_recent_perf', 'che_by_type_consistency', 'che_by_type_trend', 'che_by_type_pct_top3', 'che_by_type_nb_courses', 'che_by_type_total_races', 'che_by_type_dnf_rate', 'joc_by_type_avg_pos', 'joc_by_type_recent_perf', 'joc_by_type_consistency', 'joc_by_type_trend', 'joc_by_type_pct_top3', 'joc_by_type_nb_courses', 'joc_by_type_total_races', 'joc_by_type_dnf_rate', 'quinte_career_starts', 'quinte_win_rate', 'quinte_top5_rate', 'avg_quinte_position', 'days_since_last_quinte', 'quinte_handicap_specialist', 'quinte_conditions_specialist', 'quinte_large_field_ability', 'quinte_track_condition_fit', 'is_handicap_quinte', 'handicap_division', 'purse_level_category', 'field_size_category', 'track_condition_PH', 'track_condition_DUR', 'track_condition_PS', 'track_condition_PSF', 'weather_clear', 'weather_rain', 'weather_cloudy', 'post_position_bias', 'post_position_track_bias', 'raw_tabnet_prediction', 'predicted_position_tabnet', 'raw_rf_prediction', 'predicted_position_rf', 'predicted_position_base']
2025-11-13 15:11:58,603 - race_prediction.competitive_field_analyzer - INFO - === CRITICAL COLUMNS ANALYSIS ===
2025-11-13 15:11:58,603 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ recordG: 16/16 non-null values (100.0%)
2025-11-13 15:11:58,603 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [0.0, 0.0, 0.0]
2025-11-13 15:11:58,603 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ hippo: 16/16 non-null values (100.0%)
2025-11-13 15:11:58,603 - race_prediction.competitive_field_analyzer - INFO -    Sample values: ['Saint-Cloud', 'Saint-Cloud', 'Saint-Cloud']
2025-11-13 15:11:58,603 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ coursescheval: 16/16 non-null values (100.0%)
2025-11-13 15:11:58,603 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [19, 15, 11]
2025-11-13 15:11:58,603 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ victoirescheval: 16/16 non-null values (100.0%)
2025-11-13 15:11:58,603 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [3, 3, 3]
2025-11-13 15:11:58,603 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ placescheval: 16/16 non-null values (100.0%)
2025-11-13 15:11:58,603 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [10, 7, 6]
2025-11-13 15:11:58,604 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ gainsCarriere: 16/16 non-null values (100.0%)
2025-11-13 15:11:58,604 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [10104400, 6827600, 6022500]
2025-11-13 15:11:58,604 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ age: 16/16 non-null values (100.0%)
2025-11-13 15:11:58,604 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [4, 4, 4]
2025-11-13 15:11:58,604 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ derniereplace: 16/16 non-null values (100.0%)
2025-11-13 15:11:58,604 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [3, 8, 1]
2025-11-13 15:11:58,604 - race_prediction.competitive_field_analyzer - INFO - === RACE METADATA ===
2025-11-13 15:11:58,604 - race_prediction.competitive_field_analyzer - INFO - comp: 1607426
2025-11-13 15:11:58,604 - race_prediction.competitive_field_analyzer - INFO - hippo: Saint-Cloud
2025-11-13 15:11:58,604 - race_prediction.competitive_field_analyzer - INFO - dist: 2500
2025-11-13 15:11:58,604 - race_prediction.competitive_field_analyzer - INFO - typec: Plat
2025-11-13 15:11:58,604 - race_prediction.competitive_field_analyzer - INFO - partant: 16
2025-11-13 15:11:58,604 - race_prediction.competitive_field_analyzer - INFO - === SAMPLE RACE DATA ===
2025-11-13 15:11:58,604 - race_prediction.competitive_field_analyzer - INFO - Sample data (columns: ['numero', 'cheval', 'recordG', 'hippo', 'coursescheval']):
2025-11-13 15:11:58,605 - race_prediction.competitive_field_analyzer - INFO -   Horse 0: {'numero': 1, 'cheval': 'American Glory', 'recordG': 0.0, 'hippo': 'Saint-Cloud', 'coursescheval': 19}
2025-11-13 15:11:58,605 - race_prediction.competitive_field_analyzer - INFO -   Horse 1: {'numero': 2, 'cheval': 'Maia Star', 'recordG': 0.0, 'hippo': 'Saint-Cloud', 'coursescheval': 15}
2025-11-13 15:11:58,605 - race_prediction.competitive_field_analyzer - INFO -   Horse 2: {'numero': 3, 'cheval': 'V√©nus Oc√©ane', 'recordG': 0.0, 'hippo': 'Saint-Cloud', 'coursescheval': 11}
2025-11-13 15:11:58,605 - race_prediction.competitive_field_analyzer - INFO - === END COMPETITIVE ANALYSIS DEBUG ===

2025-11-13 15:11:58,605 - race_prediction.competitive_field_analyzer - INFO - === RETRIEVING HISTORICAL DATA ===
2025-11-13 15:11:58,605 - race_prediction.competitive_field_analyzer - INFO - Fetching historical data for 16 horses: [1653333, 1701051, 1697304, 1696628, 1681368, 1669813, 1654466, 1696794, 1667938, 1560971, 1742408, 1669812, 1697330, 1405129, 1676834, 1721448]
2025-11-13 15:11:58,606 - race_prediction.competitive_field_analyzer - INFO - Batch querying historical data for 16 horses: [1653333, 1701051, 1697304, 1696628, 1681368, 1669813, 1654466, 1696794, 1667938, 1560971, 1742408, 1669812, 1697330, 1405129, 1676834, 1721448]
2025-11-13 15:12:10,059 - race_prediction.competitive_field_analyzer - INFO - Batch query completed in 11.45s, found 142 total records
2025-11-13 15:12:10,066 - race_prediction.competitive_field_analyzer - INFO - Batch query retrieved 142 total historical races
2025-11-13 15:12:10,066 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS PER HORSE ===
2025-11-13 15:12:10,066 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1653333: 10 historical races found
2025-11-13 15:12:10,066 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1701051: 10 historical races found
2025-11-13 15:12:10,066 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1697304: 6 historical races found
2025-11-13 15:12:10,066 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1696628: 6 historical races found
2025-11-13 15:12:10,066 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1681368: 8 historical races found
2025-11-13 15:12:10,066 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1669813: 10 historical races found
2025-11-13 15:12:10,066 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1654466: 5 historical races found
2025-11-13 15:12:10,066 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1696794: 8 historical races found
2025-11-13 15:12:10,066 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1667938: 10 historical races found
2025-11-13 15:12:10,066 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1560971: 7 historical races found
2025-11-13 15:12:10,066 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1742408: 5 historical races found
2025-11-13 15:12:10,066 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1669812: 13 historical races found
2025-11-13 15:12:10,066 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1697330: 5 historical races found
2025-11-13 15:12:10,066 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1405129: 17 historical races found
2025-11-13 15:12:10,067 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1676834: 17 historical races found
2025-11-13 15:12:10,067 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1721448: 5 historical races found
2025-11-13 15:12:10,067 - race_prediction.competitive_field_analyzer - INFO - Retrieved 142 total historical races
2025-11-13 15:12:10,067 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS BY HORSE ===
2025-11-13 15:12:10,067 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1653333: 10 historical races
2025-11-13 15:12:10,067 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1701051: 10 historical races
2025-11-13 15:12:10,067 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1697304: 6 historical races
2025-11-13 15:12:10,067 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1696628: 6 historical races
2025-11-13 15:12:10,067 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1681368: 8 historical races
2025-11-13 15:12:10,067 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1669813: 10 historical races
2025-11-13 15:12:10,067 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1654466: 5 historical races
2025-11-13 15:12:10,067 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1696794: 8 historical races
2025-11-13 15:12:10,067 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1667938: 10 historical races
2025-11-13 15:12:10,067 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1560971: 7 historical races
2025-11-13 15:12:10,067 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1742408: 5 historical races
2025-11-13 15:12:10,067 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1669812: 13 historical races
2025-11-13 15:12:10,067 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1697330: 5 historical races
2025-11-13 15:12:10,067 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1405129: 17 historical races
2025-11-13 15:12:10,067 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1676834: 17 historical races
2025-11-13 15:12:10,067 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1721448: 5 historical races
2025-11-13 15:12:10,067 - race_prediction.competitive_field_analyzer - INFO - === END HISTORICAL DATA RETRIEVAL ===

2025-11-13 15:12:10,067 - race_prediction.competitive_field_analyzer - INFO - === EARNINGS QUALITY ANALYSIS ===
2025-11-13 15:12:10,067 - race_prediction.competitive_field_analyzer - INFO - Valid earnings data: 16/16 horses
2025-11-13 15:12:10,067 - race_prediction.competitive_field_analyzer - INFO - Sample earnings per race: ['531,811', '455,173', '547,500']
2025-11-13 15:12:10,067 - race_prediction.competitive_field_analyzer - INFO - Field earnings stats: avg=392,515, max=631,211
2025-11-13 15:12:10,068 - race_prediction.competitive_field_analyzer - INFO - === TRACK SPECIALIZATION ANALYSIS ===
2025-11-13 15:12:10,068 - race_prediction.competitive_field_analyzer - INFO - Horses with reliable venue data (3+ races): 0/16
2025-11-13 15:12:10,069 - race_prediction.competitive_field_analyzer - INFO - === FORM MOMENTUM ANALYSIS ===
2025-11-13 15:12:10,069 - race_prediction.competitive_field_analyzer - INFO - Field avg horse trend: -0.531, recent perf: 6.21
2025-11-13 15:12:10,069 - race_prediction.competitive_field_analyzer - INFO - Field avg jockey trend: -0.640
2025-11-13 15:12:10,069 - race_prediction.competitive_field_analyzer - INFO - Horses with improving form: 3/16
2025-11-13 15:12:10,069 - race_prediction.competitive_field_analyzer - INFO - === HOT CONNECTIONS ANALYSIS ===
2025-11-13 15:12:10,069 - race_prediction.competitive_field_analyzer - INFO - Jockeys with wins today: 0/16
2025-11-13 15:12:10,069 - race_prediction.competitive_field_analyzer - INFO - Trainers with wins today: 0/16
2025-11-13 15:12:10,069 - race_prediction.competitive_field_analyzer - INFO - === DISTANCE COMFORT ANALYSIS ===
2025-11-13 15:12:10,069 - race_prediction.competitive_field_analyzer - INFO - Current race distance: 2500m
2025-11-13 15:12:10,069 - race_prediction.competitive_field_analyzer - INFO - Horses with similar recent distance: 8/16
2025-11-13 15:12:10,070 - race_prediction.competitive_field_analyzer - INFO - === REALISTIC COMPETITIVE SCORING ===
2025-11-13 15:12:10,070 - race_prediction.competitive_field_analyzer - INFO - üìä COMPETITIVE ANALYSIS SUMMARY:
2025-11-13 15:12:10,070 - race_prediction.competitive_field_analyzer - INFO -    Total competitive races: 142
2025-11-13 15:12:10,070 - race_prediction.competitive_field_analyzer - INFO -    Horses with historical data: 16/16
2025-11-13 15:12:10,070 - race_prediction.competitive_field_analyzer - INFO -    Average races per horse: 8.9
2025-11-13 15:12:10,084 - race_prediction.quinte_prediction_storage - INFO - Stored 16 horses for Quint√© race 1607426
2025-11-13 15:12:12,409 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE ANALYSIS DEBUG ===
2025-11-13 15:12:12,409 - race_prediction.competitive_field_analyzer - INFO - Analyzing competitive field for race with 15 horses
2025-11-13 15:12:12,409 - race_prediction.competitive_field_analyzer - INFO - Race data shape: (15, 280)
2025-11-13 15:12:12,410 - race_prediction.competitive_field_analyzer - INFO - Available columns: ['id', 'comp', 'jour', 'hippo', 'reun', 'prix', 'prixnom', 'typec', 'partant', 'dist', 'handi', 'groupe', 'quinte', 'natpis', 'meteo', 'corde', 'temperature', 'forceVent', 'directionVent', 'nebulosite', 'prediction_results', 'actual_results', 'created_at', 'updated_at', 'processed_data', 'cheque', 'handi_raw', 'reclam', 'sex', 'tempscourse', 'handicap_level_score', 'cl', 'numero', 'cheval', 'age', 'cotedirect', 'coteprob', 'recence', 'ecar', 'defoeil', 'defoeilPrec', 'musiqueche', 'musiquejoc', 'entraineur', 'coursescheval', 'victoirescheval', 'placescheval', 'dernierealloc', 'derniernbpartants', 'dernieredist', 'derniereplace', 'dernierecote', 'dernierEnt', 'proprietaire', 'poidmont', 'pourcVictJockHippo', 'pourcPlaceJockHippo', 'pourcVictChevalHippo', 'pourcPlaceChevalHippo', 'tempstot', 'vha', 'recordG', 'txreclam', 'dernierTxreclam', 'gainsCarriere', 'gainsAnneeEnCours', 'handicapDistance', 'handicapPoids', 'TxVictCouple', 'nbVictCouple', 'nbPlaceCouple', 'idche', 'idJockey', 'idEntraineur', 'defFirstTime', 'oeilFirstTime', 'oeil', 'dernierOeil', 'ratio_victoires', 'ratio_places', 'gains_par_course', 'efficacite_couple', 'regularite_couple', 'progression_couple', 'perf_cheval_hippo', 'perf_jockey_hippo', 'trainer_victoires', 'trainer_places', 'trainer_courses', 'trainer_winrate', 'trainer_placerate', 'trainer_quality_score', 'trainer_experience_level', 'handicap_poids', 'handicap_dist', 'prec_handicap_poids', 'prec_handicap_dist', 'handicap_poids_change', 'handicap_poids_increased', 'handicap_poids_decreased', 'handicap_dist_change', 'handicap_dist_increased', 'handicap_dist_decreased', 'total_handicap', 'handicap_momentum', 'last_race_position', 'last_race_distance', 'distance_change', 'distance_change_pct', 'distance_increased', 'distance_decreased', 'same_distance', 'corde_change', 'corde_improved', 'corde_worsened', 'last_race_top3', 'last_race_won', 'blinkers_first_time', 'has_blinkers', 'has_standard_blinkers', 'has_australian_blinkers', 'blinkers_added', 'blinkers_removed', 'blinkers_type_changed', 'blinkers_any_change', 'blinkers_high_impact_change', 'shoeing_first_time', 'fully_shod', 'front_shod_only', 'back_shod_only', 'barefoot', 'shoeing_changed', 'barefoot_to_shod', 'shod_to_barefoot', 'major_shoeing_change', 'shoeing_complexity', 'multiple_equipment_changes', 'equipment_momentum_score', 'high_equipment_momentum', 'multiple_first_time_changes', 'equipment_optimization_score', 'career_strike_rate', 'earnings_per_race', 'earnings_trend', 'last_race_position_normalized', 'last_race_odds_normalized', 'last_race_field_size_factor', 'distance_consistency', 'vha_normalized', 'claiming_tax_trend', 'class_stability', 'che_global_avg_pos', 'che_global_recent_perf', 'che_global_consistency', 'che_global_trend', 'che_global_pct_top3', 'che_global_nb_courses', 'che_global_total_races', 'che_global_dnf_rate', 'che_weighted_avg_pos', 'che_weighted_recent_perf', 'che_weighted_consistency', 'che_weighted_pct_top3', 'che_weighted_nb_courses', 'che_weighted_total_races', 'che_weighted_dnf_rate', 'che_weighted_trend', 'che_bytype_avg_pos', 'che_bytype_recent_perf', 'che_bytype_consistency', 'che_bytype_trend', 'che_bytype_pct_top3', 'che_bytype_nb_courses', 'che_bytype_total_races', 'che_bytype_dnf_rate', 'joc_global_avg_pos', 'joc_global_recent_perf', 'joc_global_consistency', 'joc_global_trend', 'joc_global_pct_top3', 'joc_global_nb_courses', 'joc_global_total_races', 'joc_global_dnf_rate', 'joc_weighted_avg_pos', 'joc_weighted_recent_perf', 'joc_weighted_consistency', 'joc_weighted_pct_top3', 'joc_weighted_nb_courses', 'joc_weighted_total_races', 'joc_weighted_dnf_rate', 'joc_weighted_trend', 'joc_bytype_avg_pos', 'joc_bytype_recent_perf', 'joc_bytype_consistency', 'joc_bytype_trend', 'joc_bytype_pct_top3', 'joc_bytype_nb_courses', 'joc_bytype_total_races', 'joc_bytype_dnf_rate', 'che_form_momentum', 'che_improving_form', 'che_declining_form', 'che_high_consistency', 'che_recent_quality', 'che_elite_performer', 'che_regular_placer', 'joc_form_momentum', 'joc_improving_form', 'joc_high_consistency', 'joc_elite_performer', 'synergy_both_improving', 'synergy_both_consistent', 'synergy_both_elite', 'overall_momentum_score', 'high_momentum', 'class_drop_pct', 'purse_per_starter', 'purse_ratio', 'moving_up_in_class', 'class_shock_indicator', 'handicap_level_change', 'time_per_distance', 'time_vs_record', 'pace_rating', 'speed_figure_proxy', 'market_confidence_shift', 'last_race_improvement', 'bounce_risk', 'layoff_distance_interaction', 'trainer_change', 'connection_stability', 'field_size_change', 'distance_comfort', 'competition_level_shift', 'recence_x_class_drop', 'trainer_change_x_recence', 'distance_change_x_recence', 'che_by_type_avg_pos', 'che_by_type_recent_perf', 'che_by_type_consistency', 'che_by_type_trend', 'che_by_type_pct_top3', 'che_by_type_nb_courses', 'che_by_type_total_races', 'che_by_type_dnf_rate', 'joc_by_type_avg_pos', 'joc_by_type_recent_perf', 'joc_by_type_consistency', 'joc_by_type_trend', 'joc_by_type_pct_top3', 'joc_by_type_nb_courses', 'joc_by_type_total_races', 'joc_by_type_dnf_rate', 'quinte_career_starts', 'quinte_win_rate', 'quinte_top5_rate', 'avg_quinte_position', 'days_since_last_quinte', 'quinte_handicap_specialist', 'quinte_conditions_specialist', 'quinte_large_field_ability', 'quinte_track_condition_fit', 'is_handicap_quinte', 'handicap_division', 'purse_level_category', 'field_size_category', 'track_condition_PH', 'track_condition_DUR', 'track_condition_PS', 'track_condition_PSF', 'weather_clear', 'weather_rain', 'weather_cloudy', 'post_position_bias', 'post_position_track_bias', 'raw_tabnet_prediction', 'predicted_position_tabnet', 'raw_rf_prediction', 'predicted_position_rf', 'predicted_position_base']
2025-11-13 15:12:12,410 - race_prediction.competitive_field_analyzer - INFO - === CRITICAL COLUMNS ANALYSIS ===
2025-11-13 15:12:12,410 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ recordG: 15/15 non-null values (100.0%)
2025-11-13 15:12:12,410 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [0.0, 0.0, 0.0]
2025-11-13 15:12:12,410 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ hippo: 15/15 non-null values (100.0%)
2025-11-13 15:12:12,410 - race_prediction.competitive_field_analyzer - INFO -    Sample values: ['Compi√®gne', 'Compi√®gne', 'Compi√®gne']
2025-11-13 15:12:12,410 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ coursescheval: 15/15 non-null values (100.0%)
2025-11-13 15:12:12,410 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [23, 9, 7]
2025-11-13 15:12:12,410 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ victoirescheval: 15/15 non-null values (100.0%)
2025-11-13 15:12:12,411 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [4, 3, 2]
2025-11-13 15:12:12,411 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ placescheval: 15/15 non-null values (100.0%)
2025-11-13 15:12:12,411 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [8, 6, 5]
2025-11-13 15:12:12,411 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ gainsCarriere: 15/15 non-null values (100.0%)
2025-11-13 15:12:12,411 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [16498500, 12974000, 6910000]
2025-11-13 15:12:12,411 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ age: 15/15 non-null values (100.0%)
2025-11-13 15:12:12,411 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [5, 5, 5]
2025-11-13 15:12:12,411 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ derniereplace: 15/15 non-null values (100.0%)
2025-11-13 15:12:12,411 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [7.0, 11.0, 2.0]
2025-11-13 15:12:12,411 - race_prediction.competitive_field_analyzer - INFO - === RACE METADATA ===
2025-11-13 15:12:12,411 - race_prediction.competitive_field_analyzer - INFO - comp: 1607383
2025-11-13 15:12:12,411 - race_prediction.competitive_field_analyzer - INFO - hippo: Compi√®gne
2025-11-13 15:12:12,411 - race_prediction.competitive_field_analyzer - INFO - dist: 3600
2025-11-13 15:12:12,411 - race_prediction.competitive_field_analyzer - INFO - typec: Haies
2025-11-13 15:12:12,411 - race_prediction.competitive_field_analyzer - INFO - partant: 15
2025-11-13 15:12:12,411 - race_prediction.competitive_field_analyzer - INFO - === SAMPLE RACE DATA ===
2025-11-13 15:12:12,411 - race_prediction.competitive_field_analyzer - INFO - Sample data (columns: ['numero', 'cheval', 'recordG', 'hippo', 'coursescheval']):
2025-11-13 15:12:12,411 - race_prediction.competitive_field_analyzer - INFO -   Horse 0: {'numero': 1, 'cheval': 'Mohican', 'recordG': 0.0, 'hippo': 'Compi√®gne', 'coursescheval': 23}
2025-11-13 15:12:12,412 - race_prediction.competitive_field_analyzer - INFO -   Horse 1: {'numero': 2, 'cheval': 'La D√©lirante', 'recordG': 0.0, 'hippo': 'Compi√®gne', 'coursescheval': 9}
2025-11-13 15:12:12,412 - race_prediction.competitive_field_analyzer - INFO -   Horse 2: {'numero': 3, 'cheval': 'Beaubourg', 'recordG': 0.0, 'hippo': 'Compi√®gne', 'coursescheval': 7}
2025-11-13 15:12:12,412 - race_prediction.competitive_field_analyzer - INFO - === END COMPETITIVE ANALYSIS DEBUG ===

2025-11-13 15:12:12,412 - race_prediction.competitive_field_analyzer - INFO - === RETRIEVING HISTORICAL DATA ===
2025-11-13 15:12:12,412 - race_prediction.competitive_field_analyzer - INFO - Fetching historical data for 15 horses: [1557616, 1706616, 1640904, 1690911, 1641992, 1650846, 1559231, 1643070, 1676002, 1579567, 1646967, 1647372, 1670805, 1559916, 1560780]
2025-11-13 15:12:12,413 - race_prediction.competitive_field_analyzer - INFO - Batch querying historical data for 15 horses: [1557616, 1706616, 1640904, 1690911, 1641992, 1650846, 1559231, 1643070, 1676002, 1579567, 1646967, 1647372, 1670805, 1559916, 1560780]
2025-11-13 15:12:23,738 - race_prediction.competitive_field_analyzer - INFO - Batch query completed in 11.32s, found 110 total records
2025-11-13 15:12:23,744 - race_prediction.competitive_field_analyzer - INFO - Batch query retrieved 110 total historical races
2025-11-13 15:12:23,744 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS PER HORSE ===
2025-11-13 15:12:23,744 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1557616: 9 historical races found
2025-11-13 15:12:23,744 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1706616: 5 historical races found
2025-11-13 15:12:23,744 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1640904: 6 historical races found
2025-11-13 15:12:23,744 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1690911: 4 historical races found
2025-11-13 15:12:23,744 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1641992: 9 historical races found
2025-11-13 15:12:23,744 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1650846: 7 historical races found
2025-11-13 15:12:23,744 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1559231: 9 historical races found
2025-11-13 15:12:23,744 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1643070: 8 historical races found
2025-11-13 15:12:23,744 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1676002: 9 historical races found
2025-11-13 15:12:23,744 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1579567: 7 historical races found
2025-11-13 15:12:23,744 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1646967: 7 historical races found
2025-11-13 15:12:23,744 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1647372: 7 historical races found
2025-11-13 15:12:23,744 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1670805: 5 historical races found
2025-11-13 15:12:23,744 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1559916: 8 historical races found
2025-11-13 15:12:23,744 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1560780: 10 historical races found
2025-11-13 15:12:23,745 - race_prediction.competitive_field_analyzer - INFO - Retrieved 110 total historical races
2025-11-13 15:12:23,745 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS BY HORSE ===
2025-11-13 15:12:23,745 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1557616: 9 historical races
2025-11-13 15:12:23,745 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1706616: 5 historical races
2025-11-13 15:12:23,745 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1640904: 6 historical races
2025-11-13 15:12:23,745 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1690911: 4 historical races
2025-11-13 15:12:23,745 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1641992: 9 historical races
2025-11-13 15:12:23,745 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1650846: 7 historical races
2025-11-13 15:12:23,745 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1559231: 9 historical races
2025-11-13 15:12:23,746 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1643070: 8 historical races
2025-11-13 15:12:23,746 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1676002: 9 historical races
2025-11-13 15:12:23,746 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1579567: 7 historical races
2025-11-13 15:12:23,746 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1646967: 7 historical races
2025-11-13 15:12:23,746 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1647372: 7 historical races
2025-11-13 15:12:23,746 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1670805: 5 historical races
2025-11-13 15:12:23,746 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1559916: 8 historical races
2025-11-13 15:12:23,746 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1560780: 10 historical races
2025-11-13 15:12:23,746 - race_prediction.competitive_field_analyzer - INFO - === END HISTORICAL DATA RETRIEVAL ===

2025-11-13 15:12:23,746 - race_prediction.competitive_field_analyzer - INFO - === EARNINGS QUALITY ANALYSIS ===
2025-11-13 15:12:23,746 - race_prediction.competitive_field_analyzer - INFO - Valid earnings data: 15/15 horses
2025-11-13 15:12:23,746 - race_prediction.competitive_field_analyzer - INFO - Sample earnings per race: ['717,326', '1,441,556', '987,143']
2025-11-13 15:12:23,746 - race_prediction.competitive_field_analyzer - INFO - Field earnings stats: avg=726,283, max=1,441,556
2025-11-13 15:12:23,746 - race_prediction.competitive_field_analyzer - INFO - === TRACK SPECIALIZATION ANALYSIS ===
2025-11-13 15:12:23,746 - race_prediction.competitive_field_analyzer - INFO - Horses with reliable venue data (3+ races): 0/15
2025-11-13 15:12:23,747 - race_prediction.competitive_field_analyzer - INFO - === FORM MOMENTUM ANALYSIS ===
2025-11-13 15:12:23,747 - race_prediction.competitive_field_analyzer - INFO - Field avg horse trend: -2.347, recent perf: 6.07
2025-11-13 15:12:23,747 - race_prediction.competitive_field_analyzer - INFO - Field avg jockey trend: -0.761
2025-11-13 15:12:23,748 - race_prediction.competitive_field_analyzer - INFO - Horses with improving form: 3/15
2025-11-13 15:12:23,748 - race_prediction.competitive_field_analyzer - INFO - === HOT CONNECTIONS ANALYSIS ===
2025-11-13 15:12:23,748 - race_prediction.competitive_field_analyzer - INFO - Jockeys with wins today: 0/15
2025-11-13 15:12:23,748 - race_prediction.competitive_field_analyzer - INFO - Trainers with wins today: 0/15
2025-11-13 15:12:23,748 - race_prediction.competitive_field_analyzer - INFO - === DISTANCE COMFORT ANALYSIS ===
2025-11-13 15:12:23,748 - race_prediction.competitive_field_analyzer - INFO - Current race distance: 3600m
2025-11-13 15:12:23,748 - race_prediction.competitive_field_analyzer - INFO - Horses with similar recent distance: 11/15
2025-11-13 15:12:23,748 - race_prediction.competitive_field_analyzer - INFO - === REALISTIC COMPETITIVE SCORING ===
2025-11-13 15:12:23,749 - race_prediction.competitive_field_analyzer - INFO - üìä COMPETITIVE ANALYSIS SUMMARY:
2025-11-13 15:12:23,749 - race_prediction.competitive_field_analyzer - INFO -    Total competitive races: 110
2025-11-13 15:12:23,749 - race_prediction.competitive_field_analyzer - INFO -    Horses with historical data: 15/15
2025-11-13 15:12:23,749 - race_prediction.competitive_field_analyzer - INFO -    Average races per horse: 7.3
2025-11-13 15:12:23,762 - race_prediction.quinte_prediction_storage - INFO - Stored 15 horses for Quint√© race 1607383
2025-11-13 15:12:25,838 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE ANALYSIS DEBUG ===
2025-11-13 15:12:25,838 - race_prediction.competitive_field_analyzer - INFO - Analyzing competitive field for race with 16 horses
2025-11-13 15:12:25,838 - race_prediction.competitive_field_analyzer - INFO - Race data shape: (16, 280)
2025-11-13 15:12:25,838 - race_prediction.competitive_field_analyzer - INFO - Available columns: ['id', 'comp', 'jour', 'hippo', 'reun', 'prix', 'prixnom', 'typec', 'partant', 'dist', 'handi', 'groupe', 'quinte', 'natpis', 'meteo', 'corde', 'temperature', 'forceVent', 'directionVent', 'nebulosite', 'prediction_results', 'actual_results', 'created_at', 'updated_at', 'processed_data', 'cheque', 'handi_raw', 'reclam', 'sex', 'tempscourse', 'handicap_level_score', 'cl', 'numero', 'cheval', 'age', 'cotedirect', 'coteprob', 'recence', 'ecar', 'defoeil', 'defoeilPrec', 'musiqueche', 'musiquejoc', 'entraineur', 'coursescheval', 'victoirescheval', 'placescheval', 'dernierealloc', 'derniernbpartants', 'dernieredist', 'derniereplace', 'dernierecote', 'dernierEnt', 'proprietaire', 'poidmont', 'pourcVictJockHippo', 'pourcPlaceJockHippo', 'pourcVictChevalHippo', 'pourcPlaceChevalHippo', 'tempstot', 'vha', 'recordG', 'txreclam', 'dernierTxreclam', 'gainsCarriere', 'gainsAnneeEnCours', 'handicapDistance', 'handicapPoids', 'TxVictCouple', 'nbVictCouple', 'nbPlaceCouple', 'idche', 'idJockey', 'idEntraineur', 'defFirstTime', 'oeilFirstTime', 'oeil', 'dernierOeil', 'ratio_victoires', 'ratio_places', 'gains_par_course', 'efficacite_couple', 'regularite_couple', 'progression_couple', 'perf_cheval_hippo', 'perf_jockey_hippo', 'trainer_victoires', 'trainer_places', 'trainer_courses', 'trainer_winrate', 'trainer_placerate', 'trainer_quality_score', 'trainer_experience_level', 'handicap_poids', 'handicap_dist', 'prec_handicap_poids', 'prec_handicap_dist', 'handicap_poids_change', 'handicap_poids_increased', 'handicap_poids_decreased', 'handicap_dist_change', 'handicap_dist_increased', 'handicap_dist_decreased', 'total_handicap', 'handicap_momentum', 'last_race_position', 'last_race_distance', 'distance_change', 'distance_change_pct', 'distance_increased', 'distance_decreased', 'same_distance', 'corde_change', 'corde_improved', 'corde_worsened', 'last_race_top3', 'last_race_won', 'blinkers_first_time', 'has_blinkers', 'has_standard_blinkers', 'has_australian_blinkers', 'blinkers_added', 'blinkers_removed', 'blinkers_type_changed', 'blinkers_any_change', 'blinkers_high_impact_change', 'shoeing_first_time', 'fully_shod', 'front_shod_only', 'back_shod_only', 'barefoot', 'shoeing_changed', 'barefoot_to_shod', 'shod_to_barefoot', 'major_shoeing_change', 'shoeing_complexity', 'multiple_equipment_changes', 'equipment_momentum_score', 'high_equipment_momentum', 'multiple_first_time_changes', 'equipment_optimization_score', 'career_strike_rate', 'earnings_per_race', 'earnings_trend', 'last_race_position_normalized', 'last_race_odds_normalized', 'last_race_field_size_factor', 'distance_consistency', 'vha_normalized', 'claiming_tax_trend', 'class_stability', 'che_global_avg_pos', 'che_global_recent_perf', 'che_global_consistency', 'che_global_trend', 'che_global_pct_top3', 'che_global_nb_courses', 'che_global_total_races', 'che_global_dnf_rate', 'che_weighted_avg_pos', 'che_weighted_recent_perf', 'che_weighted_consistency', 'che_weighted_pct_top3', 'che_weighted_nb_courses', 'che_weighted_total_races', 'che_weighted_dnf_rate', 'che_weighted_trend', 'che_bytype_avg_pos', 'che_bytype_recent_perf', 'che_bytype_consistency', 'che_bytype_trend', 'che_bytype_pct_top3', 'che_bytype_nb_courses', 'che_bytype_total_races', 'che_bytype_dnf_rate', 'joc_global_avg_pos', 'joc_global_recent_perf', 'joc_global_consistency', 'joc_global_trend', 'joc_global_pct_top3', 'joc_global_nb_courses', 'joc_global_total_races', 'joc_global_dnf_rate', 'joc_weighted_avg_pos', 'joc_weighted_recent_perf', 'joc_weighted_consistency', 'joc_weighted_pct_top3', 'joc_weighted_nb_courses', 'joc_weighted_total_races', 'joc_weighted_dnf_rate', 'joc_weighted_trend', 'joc_bytype_avg_pos', 'joc_bytype_recent_perf', 'joc_bytype_consistency', 'joc_bytype_trend', 'joc_bytype_pct_top3', 'joc_bytype_nb_courses', 'joc_bytype_total_races', 'joc_bytype_dnf_rate', 'che_form_momentum', 'che_improving_form', 'che_declining_form', 'che_high_consistency', 'che_recent_quality', 'che_elite_performer', 'che_regular_placer', 'joc_form_momentum', 'joc_improving_form', 'joc_high_consistency', 'joc_elite_performer', 'synergy_both_improving', 'synergy_both_consistent', 'synergy_both_elite', 'overall_momentum_score', 'high_momentum', 'class_drop_pct', 'purse_per_starter', 'purse_ratio', 'moving_up_in_class', 'class_shock_indicator', 'handicap_level_change', 'time_per_distance', 'time_vs_record', 'pace_rating', 'speed_figure_proxy', 'market_confidence_shift', 'last_race_improvement', 'bounce_risk', 'layoff_distance_interaction', 'trainer_change', 'connection_stability', 'field_size_change', 'distance_comfort', 'competition_level_shift', 'recence_x_class_drop', 'trainer_change_x_recence', 'distance_change_x_recence', 'che_by_type_avg_pos', 'che_by_type_recent_perf', 'che_by_type_consistency', 'che_by_type_trend', 'che_by_type_pct_top3', 'che_by_type_nb_courses', 'che_by_type_total_races', 'che_by_type_dnf_rate', 'joc_by_type_avg_pos', 'joc_by_type_recent_perf', 'joc_by_type_consistency', 'joc_by_type_trend', 'joc_by_type_pct_top3', 'joc_by_type_nb_courses', 'joc_by_type_total_races', 'joc_by_type_dnf_rate', 'quinte_career_starts', 'quinte_win_rate', 'quinte_top5_rate', 'avg_quinte_position', 'days_since_last_quinte', 'quinte_handicap_specialist', 'quinte_conditions_specialist', 'quinte_large_field_ability', 'quinte_track_condition_fit', 'is_handicap_quinte', 'handicap_division', 'purse_level_category', 'field_size_category', 'track_condition_PH', 'track_condition_DUR', 'track_condition_PS', 'track_condition_PSF', 'weather_clear', 'weather_rain', 'weather_cloudy', 'post_position_bias', 'post_position_track_bias', 'raw_tabnet_prediction', 'predicted_position_tabnet', 'raw_rf_prediction', 'predicted_position_rf', 'predicted_position_base']
2025-11-13 15:12:25,839 - race_prediction.competitive_field_analyzer - INFO - === CRITICAL COLUMNS ANALYSIS ===
2025-11-13 15:12:25,839 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ recordG: 16/16 non-null values (100.0%)
2025-11-13 15:12:25,839 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [0.0, 0.0, 0.0]
2025-11-13 15:12:25,839 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ hippo: 16/16 non-null values (100.0%)
2025-11-13 15:12:25,839 - race_prediction.competitive_field_analyzer - INFO -    Sample values: ['Paris-Vincennes', 'Paris-Vincennes', 'Paris-Vincennes']
2025-11-13 15:12:25,839 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ coursescheval: 16/16 non-null values (100.0%)
2025-11-13 15:12:25,839 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [50, 56, 53]
2025-11-13 15:12:25,839 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ victoirescheval: 16/16 non-null values (100.0%)
2025-11-13 15:12:25,839 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [7, 6, 6]
2025-11-13 15:12:25,839 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ placescheval: 16/16 non-null values (100.0%)
2025-11-13 15:12:25,839 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [21, 24, 17]
2025-11-13 15:12:25,839 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ gainsCarriere: 16/16 non-null values (100.0%)
2025-11-13 15:12:25,839 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [12918000, 12973000, 12992000]
2025-11-13 15:12:25,840 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ age: 16/16 non-null values (100.0%)
2025-11-13 15:12:25,840 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [7, 8, 8]
2025-11-13 15:12:25,840 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ derniereplace: 16/16 non-null values (100.0%)
2025-11-13 15:12:25,840 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [3.0, 2.0, 9.0]
2025-11-13 15:12:25,840 - race_prediction.competitive_field_analyzer - INFO - === RACE METADATA ===
2025-11-13 15:12:25,840 - race_prediction.competitive_field_analyzer - INFO - comp: 1617031
2025-11-13 15:12:25,840 - race_prediction.competitive_field_analyzer - INFO - hippo: Paris-Vincennes
2025-11-13 15:12:25,840 - race_prediction.competitive_field_analyzer - INFO - dist: 2850
2025-11-13 15:12:25,840 - race_prediction.competitive_field_analyzer - INFO - typec: Attel√©
2025-11-13 15:12:25,840 - race_prediction.competitive_field_analyzer - INFO - partant: 16
2025-11-13 15:12:25,840 - race_prediction.competitive_field_analyzer - INFO - === SAMPLE RACE DATA ===
2025-11-13 15:12:25,840 - race_prediction.competitive_field_analyzer - INFO - Sample data (columns: ['numero', 'cheval', 'recordG', 'hippo', 'coursescheval']):
2025-11-13 15:12:25,840 - race_prediction.competitive_field_analyzer - INFO -   Horse 0: {'numero': 1, 'cheval': 'Incisif Vauc√©en', 'recordG': 0.0, 'hippo': 'Paris-Vincennes', 'coursescheval': 50}
2025-11-13 15:12:25,840 - race_prediction.competitive_field_analyzer - INFO -   Horse 1: {'numero': 2, 'cheval': 'Hapax', 'recordG': 0.0, 'hippo': 'Paris-Vincennes', 'coursescheval': 56}
2025-11-13 15:12:25,840 - race_prediction.competitive_field_analyzer - INFO -   Horse 2: {'numero': 3, 'cheval': "Humour d'Haufor", 'recordG': 0.0, 'hippo': 'Paris-Vincennes', 'coursescheval': 53}
2025-11-13 15:12:25,840 - race_prediction.competitive_field_analyzer - INFO - === END COMPETITIVE ANALYSIS DEBUG ===

2025-11-13 15:12:25,840 - race_prediction.competitive_field_analyzer - INFO - === RETRIEVING HISTORICAL DATA ===
2025-11-13 15:12:25,841 - race_prediction.competitive_field_analyzer - INFO - Fetching historical data for 16 horses: [1501131, 1465141, 1430398, 1495197, 1438303, 1380284, 1435419, 1461235, 1476561, 1449296, 1334510, 1437359, 1495175, 1433275, 1471729, 1346797]
2025-11-13 15:12:25,842 - race_prediction.competitive_field_analyzer - INFO - Batch querying historical data for 16 horses: [1501131, 1465141, 1430398, 1495197, 1438303, 1380284, 1435419, 1461235, 1476561, 1449296, 1334510, 1437359, 1495175, 1433275, 1471729, 1346797]
2025-11-13 15:12:37,706 - race_prediction.competitive_field_analyzer - INFO - Batch query completed in 11.86s, found 233 total records
2025-11-13 15:12:37,716 - race_prediction.competitive_field_analyzer - INFO - Batch query retrieved 233 total historical races
2025-11-13 15:12:37,716 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS PER HORSE ===
2025-11-13 15:12:37,716 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1501131: 16 historical races found
2025-11-13 15:12:37,716 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1465141: 15 historical races found
2025-11-13 15:12:37,716 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1430398: 10 historical races found
2025-11-13 15:12:37,716 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1495197: 20 historical races found
2025-11-13 15:12:37,716 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1438303: 12 historical races found
2025-11-13 15:12:37,716 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1380284: 17 historical races found
2025-11-13 15:12:37,716 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1435419: 15 historical races found
2025-11-13 15:12:37,716 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1461235: 13 historical races found
2025-11-13 15:12:37,716 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1476561: 17 historical races found
2025-11-13 15:12:37,716 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1449296: 15 historical races found
2025-11-13 15:12:37,716 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1334510: 11 historical races found
2025-11-13 15:12:37,716 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1437359: 19 historical races found
2025-11-13 15:12:37,716 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1495175: 14 historical races found
2025-11-13 15:12:37,716 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1433275: 15 historical races found
2025-11-13 15:12:37,716 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1471729: 18 historical races found
2025-11-13 15:12:37,716 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1346797: 6 historical races found
2025-11-13 15:12:37,716 - race_prediction.competitive_field_analyzer - INFO - Retrieved 233 total historical races
2025-11-13 15:12:37,716 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS BY HORSE ===
2025-11-13 15:12:37,716 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1501131: 16 historical races
2025-11-13 15:12:37,716 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1465141: 15 historical races
2025-11-13 15:12:37,716 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1430398: 10 historical races
2025-11-13 15:12:37,716 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1495197: 20 historical races
2025-11-13 15:12:37,716 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1438303: 12 historical races
2025-11-13 15:12:37,716 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1380284: 17 historical races
2025-11-13 15:12:37,716 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1435419: 15 historical races
2025-11-13 15:12:37,716 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1461235: 13 historical races
2025-11-13 15:12:37,717 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1476561: 17 historical races
2025-11-13 15:12:37,717 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1449296: 15 historical races
2025-11-13 15:12:37,717 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1334510: 11 historical races
2025-11-13 15:12:37,717 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1437359: 19 historical races
2025-11-13 15:12:37,717 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1495175: 14 historical races
2025-11-13 15:12:37,717 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1433275: 15 historical races
2025-11-13 15:12:37,717 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1471729: 18 historical races
2025-11-13 15:12:37,717 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1346797: 6 historical races
2025-11-13 15:12:37,717 - race_prediction.competitive_field_analyzer - INFO - === END HISTORICAL DATA RETRIEVAL ===

2025-11-13 15:12:37,717 - race_prediction.competitive_field_analyzer - INFO - === EARNINGS QUALITY ANALYSIS ===
2025-11-13 15:12:37,717 - race_prediction.competitive_field_analyzer - INFO - Valid earnings data: 16/16 horses
2025-11-13 15:12:37,717 - race_prediction.competitive_field_analyzer - INFO - Sample earnings per race: ['258,360', '231,661', '245,132']
2025-11-13 15:12:37,717 - race_prediction.competitive_field_analyzer - INFO - Field earnings stats: avg=296,031, max=472,457
2025-11-13 15:12:37,717 - race_prediction.competitive_field_analyzer - INFO - === TRACK SPECIALIZATION ANALYSIS ===
2025-11-13 15:12:37,717 - race_prediction.competitive_field_analyzer - INFO - Horses with reliable venue data (3+ races): 0/16
2025-11-13 15:12:37,718 - race_prediction.competitive_field_analyzer - INFO - === FORM MOMENTUM ANALYSIS ===
2025-11-13 15:12:37,718 - race_prediction.competitive_field_analyzer - INFO - Field avg horse trend: 2.934, recent perf: 6.71
2025-11-13 15:12:37,718 - race_prediction.competitive_field_analyzer - INFO - Field avg jockey trend: -0.829
2025-11-13 15:12:37,719 - race_prediction.competitive_field_analyzer - INFO - Horses with improving form: 3/16
2025-11-13 15:12:37,719 - race_prediction.competitive_field_analyzer - INFO - === HOT CONNECTIONS ANALYSIS ===
2025-11-13 15:12:37,719 - race_prediction.competitive_field_analyzer - INFO - Jockeys with wins today: 0/16
2025-11-13 15:12:37,719 - race_prediction.competitive_field_analyzer - INFO - Trainers with wins today: 0/16
2025-11-13 15:12:37,719 - race_prediction.competitive_field_analyzer - INFO - === DISTANCE COMFORT ANALYSIS ===
2025-11-13 15:12:37,719 - race_prediction.competitive_field_analyzer - INFO - Current race distance: 2850m
2025-11-13 15:12:37,719 - race_prediction.competitive_field_analyzer - INFO - Horses with similar recent distance: 10/16
2025-11-13 15:12:37,719 - race_prediction.competitive_field_analyzer - INFO - === REALISTIC COMPETITIVE SCORING ===
2025-11-13 15:12:37,720 - race_prediction.competitive_field_analyzer - INFO - üìä COMPETITIVE ANALYSIS SUMMARY:
2025-11-13 15:12:37,720 - race_prediction.competitive_field_analyzer - INFO -    Total competitive races: 233
2025-11-13 15:12:37,720 - race_prediction.competitive_field_analyzer - INFO -    Horses with historical data: 16/16
2025-11-13 15:12:37,720 - race_prediction.competitive_field_analyzer - INFO -    Average races per horse: 14.6
2025-11-13 15:12:37,732 - race_prediction.quinte_prediction_storage - INFO - Stored 16 horses for Quint√© race 1617031
2025-11-13 15:12:39,912 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE ANALYSIS DEBUG ===
2025-11-13 15:12:39,912 - race_prediction.competitive_field_analyzer - INFO - Analyzing competitive field for race with 13 horses
2025-11-13 15:12:39,913 - race_prediction.competitive_field_analyzer - INFO - Race data shape: (13, 280)
2025-11-13 15:12:39,913 - race_prediction.competitive_field_analyzer - INFO - Available columns: ['id', 'comp', 'jour', 'hippo', 'reun', 'prix', 'prixnom', 'typec', 'partant', 'dist', 'handi', 'groupe', 'quinte', 'natpis', 'meteo', 'corde', 'temperature', 'forceVent', 'directionVent', 'nebulosite', 'prediction_results', 'actual_results', 'created_at', 'updated_at', 'processed_data', 'cheque', 'handi_raw', 'reclam', 'sex', 'tempscourse', 'handicap_level_score', 'cl', 'numero', 'cheval', 'age', 'cotedirect', 'coteprob', 'recence', 'ecar', 'defoeil', 'defoeilPrec', 'musiqueche', 'musiquejoc', 'entraineur', 'coursescheval', 'victoirescheval', 'placescheval', 'dernierealloc', 'derniernbpartants', 'dernieredist', 'derniereplace', 'dernierecote', 'dernierEnt', 'proprietaire', 'poidmont', 'pourcVictJockHippo', 'pourcPlaceJockHippo', 'pourcVictChevalHippo', 'pourcPlaceChevalHippo', 'tempstot', 'vha', 'recordG', 'txreclam', 'dernierTxreclam', 'gainsCarriere', 'gainsAnneeEnCours', 'handicapDistance', 'handicapPoids', 'TxVictCouple', 'nbVictCouple', 'nbPlaceCouple', 'idche', 'idJockey', 'idEntraineur', 'defFirstTime', 'oeilFirstTime', 'oeil', 'dernierOeil', 'ratio_victoires', 'ratio_places', 'gains_par_course', 'efficacite_couple', 'regularite_couple', 'progression_couple', 'perf_cheval_hippo', 'perf_jockey_hippo', 'trainer_victoires', 'trainer_places', 'trainer_courses', 'trainer_winrate', 'trainer_placerate', 'trainer_quality_score', 'trainer_experience_level', 'handicap_poids', 'handicap_dist', 'prec_handicap_poids', 'prec_handicap_dist', 'handicap_poids_change', 'handicap_poids_increased', 'handicap_poids_decreased', 'handicap_dist_change', 'handicap_dist_increased', 'handicap_dist_decreased', 'total_handicap', 'handicap_momentum', 'last_race_position', 'last_race_distance', 'distance_change', 'distance_change_pct', 'distance_increased', 'distance_decreased', 'same_distance', 'corde_change', 'corde_improved', 'corde_worsened', 'last_race_top3', 'last_race_won', 'blinkers_first_time', 'has_blinkers', 'has_standard_blinkers', 'has_australian_blinkers', 'blinkers_added', 'blinkers_removed', 'blinkers_type_changed', 'blinkers_any_change', 'blinkers_high_impact_change', 'shoeing_first_time', 'fully_shod', 'front_shod_only', 'back_shod_only', 'barefoot', 'shoeing_changed', 'barefoot_to_shod', 'shod_to_barefoot', 'major_shoeing_change', 'shoeing_complexity', 'multiple_equipment_changes', 'equipment_momentum_score', 'high_equipment_momentum', 'multiple_first_time_changes', 'equipment_optimization_score', 'career_strike_rate', 'earnings_per_race', 'earnings_trend', 'last_race_position_normalized', 'last_race_odds_normalized', 'last_race_field_size_factor', 'distance_consistency', 'vha_normalized', 'claiming_tax_trend', 'class_stability', 'che_global_avg_pos', 'che_global_recent_perf', 'che_global_consistency', 'che_global_trend', 'che_global_pct_top3', 'che_global_nb_courses', 'che_global_total_races', 'che_global_dnf_rate', 'che_weighted_avg_pos', 'che_weighted_recent_perf', 'che_weighted_consistency', 'che_weighted_pct_top3', 'che_weighted_nb_courses', 'che_weighted_total_races', 'che_weighted_dnf_rate', 'che_weighted_trend', 'che_bytype_avg_pos', 'che_bytype_recent_perf', 'che_bytype_consistency', 'che_bytype_trend', 'che_bytype_pct_top3', 'che_bytype_nb_courses', 'che_bytype_total_races', 'che_bytype_dnf_rate', 'joc_global_avg_pos', 'joc_global_recent_perf', 'joc_global_consistency', 'joc_global_trend', 'joc_global_pct_top3', 'joc_global_nb_courses', 'joc_global_total_races', 'joc_global_dnf_rate', 'joc_weighted_avg_pos', 'joc_weighted_recent_perf', 'joc_weighted_consistency', 'joc_weighted_pct_top3', 'joc_weighted_nb_courses', 'joc_weighted_total_races', 'joc_weighted_dnf_rate', 'joc_weighted_trend', 'joc_bytype_avg_pos', 'joc_bytype_recent_perf', 'joc_bytype_consistency', 'joc_bytype_trend', 'joc_bytype_pct_top3', 'joc_bytype_nb_courses', 'joc_bytype_dnf_rate', 'che_form_momentum', 'che_improving_form', 'che_declining_form', 'che_high_consistency', 'che_recent_quality', 'che_elite_performer', 'che_regular_placer', 'joc_form_momentum', 'joc_improving_form', 'joc_high_consistency', 'joc_elite_performer', 'synergy_both_improving', 'synergy_both_consistent', 'synergy_both_elite', 'overall_momentum_score', 'high_momentum', 'class_drop_pct', 'purse_per_starter', 'purse_ratio', 'moving_up_in_class', 'class_shock_indicator', 'handicap_level_change', 'time_per_distance', 'time_vs_record', 'pace_rating', 'speed_figure_proxy', 'market_confidence_shift', 'last_race_improvement', 'bounce_risk', 'layoff_distance_interaction', 'trainer_change', 'connection_stability', 'field_size_change', 'distance_comfort', 'competition_level_shift', 'recence_x_class_drop', 'trainer_change_x_recence', 'distance_change_x_recence', 'joc_bytype_total_races', 'che_by_type_avg_pos', 'che_by_type_recent_perf', 'che_by_type_consistency', 'che_by_type_trend', 'che_by_type_pct_top3', 'che_by_type_nb_courses', 'che_by_type_total_races', 'che_by_type_dnf_rate', 'joc_by_type_avg_pos', 'joc_by_type_recent_perf', 'joc_by_type_consistency', 'joc_by_type_trend', 'joc_by_type_pct_top3', 'joc_by_type_nb_courses', 'joc_by_type_dnf_rate', 'joc_by_type_total_races', 'quinte_career_starts', 'quinte_win_rate', 'quinte_top5_rate', 'avg_quinte_position', 'days_since_last_quinte', 'quinte_handicap_specialist', 'quinte_conditions_specialist', 'quinte_large_field_ability', 'quinte_track_condition_fit', 'is_handicap_quinte', 'handicap_division', 'purse_level_category', 'field_size_category', 'track_condition_PH', 'track_condition_DUR', 'track_condition_PS', 'track_condition_PSF', 'weather_clear', 'weather_rain', 'weather_cloudy', 'post_position_bias', 'post_position_track_bias', 'raw_tabnet_prediction', 'predicted_position_tabnet', 'raw_rf_prediction', 'predicted_position_rf', 'predicted_position_base']
2025-11-13 15:12:39,913 - race_prediction.competitive_field_analyzer - INFO - === CRITICAL COLUMNS ANALYSIS ===
2025-11-13 15:12:39,913 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ recordG: 13/13 non-null values (100.0%)
2025-11-13 15:12:39,913 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [0.0, 0.0, 0.0]
2025-11-13 15:12:39,913 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ hippo: 13/13 non-null values (100.0%)
2025-11-13 15:12:39,913 - race_prediction.competitive_field_analyzer - INFO -    Sample values: ['Auteuil', 'Auteuil', 'Auteuil']
2025-11-13 15:12:39,913 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ coursescheval: 13/13 non-null values (100.0%)
2025-11-13 15:12:39,913 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [12, 18, 15]
2025-11-13 15:12:39,913 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ victoirescheval: 13/13 non-null values (100.0%)
2025-11-13 15:12:39,913 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [4, 5, 5]
2025-11-13 15:12:39,913 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ placescheval: 13/13 non-null values (100.0%)
2025-11-13 15:12:39,914 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [6, 9, 8]
2025-11-13 15:12:39,914 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ gainsCarriere: 13/13 non-null values (100.0%)
2025-11-13 15:12:39,914 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [18710000, 18124000, 19832500]
2025-11-13 15:12:39,914 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ age: 13/13 non-null values (100.0%)
2025-11-13 15:12:39,914 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [6, 8, 6]
2025-11-13 15:12:39,914 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ derniereplace: 13/13 non-null values (100.0%)
2025-11-13 15:12:39,914 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [7, 2, 6]
2025-11-13 15:12:39,914 - race_prediction.competitive_field_analyzer - INFO - === RACE METADATA ===
2025-11-13 15:12:39,914 - race_prediction.competitive_field_analyzer - INFO - comp: 1607344
2025-11-13 15:12:39,914 - race_prediction.competitive_field_analyzer - INFO - hippo: Auteuil
2025-11-13 15:12:39,914 - race_prediction.competitive_field_analyzer - INFO - dist: 4700
2025-11-13 15:12:39,914 - race_prediction.competitive_field_analyzer - INFO - typec: Steeple-chase
2025-11-13 15:12:39,914 - race_prediction.competitive_field_analyzer - INFO - partant: 13
2025-11-13 15:12:39,914 - race_prediction.competitive_field_analyzer - INFO - === SAMPLE RACE DATA ===
2025-11-13 15:12:39,914 - race_prediction.competitive_field_analyzer - INFO - Sample data (columns: ['numero', 'cheval', 'recordG', 'hippo', 'coursescheval']):
2025-11-13 15:12:39,914 - race_prediction.competitive_field_analyzer - INFO -   Horse 0: {'numero': 1, 'cheval': 'Japon', 'recordG': 0.0, 'hippo': 'Auteuil', 'coursescheval': 12}
2025-11-13 15:12:39,914 - race_prediction.competitive_field_analyzer - INFO -   Horse 1: {'numero': 2, 'cheval': 'Scatar', 'recordG': 0.0, 'hippo': 'Auteuil', 'coursescheval': 18}
2025-11-13 15:12:39,914 - race_prediction.competitive_field_analyzer - INFO -   Horse 2: {'numero': 3, 'cheval': "Jardin d'Arthel", 'recordG': 0.0, 'hippo': 'Auteuil', 'coursescheval': 15}
2025-11-13 15:12:39,914 - race_prediction.competitive_field_analyzer - INFO - === END COMPETITIVE ANALYSIS DEBUG ===

2025-11-13 15:12:39,914 - race_prediction.competitive_field_analyzer - INFO - === RETRIEVING HISTORICAL DATA ===
2025-11-13 15:12:39,915 - race_prediction.competitive_field_analyzer - INFO - Fetching historical data for 13 horses: [1544270, 1531945, 1538098, 1536527, 1576353, 1537350, 1476552, 1559531, 1536998, 1667100, 1641961, 1515777, 1538910]
2025-11-13 15:12:39,916 - race_prediction.competitive_field_analyzer - INFO - Batch querying historical data for 13 horses: [1544270, 1531945, 1538098, 1536527, 1576353, 1537350, 1476552, 1559531, 1536998, 1667100, 1641961, 1515777, 1538910]
2025-11-13 15:12:51,961 - race_prediction.competitive_field_analyzer - INFO - Batch query completed in 12.04s, found 83 total records
2025-11-13 15:12:51,966 - race_prediction.competitive_field_analyzer - INFO - Batch query retrieved 83 total historical races
2025-11-13 15:12:51,966 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS PER HORSE ===
2025-11-13 15:12:51,966 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1544270: 7 historical races found
2025-11-13 15:12:51,966 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1531945: 5 historical races found
2025-11-13 15:12:51,966 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1538098: 4 historical races found
2025-11-13 15:12:51,966 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1536527: 8 historical races found
2025-11-13 15:12:51,966 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1576353: 7 historical races found
2025-11-13 15:12:51,966 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1537350: 12 historical races found
2025-11-13 15:12:51,966 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1476552: 5 historical races found
2025-11-13 15:12:51,966 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1559531: 12 historical races found
2025-11-13 15:12:51,966 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1536998: 8 historical races found
2025-11-13 15:12:51,966 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1667100: 5 historical races found
2025-11-13 15:12:51,966 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1641961: 6 historical races found
2025-11-13 15:12:51,966 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1515777: 2 historical races found
2025-11-13 15:12:51,966 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1538910: 2 historical races found
2025-11-13 15:12:51,966 - race_prediction.competitive_field_analyzer - INFO - Retrieved 83 total historical races
2025-11-13 15:12:51,966 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS BY HORSE ===
2025-11-13 15:12:51,966 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1544270: 7 historical races
2025-11-13 15:12:51,966 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1531945: 5 historical races
2025-11-13 15:12:51,966 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1538098: 4 historical races
2025-11-13 15:12:51,966 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1536527: 8 historical races
2025-11-13 15:12:51,966 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1576353: 7 historical races
2025-11-13 15:12:51,966 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1537350: 12 historical races
2025-11-13 15:12:51,966 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1476552: 5 historical races
2025-11-13 15:12:51,966 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1559531: 12 historical races
2025-11-13 15:12:51,966 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1536998: 8 historical races
2025-11-13 15:12:51,966 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1667100: 5 historical races
2025-11-13 15:12:51,966 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1641961: 6 historical races
2025-11-13 15:12:51,966 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1515777: 2 historical races
2025-11-13 15:12:51,966 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1538910: 2 historical races
2025-11-13 15:12:51,966 - race_prediction.competitive_field_analyzer - INFO - === END HISTORICAL DATA RETRIEVAL ===

2025-11-13 15:12:51,967 - race_prediction.competitive_field_analyzer - INFO - === EARNINGS QUALITY ANALYSIS ===
2025-11-13 15:12:51,967 - race_prediction.competitive_field_analyzer - INFO - Valid earnings data: 13/13 horses
2025-11-13 15:12:51,967 - race_prediction.competitive_field_analyzer - INFO - Sample earnings per race: ['1,559,167', '1,006,889', '1,322,167']
2025-11-13 15:12:51,967 - race_prediction.competitive_field_analyzer - INFO - Field earnings stats: avg=832,786, max=1,559,167
2025-11-13 15:12:51,967 - race_prediction.competitive_field_analyzer - INFO - === TRACK SPECIALIZATION ANALYSIS ===
2025-11-13 15:12:51,967 - race_prediction.competitive_field_analyzer - INFO - Horses with reliable venue data (3+ races): 0/13
2025-11-13 15:12:51,968 - race_prediction.competitive_field_analyzer - INFO - === FORM MOMENTUM ANALYSIS ===
2025-11-13 15:12:51,968 - race_prediction.competitive_field_analyzer - INFO - Field avg horse trend: -2.475, recent perf: 5.03
2025-11-13 15:12:51,969 - race_prediction.competitive_field_analyzer - INFO - Field avg jockey trend: 0.963
2025-11-13 15:12:51,969 - race_prediction.competitive_field_analyzer - INFO - Horses with improving form: 1/13
2025-11-13 15:12:51,969 - race_prediction.competitive_field_analyzer - INFO - === HOT CONNECTIONS ANALYSIS ===
2025-11-13 15:12:51,969 - race_prediction.competitive_field_analyzer - INFO - Jockeys with wins today: 0/13
2025-11-13 15:12:51,969 - race_prediction.competitive_field_analyzer - INFO - Trainers with wins today: 0/13
2025-11-13 15:12:51,969 - race_prediction.competitive_field_analyzer - INFO - === DISTANCE COMFORT ANALYSIS ===
2025-11-13 15:12:51,969 - race_prediction.competitive_field_analyzer - INFO - Current race distance: 4700m
2025-11-13 15:12:51,969 - race_prediction.competitive_field_analyzer - INFO - Horses with similar recent distance: 0/13
2025-11-13 15:12:51,969 - race_prediction.competitive_field_analyzer - INFO - === REALISTIC COMPETITIVE SCORING ===
2025-11-13 15:12:51,970 - race_prediction.competitive_field_analyzer - INFO - üìä COMPETITIVE ANALYSIS SUMMARY:
2025-11-13 15:12:51,970 - race_prediction.competitive_field_analyzer - INFO -    Total competitive races: 83
2025-11-13 15:12:51,970 - race_prediction.competitive_field_analyzer - INFO -    Horses with historical data: 13/13
2025-11-13 15:12:51,973 - race_prediction.competitive_field_analyzer - INFO -    Average races per horse: 6.4
2025-11-13 15:12:51,989 - race_prediction.quinte_prediction_storage - INFO - Stored 13 horses for Quint√© race 1607344
2025-11-13 15:12:54,338 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE ANALYSIS DEBUG ===
2025-11-13 15:12:54,338 - race_prediction.competitive_field_analyzer - INFO - Analyzing competitive field for race with 14 horses
2025-11-13 15:12:54,338 - race_prediction.competitive_field_analyzer - INFO - Race data shape: (14, 280)
2025-11-13 15:12:54,338 - race_prediction.competitive_field_analyzer - INFO - Available columns: ['id', 'comp', 'jour', 'hippo', 'reun', 'prix', 'prixnom', 'typec', 'partant', 'dist', 'handi', 'groupe', 'quinte', 'natpis', 'meteo', 'corde', 'temperature', 'forceVent', 'directionVent', 'nebulosite', 'prediction_results', 'actual_results', 'created_at', 'updated_at', 'processed_data', 'cheque', 'handi_raw', 'reclam', 'sex', 'tempscourse', 'handicap_level_score', 'cl', 'numero', 'cheval', 'age', 'cotedirect', 'coteprob', 'recence', 'ecar', 'defoeil', 'defoeilPrec', 'musiqueche', 'musiquejoc', 'entraineur', 'coursescheval', 'victoirescheval', 'placescheval', 'dernierealloc', 'derniernbpartants', 'dernieredist', 'derniereplace', 'dernierecote', 'dernierEnt', 'proprietaire', 'poidmont', 'pourcVictJockHippo', 'pourcPlaceJockHippo', 'pourcVictChevalHippo', 'pourcPlaceChevalHippo', 'tempstot', 'vha', 'recordG', 'txreclam', 'dernierTxreclam', 'gainsCarriere', 'gainsAnneeEnCours', 'handicapDistance', 'handicapPoids', 'TxVictCouple', 'nbVictCouple', 'nbPlaceCouple', 'idche', 'idJockey', 'idEntraineur', 'defFirstTime', 'oeilFirstTime', 'oeil', 'dernierOeil', 'ratio_victoires', 'ratio_places', 'gains_par_course', 'efficacite_couple', 'regularite_couple', 'progression_couple', 'perf_cheval_hippo', 'perf_jockey_hippo', 'trainer_victoires', 'trainer_places', 'trainer_courses', 'trainer_winrate', 'trainer_placerate', 'trainer_quality_score', 'trainer_experience_level', 'handicap_poids', 'handicap_dist', 'prec_handicap_poids', 'prec_handicap_dist', 'handicap_poids_change', 'handicap_poids_increased', 'handicap_poids_decreased', 'handicap_dist_change', 'handicap_dist_increased', 'handicap_dist_decreased', 'total_handicap', 'handicap_momentum', 'last_race_position', 'last_race_distance', 'distance_change', 'distance_change_pct', 'distance_increased', 'distance_decreased', 'same_distance', 'corde_change', 'corde_improved', 'corde_worsened', 'last_race_top3', 'last_race_won', 'blinkers_first_time', 'has_blinkers', 'has_standard_blinkers', 'has_australian_blinkers', 'blinkers_added', 'blinkers_removed', 'blinkers_type_changed', 'blinkers_any_change', 'blinkers_high_impact_change', 'shoeing_first_time', 'fully_shod', 'front_shod_only', 'back_shod_only', 'barefoot', 'shoeing_changed', 'barefoot_to_shod', 'shod_to_barefoot', 'major_shoeing_change', 'shoeing_complexity', 'multiple_equipment_changes', 'equipment_momentum_score', 'high_equipment_momentum', 'multiple_first_time_changes', 'equipment_optimization_score', 'career_strike_rate', 'earnings_per_race', 'earnings_trend', 'last_race_position_normalized', 'last_race_odds_normalized', 'last_race_field_size_factor', 'distance_consistency', 'vha_normalized', 'claiming_tax_trend', 'class_stability', 'che_global_avg_pos', 'che_global_recent_perf', 'che_global_consistency', 'che_global_trend', 'che_global_pct_top3', 'che_global_nb_courses', 'che_global_total_races', 'che_global_dnf_rate', 'che_weighted_avg_pos', 'che_weighted_recent_perf', 'che_weighted_consistency', 'che_weighted_pct_top3', 'che_weighted_nb_courses', 'che_weighted_total_races', 'che_weighted_dnf_rate', 'che_weighted_trend', 'che_bytype_avg_pos', 'che_bytype_recent_perf', 'che_bytype_consistency', 'che_bytype_trend', 'che_bytype_pct_top3', 'che_bytype_nb_courses', 'che_bytype_total_races', 'che_bytype_dnf_rate', 'joc_global_avg_pos', 'joc_global_recent_perf', 'joc_global_consistency', 'joc_global_trend', 'joc_global_pct_top3', 'joc_global_nb_courses', 'joc_global_total_races', 'joc_global_dnf_rate', 'joc_weighted_avg_pos', 'joc_weighted_recent_perf', 'joc_weighted_consistency', 'joc_weighted_pct_top3', 'joc_weighted_nb_courses', 'joc_weighted_total_races', 'joc_weighted_dnf_rate', 'joc_weighted_trend', 'joc_bytype_avg_pos', 'joc_bytype_recent_perf', 'joc_bytype_consistency', 'joc_bytype_trend', 'joc_bytype_pct_top3', 'joc_bytype_nb_courses', 'joc_bytype_total_races', 'joc_bytype_dnf_rate', 'che_form_momentum', 'che_improving_form', 'che_declining_form', 'che_high_consistency', 'che_recent_quality', 'che_elite_performer', 'che_regular_placer', 'joc_form_momentum', 'joc_improving_form', 'joc_high_consistency', 'joc_elite_performer', 'synergy_both_improving', 'synergy_both_consistent', 'synergy_both_elite', 'overall_momentum_score', 'high_momentum', 'class_drop_pct', 'purse_per_starter', 'purse_ratio', 'moving_up_in_class', 'class_shock_indicator', 'handicap_level_change', 'time_per_distance', 'time_vs_record', 'pace_rating', 'speed_figure_proxy', 'market_confidence_shift', 'last_race_improvement', 'bounce_risk', 'layoff_distance_interaction', 'trainer_change', 'connection_stability', 'field_size_change', 'distance_comfort', 'competition_level_shift', 'recence_x_class_drop', 'trainer_change_x_recence', 'distance_change_x_recence', 'che_by_type_avg_pos', 'che_by_type_recent_perf', 'che_by_type_consistency', 'che_by_type_trend', 'che_by_type_pct_top3', 'che_by_type_nb_courses', 'che_by_type_total_races', 'che_by_type_dnf_rate', 'joc_by_type_avg_pos', 'joc_by_type_recent_perf', 'joc_by_type_consistency', 'joc_by_type_trend', 'joc_by_type_pct_top3', 'joc_by_type_nb_courses', 'joc_by_type_total_races', 'joc_by_type_dnf_rate', 'quinte_career_starts', 'quinte_win_rate', 'quinte_top5_rate', 'avg_quinte_position', 'days_since_last_quinte', 'quinte_handicap_specialist', 'quinte_conditions_specialist', 'quinte_large_field_ability', 'quinte_track_condition_fit', 'is_handicap_quinte', 'handicap_division', 'purse_level_category', 'field_size_category', 'track_condition_PH', 'track_condition_DUR', 'track_condition_PS', 'track_condition_PSF', 'weather_clear', 'weather_rain', 'weather_cloudy', 'post_position_bias', 'post_position_track_bias', 'raw_tabnet_prediction', 'predicted_position_tabnet', 'raw_rf_prediction', 'predicted_position_rf', 'predicted_position_base']
2025-11-13 15:12:54,338 - race_prediction.competitive_field_analyzer - INFO - === CRITICAL COLUMNS ANALYSIS ===
2025-11-13 15:12:54,338 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ recordG: 14/14 non-null values (100.0%)
2025-11-13 15:12:54,338 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [0.0, 0.0, 0.0]
2025-11-13 15:12:54,339 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ hippo: 14/14 non-null values (100.0%)
2025-11-13 15:12:54,339 - race_prediction.competitive_field_analyzer - INFO -    Sample values: ['Beaumont-de-Lomagne', 'Beaumont-de-Lomagne', 'Beaumont-de-Lomagne']
2025-11-13 15:12:54,339 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ coursescheval: 14/14 non-null values (100.0%)
2025-11-13 15:12:54,339 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [28, 38, 44]
2025-11-13 15:12:54,339 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ victoirescheval: 14/14 non-null values (100.0%)
2025-11-13 15:12:54,339 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [9, 7, 5]
2025-11-13 15:12:54,339 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ placescheval: 14/14 non-null values (100.0%)
2025-11-13 15:12:54,339 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [16, 21, 15]
2025-11-13 15:12:54,339 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ gainsCarriere: 14/14 non-null values (100.0%)
2025-11-13 15:12:54,339 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [21669500, 20948000, 21108000]
2025-11-13 15:12:54,339 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ age: 14/14 non-null values (100.0%)
2025-11-13 15:12:54,339 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [6, 6, 7]
2025-11-13 15:12:54,339 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ derniereplace: 14/14 non-null values (100.0%)
2025-11-13 15:12:54,339 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [3, 1, 5]
2025-11-13 15:12:54,339 - race_prediction.competitive_field_analyzer - INFO - === RACE METADATA ===
2025-11-13 15:12:54,339 - race_prediction.competitive_field_analyzer - INFO - comp: 1615378
2025-11-13 15:12:54,339 - race_prediction.competitive_field_analyzer - INFO - hippo: Beaumont-de-Lomagne
2025-11-13 15:12:54,339 - race_prediction.competitive_field_analyzer - INFO - dist: 2400
2025-11-13 15:12:54,339 - race_prediction.competitive_field_analyzer - INFO - typec: Attel√©
2025-11-13 15:12:54,339 - race_prediction.competitive_field_analyzer - INFO - partant: 14
2025-11-13 15:12:54,339 - race_prediction.competitive_field_analyzer - INFO - === SAMPLE RACE DATA ===
2025-11-13 15:12:54,340 - race_prediction.competitive_field_analyzer - INFO - Sample data (columns: ['numero', 'cheval', 'recordG', 'hippo', 'coursescheval']):
2025-11-13 15:12:54,340 - race_prediction.competitive_field_analyzer - INFO -   Horse 0: {'numero': 1, 'cheval': 'Joyce Delto', 'recordG': 0.0, 'hippo': 'Beaumont-de-Lomagne', 'coursescheval': 28}
2025-11-13 15:12:54,340 - race_prediction.competitive_field_analyzer - INFO -   Horse 1: {'numero': 2, 'cheval': 'Jojo Toons', 'recordG': 0.0, 'hippo': 'Beaumont-de-Lomagne', 'coursescheval': 38}
2025-11-13 15:12:54,340 - race_prediction.competitive_field_analyzer - INFO -   Horse 2: {'numero': 3, 'cheval': 'Ivrig Viking', 'recordG': 0.0, 'hippo': 'Beaumont-de-Lomagne', 'coursescheval': 44}
2025-11-13 15:12:54,340 - race_prediction.competitive_field_analyzer - INFO - === END COMPETITIVE ANALYSIS DEBUG ===

2025-11-13 15:12:54,340 - race_prediction.competitive_field_analyzer - INFO - === RETRIEVING HISTORICAL DATA ===
2025-11-13 15:12:54,340 - race_prediction.competitive_field_analyzer - INFO - Fetching historical data for 14 horses: [1521761, 1557632, 1463210, 1521583, 1571199, 1430643, 1389154, 1430819, 1515024, 1526420, 1335733, 1403264, 1510772, 1513940]
2025-11-13 15:12:54,341 - race_prediction.competitive_field_analyzer - INFO - Batch querying historical data for 14 horses: [1521761, 1557632, 1463210, 1521583, 1571199, 1430643, 1389154, 1430819, 1515024, 1526420, 1335733, 1403264, 1510772, 1513940]
2025-11-13 15:13:06,855 - race_prediction.competitive_field_analyzer - INFO - Batch query completed in 12.51s, found 179 total records
2025-11-13 15:13:06,863 - race_prediction.competitive_field_analyzer - INFO - Batch query retrieved 179 total historical races
2025-11-13 15:13:06,863 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS PER HORSE ===
2025-11-13 15:13:06,863 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1521761: 11 historical races found
2025-11-13 15:13:06,863 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1557632: 15 historical races found
2025-11-13 15:13:06,863 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1463210: 7 historical races found
2025-11-13 15:13:06,863 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1521583: 11 historical races found
2025-11-13 15:13:06,864 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1571199: 15 historical races found
2025-11-13 15:13:06,864 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1430643: 20 historical races found
2025-11-13 15:13:06,864 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1389154: 9 historical races found
2025-11-13 15:13:06,864 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1430819: 13 historical races found
2025-11-13 15:13:06,864 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1515024: 6 historical races found
2025-11-13 15:13:06,864 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1526420: 12 historical races found
2025-11-13 15:13:06,864 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1335733: 19 historical races found
2025-11-13 15:13:06,864 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1403264: 10 historical races found
2025-11-13 15:13:06,864 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1510772: 18 historical races found
2025-11-13 15:13:06,864 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1513940: 13 historical races found
2025-11-13 15:13:06,864 - race_prediction.competitive_field_analyzer - INFO - Retrieved 179 total historical races
2025-11-13 15:13:06,864 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS BY HORSE ===
2025-11-13 15:13:06,864 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1521761: 11 historical races
2025-11-13 15:13:06,864 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1557632: 15 historical races
2025-11-13 15:13:06,864 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1463210: 7 historical races
2025-11-13 15:13:06,864 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1521583: 11 historical races
2025-11-13 15:13:06,864 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1571199: 15 historical races
2025-11-13 15:13:06,864 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1430643: 20 historical races
2025-11-13 15:13:06,864 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1389154: 9 historical races
2025-11-13 15:13:06,864 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1430819: 13 historical races
2025-11-13 15:13:06,864 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1515024: 6 historical races
2025-11-13 15:13:06,864 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1526420: 12 historical races
2025-11-13 15:13:06,864 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1335733: 19 historical races
2025-11-13 15:13:06,864 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1403264: 10 historical races
2025-11-13 15:13:06,864 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1510772: 18 historical races
2025-11-13 15:13:06,864 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1513940: 13 historical races
2025-11-13 15:13:06,864 - race_prediction.competitive_field_analyzer - INFO - === END HISTORICAL DATA RETRIEVAL ===

2025-11-13 15:13:06,864 - race_prediction.competitive_field_analyzer - INFO - === EARNINGS QUALITY ANALYSIS ===
2025-11-13 15:13:06,864 - race_prediction.competitive_field_analyzer - INFO - Valid earnings data: 14/14 horses
2025-11-13 15:13:06,864 - race_prediction.competitive_field_analyzer - INFO - Sample earnings per race: ['773,911', '551,263', '479,727']
2025-11-13 15:13:06,864 - race_prediction.competitive_field_analyzer - INFO - Field earnings stats: avg=449,186, max=773,911
2025-11-13 15:13:06,864 - race_prediction.competitive_field_analyzer - INFO - === TRACK SPECIALIZATION ANALYSIS ===
2025-11-13 15:13:06,865 - race_prediction.competitive_field_analyzer - INFO - Horses with reliable venue data (3+ races): 0/14
2025-11-13 15:13:06,865 - race_prediction.competitive_field_analyzer - INFO - === FORM MOMENTUM ANALYSIS ===
2025-11-13 15:13:06,865 - race_prediction.competitive_field_analyzer - INFO - Field avg horse trend: 2.359, recent perf: 5.81
2025-11-13 15:13:06,865 - race_prediction.competitive_field_analyzer - INFO - Field avg jockey trend: 0.306
2025-11-13 15:13:06,865 - race_prediction.competitive_field_analyzer - INFO - Horses with improving form: 3/14
2025-11-13 15:13:06,866 - race_prediction.competitive_field_analyzer - INFO - === HOT CONNECTIONS ANALYSIS ===
2025-11-13 15:13:06,866 - race_prediction.competitive_field_analyzer - INFO - Jockeys with wins today: 0/14
2025-11-13 15:13:06,866 - race_prediction.competitive_field_analyzer - INFO - Trainers with wins today: 0/14
2025-11-13 15:13:06,866 - race_prediction.competitive_field_analyzer - INFO - === DISTANCE COMFORT ANALYSIS ===
2025-11-13 15:13:06,866 - race_prediction.competitive_field_analyzer - INFO - Current race distance: 2400m
2025-11-13 15:13:06,866 - race_prediction.competitive_field_analyzer - INFO - Horses with similar recent distance: 4/14
2025-11-13 15:13:06,866 - race_prediction.competitive_field_analyzer - INFO - === REALISTIC COMPETITIVE SCORING ===
2025-11-13 15:13:06,867 - race_prediction.competitive_field_analyzer - INFO - üìä COMPETITIVE ANALYSIS SUMMARY:
2025-11-13 15:13:06,867 - race_prediction.competitive_field_analyzer - INFO -    Total competitive races: 179
2025-11-13 15:13:06,867 - race_prediction.competitive_field_analyzer - INFO -    Horses with historical data: 14/14
2025-11-13 15:13:06,867 - race_prediction.competitive_field_analyzer - INFO -    Average races per horse: 12.8
2025-11-13 15:13:06,880 - race_prediction.quinte_prediction_storage - INFO - Stored 14 horses for Quint√© race 1615378
2025-11-13 15:13:08,946 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE ANALYSIS DEBUG ===
2025-11-13 15:13:08,946 - race_prediction.competitive_field_analyzer - INFO - Analyzing competitive field for race with 16 horses
2025-11-13 15:13:08,946 - race_prediction.competitive_field_analyzer - INFO - Race data shape: (16, 280)
2025-11-13 15:13:08,946 - race_prediction.competitive_field_analyzer - INFO - Available columns: ['id', 'comp', 'jour', 'hippo', 'reun', 'prix', 'prixnom', 'typec', 'partant', 'dist', 'handi', 'groupe', 'quinte', 'natpis', 'meteo', 'corde', 'temperature', 'forceVent', 'directionVent', 'nebulosite', 'prediction_results', 'actual_results', 'created_at', 'updated_at', 'processed_data', 'cheque', 'handi_raw', 'reclam', 'sex', 'tempscourse', 'handicap_level_score', 'cl', 'numero', 'cheval', 'age', 'cotedirect', 'coteprob', 'recence', 'ecar', 'defoeil', 'defoeilPrec', 'musiqueche', 'musiquejoc', 'entraineur', 'coursescheval', 'victoirescheval', 'placescheval', 'dernierealloc', 'derniernbpartants', 'dernieredist', 'derniereplace', 'dernierecote', 'dernierEnt', 'proprietaire', 'poidmont', 'pourcVictJockHippo', 'pourcPlaceJockHippo', 'pourcVictChevalHippo', 'pourcPlaceChevalHippo', 'tempstot', 'vha', 'recordG', 'txreclam', 'dernierTxreclam', 'gainsCarriere', 'gainsAnneeEnCours', 'handicapDistance', 'handicapPoids', 'TxVictCouple', 'nbVictCouple', 'nbPlaceCouple', 'idche', 'idJockey', 'idEntraineur', 'defFirstTime', 'oeilFirstTime', 'oeil', 'dernierOeil', 'ratio_victoires', 'ratio_places', 'gains_par_course', 'efficacite_couple', 'regularite_couple', 'progression_couple', 'perf_cheval_hippo', 'perf_jockey_hippo', 'trainer_victoires', 'trainer_places', 'trainer_courses', 'trainer_winrate', 'trainer_placerate', 'trainer_quality_score', 'trainer_experience_level', 'handicap_poids', 'handicap_dist', 'prec_handicap_poids', 'prec_handicap_dist', 'handicap_poids_change', 'handicap_poids_increased', 'handicap_poids_decreased', 'handicap_dist_change', 'handicap_dist_increased', 'handicap_dist_decreased', 'total_handicap', 'handicap_momentum', 'last_race_position', 'last_race_distance', 'distance_change', 'distance_change_pct', 'distance_increased', 'distance_decreased', 'same_distance', 'corde_change', 'corde_improved', 'corde_worsened', 'last_race_top3', 'last_race_won', 'blinkers_first_time', 'has_blinkers', 'has_standard_blinkers', 'has_australian_blinkers', 'blinkers_added', 'blinkers_removed', 'blinkers_type_changed', 'blinkers_any_change', 'blinkers_high_impact_change', 'shoeing_first_time', 'fully_shod', 'front_shod_only', 'back_shod_only', 'barefoot', 'shoeing_changed', 'barefoot_to_shod', 'shod_to_barefoot', 'major_shoeing_change', 'shoeing_complexity', 'multiple_equipment_changes', 'equipment_momentum_score', 'high_equipment_momentum', 'multiple_first_time_changes', 'equipment_optimization_score', 'career_strike_rate', 'earnings_per_race', 'earnings_trend', 'last_race_position_normalized', 'last_race_odds_normalized', 'last_race_field_size_factor', 'distance_consistency', 'vha_normalized', 'claiming_tax_trend', 'class_stability', 'che_global_avg_pos', 'che_global_recent_perf', 'che_global_consistency', 'che_global_trend', 'che_global_pct_top3', 'che_global_nb_courses', 'che_global_total_races', 'che_global_dnf_rate', 'che_weighted_avg_pos', 'che_weighted_recent_perf', 'che_weighted_consistency', 'che_weighted_pct_top3', 'che_weighted_nb_courses', 'che_weighted_total_races', 'che_weighted_dnf_rate', 'che_weighted_trend', 'che_bytype_avg_pos', 'che_bytype_recent_perf', 'che_bytype_consistency', 'che_bytype_trend', 'che_bytype_pct_top3', 'che_bytype_nb_courses', 'che_bytype_total_races', 'che_bytype_dnf_rate', 'joc_global_avg_pos', 'joc_global_recent_perf', 'joc_global_consistency', 'joc_global_trend', 'joc_global_pct_top3', 'joc_global_nb_courses', 'joc_global_total_races', 'joc_global_dnf_rate', 'joc_weighted_avg_pos', 'joc_weighted_recent_perf', 'joc_weighted_consistency', 'joc_weighted_pct_top3', 'joc_weighted_nb_courses', 'joc_weighted_total_races', 'joc_weighted_dnf_rate', 'joc_weighted_trend', 'joc_bytype_avg_pos', 'joc_bytype_recent_perf', 'joc_bytype_consistency', 'joc_bytype_trend', 'joc_bytype_pct_top3', 'joc_bytype_nb_courses', 'joc_bytype_total_races', 'joc_bytype_dnf_rate', 'che_form_momentum', 'che_improving_form', 'che_declining_form', 'che_high_consistency', 'che_recent_quality', 'che_elite_performer', 'che_regular_placer', 'joc_form_momentum', 'joc_improving_form', 'joc_high_consistency', 'joc_elite_performer', 'synergy_both_improving', 'synergy_both_consistent', 'synergy_both_elite', 'overall_momentum_score', 'high_momentum', 'class_drop_pct', 'purse_per_starter', 'purse_ratio', 'moving_up_in_class', 'class_shock_indicator', 'handicap_level_change', 'time_per_distance', 'time_vs_record', 'pace_rating', 'speed_figure_proxy', 'market_confidence_shift', 'last_race_improvement', 'bounce_risk', 'layoff_distance_interaction', 'trainer_change', 'connection_stability', 'field_size_change', 'distance_comfort', 'competition_level_shift', 'recence_x_class_drop', 'trainer_change_x_recence', 'distance_change_x_recence', 'che_by_type_avg_pos', 'che_by_type_recent_perf', 'che_by_type_consistency', 'che_by_type_trend', 'che_by_type_pct_top3', 'che_by_type_nb_courses', 'che_by_type_total_races', 'che_by_type_dnf_rate', 'joc_by_type_avg_pos', 'joc_by_type_recent_perf', 'joc_by_type_consistency', 'joc_by_type_trend', 'joc_by_type_pct_top3', 'joc_by_type_nb_courses', 'joc_by_type_total_races', 'joc_by_type_dnf_rate', 'quinte_career_starts', 'quinte_win_rate', 'quinte_top5_rate', 'avg_quinte_position', 'days_since_last_quinte', 'quinte_handicap_specialist', 'quinte_conditions_specialist', 'quinte_large_field_ability', 'quinte_track_condition_fit', 'is_handicap_quinte', 'handicap_division', 'purse_level_category', 'field_size_category', 'track_condition_PH', 'track_condition_DUR', 'track_condition_PS', 'track_condition_PSF', 'weather_clear', 'weather_rain', 'weather_cloudy', 'post_position_bias', 'post_position_track_bias', 'raw_tabnet_prediction', 'predicted_position_tabnet', 'raw_rf_prediction', 'predicted_position_rf', 'predicted_position_base']
2025-11-13 15:13:08,946 - race_prediction.competitive_field_analyzer - INFO - === CRITICAL COLUMNS ANALYSIS ===
2025-11-13 15:13:08,947 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ recordG: 16/16 non-null values (100.0%)
2025-11-13 15:13:08,947 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [0.0, 0.0, 0.0]
2025-11-13 15:13:08,947 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ hippo: 16/16 non-null values (100.0%)
2025-11-13 15:13:08,947 - race_prediction.competitive_field_analyzer - INFO -    Sample values: ['Clairefontaine', 'Clairefontaine', 'Clairefontaine']
2025-11-13 15:13:08,947 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ coursescheval: 16/16 non-null values (100.0%)
2025-11-13 15:13:08,947 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [11, 7, 5]
2025-11-13 15:13:08,947 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ victoirescheval: 16/16 non-null values (100.0%)
2025-11-13 15:13:08,947 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [1, 2, 1]
2025-11-13 15:13:08,947 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ placescheval: 16/16 non-null values (100.0%)
2025-11-13 15:13:08,947 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [1, 7, 5]
2025-11-13 15:13:08,947 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ gainsCarriere: 16/16 non-null values (100.0%)
2025-11-13 15:13:08,947 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [2171000, 4818200, 2623400]
2025-11-13 15:13:08,947 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ age: 16/16 non-null values (100.0%)
2025-11-13 15:13:08,947 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [3, 3, 3]
2025-11-13 15:13:08,948 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ derniereplace: 16/16 non-null values (100.0%)
2025-11-13 15:13:08,948 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [6, 1, 3]
2025-11-13 15:13:08,948 - race_prediction.competitive_field_analyzer - INFO - === RACE METADATA ===
2025-11-13 15:13:08,948 - race_prediction.competitive_field_analyzer - INFO - comp: 1607321
2025-11-13 15:13:08,948 - race_prediction.competitive_field_analyzer - INFO - hippo: Clairefontaine
2025-11-13 15:13:08,948 - race_prediction.competitive_field_analyzer - INFO - dist: 2400
2025-11-13 15:13:08,948 - race_prediction.competitive_field_analyzer - INFO - typec: Plat
2025-11-13 15:13:08,948 - race_prediction.competitive_field_analyzer - INFO - partant: 16
2025-11-13 15:13:08,948 - race_prediction.competitive_field_analyzer - INFO - === SAMPLE RACE DATA ===
2025-11-13 15:13:08,948 - race_prediction.competitive_field_analyzer - INFO - Sample data (columns: ['numero', 'cheval', 'recordG', 'hippo', 'coursescheval']):
2025-11-13 15:13:08,948 - race_prediction.competitive_field_analyzer - INFO -   Horse 0: {'numero': 1, 'cheval': "Avant l'Orage", 'recordG': 0.0, 'hippo': 'Clairefontaine', 'coursescheval': 11}
2025-11-13 15:13:08,948 - race_prediction.competitive_field_analyzer - INFO -   Horse 1: {'numero': 2, 'cheval': 'Britania', 'recordG': 0.0, 'hippo': 'Clairefontaine', 'coursescheval': 7}
2025-11-13 15:13:08,948 - race_prediction.competitive_field_analyzer - INFO -   Horse 2: {'numero': 3, 'cheval': 'Kalaoun', 'recordG': 0.0, 'hippo': 'Clairefontaine', 'coursescheval': 5}
2025-11-13 15:13:08,948 - race_prediction.competitive_field_analyzer - INFO - === END COMPETITIVE ANALYSIS DEBUG ===

2025-11-13 15:13:08,948 - race_prediction.competitive_field_analyzer - INFO - === RETRIEVING HISTORICAL DATA ===
2025-11-13 15:13:08,948 - race_prediction.competitive_field_analyzer - INFO - Fetching historical data for 16 horses: [1731636, 1741397, 1736420, 1740054, 1743167, 1724893, 1729687, 1741513, 1746189, 1731331, 1722947, 1724358, 1731635, 1742410, 1742202, 1715134]
2025-11-13 15:13:08,949 - race_prediction.competitive_field_analyzer - INFO - Batch querying historical data for 16 horses: [1731636, 1741397, 1736420, 1740054, 1743167, 1724893, 1729687, 1741513, 1746189, 1731331, 1722947, 1724358, 1731635, 1742410, 1742202, 1715134]
2025-11-13 15:13:19,801 - race_prediction.competitive_field_analyzer - INFO - Batch query completed in 10.85s, found 128 total records
2025-11-13 15:13:19,807 - race_prediction.competitive_field_analyzer - INFO - Batch query retrieved 128 total historical races
2025-11-13 15:13:19,807 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS PER HORSE ===
2025-11-13 15:13:19,807 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1731636: 11 historical races found
2025-11-13 15:13:19,807 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1741397: 8 historical races found
2025-11-13 15:13:19,807 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1736420: 6 historical races found
2025-11-13 15:13:19,807 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1740054: 7 historical races found
2025-11-13 15:13:19,808 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1743167: 4 historical races found
2025-11-13 15:13:19,808 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1724893: 8 historical races found
2025-11-13 15:13:19,808 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1729687: 12 historical races found
2025-11-13 15:13:19,808 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1741513: 8 historical races found
2025-11-13 15:13:19,808 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1746189: 5 historical races found
2025-11-13 15:13:19,808 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1731331: 5 historical races found
2025-11-13 15:13:19,808 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1722947: 4 historical races found
2025-11-13 15:13:19,808 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1724358: 6 historical races found
2025-11-13 15:13:19,808 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1731635: 9 historical races found
2025-11-13 15:13:19,808 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1742410: 10 historical races found
2025-11-13 15:13:19,808 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1742202: 5 historical races found
2025-11-13 15:13:19,808 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1715134: 20 historical races found
2025-11-13 15:13:19,808 - race_prediction.competitive_field_analyzer - INFO - Retrieved 128 total historical races
2025-11-13 15:13:19,808 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS BY HORSE ===
2025-11-13 15:13:19,808 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1731636: 11 historical races
2025-11-13 15:13:19,808 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1741397: 8 historical races
2025-11-13 15:13:19,808 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1736420: 6 historical races
2025-11-13 15:13:19,808 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1740054: 7 historical races
2025-11-13 15:13:19,808 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1743167: 4 historical races
2025-11-13 15:13:19,808 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1724893: 8 historical races
2025-11-13 15:13:19,808 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1729687: 12 historical races
2025-11-13 15:13:19,808 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1741513: 8 historical races
2025-11-13 15:13:19,808 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1746189: 5 historical races
2025-11-13 15:13:19,808 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1731331: 5 historical races
2025-11-13 15:13:19,808 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1722947: 4 historical races
2025-11-13 15:13:19,808 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1724358: 6 historical races
2025-11-13 15:13:19,808 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1731635: 9 historical races
2025-11-13 15:13:19,808 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1742410: 10 historical races
2025-11-13 15:13:19,808 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1742202: 5 historical races
2025-11-13 15:13:19,808 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1715134: 20 historical races
2025-11-13 15:13:19,808 - race_prediction.competitive_field_analyzer - INFO - === END HISTORICAL DATA RETRIEVAL ===

2025-11-13 15:13:19,808 - race_prediction.competitive_field_analyzer - INFO - === EARNINGS QUALITY ANALYSIS ===
2025-11-13 15:13:19,808 - race_prediction.competitive_field_analyzer - INFO - Valid earnings data: 16/16 horses
2025-11-13 15:13:19,808 - race_prediction.competitive_field_analyzer - INFO - Sample earnings per race: ['197,364', '688,314', '524,680']
2025-11-13 15:13:19,809 - race_prediction.competitive_field_analyzer - INFO - Field earnings stats: avg=363,752, max=688,314
2025-11-13 15:13:19,809 - race_prediction.competitive_field_analyzer - INFO - === TRACK SPECIALIZATION ANALYSIS ===
2025-11-13 15:13:19,809 - race_prediction.competitive_field_analyzer - INFO - Horses with reliable venue data (3+ races): 0/16
2025-11-13 15:13:19,810 - race_prediction.competitive_field_analyzer - INFO - === FORM MOMENTUM ANALYSIS ===
2025-11-13 15:13:19,810 - race_prediction.competitive_field_analyzer - INFO - Field avg horse trend: -0.786, recent perf: 4.73
2025-11-13 15:13:19,810 - race_prediction.competitive_field_analyzer - INFO - Field avg jockey trend: -0.680
2025-11-13 15:13:19,810 - race_prediction.competitive_field_analyzer - INFO - Horses with improving form: 2/16
2025-11-13 15:13:19,810 - race_prediction.competitive_field_analyzer - INFO - === HOT CONNECTIONS ANALYSIS ===
2025-11-13 15:13:19,810 - race_prediction.competitive_field_analyzer - INFO - Jockeys with wins today: 0/16
2025-11-13 15:13:19,810 - race_prediction.competitive_field_analyzer - INFO - Trainers with wins today: 0/16
2025-11-13 15:13:19,810 - race_prediction.competitive_field_analyzer - INFO - === DISTANCE COMFORT ANALYSIS ===
2025-11-13 15:13:19,811 - race_prediction.competitive_field_analyzer - INFO - Current race distance: 2400m
2025-11-13 15:13:19,811 - race_prediction.competitive_field_analyzer - INFO - Horses with similar recent distance: 10/16
2025-11-13 15:13:19,811 - race_prediction.competitive_field_analyzer - INFO - === REALISTIC COMPETITIVE SCORING ===
2025-11-13 15:13:19,811 - race_prediction.competitive_field_analyzer - INFO - üìä COMPETITIVE ANALYSIS SUMMARY:
2025-11-13 15:13:19,811 - race_prediction.competitive_field_analyzer - INFO -    Total competitive races: 128
2025-11-13 15:13:19,811 - race_prediction.competitive_field_analyzer - INFO -    Horses with historical data: 16/16
2025-11-13 15:13:19,811 - race_prediction.competitive_field_analyzer - INFO -    Average races per horse: 8.0
2025-11-13 15:13:19,825 - race_prediction.quinte_prediction_storage - INFO - Stored 16 horses for Quint√© race 1607321
2025-11-13 15:13:21,923 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE ANALYSIS DEBUG ===
2025-11-13 15:13:21,923 - race_prediction.competitive_field_analyzer - INFO - Analyzing competitive field for race with 16 horses
2025-11-13 15:13:21,923 - race_prediction.competitive_field_analyzer - INFO - Race data shape: (16, 280)
2025-11-13 15:13:21,923 - race_prediction.competitive_field_analyzer - INFO - Available columns: ['id', 'comp', 'jour', 'hippo', 'reun', 'prix', 'prixnom', 'typec', 'partant', 'dist', 'handi', 'groupe', 'quinte', 'natpis', 'meteo', 'corde', 'temperature', 'forceVent', 'directionVent', 'nebulosite', 'prediction_results', 'actual_results', 'created_at', 'updated_at', 'processed_data', 'cheque', 'handi_raw', 'reclam', 'sex', 'tempscourse', 'handicap_level_score', 'cl', 'numero', 'cheval', 'age', 'cotedirect', 'coteprob', 'recence', 'ecar', 'defoeil', 'defoeilPrec', 'musiqueche', 'musiquejoc', 'entraineur', 'coursescheval', 'victoirescheval', 'placescheval', 'dernierealloc', 'derniernbpartants', 'dernieredist', 'derniereplace', 'dernierecote', 'dernierEnt', 'proprietaire', 'poidmont', 'pourcVictJockHippo', 'pourcPlaceJockHippo', 'pourcVictChevalHippo', 'pourcPlaceChevalHippo', 'tempstot', 'vha', 'recordG', 'txreclam', 'dernierTxreclam', 'gainsCarriere', 'gainsAnneeEnCours', 'handicapDistance', 'handicapPoids', 'TxVictCouple', 'nbVictCouple', 'nbPlaceCouple', 'idche', 'idJockey', 'idEntraineur', 'defFirstTime', 'oeilFirstTime', 'oeil', 'dernierOeil', 'ratio_victoires', 'ratio_places', 'gains_par_course', 'efficacite_couple', 'regularite_couple', 'progression_couple', 'perf_cheval_hippo', 'perf_jockey_hippo', 'trainer_victoires', 'trainer_places', 'trainer_courses', 'trainer_winrate', 'trainer_placerate', 'trainer_quality_score', 'trainer_experience_level', 'handicap_poids', 'handicap_dist', 'prec_handicap_poids', 'prec_handicap_dist', 'handicap_poids_change', 'handicap_poids_increased', 'handicap_poids_decreased', 'handicap_dist_change', 'handicap_dist_increased', 'handicap_dist_decreased', 'total_handicap', 'handicap_momentum', 'last_race_position', 'last_race_distance', 'distance_change', 'distance_change_pct', 'distance_increased', 'distance_decreased', 'same_distance', 'corde_change', 'corde_improved', 'corde_worsened', 'last_race_top3', 'last_race_won', 'blinkers_first_time', 'has_blinkers', 'has_standard_blinkers', 'has_australian_blinkers', 'blinkers_added', 'blinkers_removed', 'blinkers_type_changed', 'blinkers_any_change', 'blinkers_high_impact_change', 'shoeing_first_time', 'fully_shod', 'front_shod_only', 'back_shod_only', 'barefoot', 'shoeing_changed', 'barefoot_to_shod', 'shod_to_barefoot', 'major_shoeing_change', 'shoeing_complexity', 'multiple_equipment_changes', 'equipment_momentum_score', 'high_equipment_momentum', 'multiple_first_time_changes', 'equipment_optimization_score', 'career_strike_rate', 'earnings_per_race', 'earnings_trend', 'last_race_position_normalized', 'last_race_odds_normalized', 'last_race_field_size_factor', 'distance_consistency', 'vha_normalized', 'claiming_tax_trend', 'class_stability', 'che_global_avg_pos', 'che_global_recent_perf', 'che_global_consistency', 'che_global_trend', 'che_global_pct_top3', 'che_global_nb_courses', 'che_global_total_races', 'che_global_dnf_rate', 'che_weighted_avg_pos', 'che_weighted_recent_perf', 'che_weighted_consistency', 'che_weighted_pct_top3', 'che_weighted_nb_courses', 'che_weighted_total_races', 'che_weighted_dnf_rate', 'che_weighted_trend', 'che_bytype_avg_pos', 'che_bytype_recent_perf', 'che_bytype_consistency', 'che_bytype_trend', 'che_bytype_pct_top3', 'che_bytype_nb_courses', 'che_bytype_total_races', 'che_bytype_dnf_rate', 'joc_global_avg_pos', 'joc_global_recent_perf', 'joc_global_consistency', 'joc_global_trend', 'joc_global_pct_top3', 'joc_global_nb_courses', 'joc_global_total_races', 'joc_global_dnf_rate', 'joc_weighted_avg_pos', 'joc_weighted_recent_perf', 'joc_weighted_consistency', 'joc_weighted_pct_top3', 'joc_weighted_nb_courses', 'joc_weighted_total_races', 'joc_weighted_dnf_rate', 'joc_weighted_trend', 'joc_bytype_avg_pos', 'joc_bytype_recent_perf', 'joc_bytype_consistency', 'joc_bytype_trend', 'joc_bytype_pct_top3', 'joc_bytype_nb_courses', 'joc_bytype_total_races', 'joc_bytype_dnf_rate', 'che_form_momentum', 'che_improving_form', 'che_declining_form', 'che_high_consistency', 'che_recent_quality', 'che_elite_performer', 'che_regular_placer', 'joc_form_momentum', 'joc_improving_form', 'joc_high_consistency', 'joc_elite_performer', 'synergy_both_improving', 'synergy_both_consistent', 'synergy_both_elite', 'overall_momentum_score', 'high_momentum', 'class_drop_pct', 'purse_per_starter', 'purse_ratio', 'moving_up_in_class', 'class_shock_indicator', 'handicap_level_change', 'time_per_distance', 'time_vs_record', 'pace_rating', 'speed_figure_proxy', 'market_confidence_shift', 'last_race_improvement', 'bounce_risk', 'layoff_distance_interaction', 'trainer_change', 'connection_stability', 'field_size_change', 'distance_comfort', 'competition_level_shift', 'recence_x_class_drop', 'trainer_change_x_recence', 'distance_change_x_recence', 'che_by_type_avg_pos', 'che_by_type_recent_perf', 'che_by_type_consistency', 'che_by_type_trend', 'che_by_type_pct_top3', 'che_by_type_nb_courses', 'che_by_type_total_races', 'che_by_type_dnf_rate', 'joc_by_type_avg_pos', 'joc_by_type_recent_perf', 'joc_by_type_consistency', 'joc_by_type_trend', 'joc_by_type_pct_top3', 'joc_by_type_nb_courses', 'joc_by_type_total_races', 'joc_by_type_dnf_rate', 'quinte_career_starts', 'quinte_win_rate', 'quinte_top5_rate', 'avg_quinte_position', 'days_since_last_quinte', 'quinte_handicap_specialist', 'quinte_conditions_specialist', 'quinte_large_field_ability', 'quinte_track_condition_fit', 'is_handicap_quinte', 'handicap_division', 'purse_level_category', 'field_size_category', 'track_condition_PH', 'track_condition_DUR', 'track_condition_PS', 'track_condition_PSF', 'weather_clear', 'weather_rain', 'weather_cloudy', 'post_position_bias', 'post_position_track_bias', 'raw_tabnet_prediction', 'predicted_position_tabnet', 'raw_rf_prediction', 'predicted_position_rf', 'predicted_position_base']
2025-11-13 15:13:21,924 - race_prediction.competitive_field_analyzer - INFO - === CRITICAL COLUMNS ANALYSIS ===
2025-11-13 15:13:21,924 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ recordG: 16/16 non-null values (100.0%)
2025-11-13 15:13:21,924 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [0.0, 0.0, 0.0]
2025-11-13 15:13:21,924 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ hippo: 16/16 non-null values (100.0%)
2025-11-13 15:13:21,924 - race_prediction.competitive_field_analyzer - INFO -    Sample values: ['Deauville', 'Deauville', 'Deauville']
2025-11-13 15:13:21,924 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ coursescheval: 16/16 non-null values (100.0%)
2025-11-13 15:13:21,924 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [25, 9, 17]
2025-11-13 15:13:21,924 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ victoirescheval: 16/16 non-null values (100.0%)
2025-11-13 15:13:21,924 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [7, 3, 2]
2025-11-13 15:13:21,925 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ placescheval: 16/16 non-null values (100.0%)
2025-11-13 15:13:21,925 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [12, 4, 8]
2025-11-13 15:13:21,925 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ gainsCarriere: 16/16 non-null values (100.0%)
2025-11-13 15:13:21,925 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [15966500, 4109200, 10717200]
2025-11-13 15:13:21,925 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ age: 16/16 non-null values (100.0%)
2025-11-13 15:13:21,925 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [8, 4, 5]
2025-11-13 15:13:21,925 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ derniereplace: 16/16 non-null values (100.0%)
2025-11-13 15:13:21,925 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [8, 6, 6]
2025-11-13 15:13:21,925 - race_prediction.competitive_field_analyzer - INFO - === RACE METADATA ===
2025-11-13 15:13:21,925 - race_prediction.competitive_field_analyzer - INFO - comp: 1607304
2025-11-13 15:13:21,925 - race_prediction.competitive_field_analyzer - INFO - hippo: Deauville
2025-11-13 15:13:21,925 - race_prediction.competitive_field_analyzer - INFO - dist: 1900
2025-11-13 15:13:21,925 - race_prediction.competitive_field_analyzer - INFO - typec: Plat
2025-11-13 15:13:21,925 - race_prediction.competitive_field_analyzer - INFO - partant: 16
2025-11-13 15:13:21,925 - race_prediction.competitive_field_analyzer - INFO - === SAMPLE RACE DATA ===
2025-11-13 15:13:21,925 - race_prediction.competitive_field_analyzer - INFO - Sample data (columns: ['numero', 'cheval', 'recordG', 'hippo', 'coursescheval']):
2025-11-13 15:13:21,925 - race_prediction.competitive_field_analyzer - INFO -   Horse 0: {'numero': 1, 'cheval': 'Kahuna', 'recordG': 0.0, 'hippo': 'Deauville', 'coursescheval': 25}
2025-11-13 15:13:21,925 - race_prediction.competitive_field_analyzer - INFO -   Horse 1: {'numero': 2, 'cheval': 'Prince des Villes', 'recordG': 0.0, 'hippo': 'Deauville', 'coursescheval': 9}
2025-11-13 15:13:21,925 - race_prediction.competitive_field_analyzer - INFO -   Horse 2: {'numero': 3, 'cheval': 'Zvaroshka', 'recordG': 0.0, 'hippo': 'Deauville', 'coursescheval': 17}
2025-11-13 15:13:21,925 - race_prediction.competitive_field_analyzer - INFO - === END COMPETITIVE ANALYSIS DEBUG ===

2025-11-13 15:13:21,926 - race_prediction.competitive_field_analyzer - INFO - === RETRIEVING HISTORICAL DATA ===
2025-11-13 15:13:21,926 - race_prediction.competitive_field_analyzer - INFO - Fetching historical data for 16 horses: [1361490, 1653818, 1570962, 1416740, 1559477, 1523271, 1649377, 1520399, 1553763, 1655545, 1661687, 1572948, 1654163, 1409128, 1696582, 1651290]
2025-11-13 15:13:21,927 - race_prediction.competitive_field_analyzer - INFO - Batch querying historical data for 16 horses: [1361490, 1653818, 1570962, 1416740, 1559477, 1523271, 1649377, 1520399, 1553763, 1655545, 1661687, 1572948, 1654163, 1409128, 1696582, 1651290]
2025-11-13 15:13:33,324 - race_prediction.competitive_field_analyzer - INFO - Batch query completed in 11.40s, found 138 total records
2025-11-13 15:13:33,330 - race_prediction.competitive_field_analyzer - INFO - Batch query retrieved 138 total historical races
2025-11-13 15:13:33,331 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS PER HORSE ===
2025-11-13 15:13:33,331 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1361490: 7 historical races found
2025-11-13 15:13:33,331 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1653818: 6 historical races found
2025-11-13 15:13:33,331 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1570962: 5 historical races found
2025-11-13 15:13:33,331 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1416740: 13 historical races found
2025-11-13 15:13:33,331 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1559477: 4 historical races found
2025-11-13 15:13:33,331 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1523271: 13 historical races found
2025-11-13 15:13:33,331 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1649377: 11 historical races found
2025-11-13 15:13:33,331 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1520399: 6 historical races found
2025-11-13 15:13:33,331 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1553763: 9 historical races found
2025-11-13 15:13:33,331 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1655545: 7 historical races found
2025-11-13 15:13:33,331 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1661687: 7 historical races found
2025-11-13 15:13:33,331 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1572948: 8 historical races found
2025-11-13 15:13:33,331 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1654163: 9 historical races found
2025-11-13 15:13:33,331 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1409128: 17 historical races found
2025-11-13 15:13:33,331 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1696582: 9 historical races found
2025-11-13 15:13:33,331 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1651290: 7 historical races found
2025-11-13 15:13:33,331 - race_prediction.competitive_field_analyzer - INFO - Retrieved 138 total historical races
2025-11-13 15:13:33,331 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS BY HORSE ===
2025-11-13 15:13:33,331 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1361490: 7 historical races
2025-11-13 15:13:33,331 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1653818: 6 historical races
2025-11-13 15:13:33,331 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1570962: 5 historical races
2025-11-13 15:13:33,331 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1416740: 13 historical races
2025-11-13 15:13:33,331 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1559477: 4 historical races
2025-11-13 15:13:33,331 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1523271: 13 historical races
2025-11-13 15:13:33,331 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1649377: 11 historical races
2025-11-13 15:13:33,331 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1520399: 6 historical races
2025-11-13 15:13:33,331 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1553763: 9 historical races
2025-11-13 15:13:33,331 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1655545: 7 historical races
2025-11-13 15:13:33,331 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1661687: 7 historical races
2025-11-13 15:13:33,331 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1572948: 8 historical races
2025-11-13 15:13:33,331 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1654163: 9 historical races
2025-11-13 15:13:33,331 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1409128: 17 historical races
2025-11-13 15:13:33,331 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1696582: 9 historical races
2025-11-13 15:13:33,332 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1651290: 7 historical races
2025-11-13 15:13:33,332 - race_prediction.competitive_field_analyzer - INFO - === END HISTORICAL DATA RETRIEVAL ===

2025-11-13 15:13:33,332 - race_prediction.competitive_field_analyzer - INFO - === EARNINGS QUALITY ANALYSIS ===
2025-11-13 15:13:33,332 - race_prediction.competitive_field_analyzer - INFO - Valid earnings data: 16/16 horses
2025-11-13 15:13:33,332 - race_prediction.competitive_field_analyzer - INFO - Sample earnings per race: ['638,660', '456,578', '630,424']
2025-11-13 15:13:33,332 - race_prediction.competitive_field_analyzer - INFO - Field earnings stats: avg=407,481, max=638,660
2025-11-13 15:13:33,332 - race_prediction.competitive_field_analyzer - INFO - === TRACK SPECIALIZATION ANALYSIS ===
2025-11-13 15:13:33,332 - race_prediction.competitive_field_analyzer - INFO - Horses with reliable venue data (3+ races): 0/16
2025-11-13 15:13:33,333 - race_prediction.competitive_field_analyzer - INFO - === FORM MOMENTUM ANALYSIS ===
2025-11-13 15:13:33,333 - race_prediction.competitive_field_analyzer - INFO - Field avg horse trend: -1.788, recent perf: 8.44
2025-11-13 15:13:33,333 - race_prediction.competitive_field_analyzer - INFO - Field avg jockey trend: -2.168
2025-11-13 15:13:33,333 - race_prediction.competitive_field_analyzer - INFO - Horses with improving form: 4/16
2025-11-13 15:13:33,334 - race_prediction.competitive_field_analyzer - INFO - === HOT CONNECTIONS ANALYSIS ===
2025-11-13 15:13:33,334 - race_prediction.competitive_field_analyzer - INFO - Jockeys with wins today: 0/16
2025-11-13 15:13:33,334 - race_prediction.competitive_field_analyzer - INFO - Trainers with wins today: 0/16
2025-11-13 15:13:33,334 - race_prediction.competitive_field_analyzer - INFO - === DISTANCE COMFORT ANALYSIS ===
2025-11-13 15:13:33,334 - race_prediction.competitive_field_analyzer - INFO - Current race distance: 1900m
2025-11-13 15:13:33,334 - race_prediction.competitive_field_analyzer - INFO - Horses with similar recent distance: 11/16
2025-11-13 15:13:33,334 - race_prediction.competitive_field_analyzer - INFO - === REALISTIC COMPETITIVE SCORING ===
2025-11-13 15:13:33,334 - race_prediction.competitive_field_analyzer - INFO - üìä COMPETITIVE ANALYSIS SUMMARY:
2025-11-13 15:13:33,335 - race_prediction.competitive_field_analyzer - INFO -    Total competitive races: 138
2025-11-13 15:13:33,335 - race_prediction.competitive_field_analyzer - INFO -    Horses with historical data: 16/16
2025-11-13 15:13:33,335 - race_prediction.competitive_field_analyzer - INFO -    Average races per horse: 8.6
2025-11-13 15:13:33,349 - race_prediction.quinte_prediction_storage - INFO - Stored 16 horses for Quint√© race 1607304
2025-11-13 15:13:35,382 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE ANALYSIS DEBUG ===
2025-11-13 15:13:35,382 - race_prediction.competitive_field_analyzer - INFO - Analyzing competitive field for race with 16 horses
2025-11-13 15:13:35,383 - race_prediction.competitive_field_analyzer - INFO - Race data shape: (16, 280)
2025-11-13 15:13:35,383 - race_prediction.competitive_field_analyzer - INFO - Available columns: ['id', 'comp', 'jour', 'hippo', 'reun', 'prix', 'prixnom', 'typec', 'partant', 'dist', 'handi', 'groupe', 'quinte', 'natpis', 'meteo', 'corde', 'temperature', 'forceVent', 'directionVent', 'nebulosite', 'prediction_results', 'actual_results', 'created_at', 'updated_at', 'processed_data', 'cheque', 'handi_raw', 'reclam', 'sex', 'tempscourse', 'handicap_level_score', 'cl', 'numero', 'cheval', 'age', 'cotedirect', 'coteprob', 'recence', 'ecar', 'defoeil', 'defoeilPrec', 'musiqueche', 'musiquejoc', 'entraineur', 'coursescheval', 'victoirescheval', 'placescheval', 'dernierealloc', 'derniernbpartants', 'dernieredist', 'derniereplace', 'dernierecote', 'dernierEnt', 'proprietaire', 'poidmont', 'pourcVictJockHippo', 'pourcPlaceJockHippo', 'pourcVictChevalHippo', 'pourcPlaceChevalHippo', 'tempstot', 'vha', 'recordG', 'txreclam', 'dernierTxreclam', 'gainsCarriere', 'gainsAnneeEnCours', 'handicapDistance', 'handicapPoids', 'TxVictCouple', 'nbVictCouple', 'nbPlaceCouple', 'idche', 'idJockey', 'idEntraineur', 'defFirstTime', 'oeilFirstTime', 'oeil', 'dernierOeil', 'ratio_victoires', 'ratio_places', 'gains_par_course', 'efficacite_couple', 'regularite_couple', 'progression_couple', 'perf_cheval_hippo', 'perf_jockey_hippo', 'trainer_victoires', 'trainer_places', 'trainer_courses', 'trainer_winrate', 'trainer_placerate', 'trainer_quality_score', 'trainer_experience_level', 'handicap_poids', 'handicap_dist', 'prec_handicap_poids', 'prec_handicap_dist', 'handicap_poids_change', 'handicap_poids_increased', 'handicap_poids_decreased', 'handicap_dist_change', 'handicap_dist_increased', 'handicap_dist_decreased', 'total_handicap', 'handicap_momentum', 'last_race_position', 'last_race_distance', 'distance_change', 'distance_change_pct', 'distance_increased', 'distance_decreased', 'same_distance', 'corde_change', 'corde_improved', 'corde_worsened', 'last_race_top3', 'last_race_won', 'blinkers_first_time', 'has_blinkers', 'has_standard_blinkers', 'has_australian_blinkers', 'blinkers_added', 'blinkers_removed', 'blinkers_type_changed', 'blinkers_any_change', 'blinkers_high_impact_change', 'shoeing_first_time', 'fully_shod', 'front_shod_only', 'back_shod_only', 'barefoot', 'shoeing_changed', 'barefoot_to_shod', 'shod_to_barefoot', 'major_shoeing_change', 'shoeing_complexity', 'multiple_equipment_changes', 'equipment_momentum_score', 'high_equipment_momentum', 'multiple_first_time_changes', 'equipment_optimization_score', 'career_strike_rate', 'earnings_per_race', 'earnings_trend', 'last_race_position_normalized', 'last_race_odds_normalized', 'last_race_field_size_factor', 'distance_consistency', 'vha_normalized', 'claiming_tax_trend', 'class_stability', 'che_global_avg_pos', 'che_global_recent_perf', 'che_global_consistency', 'che_global_trend', 'che_global_pct_top3', 'che_global_nb_courses', 'che_global_total_races', 'che_global_dnf_rate', 'che_weighted_avg_pos', 'che_weighted_recent_perf', 'che_weighted_consistency', 'che_weighted_pct_top3', 'che_weighted_nb_courses', 'che_weighted_total_races', 'che_weighted_dnf_rate', 'che_weighted_trend', 'che_bytype_avg_pos', 'che_bytype_recent_perf', 'che_bytype_consistency', 'che_bytype_trend', 'che_bytype_pct_top3', 'che_bytype_nb_courses', 'che_bytype_total_races', 'che_bytype_dnf_rate', 'joc_global_avg_pos', 'joc_global_recent_perf', 'joc_global_consistency', 'joc_global_trend', 'joc_global_pct_top3', 'joc_global_nb_courses', 'joc_global_total_races', 'joc_global_dnf_rate', 'joc_weighted_avg_pos', 'joc_weighted_recent_perf', 'joc_weighted_consistency', 'joc_weighted_pct_top3', 'joc_weighted_nb_courses', 'joc_weighted_total_races', 'joc_weighted_dnf_rate', 'joc_weighted_trend', 'joc_bytype_avg_pos', 'joc_bytype_recent_perf', 'joc_bytype_consistency', 'joc_bytype_trend', 'joc_bytype_pct_top3', 'joc_bytype_nb_courses', 'joc_bytype_total_races', 'joc_bytype_dnf_rate', 'che_form_momentum', 'che_improving_form', 'che_declining_form', 'che_high_consistency', 'che_recent_quality', 'che_elite_performer', 'che_regular_placer', 'joc_form_momentum', 'joc_improving_form', 'joc_high_consistency', 'joc_elite_performer', 'synergy_both_improving', 'synergy_both_consistent', 'synergy_both_elite', 'overall_momentum_score', 'high_momentum', 'class_drop_pct', 'purse_per_starter', 'purse_ratio', 'moving_up_in_class', 'class_shock_indicator', 'handicap_level_change', 'time_per_distance', 'time_vs_record', 'pace_rating', 'speed_figure_proxy', 'market_confidence_shift', 'last_race_improvement', 'bounce_risk', 'layoff_distance_interaction', 'trainer_change', 'connection_stability', 'field_size_change', 'distance_comfort', 'competition_level_shift', 'recence_x_class_drop', 'trainer_change_x_recence', 'distance_change_x_recence', 'che_by_type_avg_pos', 'che_by_type_recent_perf', 'che_by_type_consistency', 'che_by_type_trend', 'che_by_type_pct_top3', 'che_by_type_nb_courses', 'che_by_type_total_races', 'che_by_type_dnf_rate', 'joc_by_type_avg_pos', 'joc_by_type_recent_perf', 'joc_by_type_consistency', 'joc_by_type_trend', 'joc_by_type_pct_top3', 'joc_by_type_nb_courses', 'joc_by_type_total_races', 'joc_by_type_dnf_rate', 'quinte_career_starts', 'quinte_win_rate', 'quinte_top5_rate', 'avg_quinte_position', 'days_since_last_quinte', 'quinte_handicap_specialist', 'quinte_conditions_specialist', 'quinte_large_field_ability', 'quinte_track_condition_fit', 'is_handicap_quinte', 'handicap_division', 'purse_level_category', 'field_size_category', 'track_condition_PH', 'track_condition_DUR', 'track_condition_PS', 'track_condition_PSF', 'weather_clear', 'weather_rain', 'weather_cloudy', 'post_position_bias', 'post_position_track_bias', 'raw_tabnet_prediction', 'predicted_position_tabnet', 'raw_rf_prediction', 'predicted_position_rf', 'predicted_position_base']
2025-11-13 15:13:35,383 - race_prediction.competitive_field_analyzer - INFO - === CRITICAL COLUMNS ANALYSIS ===
2025-11-13 15:13:35,383 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ recordG: 16/16 non-null values (100.0%)
2025-11-13 15:13:35,383 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [0.0, 0.0, 0.0]
2025-11-13 15:13:35,383 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ hippo: 16/16 non-null values (100.0%)
2025-11-13 15:13:35,383 - race_prediction.competitive_field_analyzer - INFO -    Sample values: ['ParisLongchamp', 'ParisLongchamp', 'ParisLongchamp']
2025-11-13 15:13:35,383 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ coursescheval: 16/16 non-null values (100.0%)
2025-11-13 15:13:35,384 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [38, 16, 19]
2025-11-13 15:13:35,384 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ victoirescheval: 16/16 non-null values (100.0%)
2025-11-13 15:13:35,384 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [6, 3, 4]
2025-11-13 15:13:35,384 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ placescheval: 16/16 non-null values (100.0%)
2025-11-13 15:13:35,384 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [14, 7, 10]
2025-11-13 15:13:35,384 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ gainsCarriere: 16/16 non-null values (100.0%)
2025-11-13 15:13:35,384 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [14641000, 5755500, 6500800]
2025-11-13 15:13:35,384 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ age: 16/16 non-null values (100.0%)
2025-11-13 15:13:35,384 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [6, 4, 4]
2025-11-13 15:13:35,384 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ derniereplace: 16/16 non-null values (100.0%)
2025-11-13 15:13:35,384 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [5, 13, 5]
2025-11-13 15:13:35,384 - race_prediction.competitive_field_analyzer - INFO - === RACE METADATA ===
2025-11-13 15:13:35,384 - race_prediction.competitive_field_analyzer - INFO - comp: 1607280
2025-11-13 15:13:35,384 - race_prediction.competitive_field_analyzer - INFO - hippo: ParisLongchamp
2025-11-13 15:13:35,384 - race_prediction.competitive_field_analyzer - INFO - dist: 3100
2025-11-13 15:13:35,384 - race_prediction.competitive_field_analyzer - INFO - typec: Plat
2025-11-13 15:13:35,384 - race_prediction.competitive_field_analyzer - INFO - partant: 16
2025-11-13 15:13:35,384 - race_prediction.competitive_field_analyzer - INFO - === SAMPLE RACE DATA ===
2025-11-13 15:13:35,384 - race_prediction.competitive_field_analyzer - INFO - Sample data (columns: ['numero', 'cheval', 'recordG', 'hippo', 'coursescheval']):
2025-11-13 15:13:35,384 - race_prediction.competitive_field_analyzer - INFO -   Horse 0: {'numero': 1, 'cheval': 'Pentaour', 'recordG': 0.0, 'hippo': 'ParisLongchamp', 'coursescheval': 38}
2025-11-13 15:13:35,385 - race_prediction.competitive_field_analyzer - INFO -   Horse 1: {'numero': 2, 'cheval': "Annabel's Ghost", 'recordG': 0.0, 'hippo': 'ParisLongchamp', 'coursescheval': 16}
2025-11-13 15:13:35,385 - race_prediction.competitive_field_analyzer - INFO -   Horse 2: {'numero': 3, 'cheval': 'Hasta la Vista', 'recordG': 0.0, 'hippo': 'ParisLongchamp', 'coursescheval': 19}
2025-11-13 15:13:35,385 - race_prediction.competitive_field_analyzer - INFO - === END COMPETITIVE ANALYSIS DEBUG ===

2025-11-13 15:13:35,385 - race_prediction.competitive_field_analyzer - INFO - === RETRIEVING HISTORICAL DATA ===
2025-11-13 15:13:35,385 - race_prediction.competitive_field_analyzer - INFO - Fetching historical data for 16 horses: [1531279, 1654889, 1657754, 1667971, 1692653, 1544716, 1559961, 1371902, 1328739, 1724288, 1694590, 1653563, 1536685, 1653737, 1361228, 1500286]
2025-11-13 15:13:35,386 - race_prediction.competitive_field_analyzer - INFO - Batch querying historical data for 16 horses: [1531279, 1654889, 1657754, 1667971, 1692653, 1544716, 1559961, 1371902, 1328739, 1724288, 1694590, 1653563, 1536685, 1653737, 1361228, 1500286]
2025-11-13 15:13:46,878 - race_prediction.competitive_field_analyzer - INFO - Batch query completed in 11.49s, found 150 total records
2025-11-13 15:13:46,885 - race_prediction.competitive_field_analyzer - INFO - Batch query retrieved 150 total historical races
2025-11-13 15:13:46,885 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS PER HORSE ===
2025-11-13 15:13:46,885 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1531279: 11 historical races found
2025-11-13 15:13:46,885 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1654889: 8 historical races found
2025-11-13 15:13:46,885 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1657754: 9 historical races found
2025-11-13 15:13:46,886 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1667971: 5 historical races found
2025-11-13 15:13:46,886 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1692653: 10 historical races found
2025-11-13 15:13:46,886 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1544716: 12 historical races found
2025-11-13 15:13:46,886 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1559961: 7 historical races found
2025-11-13 15:13:46,886 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1371902: 8 historical races found
2025-11-13 15:13:46,886 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1328739: 9 historical races found
2025-11-13 15:13:46,886 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1724288: 7 historical races found
2025-11-13 15:13:46,886 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1694590: 16 historical races found
2025-11-13 15:13:46,886 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1653563: 6 historical races found
2025-11-13 15:13:46,886 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1536685: 7 historical races found
2025-11-13 15:13:46,886 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1653737: 11 historical races found
2025-11-13 15:13:46,886 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1361228: 9 historical races found
2025-11-13 15:13:46,886 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1500286: 15 historical races found
2025-11-13 15:13:46,886 - race_prediction.competitive_field_analyzer - INFO - Retrieved 150 total historical races
2025-11-13 15:13:46,886 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS BY HORSE ===
2025-11-13 15:13:46,886 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1531279: 11 historical races
2025-11-13 15:13:46,886 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1654889: 8 historical races
2025-11-13 15:13:46,886 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1657754: 9 historical races
2025-11-13 15:13:46,886 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1667971: 5 historical races
2025-11-13 15:13:46,886 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1692653: 10 historical races
2025-11-13 15:13:46,886 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1544716: 12 historical races
2025-11-13 15:13:46,886 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1559961: 7 historical races
2025-11-13 15:13:46,886 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1371902: 8 historical races
2025-11-13 15:13:46,886 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1328739: 9 historical races
2025-11-13 15:13:46,886 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1724288: 7 historical races
2025-11-13 15:13:46,886 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1694590: 16 historical races
2025-11-13 15:13:46,886 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1653563: 6 historical races
2025-11-13 15:13:46,886 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1536685: 7 historical races
2025-11-13 15:13:46,886 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1653737: 11 historical races
2025-11-13 15:13:46,886 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1361228: 9 historical races
2025-11-13 15:13:46,886 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1500286: 15 historical races
2025-11-13 15:13:46,886 - race_prediction.competitive_field_analyzer - INFO - === END HISTORICAL DATA RETRIEVAL ===

2025-11-13 15:13:46,886 - race_prediction.competitive_field_analyzer - INFO - === EARNINGS QUALITY ANALYSIS ===
2025-11-13 15:13:46,886 - race_prediction.competitive_field_analyzer - INFO - Valid earnings data: 16/16 horses
2025-11-13 15:13:46,886 - race_prediction.competitive_field_analyzer - INFO - Sample earnings per race: ['385,289', '359,719', '342,147']
2025-11-13 15:13:46,887 - race_prediction.competitive_field_analyzer - INFO - Field earnings stats: avg=350,528, max=589,856
2025-11-13 15:13:46,887 - race_prediction.competitive_field_analyzer - INFO - === TRACK SPECIALIZATION ANALYSIS ===
2025-11-13 15:13:46,887 - race_prediction.competitive_field_analyzer - INFO - Horses with reliable venue data (3+ races): 0/16
2025-11-13 15:13:46,888 - race_prediction.competitive_field_analyzer - INFO - === FORM MOMENTUM ANALYSIS ===
2025-11-13 15:13:46,888 - race_prediction.competitive_field_analyzer - INFO - Field avg horse trend: -0.859, recent perf: 7.35
2025-11-13 15:13:46,888 - race_prediction.competitive_field_analyzer - INFO - Field avg jockey trend: -1.079
2025-11-13 15:13:46,888 - race_prediction.competitive_field_analyzer - INFO - Horses with improving form: 4/16
2025-11-13 15:13:46,888 - race_prediction.competitive_field_analyzer - INFO - === HOT CONNECTIONS ANALYSIS ===
2025-11-13 15:13:46,888 - race_prediction.competitive_field_analyzer - INFO - Jockeys with wins today: 0/16
2025-11-13 15:13:46,888 - race_prediction.competitive_field_analyzer - INFO - Trainers with wins today: 0/16
2025-11-13 15:13:46,889 - race_prediction.competitive_field_analyzer - INFO - === DISTANCE COMFORT ANALYSIS ===
2025-11-13 15:13:46,889 - race_prediction.competitive_field_analyzer - INFO - Current race distance: 3100m
2025-11-13 15:13:46,889 - race_prediction.competitive_field_analyzer - INFO - Horses with similar recent distance: 1/16
2025-11-13 15:13:46,889 - race_prediction.competitive_field_analyzer - INFO - === REALISTIC COMPETITIVE SCORING ===
2025-11-13 15:13:46,889 - race_prediction.competitive_field_analyzer - INFO - üìä COMPETITIVE ANALYSIS SUMMARY:
2025-11-13 15:13:46,889 - race_prediction.competitive_field_analyzer - INFO -    Total competitive races: 150
2025-11-13 15:13:46,889 - race_prediction.competitive_field_analyzer - INFO -    Horses with historical data: 16/16
2025-11-13 15:13:46,889 - race_prediction.competitive_field_analyzer - INFO -    Average races per horse: 9.4
2025-11-13 15:13:46,903 - race_prediction.quinte_prediction_storage - INFO - Stored 16 horses for Quint√© race 1607280
2025-11-13 15:13:49,219 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE ANALYSIS DEBUG ===
2025-11-13 15:13:49,219 - race_prediction.competitive_field_analyzer - INFO - Analyzing competitive field for race with 14 horses
2025-11-13 15:13:49,219 - race_prediction.competitive_field_analyzer - INFO - Race data shape: (14, 280)
2025-11-13 15:13:49,219 - race_prediction.competitive_field_analyzer - INFO - Available columns: ['id', 'comp', 'jour', 'hippo', 'reun', 'prix', 'prixnom', 'typec', 'partant', 'dist', 'handi', 'groupe', 'quinte', 'natpis', 'meteo', 'corde', 'temperature', 'forceVent', 'directionVent', 'nebulosite', 'prediction_results', 'actual_results', 'created_at', 'updated_at', 'processed_data', 'cheque', 'handi_raw', 'reclam', 'sex', 'tempscourse', 'handicap_level_score', 'cl', 'numero', 'cheval', 'age', 'cotedirect', 'coteprob', 'recence', 'ecar', 'defoeil', 'defoeilPrec', 'musiqueche', 'musiquejoc', 'entraineur', 'coursescheval', 'victoirescheval', 'placescheval', 'dernierealloc', 'derniernbpartants', 'dernieredist', 'derniereplace', 'dernierecote', 'dernierEnt', 'proprietaire', 'poidmont', 'pourcVictJockHippo', 'pourcPlaceJockHippo', 'pourcVictChevalHippo', 'pourcPlaceChevalHippo', 'tempstot', 'vha', 'recordG', 'txreclam', 'dernierTxreclam', 'gainsCarriere', 'gainsAnneeEnCours', 'handicapDistance', 'handicapPoids', 'TxVictCouple', 'nbVictCouple', 'nbPlaceCouple', 'idche', 'idJockey', 'idEntraineur', 'defFirstTime', 'oeilFirstTime', 'oeil', 'dernierOeil', 'ratio_victoires', 'ratio_places', 'gains_par_course', 'efficacite_couple', 'regularite_couple', 'progression_couple', 'perf_cheval_hippo', 'perf_jockey_hippo', 'trainer_victoires', 'trainer_places', 'trainer_courses', 'trainer_winrate', 'trainer_placerate', 'trainer_quality_score', 'trainer_experience_level', 'handicap_poids', 'handicap_dist', 'prec_handicap_poids', 'prec_handicap_dist', 'handicap_poids_change', 'handicap_poids_increased', 'handicap_poids_decreased', 'handicap_dist_change', 'handicap_dist_increased', 'handicap_dist_decreased', 'total_handicap', 'handicap_momentum', 'last_race_position', 'last_race_distance', 'distance_change', 'distance_change_pct', 'distance_increased', 'distance_decreased', 'same_distance', 'corde_change', 'corde_improved', 'corde_worsened', 'last_race_top3', 'last_race_won', 'blinkers_first_time', 'has_blinkers', 'has_standard_blinkers', 'has_australian_blinkers', 'blinkers_added', 'blinkers_removed', 'blinkers_type_changed', 'blinkers_any_change', 'blinkers_high_impact_change', 'shoeing_first_time', 'fully_shod', 'front_shod_only', 'back_shod_only', 'barefoot', 'shoeing_changed', 'barefoot_to_shod', 'shod_to_barefoot', 'major_shoeing_change', 'shoeing_complexity', 'multiple_equipment_changes', 'equipment_momentum_score', 'high_equipment_momentum', 'multiple_first_time_changes', 'equipment_optimization_score', 'career_strike_rate', 'earnings_per_race', 'earnings_trend', 'last_race_position_normalized', 'last_race_odds_normalized', 'last_race_field_size_factor', 'distance_consistency', 'vha_normalized', 'claiming_tax_trend', 'class_stability', 'che_global_avg_pos', 'che_global_recent_perf', 'che_global_consistency', 'che_global_trend', 'che_global_pct_top3', 'che_global_nb_courses', 'che_global_total_races', 'che_global_dnf_rate', 'che_weighted_avg_pos', 'che_weighted_recent_perf', 'che_weighted_consistency', 'che_weighted_pct_top3', 'che_weighted_nb_courses', 'che_weighted_total_races', 'che_weighted_dnf_rate', 'che_weighted_trend', 'che_bytype_avg_pos', 'che_bytype_recent_perf', 'che_bytype_consistency', 'che_bytype_trend', 'che_bytype_pct_top3', 'che_bytype_nb_courses', 'che_bytype_total_races', 'che_bytype_dnf_rate', 'joc_global_avg_pos', 'joc_global_recent_perf', 'joc_global_consistency', 'joc_global_trend', 'joc_global_pct_top3', 'joc_global_nb_courses', 'joc_global_total_races', 'joc_global_dnf_rate', 'joc_weighted_avg_pos', 'joc_weighted_recent_perf', 'joc_weighted_consistency', 'joc_weighted_pct_top3', 'joc_weighted_nb_courses', 'joc_weighted_total_races', 'joc_weighted_dnf_rate', 'joc_weighted_trend', 'joc_bytype_avg_pos', 'joc_bytype_recent_perf', 'joc_bytype_consistency', 'joc_bytype_trend', 'joc_bytype_pct_top3', 'joc_bytype_nb_courses', 'joc_bytype_total_races', 'joc_bytype_dnf_rate', 'che_form_momentum', 'che_improving_form', 'che_declining_form', 'che_high_consistency', 'che_recent_quality', 'che_elite_performer', 'che_regular_placer', 'joc_form_momentum', 'joc_improving_form', 'joc_high_consistency', 'joc_elite_performer', 'synergy_both_improving', 'synergy_both_consistent', 'synergy_both_elite', 'overall_momentum_score', 'high_momentum', 'class_drop_pct', 'purse_per_starter', 'purse_ratio', 'moving_up_in_class', 'class_shock_indicator', 'handicap_level_change', 'time_per_distance', 'time_vs_record', 'pace_rating', 'speed_figure_proxy', 'market_confidence_shift', 'last_race_improvement', 'bounce_risk', 'layoff_distance_interaction', 'trainer_change', 'connection_stability', 'field_size_change', 'distance_comfort', 'competition_level_shift', 'recence_x_class_drop', 'trainer_change_x_recence', 'distance_change_x_recence', 'che_by_type_avg_pos', 'che_by_type_recent_perf', 'che_by_type_consistency', 'che_by_type_trend', 'che_by_type_pct_top3', 'che_by_type_nb_courses', 'che_by_type_total_races', 'che_by_type_dnf_rate', 'joc_by_type_avg_pos', 'joc_by_type_recent_perf', 'joc_by_type_consistency', 'joc_by_type_trend', 'joc_by_type_pct_top3', 'joc_by_type_nb_courses', 'joc_by_type_total_races', 'joc_by_type_dnf_rate', 'quinte_career_starts', 'quinte_win_rate', 'quinte_top5_rate', 'avg_quinte_position', 'days_since_last_quinte', 'quinte_handicap_specialist', 'quinte_conditions_specialist', 'quinte_large_field_ability', 'quinte_track_condition_fit', 'is_handicap_quinte', 'handicap_division', 'purse_level_category', 'field_size_category', 'track_condition_PH', 'track_condition_DUR', 'track_condition_PS', 'track_condition_PSF', 'weather_clear', 'weather_rain', 'weather_cloudy', 'post_position_bias', 'post_position_track_bias', 'raw_tabnet_prediction', 'predicted_position_tabnet', 'raw_rf_prediction', 'predicted_position_rf', 'predicted_position_base']
2025-11-13 15:13:49,219 - race_prediction.competitive_field_analyzer - INFO - === CRITICAL COLUMNS ANALYSIS ===
2025-11-13 15:13:49,219 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ recordG: 14/14 non-null values (100.0%)
2025-11-13 15:13:49,219 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [0.0, 0.0, 0.0]
2025-11-13 15:13:49,219 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ hippo: 14/14 non-null values (100.0%)
2025-11-13 15:13:49,219 - race_prediction.competitive_field_analyzer - INFO -    Sample values: ['Auteuil', 'Auteuil', 'Auteuil']
2025-11-13 15:13:49,219 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ coursescheval: 14/14 non-null values (100.0%)
2025-11-13 15:13:49,220 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [16, 43, 51]
2025-11-13 15:13:49,220 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ victoirescheval: 14/14 non-null values (100.0%)
2025-11-13 15:13:49,220 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [3, 3, 8]
2025-11-13 15:13:49,220 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ placescheval: 14/14 non-null values (100.0%)
2025-11-13 15:13:49,220 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [7, 12, 18]
2025-11-13 15:13:49,220 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ gainsCarriere: 14/14 non-null values (100.0%)
2025-11-13 15:13:49,220 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [11775000, 41587000, 29865000]
2025-11-13 15:13:49,220 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ age: 14/14 non-null values (100.0%)
2025-11-13 15:13:49,220 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [6, 6, 7]
2025-11-13 15:13:49,220 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ derniereplace: 14/14 non-null values (100.0%)
2025-11-13 15:13:49,220 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [1.0, 2.0, 3.0]
2025-11-13 15:13:49,220 - race_prediction.competitive_field_analyzer - INFO - === RACE METADATA ===
2025-11-13 15:13:49,220 - race_prediction.competitive_field_analyzer - INFO - comp: 1607224
2025-11-13 15:13:49,220 - race_prediction.competitive_field_analyzer - INFO - hippo: Auteuil
2025-11-13 15:13:49,220 - race_prediction.competitive_field_analyzer - INFO - dist: 3900
2025-11-13 15:13:49,220 - race_prediction.competitive_field_analyzer - INFO - typec: Haies
2025-11-13 15:13:49,220 - race_prediction.competitive_field_analyzer - INFO - partant: 14
2025-11-13 15:13:49,220 - race_prediction.competitive_field_analyzer - INFO - === SAMPLE RACE DATA ===
2025-11-13 15:13:49,220 - race_prediction.competitive_field_analyzer - INFO - Sample data (columns: ['numero', 'cheval', 'recordG', 'hippo', 'coursescheval']):
2025-11-13 15:13:49,221 - race_prediction.competitive_field_analyzer - INFO -   Horse 0: {'numero': 1, 'cheval': 'Polyrisk', 'recordG': 0.0, 'hippo': 'Auteuil', 'coursescheval': 16}
2025-11-13 15:13:49,221 - race_prediction.competitive_field_analyzer - INFO -   Horse 1: {'numero': 2, 'cheval': 'Lou Fast', 'recordG': 0.0, 'hippo': 'Auteuil', 'coursescheval': 43}
2025-11-13 15:13:49,221 - race_prediction.competitive_field_analyzer - INFO -   Horse 2: {'numero': 3, 'cheval': 'Rock And Roll', 'recordG': 0.0, 'hippo': 'Auteuil', 'coursescheval': 51}
2025-11-13 15:13:49,221 - race_prediction.competitive_field_analyzer - INFO - === END COMPETITIVE ANALYSIS DEBUG ===

2025-11-13 15:13:49,221 - race_prediction.competitive_field_analyzer - INFO - === RETRIEVING HISTORICAL DATA ===
2025-11-13 15:13:49,221 - race_prediction.competitive_field_analyzer - INFO - Fetching historical data for 14 horses: [1524729, 1536715, 1415630, 1651880, 1397720, 1533867, 1658661, 1499270, 1545764, 1522929, 1374469, 1382438, 1405203, 1267270]
2025-11-13 15:13:49,223 - race_prediction.competitive_field_analyzer - INFO - Batch querying historical data for 14 horses: [1524729, 1536715, 1415630, 1651880, 1397720, 1533867, 1658661, 1499270, 1545764, 1522929, 1374469, 1382438, 1405203, 1267270]
2025-11-13 15:14:00,856 - race_prediction.competitive_field_analyzer - INFO - Batch query completed in 11.63s, found 128 total records
2025-11-13 15:14:00,863 - race_prediction.competitive_field_analyzer - INFO - Batch query retrieved 128 total historical races
2025-11-13 15:14:00,863 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS PER HORSE ===
2025-11-13 15:14:00,863 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1524729: 9 historical races found
2025-11-13 15:14:00,863 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1536715: 12 historical races found
2025-11-13 15:14:00,863 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1415630: 6 historical races found
2025-11-13 15:14:00,863 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1651880: 7 historical races found
2025-11-13 15:14:00,863 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1397720: 10 historical races found
2025-11-13 15:14:00,863 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1533867: 10 historical races found
2025-11-13 15:14:00,863 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1658661: 6 historical races found
2025-11-13 15:14:00,863 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1499270: 12 historical races found
2025-11-13 15:14:00,863 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1545764: 11 historical races found
2025-11-13 15:14:00,863 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1522929: 8 historical races found
2025-11-13 15:14:00,863 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1374469: 11 historical races found
2025-11-13 15:14:00,863 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1382438: 5 historical races found
2025-11-13 15:14:00,863 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1405203: 12 historical races found
2025-11-13 15:14:00,864 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1267270: 9 historical races found
2025-11-13 15:14:00,864 - race_prediction.competitive_field_analyzer - INFO - Retrieved 128 total historical races
2025-11-13 15:14:00,864 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS BY HORSE ===
2025-11-13 15:14:00,864 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1524729: 9 historical races
2025-11-13 15:14:00,864 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1536715: 12 historical races
2025-11-13 15:14:00,864 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1415630: 6 historical races
2025-11-13 15:14:00,864 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1651880: 7 historical races
2025-11-13 15:14:00,864 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1397720: 10 historical races
2025-11-13 15:14:00,864 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1533867: 10 historical races
2025-11-13 15:14:00,864 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1658661: 6 historical races
2025-11-13 15:14:00,864 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1499270: 12 historical races
2025-11-13 15:14:00,864 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1545764: 11 historical races
2025-11-13 15:14:00,864 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1522929: 8 historical races
2025-11-13 15:14:00,864 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1374469: 11 historical races
2025-11-13 15:14:00,864 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1382438: 5 historical races
2025-11-13 15:14:00,864 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1405203: 12 historical races
2025-11-13 15:14:00,864 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1267270: 9 historical races
2025-11-13 15:14:00,864 - race_prediction.competitive_field_analyzer - INFO - === END HISTORICAL DATA RETRIEVAL ===

2025-11-13 15:14:00,864 - race_prediction.competitive_field_analyzer - INFO - === EARNINGS QUALITY ANALYSIS ===
2025-11-13 15:14:00,864 - race_prediction.competitive_field_analyzer - INFO - Valid earnings data: 14/14 horses
2025-11-13 15:14:00,864 - race_prediction.competitive_field_analyzer - INFO - Sample earnings per race: ['735,938', '967,140', '585,588']
2025-11-13 15:14:00,864 - race_prediction.competitive_field_analyzer - INFO - Field earnings stats: avg=543,637, max=967,140
2025-11-13 15:14:00,864 - race_prediction.competitive_field_analyzer - INFO - === TRACK SPECIALIZATION ANALYSIS ===
2025-11-13 15:14:00,864 - race_prediction.competitive_field_analyzer - INFO - Horses with reliable venue data (3+ races): 0/14
2025-11-13 15:14:00,865 - race_prediction.competitive_field_analyzer - INFO - === FORM MOMENTUM ANALYSIS ===
2025-11-13 15:14:00,865 - race_prediction.competitive_field_analyzer - INFO - Field avg horse trend: 2.824, recent perf: 8.02
2025-11-13 15:14:00,865 - race_prediction.competitive_field_analyzer - INFO - Field avg jockey trend: 0.386
2025-11-13 15:14:00,866 - race_prediction.competitive_field_analyzer - INFO - Horses with improving form: 5/14
2025-11-13 15:14:00,866 - race_prediction.competitive_field_analyzer - INFO - === HOT CONNECTIONS ANALYSIS ===
2025-11-13 15:14:00,866 - race_prediction.competitive_field_analyzer - INFO - Jockeys with wins today: 0/14
2025-11-13 15:14:00,866 - race_prediction.competitive_field_analyzer - INFO - Trainers with wins today: 0/14
2025-11-13 15:14:00,866 - race_prediction.competitive_field_analyzer - INFO - === DISTANCE COMFORT ANALYSIS ===
2025-11-13 15:14:00,866 - race_prediction.competitive_field_analyzer - INFO - Current race distance: 3900m
2025-11-13 15:14:00,866 - race_prediction.competitive_field_analyzer - INFO - Horses with similar recent distance: 10/14
2025-11-13 15:14:00,866 - race_prediction.competitive_field_analyzer - INFO - === REALISTIC COMPETITIVE SCORING ===
2025-11-13 15:14:00,867 - race_prediction.competitive_field_analyzer - INFO - üìä COMPETITIVE ANALYSIS SUMMARY:
2025-11-13 15:14:00,867 - race_prediction.competitive_field_analyzer - INFO -    Total competitive races: 128
2025-11-13 15:14:00,867 - race_prediction.competitive_field_analyzer - INFO -    Horses with historical data: 14/14
2025-11-13 15:14:00,867 - race_prediction.competitive_field_analyzer - INFO -    Average races per horse: 9.1
2025-11-13 15:14:00,880 - race_prediction.quinte_prediction_storage - INFO - Stored 14 horses for Quint√© race 1607224
2025-11-13 15:14:03,170 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE ANALYSIS DEBUG ===
2025-11-13 15:14:03,170 - race_prediction.competitive_field_analyzer - INFO - Analyzing competitive field for race with 14 horses
2025-11-13 15:14:03,170 - race_prediction.competitive_field_analyzer - INFO - Race data shape: (14, 280)
2025-11-13 15:14:03,170 - race_prediction.competitive_field_analyzer - INFO - Available columns: ['id', 'comp', 'jour', 'hippo', 'reun', 'prix', 'prixnom', 'typec', 'partant', 'dist', 'handi', 'groupe', 'quinte', 'natpis', 'meteo', 'corde', 'temperature', 'forceVent', 'directionVent', 'nebulosite', 'prediction_results', 'actual_results', 'created_at', 'updated_at', 'processed_data', 'cheque', 'handi_raw', 'reclam', 'sex', 'tempscourse', 'handicap_level_score', 'cl', 'numero', 'cheval', 'age', 'cotedirect', 'coteprob', 'recence', 'ecar', 'defoeil', 'defoeilPrec', 'musiqueche', 'musiquejoc', 'entraineur', 'coursescheval', 'victoirescheval', 'placescheval', 'dernierealloc', 'derniernbpartants', 'dernieredist', 'derniereplace', 'dernierecote', 'dernierEnt', 'proprietaire', 'poidmont', 'pourcVictJockHippo', 'pourcPlaceJockHippo', 'pourcVictChevalHippo', 'pourcPlaceChevalHippo', 'tempstot', 'vha', 'recordG', 'txreclam', 'dernierTxreclam', 'gainsCarriere', 'gainsAnneeEnCours', 'handicapDistance', 'handicapPoids', 'TxVictCouple', 'nbVictCouple', 'nbPlaceCouple', 'idche', 'idJockey', 'idEntraineur', 'defFirstTime', 'oeilFirstTime', 'oeil', 'dernierOeil', 'ratio_victoires', 'ratio_places', 'gains_par_course', 'efficacite_couple', 'regularite_couple', 'progression_couple', 'perf_cheval_hippo', 'perf_jockey_hippo', 'trainer_victoires', 'trainer_places', 'trainer_courses', 'trainer_winrate', 'trainer_placerate', 'trainer_quality_score', 'trainer_experience_level', 'handicap_poids', 'handicap_dist', 'prec_handicap_poids', 'prec_handicap_dist', 'handicap_poids_change', 'handicap_poids_increased', 'handicap_poids_decreased', 'handicap_dist_change', 'handicap_dist_increased', 'handicap_dist_decreased', 'total_handicap', 'handicap_momentum', 'last_race_position', 'last_race_distance', 'distance_change', 'distance_change_pct', 'distance_increased', 'distance_decreased', 'same_distance', 'corde_change', 'corde_improved', 'corde_worsened', 'last_race_top3', 'last_race_won', 'blinkers_first_time', 'has_blinkers', 'has_standard_blinkers', 'has_australian_blinkers', 'blinkers_added', 'blinkers_removed', 'blinkers_type_changed', 'blinkers_any_change', 'blinkers_high_impact_change', 'shoeing_first_time', 'fully_shod', 'front_shod_only', 'back_shod_only', 'barefoot', 'shoeing_changed', 'barefoot_to_shod', 'shod_to_barefoot', 'major_shoeing_change', 'shoeing_complexity', 'multiple_equipment_changes', 'equipment_momentum_score', 'high_equipment_momentum', 'multiple_first_time_changes', 'equipment_optimization_score', 'career_strike_rate', 'earnings_per_race', 'earnings_trend', 'last_race_position_normalized', 'last_race_odds_normalized', 'last_race_field_size_factor', 'distance_consistency', 'vha_normalized', 'claiming_tax_trend', 'class_stability', 'che_global_avg_pos', 'che_global_recent_perf', 'che_global_consistency', 'che_global_trend', 'che_global_pct_top3', 'che_global_nb_courses', 'che_global_total_races', 'che_global_dnf_rate', 'che_weighted_avg_pos', 'che_weighted_recent_perf', 'che_weighted_consistency', 'che_weighted_pct_top3', 'che_weighted_nb_courses', 'che_weighted_total_races', 'che_weighted_dnf_rate', 'che_weighted_trend', 'che_bytype_avg_pos', 'che_bytype_recent_perf', 'che_bytype_consistency', 'che_bytype_trend', 'che_bytype_pct_top3', 'che_bytype_nb_courses', 'che_bytype_total_races', 'che_bytype_dnf_rate', 'joc_global_avg_pos', 'joc_global_recent_perf', 'joc_global_consistency', 'joc_global_trend', 'joc_global_pct_top3', 'joc_global_nb_courses', 'joc_global_total_races', 'joc_global_dnf_rate', 'joc_weighted_avg_pos', 'joc_weighted_recent_perf', 'joc_weighted_consistency', 'joc_weighted_pct_top3', 'joc_weighted_nb_courses', 'joc_weighted_total_races', 'joc_weighted_dnf_rate', 'joc_weighted_trend', 'joc_bytype_avg_pos', 'joc_bytype_recent_perf', 'joc_bytype_consistency', 'joc_bytype_trend', 'joc_bytype_pct_top3', 'joc_bytype_nb_courses', 'joc_bytype_total_races', 'joc_bytype_dnf_rate', 'che_form_momentum', 'che_improving_form', 'che_declining_form', 'che_high_consistency', 'che_recent_quality', 'che_elite_performer', 'che_regular_placer', 'joc_form_momentum', 'joc_improving_form', 'joc_high_consistency', 'joc_elite_performer', 'synergy_both_improving', 'synergy_both_consistent', 'synergy_both_elite', 'overall_momentum_score', 'high_momentum', 'class_drop_pct', 'purse_per_starter', 'purse_ratio', 'moving_up_in_class', 'class_shock_indicator', 'handicap_level_change', 'time_per_distance', 'time_vs_record', 'pace_rating', 'speed_figure_proxy', 'market_confidence_shift', 'last_race_improvement', 'bounce_risk', 'layoff_distance_interaction', 'trainer_change', 'connection_stability', 'field_size_change', 'distance_comfort', 'competition_level_shift', 'recence_x_class_drop', 'trainer_change_x_recence', 'distance_change_x_recence', 'che_by_type_avg_pos', 'che_by_type_recent_perf', 'che_by_type_consistency', 'che_by_type_trend', 'che_by_type_pct_top3', 'che_by_type_nb_courses', 'che_by_type_total_races', 'che_by_type_dnf_rate', 'joc_by_type_avg_pos', 'joc_by_type_recent_perf', 'joc_by_type_consistency', 'joc_by_type_trend', 'joc_by_type_pct_top3', 'joc_by_type_nb_courses', 'joc_by_type_total_races', 'joc_by_type_dnf_rate', 'quinte_career_starts', 'quinte_win_rate', 'quinte_top5_rate', 'avg_quinte_position', 'days_since_last_quinte', 'quinte_handicap_specialist', 'quinte_conditions_specialist', 'quinte_large_field_ability', 'quinte_track_condition_fit', 'is_handicap_quinte', 'handicap_division', 'purse_level_category', 'field_size_category', 'track_condition_PH', 'track_condition_DUR', 'track_condition_PS', 'track_condition_PSF', 'weather_clear', 'weather_rain', 'weather_cloudy', 'post_position_bias', 'post_position_track_bias', 'raw_tabnet_prediction', 'predicted_position_tabnet', 'raw_rf_prediction', 'predicted_position_rf', 'predicted_position_base']
2025-11-13 15:14:03,171 - race_prediction.competitive_field_analyzer - INFO - === CRITICAL COLUMNS ANALYSIS ===
2025-11-13 15:14:03,171 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ recordG: 14/14 non-null values (100.0%)
2025-11-13 15:14:03,171 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [0.0, 0.0, 0.0]
2025-11-13 15:14:03,171 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ hippo: 14/14 non-null values (100.0%)
2025-11-13 15:14:03,171 - race_prediction.competitive_field_analyzer - INFO -    Sample values: ['Paris-Vincennes', 'Paris-Vincennes', 'Paris-Vincennes']
2025-11-13 15:14:03,171 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ coursescheval: 14/14 non-null values (100.0%)
2025-11-13 15:14:03,171 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [21, 26, 18]
2025-11-13 15:14:03,171 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ victoirescheval: 14/14 non-null values (100.0%)
2025-11-13 15:14:03,171 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [4, 2, 6]
2025-11-13 15:14:03,171 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ placescheval: 14/14 non-null values (100.0%)
2025-11-13 15:14:03,171 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [7, 8, 10]
2025-11-13 15:14:03,171 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ gainsCarriere: 14/14 non-null values (100.0%)
2025-11-13 15:14:03,171 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [7194000, 8413000, 9241500]
2025-11-13 15:14:03,172 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ age: 14/14 non-null values (100.0%)
2025-11-13 15:14:03,172 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [4, 4, 5]
2025-11-13 15:14:03,172 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ derniereplace: 14/14 non-null values (100.0%)
2025-11-13 15:14:03,172 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [15.0, 1.0, 3.0]
2025-11-13 15:14:03,172 - race_prediction.competitive_field_analyzer - INFO - === RACE METADATA ===
2025-11-13 15:14:03,172 - race_prediction.competitive_field_analyzer - INFO - comp: 1615258
2025-11-13 15:14:03,172 - race_prediction.competitive_field_analyzer - INFO - hippo: Paris-Vincennes
2025-11-13 15:14:03,172 - race_prediction.competitive_field_analyzer - INFO - dist: 2700
2025-11-13 15:14:03,172 - race_prediction.competitive_field_analyzer - INFO - typec: Attel√©
2025-11-13 15:14:03,172 - race_prediction.competitive_field_analyzer - INFO - partant: 14
2025-11-13 15:14:03,172 - race_prediction.competitive_field_analyzer - INFO - === SAMPLE RACE DATA ===
2025-11-13 15:14:03,172 - race_prediction.competitive_field_analyzer - INFO - Sample data (columns: ['numero', 'cheval', 'recordG', 'hippo', 'coursescheval']):
2025-11-13 15:14:03,172 - race_prediction.competitive_field_analyzer - INFO -   Horse 0: {'numero': 1, 'cheval': 'Lola du Campus', 'recordG': 0.0, 'hippo': 'Paris-Vincennes', 'coursescheval': 21}
2025-11-13 15:14:03,172 - race_prediction.competitive_field_analyzer - INFO -   Horse 1: {'numero': 2, 'cheval': 'Lotta Love', 'recordG': 0.0, 'hippo': 'Paris-Vincennes', 'coursescheval': 26}
2025-11-13 15:14:03,172 - race_prediction.competitive_field_analyzer - INFO -   Horse 2: {'numero': 3, 'cheval': 'Khamsa', 'recordG': 0.0, 'hippo': 'Paris-Vincennes', 'coursescheval': 18}
2025-11-13 15:14:03,172 - race_prediction.competitive_field_analyzer - INFO - === END COMPETITIVE ANALYSIS DEBUG ===

2025-11-13 15:14:03,172 - race_prediction.competitive_field_analyzer - INFO - === RETRIEVING HISTORICAL DATA ===
2025-11-13 15:14:03,173 - race_prediction.competitive_field_analyzer - INFO - Fetching historical data for 14 horses: [1666502, 1661355, 1560712, 1581928, 1587768, 1682345, 1670342, 1552859, 1575465, 1685646, 1558197, 1646868, 1580046, 1586206]
2025-11-13 15:14:03,174 - race_prediction.competitive_field_analyzer - INFO - Batch querying historical data for 14 horses: [1666502, 1661355, 1560712, 1581928, 1587768, 1682345, 1670342, 1552859, 1575465, 1685646, 1558197, 1646868, 1580046, 1586206]
2025-11-13 15:14:15,028 - race_prediction.competitive_field_analyzer - INFO - Batch query completed in 11.85s, found 158 total records
2025-11-13 15:14:15,035 - race_prediction.competitive_field_analyzer - INFO - Batch query retrieved 158 total historical races
2025-11-13 15:14:15,035 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS PER HORSE ===
2025-11-13 15:14:15,035 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1666502: 13 historical races found
2025-11-13 15:14:15,035 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1661355: 10 historical races found
2025-11-13 15:14:15,035 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1560712: 9 historical races found
2025-11-13 15:14:15,035 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1581928: 17 historical races found
2025-11-13 15:14:15,035 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1587768: 14 historical races found
2025-11-13 15:14:15,035 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1682345: 4 historical races found
2025-11-13 15:14:15,035 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1670342: 9 historical races found
2025-11-13 15:14:15,035 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1552859: 12 historical races found
2025-11-13 15:14:15,035 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1575465: 14 historical races found
2025-11-13 15:14:15,035 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1685646: 8 historical races found
2025-11-13 15:14:15,036 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1558197: 12 historical races found
2025-11-13 15:14:15,036 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1646868: 12 historical races found
2025-11-13 15:14:15,036 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1580046: 12 historical races found
2025-11-13 15:14:15,036 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1586206: 12 historical races found
2025-11-13 15:14:15,036 - race_prediction.competitive_field_analyzer - INFO - Retrieved 158 total historical races
2025-11-13 15:14:15,036 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS BY HORSE ===
2025-11-13 15:14:15,036 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1666502: 13 historical races
2025-11-13 15:14:15,036 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1661355: 10 historical races
2025-11-13 15:14:15,036 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1560712: 9 historical races
2025-11-13 15:14:15,036 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1581928: 17 historical races
2025-11-13 15:14:15,036 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1587768: 14 historical races
2025-11-13 15:14:15,036 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1682345: 4 historical races
2025-11-13 15:14:15,036 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1670342: 9 historical races
2025-11-13 15:14:15,036 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1552859: 12 historical races
2025-11-13 15:14:15,036 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1575465: 14 historical races
2025-11-13 15:14:15,036 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1685646: 8 historical races
2025-11-13 15:14:15,036 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1558197: 12 historical races
2025-11-13 15:14:15,036 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1646868: 12 historical races
2025-11-13 15:14:15,036 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1580046: 12 historical races
2025-11-13 15:14:15,036 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1586206: 12 historical races
2025-11-13 15:14:15,036 - race_prediction.competitive_field_analyzer - INFO - === END HISTORICAL DATA RETRIEVAL ===

2025-11-13 15:14:15,036 - race_prediction.competitive_field_analyzer - INFO - === EARNINGS QUALITY ANALYSIS ===
2025-11-13 15:14:15,036 - race_prediction.competitive_field_analyzer - INFO - Valid earnings data: 14/14 horses
2025-11-13 15:14:15,036 - race_prediction.competitive_field_analyzer - INFO - Sample earnings per race: ['342,571', '323,577', '513,417']
2025-11-13 15:14:15,036 - race_prediction.competitive_field_analyzer - INFO - Field earnings stats: avg=461,271, max=784,214
2025-11-13 15:14:15,037 - race_prediction.competitive_field_analyzer - INFO - === TRACK SPECIALIZATION ANALYSIS ===
2025-11-13 15:14:15,037 - race_prediction.competitive_field_analyzer - INFO - Horses with reliable venue data (3+ races): 0/14
2025-11-13 15:14:15,037 - race_prediction.competitive_field_analyzer - INFO - === FORM MOMENTUM ANALYSIS ===
2025-11-13 15:14:15,037 - race_prediction.competitive_field_analyzer - INFO - Field avg horse trend: 0.927, recent perf: 7.60
2025-11-13 15:14:15,037 - race_prediction.competitive_field_analyzer - INFO - Field avg jockey trend: 0.118
2025-11-13 15:14:15,038 - race_prediction.competitive_field_analyzer - INFO - Horses with improving form: 2/14
2025-11-13 15:14:15,038 - race_prediction.competitive_field_analyzer - INFO - === HOT CONNECTIONS ANALYSIS ===
2025-11-13 15:14:15,038 - race_prediction.competitive_field_analyzer - INFO - Jockeys with wins today: 0/14
2025-11-13 15:14:15,038 - race_prediction.competitive_field_analyzer - INFO - Trainers with wins today: 0/14
2025-11-13 15:14:15,038 - race_prediction.competitive_field_analyzer - INFO - === DISTANCE COMFORT ANALYSIS ===
2025-11-13 15:14:15,038 - race_prediction.competitive_field_analyzer - INFO - Current race distance: 2700m
2025-11-13 15:14:15,038 - race_prediction.competitive_field_analyzer - INFO - Horses with similar recent distance: 11/14
2025-11-13 15:14:15,038 - race_prediction.competitive_field_analyzer - INFO - === REALISTIC COMPETITIVE SCORING ===
2025-11-13 15:14:15,039 - race_prediction.competitive_field_analyzer - INFO - üìä COMPETITIVE ANALYSIS SUMMARY:
2025-11-13 15:14:15,039 - race_prediction.competitive_field_analyzer - INFO -    Total competitive races: 158
2025-11-13 15:14:15,039 - race_prediction.competitive_field_analyzer - INFO -    Horses with historical data: 14/14
2025-11-13 15:14:15,039 - race_prediction.competitive_field_analyzer - INFO -    Average races per horse: 11.3
2025-11-13 15:14:15,052 - race_prediction.quinte_prediction_storage - INFO - Stored 14 horses for Quint√© race 1615258
2025-11-13 15:14:17,133 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE ANALYSIS DEBUG ===
2025-11-13 15:14:17,133 - race_prediction.competitive_field_analyzer - INFO - Analyzing competitive field for race with 16 horses
2025-11-13 15:14:17,133 - race_prediction.competitive_field_analyzer - INFO - Race data shape: (16, 280)
2025-11-13 15:14:17,133 - race_prediction.competitive_field_analyzer - INFO - Available columns: ['id', 'comp', 'jour', 'hippo', 'reun', 'prix', 'prixnom', 'typec', 'partant', 'dist', 'handi', 'groupe', 'quinte', 'natpis', 'meteo', 'corde', 'temperature', 'forceVent', 'directionVent', 'nebulosite', 'prediction_results', 'actual_results', 'created_at', 'updated_at', 'processed_data', 'cheque', 'handi_raw', 'reclam', 'sex', 'tempscourse', 'handicap_level_score', 'cl', 'numero', 'cheval', 'age', 'cotedirect', 'coteprob', 'recence', 'ecar', 'defoeil', 'defoeilPrec', 'musiqueche', 'musiquejoc', 'entraineur', 'coursescheval', 'victoirescheval', 'placescheval', 'dernierealloc', 'derniernbpartants', 'dernieredist', 'derniereplace', 'dernierecote', 'dernierEnt', 'proprietaire', 'poidmont', 'pourcVictJockHippo', 'pourcPlaceJockHippo', 'pourcVictChevalHippo', 'pourcPlaceChevalHippo', 'tempstot', 'vha', 'recordG', 'txreclam', 'dernierTxreclam', 'gainsCarriere', 'gainsAnneeEnCours', 'handicapDistance', 'handicapPoids', 'TxVictCouple', 'nbVictCouple', 'nbPlaceCouple', 'idche', 'idJockey', 'idEntraineur', 'defFirstTime', 'oeilFirstTime', 'oeil', 'dernierOeil', 'ratio_victoires', 'ratio_places', 'gains_par_course', 'efficacite_couple', 'regularite_couple', 'progression_couple', 'perf_cheval_hippo', 'perf_jockey_hippo', 'trainer_victoires', 'trainer_places', 'trainer_courses', 'trainer_winrate', 'trainer_placerate', 'trainer_quality_score', 'trainer_experience_level', 'handicap_poids', 'handicap_dist', 'prec_handicap_poids', 'prec_handicap_dist', 'handicap_poids_change', 'handicap_poids_increased', 'handicap_poids_decreased', 'handicap_dist_change', 'handicap_dist_increased', 'handicap_dist_decreased', 'total_handicap', 'handicap_momentum', 'last_race_position', 'last_race_distance', 'distance_change', 'distance_change_pct', 'distance_increased', 'distance_decreased', 'same_distance', 'corde_change', 'corde_improved', 'corde_worsened', 'last_race_top3', 'last_race_won', 'blinkers_first_time', 'has_blinkers', 'has_standard_blinkers', 'has_australian_blinkers', 'blinkers_added', 'blinkers_removed', 'blinkers_type_changed', 'blinkers_any_change', 'blinkers_high_impact_change', 'shoeing_first_time', 'fully_shod', 'front_shod_only', 'back_shod_only', 'barefoot', 'shoeing_changed', 'barefoot_to_shod', 'shod_to_barefoot', 'major_shoeing_change', 'shoeing_complexity', 'multiple_equipment_changes', 'equipment_momentum_score', 'high_equipment_momentum', 'multiple_first_time_changes', 'equipment_optimization_score', 'career_strike_rate', 'earnings_per_race', 'earnings_trend', 'last_race_position_normalized', 'last_race_odds_normalized', 'last_race_field_size_factor', 'distance_consistency', 'vha_normalized', 'claiming_tax_trend', 'class_stability', 'che_global_avg_pos', 'che_global_recent_perf', 'che_global_consistency', 'che_global_trend', 'che_global_pct_top3', 'che_global_nb_courses', 'che_global_total_races', 'che_global_dnf_rate', 'che_weighted_avg_pos', 'che_weighted_recent_perf', 'che_weighted_consistency', 'che_weighted_pct_top3', 'che_weighted_nb_courses', 'che_weighted_total_races', 'che_weighted_dnf_rate', 'che_weighted_trend', 'che_bytype_avg_pos', 'che_bytype_recent_perf', 'che_bytype_consistency', 'che_bytype_trend', 'che_bytype_pct_top3', 'che_bytype_nb_courses', 'che_bytype_total_races', 'che_bytype_dnf_rate', 'joc_global_avg_pos', 'joc_global_recent_perf', 'joc_global_consistency', 'joc_global_trend', 'joc_global_pct_top3', 'joc_global_nb_courses', 'joc_global_total_races', 'joc_global_dnf_rate', 'joc_weighted_avg_pos', 'joc_weighted_recent_perf', 'joc_weighted_consistency', 'joc_weighted_pct_top3', 'joc_weighted_nb_courses', 'joc_weighted_total_races', 'joc_weighted_dnf_rate', 'joc_weighted_trend', 'joc_bytype_avg_pos', 'joc_bytype_recent_perf', 'joc_bytype_consistency', 'joc_bytype_trend', 'joc_bytype_pct_top3', 'joc_bytype_nb_courses', 'joc_bytype_total_races', 'joc_bytype_dnf_rate', 'che_form_momentum', 'che_improving_form', 'che_declining_form', 'che_high_consistency', 'che_recent_quality', 'che_elite_performer', 'che_regular_placer', 'joc_form_momentum', 'joc_improving_form', 'joc_high_consistency', 'joc_elite_performer', 'synergy_both_improving', 'synergy_both_consistent', 'synergy_both_elite', 'overall_momentum_score', 'high_momentum', 'class_drop_pct', 'purse_per_starter', 'purse_ratio', 'moving_up_in_class', 'class_shock_indicator', 'handicap_level_change', 'time_per_distance', 'time_vs_record', 'pace_rating', 'speed_figure_proxy', 'market_confidence_shift', 'last_race_improvement', 'bounce_risk', 'layoff_distance_interaction', 'trainer_change', 'connection_stability', 'field_size_change', 'distance_comfort', 'competition_level_shift', 'recence_x_class_drop', 'trainer_change_x_recence', 'distance_change_x_recence', 'che_by_type_avg_pos', 'che_by_type_recent_perf', 'che_by_type_consistency', 'che_by_type_trend', 'che_by_type_pct_top3', 'che_by_type_nb_courses', 'che_by_type_total_races', 'che_by_type_dnf_rate', 'joc_by_type_avg_pos', 'joc_by_type_recent_perf', 'joc_by_type_consistency', 'joc_by_type_trend', 'joc_by_type_pct_top3', 'joc_by_type_nb_courses', 'joc_by_type_total_races', 'joc_by_type_dnf_rate', 'quinte_career_starts', 'quinte_win_rate', 'quinte_top5_rate', 'avg_quinte_position', 'days_since_last_quinte', 'quinte_handicap_specialist', 'quinte_conditions_specialist', 'quinte_large_field_ability', 'quinte_track_condition_fit', 'is_handicap_quinte', 'handicap_division', 'purse_level_category', 'field_size_category', 'track_condition_PH', 'track_condition_DUR', 'track_condition_PS', 'track_condition_PSF', 'weather_clear', 'weather_rain', 'weather_cloudy', 'post_position_bias', 'post_position_track_bias', 'raw_tabnet_prediction', 'predicted_position_tabnet', 'raw_rf_prediction', 'predicted_position_rf', 'predicted_position_base']
2025-11-13 15:14:17,134 - race_prediction.competitive_field_analyzer - INFO - === CRITICAL COLUMNS ANALYSIS ===
2025-11-13 15:14:17,134 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ recordG: 16/16 non-null values (100.0%)
2025-11-13 15:14:17,134 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [0.0, 0.0, 0.0]
2025-11-13 15:14:17,134 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ hippo: 16/16 non-null values (100.0%)
2025-11-13 15:14:17,134 - race_prediction.competitive_field_analyzer - INFO -    Sample values: ['Saint-Cloud', 'Saint-Cloud', 'Saint-Cloud']
2025-11-13 15:14:17,135 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ coursescheval: 16/16 non-null values (100.0%)
2025-11-13 15:14:17,135 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [7, 20, 41]
2025-11-13 15:14:17,135 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ victoirescheval: 16/16 non-null values (100.0%)
2025-11-13 15:14:17,135 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [3, 3, 6]
2025-11-13 15:14:17,135 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ placescheval: 16/16 non-null values (100.0%)
2025-11-13 15:14:17,135 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [4, 7, 11]
2025-11-13 15:14:17,135 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ gainsCarriere: 16/16 non-null values (100.0%)
2025-11-13 15:14:17,135 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [5220300, 9682900, 12218100]
2025-11-13 15:14:17,135 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ age: 16/16 non-null values (100.0%)
2025-11-13 15:14:17,135 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [4, 5, 5]
2025-11-13 15:14:17,135 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ derniereplace: 16/16 non-null values (100.0%)
2025-11-13 15:14:17,135 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [10.0, 4.0, 11.0]
2025-11-13 15:14:17,135 - race_prediction.competitive_field_analyzer - INFO - === RACE METADATA ===
2025-11-13 15:14:17,135 - race_prediction.competitive_field_analyzer - INFO - comp: 1607203
2025-11-13 15:14:17,135 - race_prediction.competitive_field_analyzer - INFO - hippo: Saint-Cloud
2025-11-13 15:14:17,135 - race_prediction.competitive_field_analyzer - INFO - dist: 1600
2025-11-13 15:14:17,135 - race_prediction.competitive_field_analyzer - INFO - typec: Plat
2025-11-13 15:14:17,135 - race_prediction.competitive_field_analyzer - INFO - partant: 16
2025-11-13 15:14:17,135 - race_prediction.competitive_field_analyzer - INFO - === SAMPLE RACE DATA ===
2025-11-13 15:14:17,135 - race_prediction.competitive_field_analyzer - INFO - Sample data (columns: ['numero', 'cheval', 'recordG', 'hippo', 'coursescheval']):
2025-11-13 15:14:17,136 - race_prediction.competitive_field_analyzer - INFO -   Horse 0: {'numero': 1, 'cheval': 'Narkez', 'recordG': 0.0, 'hippo': 'Saint-Cloud', 'coursescheval': 7}
2025-11-13 15:14:17,136 - race_prediction.competitive_field_analyzer - INFO -   Horse 1: {'numero': 2, 'cheval': 'Olympic Message', 'recordG': 0.0, 'hippo': 'Saint-Cloud', 'coursescheval': 20}
2025-11-13 15:14:17,136 - race_prediction.competitive_field_analyzer - INFO -   Horse 2: {'numero': 3, 'cheval': 'Divine Chrisnat', 'recordG': 0.0, 'hippo': 'Saint-Cloud', 'coursescheval': 41}
2025-11-13 15:14:17,136 - race_prediction.competitive_field_analyzer - INFO - === END COMPETITIVE ANALYSIS DEBUG ===

2025-11-13 15:14:17,136 - race_prediction.competitive_field_analyzer - INFO - === RETRIEVING HISTORICAL DATA ===
2025-11-13 15:14:17,136 - race_prediction.competitive_field_analyzer - INFO - Fetching historical data for 16 horses: [1653776, 1561006, 1545829, 1408356, 1522209, 1676665, 1554365, 1657763, 1641065, 1653870, 1655542, 1572946, 1661646, 1559335, 1654604, 1653743]
2025-11-13 15:14:17,137 - race_prediction.competitive_field_analyzer - INFO - Batch querying historical data for 16 horses: [1653776, 1561006, 1545829, 1408356, 1522209, 1676665, 1554365, 1657763, 1641065, 1653870, 1655542, 1572946, 1661646, 1559335, 1654604, 1653743]
2025-11-13 15:14:27,958 - race_prediction.competitive_field_analyzer - INFO - Batch query completed in 10.82s, found 146 total records
2025-11-13 15:14:27,964 - race_prediction.competitive_field_analyzer - INFO - Batch query retrieved 146 total historical races
2025-11-13 15:14:27,965 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS PER HORSE ===
2025-11-13 15:14:27,965 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1653776: 3 historical races found
2025-11-13 15:14:27,965 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1561006: 5 historical races found
2025-11-13 15:14:27,965 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1545829: 18 historical races found
2025-11-13 15:14:27,965 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1408356: 4 historical races found
2025-11-13 15:14:27,965 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1522209: 8 historical races found
2025-11-13 15:14:27,965 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1676665: 9 historical races found
2025-11-13 15:14:27,965 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1554365: 12 historical races found
2025-11-13 15:14:27,965 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1657763: 7 historical races found
2025-11-13 15:14:27,965 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1641065: 11 historical races found
2025-11-13 15:14:27,965 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1653870: 15 historical races found
2025-11-13 15:14:27,965 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1655542: 12 historical races found
2025-11-13 15:14:27,965 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1572946: 9 historical races found
2025-11-13 15:14:27,965 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1661646: 8 historical races found
2025-11-13 15:14:27,965 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1559335: 14 historical races found
2025-11-13 15:14:27,965 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1654604: 6 historical races found
2025-11-13 15:14:27,965 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1653743: 5 historical races found
2025-11-13 15:14:27,965 - race_prediction.competitive_field_analyzer - INFO - Retrieved 146 total historical races
2025-11-13 15:14:27,965 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS BY HORSE ===
2025-11-13 15:14:27,965 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1653776: 3 historical races
2025-11-13 15:14:27,965 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1561006: 5 historical races
2025-11-13 15:14:27,965 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1545829: 18 historical races
2025-11-13 15:14:27,965 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1408356: 4 historical races
2025-11-13 15:14:27,965 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1522209: 8 historical races
2025-11-13 15:14:27,965 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1676665: 9 historical races
2025-11-13 15:14:27,965 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1554365: 12 historical races
2025-11-13 15:14:27,965 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1657763: 7 historical races
2025-11-13 15:14:27,965 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1641065: 11 historical races
2025-11-13 15:14:27,965 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1653870: 15 historical races
2025-11-13 15:14:27,965 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1655542: 12 historical races
2025-11-13 15:14:27,965 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1572946: 9 historical races
2025-11-13 15:14:27,965 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1661646: 8 historical races
2025-11-13 15:14:27,965 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1559335: 14 historical races
2025-11-13 15:14:27,965 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1654604: 6 historical races
2025-11-13 15:14:27,965 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1653743: 5 historical races
2025-11-13 15:14:27,965 - race_prediction.competitive_field_analyzer - INFO - === END HISTORICAL DATA RETRIEVAL ===

2025-11-13 15:14:27,966 - race_prediction.competitive_field_analyzer - INFO - === EARNINGS QUALITY ANALYSIS ===
2025-11-13 15:14:27,966 - race_prediction.competitive_field_analyzer - INFO - Valid earnings data: 16/16 horses
2025-11-13 15:14:27,966 - race_prediction.competitive_field_analyzer - INFO - Sample earnings per race: ['745,757', '484,145', '298,002']
2025-11-13 15:14:27,966 - race_prediction.competitive_field_analyzer - INFO - Field earnings stats: avg=408,775, max=745,757
2025-11-13 15:14:27,966 - race_prediction.competitive_field_analyzer - INFO - === TRACK SPECIALIZATION ANALYSIS ===
2025-11-13 15:14:27,966 - race_prediction.competitive_field_analyzer - INFO - Horses with reliable venue data (3+ races): 0/16
2025-11-13 15:14:27,967 - race_prediction.competitive_field_analyzer - INFO - === FORM MOMENTUM ANALYSIS ===
2025-11-13 15:14:27,967 - race_prediction.competitive_field_analyzer - INFO - Field avg horse trend: -1.385, recent perf: 8.21
2025-11-13 15:14:27,967 - race_prediction.competitive_field_analyzer - INFO - Field avg jockey trend: -0.283
2025-11-13 15:14:27,967 - race_prediction.competitive_field_analyzer - INFO - Horses with improving form: 4/16
2025-11-13 15:14:27,968 - race_prediction.competitive_field_analyzer - INFO - === HOT CONNECTIONS ANALYSIS ===
2025-11-13 15:14:27,968 - race_prediction.competitive_field_analyzer - INFO - Jockeys with wins today: 0/16
2025-11-13 15:14:27,968 - race_prediction.competitive_field_analyzer - INFO - Trainers with wins today: 0/16
2025-11-13 15:14:27,968 - race_prediction.competitive_field_analyzer - INFO - === DISTANCE COMFORT ANALYSIS ===
2025-11-13 15:14:27,968 - race_prediction.competitive_field_analyzer - INFO - Current race distance: 1600m
2025-11-13 15:14:27,968 - race_prediction.competitive_field_analyzer - INFO - Horses with similar recent distance: 14/16
2025-11-13 15:14:27,968 - race_prediction.competitive_field_analyzer - INFO - === REALISTIC COMPETITIVE SCORING ===
2025-11-13 15:14:27,969 - race_prediction.competitive_field_analyzer - INFO - üìä COMPETITIVE ANALYSIS SUMMARY:
2025-11-13 15:14:27,969 - race_prediction.competitive_field_analyzer - INFO -    Total competitive races: 146
2025-11-13 15:14:27,969 - race_prediction.competitive_field_analyzer - INFO -    Horses with historical data: 16/16
2025-11-13 15:14:27,969 - race_prediction.competitive_field_analyzer - INFO -    Average races per horse: 9.1
2025-11-13 15:14:27,982 - race_prediction.quinte_prediction_storage - INFO - Stored 16 horses for Quint√© race 1607203
2025-11-13 16:24:19,448 - UnifiedDataPipeline - WARNING - ‚ö†Ô∏è  Feature consistency validation failed for daily_sync: ['Feature che_by_type_avg_pos has 92.9% missing values', 'Feature che_by_type_recent_perf has 92.9% missing values', 'Feature che_by_type_consistency has 92.9% missing values', 'Feature che_by_type_trend has 92.9% missing values', 'Feature che_by_type_pct_top3 has 92.9% missing values', 'Feature che_by_type_nb_courses has 92.9% missing values', 'Feature che_by_type_total_races has 92.9% missing values', 'Feature che_by_type_dnf_rate has 92.9% missing values']
2025-11-13 16:24:19,838 - race_prediction.quinte_prediction_storage - INFO - Quint√© prediction storage initialized at data/hippique2.db
2025-11-13 16:24:20,063 - UnifiedDataPipeline - WARNING - ‚ö†Ô∏è  Feature consistency validation failed for daily_sync: ['Feature che_by_type_avg_pos has 93.8% missing values', 'Feature che_by_type_recent_perf has 93.8% missing values', 'Feature che_by_type_consistency has 93.8% missing values', 'Feature che_by_type_trend has 93.8% missing values', 'Feature che_by_type_pct_top3 has 93.8% missing values', 'Feature che_by_type_nb_courses has 93.8% missing values', 'Feature che_by_type_total_races has 93.8% missing values', 'Feature che_by_type_dnf_rate has 93.8% missing values']
2025-11-13 16:24:22,567 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE ANALYSIS DEBUG ===
2025-11-13 16:24:22,567 - race_prediction.competitive_field_analyzer - INFO - Analyzing competitive field for race with 16 horses
2025-11-13 16:24:22,568 - race_prediction.competitive_field_analyzer - INFO - Race data shape: (16, 280)
2025-11-13 16:24:22,568 - race_prediction.competitive_field_analyzer - INFO - Available columns: ['id', 'comp', 'jour', 'hippo', 'reun', 'prix', 'prixnom', 'typec', 'partant', 'dist', 'handi', 'groupe', 'quinte', 'natpis', 'meteo', 'corde', 'temperature', 'forceVent', 'directionVent', 'nebulosite', 'prediction_results', 'actual_results', 'created_at', 'updated_at', 'processed_data', 'cheque', 'handi_raw', 'reclam', 'sex', 'tempscourse', 'handicap_level_score', 'cl', 'numero', 'cheval', 'age', 'cotedirect', 'coteprob', 'recence', 'ecar', 'defoeil', 'defoeilPrec', 'musiqueche', 'musiquejoc', 'entraineur', 'coursescheval', 'victoirescheval', 'placescheval', 'dernierealloc', 'derniernbpartants', 'dernieredist', 'derniereplace', 'dernierecote', 'dernierEnt', 'proprietaire', 'poidmont', 'pourcVictJockHippo', 'pourcPlaceJockHippo', 'pourcVictChevalHippo', 'pourcPlaceChevalHippo', 'tempstot', 'vha', 'recordG', 'txreclam', 'dernierTxreclam', 'gainsCarriere', 'gainsAnneeEnCours', 'handicapDistance', 'handicapPoids', 'TxVictCouple', 'nbVictCouple', 'nbPlaceCouple', 'idche', 'idJockey', 'idEntraineur', 'defFirstTime', 'oeilFirstTime', 'oeil', 'dernierOeil', 'ratio_victoires', 'ratio_places', 'gains_par_course', 'efficacite_couple', 'regularite_couple', 'progression_couple', 'perf_cheval_hippo', 'perf_jockey_hippo', 'trainer_victoires', 'trainer_places', 'trainer_courses', 'trainer_winrate', 'trainer_placerate', 'trainer_quality_score', 'trainer_experience_level', 'handicap_poids', 'handicap_dist', 'prec_handicap_poids', 'prec_handicap_dist', 'handicap_poids_change', 'handicap_poids_increased', 'handicap_poids_decreased', 'handicap_dist_change', 'handicap_dist_increased', 'handicap_dist_decreased', 'total_handicap', 'handicap_momentum', 'last_race_position', 'last_race_distance', 'distance_change', 'distance_change_pct', 'distance_increased', 'distance_decreased', 'same_distance', 'corde_change', 'corde_improved', 'corde_worsened', 'last_race_top3', 'last_race_won', 'blinkers_first_time', 'has_blinkers', 'has_standard_blinkers', 'has_australian_blinkers', 'blinkers_added', 'blinkers_removed', 'blinkers_type_changed', 'blinkers_any_change', 'blinkers_high_impact_change', 'shoeing_first_time', 'fully_shod', 'front_shod_only', 'back_shod_only', 'barefoot', 'shoeing_changed', 'barefoot_to_shod', 'shod_to_barefoot', 'major_shoeing_change', 'shoeing_complexity', 'multiple_equipment_changes', 'equipment_momentum_score', 'high_equipment_momentum', 'multiple_first_time_changes', 'equipment_optimization_score', 'career_strike_rate', 'earnings_per_race', 'earnings_trend', 'last_race_position_normalized', 'last_race_odds_normalized', 'last_race_field_size_factor', 'distance_consistency', 'vha_normalized', 'claiming_tax_trend', 'class_stability', 'che_global_avg_pos', 'che_global_recent_perf', 'che_global_consistency', 'che_global_trend', 'che_global_pct_top3', 'che_global_nb_courses', 'che_global_total_races', 'che_global_dnf_rate', 'che_weighted_avg_pos', 'che_weighted_recent_perf', 'che_weighted_consistency', 'che_weighted_pct_top3', 'che_weighted_nb_courses', 'che_weighted_total_races', 'che_weighted_dnf_rate', 'che_weighted_trend', 'che_bytype_avg_pos', 'che_bytype_recent_perf', 'che_bytype_consistency', 'che_bytype_trend', 'che_bytype_pct_top3', 'che_bytype_nb_courses', 'che_bytype_total_races', 'che_bytype_dnf_rate', 'joc_global_avg_pos', 'joc_global_recent_perf', 'joc_global_consistency', 'joc_global_trend', 'joc_global_pct_top3', 'joc_global_nb_courses', 'joc_global_total_races', 'joc_global_dnf_rate', 'joc_weighted_avg_pos', 'joc_weighted_recent_perf', 'joc_weighted_consistency', 'joc_weighted_pct_top3', 'joc_weighted_nb_courses', 'joc_weighted_total_races', 'joc_weighted_dnf_rate', 'joc_weighted_trend', 'joc_bytype_avg_pos', 'joc_bytype_recent_perf', 'joc_bytype_consistency', 'joc_bytype_trend', 'joc_bytype_pct_top3', 'joc_bytype_nb_courses', 'joc_bytype_total_races', 'joc_bytype_dnf_rate', 'che_form_momentum', 'che_improving_form', 'che_declining_form', 'che_high_consistency', 'che_recent_quality', 'che_elite_performer', 'che_regular_placer', 'joc_form_momentum', 'joc_improving_form', 'joc_high_consistency', 'joc_elite_performer', 'synergy_both_improving', 'synergy_both_consistent', 'synergy_both_elite', 'overall_momentum_score', 'high_momentum', 'class_drop_pct', 'purse_per_starter', 'purse_ratio', 'moving_up_in_class', 'class_shock_indicator', 'handicap_level_change', 'time_per_distance', 'time_vs_record', 'pace_rating', 'speed_figure_proxy', 'market_confidence_shift', 'last_race_improvement', 'bounce_risk', 'layoff_distance_interaction', 'trainer_change', 'connection_stability', 'field_size_change', 'distance_comfort', 'competition_level_shift', 'recence_x_class_drop', 'trainer_change_x_recence', 'distance_change_x_recence', 'che_by_type_avg_pos', 'che_by_type_recent_perf', 'che_by_type_consistency', 'che_by_type_trend', 'che_by_type_pct_top3', 'che_by_type_nb_courses', 'che_by_type_total_races', 'che_by_type_dnf_rate', 'joc_by_type_avg_pos', 'joc_by_type_recent_perf', 'joc_by_type_consistency', 'joc_by_type_trend', 'joc_by_type_pct_top3', 'joc_by_type_nb_courses', 'joc_by_type_total_races', 'joc_by_type_dnf_rate', 'quinte_career_starts', 'quinte_win_rate', 'quinte_top5_rate', 'avg_quinte_position', 'days_since_last_quinte', 'quinte_handicap_specialist', 'quinte_conditions_specialist', 'quinte_large_field_ability', 'quinte_track_condition_fit', 'is_handicap_quinte', 'handicap_division', 'purse_level_category', 'field_size_category', 'track_condition_PH', 'track_condition_DUR', 'track_condition_PS', 'track_condition_PSF', 'weather_clear', 'weather_rain', 'weather_cloudy', 'post_position_bias', 'post_position_track_bias', 'raw_tabnet_prediction', 'predicted_position_tabnet', 'raw_rf_prediction', 'predicted_position_rf', 'predicted_position_base']
2025-11-13 16:24:22,568 - race_prediction.competitive_field_analyzer - INFO - === CRITICAL COLUMNS ANALYSIS ===
2025-11-13 16:24:22,568 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ recordG: 16/16 non-null values (100.0%)
2025-11-13 16:24:22,568 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [0.0, 0.0, 0.0]
2025-11-13 16:24:22,568 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ hippo: 16/16 non-null values (100.0%)
2025-11-13 16:24:22,568 - race_prediction.competitive_field_analyzer - INFO -    Sample values: ['Fontainebleau', 'Fontainebleau', 'Fontainebleau']
2025-11-13 16:24:22,568 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ coursescheval: 16/16 non-null values (100.0%)
2025-11-13 16:24:22,568 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [11, 33, 7]
2025-11-13 16:24:22,568 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ victoirescheval: 16/16 non-null values (100.0%)
2025-11-13 16:24:22,568 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [2, 6, 2]
2025-11-13 16:24:22,569 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ placescheval: 16/16 non-null values (100.0%)
2025-11-13 16:24:22,569 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [5, 14, 3]
2025-11-13 16:24:22,569 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ gainsCarriere: 16/16 non-null values (100.0%)
2025-11-13 16:24:22,569 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [9311200, 17058500, 3076200]
2025-11-13 16:24:22,569 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ age: 16/16 non-null values (100.0%)
2025-11-13 16:24:22,569 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [5, 7, 4]
2025-11-13 16:24:22,569 - race_prediction.competitive_field_analyzer - INFO - ‚úÖ derniereplace: 16/16 non-null values (100.0%)
2025-11-13 16:24:22,569 - race_prediction.competitive_field_analyzer - INFO -    Sample values: [11, 4, 4]
2025-11-13 16:24:22,569 - race_prediction.competitive_field_analyzer - INFO - === RACE METADATA ===
2025-11-13 16:24:22,569 - race_prediction.competitive_field_analyzer - INFO - comp: 1621531
2025-11-13 16:24:22,569 - race_prediction.competitive_field_analyzer - INFO - hippo: Fontainebleau
2025-11-13 16:24:22,569 - race_prediction.competitive_field_analyzer - INFO - dist: 2000
2025-11-13 16:24:22,569 - race_prediction.competitive_field_analyzer - INFO - typec: Plat
2025-11-13 16:24:22,569 - race_prediction.competitive_field_analyzer - INFO - partant: 16
2025-11-13 16:24:22,569 - race_prediction.competitive_field_analyzer - INFO - === SAMPLE RACE DATA ===
2025-11-13 16:24:22,569 - race_prediction.competitive_field_analyzer - INFO - Sample data (columns: ['numero', 'cheval', 'recordG', 'hippo', 'coursescheval']):
2025-11-13 16:24:22,569 - race_prediction.competitive_field_analyzer - INFO -   Horse 0: {'numero': 1, 'cheval': 'Olympic Goal', 'recordG': 0.0, 'hippo': 'Fontainebleau', 'coursescheval': 11}
2025-11-13 16:24:22,569 - race_prediction.competitive_field_analyzer - INFO -   Horse 1: {'numero': 2, 'cheval': 'Prince de Montfort', 'recordG': 0.0, 'hippo': 'Fontainebleau', 'coursescheval': 33}
2025-11-13 16:24:22,569 - race_prediction.competitive_field_analyzer - INFO -   Horse 2: {'numero': 3, 'cheval': 'Just Jim', 'recordG': 0.0, 'hippo': 'Fontainebleau', 'coursescheval': 7}
2025-11-13 16:24:22,570 - race_prediction.competitive_field_analyzer - INFO - === END COMPETITIVE ANALYSIS DEBUG ===

2025-11-13 16:24:22,570 - race_prediction.competitive_field_analyzer - INFO - === RETRIEVING HISTORICAL DATA ===
2025-11-13 16:24:22,570 - race_prediction.competitive_field_analyzer - INFO - Fetching historical data for 16 horses: [1585492, 1478811, 1708037, 1538043, 1653333, 1408369, 1741513, 1410614, 1728007, 1522859, 1654744, 1731331, 1710989, 1570558, 1559940, 1727682]
2025-11-13 16:24:22,571 - race_prediction.competitive_field_analyzer - INFO - Batch querying historical data for 16 horses: [1585492, 1478811, 1708037, 1538043, 1653333, 1408369, 1741513, 1410614, 1728007, 1522859, 1654744, 1731331, 1710989, 1570558, 1559940, 1727682]
2025-11-13 16:24:38,873 - race_prediction.competitive_field_analyzer - INFO - Batch query completed in 16.30s, found 139 total records
2025-11-13 16:24:38,880 - race_prediction.competitive_field_analyzer - INFO - Batch query retrieved 139 total historical races
2025-11-13 16:24:38,880 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS PER HORSE ===
2025-11-13 16:24:38,880 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1585492: 5 historical races found
2025-11-13 16:24:38,880 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1478811: 4 historical races found
2025-11-13 16:24:38,880 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1708037: 6 historical races found
2025-11-13 16:24:38,880 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1538043: 5 historical races found
2025-11-13 16:24:38,880 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1653333: 10 historical races found
2025-11-13 16:24:38,880 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1408369: 9 historical races found
2025-11-13 16:24:38,880 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1741513: 8 historical races found
2025-11-13 16:24:38,880 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1410614: 8 historical races found
2025-11-13 16:24:38,880 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1728007: 13 historical races found
2025-11-13 16:24:38,880 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1522859: 17 historical races found
2025-11-13 16:24:38,880 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1654744: 11 historical races found
2025-11-13 16:24:38,880 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1731331: 5 historical races found
2025-11-13 16:24:38,880 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1710989: 3 historical races found
2025-11-13 16:24:38,880 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1570558: 14 historical races found
2025-11-13 16:24:38,880 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1559940: 15 historical races found
2025-11-13 16:24:38,880 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1727682: 6 historical races found
2025-11-13 16:24:38,880 - race_prediction.competitive_field_analyzer - INFO - Retrieved 139 total historical races
2025-11-13 16:24:38,880 - race_prediction.competitive_field_analyzer - INFO - === COMPETITIVE RACE COUNTS BY HORSE ===
2025-11-13 16:24:38,880 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1585492: 5 historical races
2025-11-13 16:24:38,880 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1478811: 4 historical races
2025-11-13 16:24:38,881 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1708037: 6 historical races
2025-11-13 16:24:38,881 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1538043: 5 historical races
2025-11-13 16:24:38,881 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1653333: 10 historical races
2025-11-13 16:24:38,881 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1408369: 9 historical races
2025-11-13 16:24:38,881 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1741513: 8 historical races
2025-11-13 16:24:38,881 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1410614: 8 historical races
2025-11-13 16:24:38,881 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1728007: 13 historical races
2025-11-13 16:24:38,881 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1522859: 17 historical races
2025-11-13 16:24:38,881 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1654744: 11 historical races
2025-11-13 16:24:38,881 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1731331: 5 historical races
2025-11-13 16:24:38,881 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1710989: 3 historical races
2025-11-13 16:24:38,881 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1570558: 14 historical races
2025-11-13 16:24:38,881 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1559940: 15 historical races
2025-11-13 16:24:38,881 - race_prediction.competitive_field_analyzer - INFO - üèá Horse 1727682: 6 historical races
2025-11-13 16:24:38,881 - race_prediction.competitive_field_analyzer - INFO - === END HISTORICAL DATA RETRIEVAL ===

2025-11-13 16:24:38,881 - race_prediction.competitive_field_analyzer - INFO - === EARNINGS QUALITY ANALYSIS ===
2025-11-13 16:24:38,881 - race_prediction.competitive_field_analyzer - INFO - Valid earnings data: 16/16 horses
2025-11-13 16:24:38,881 - race_prediction.competitive_field_analyzer - INFO - Sample earnings per race: ['846,473', '516,924', '439,457']
2025-11-13 16:24:38,881 - race_prediction.competitive_field_analyzer - INFO - Field earnings stats: avg=396,423, max=846,473
2025-11-13 16:24:38,882 - race_prediction.competitive_field_analyzer - INFO - === TRACK SPECIALIZATION ANALYSIS ===
2025-11-13 16:24:38,882 - race_prediction.competitive_field_analyzer - INFO - Horses with reliable venue data (3+ races): 0/16
2025-11-13 16:24:38,883 - race_prediction.competitive_field_analyzer - INFO - === FORM MOMENTUM ANALYSIS ===
2025-11-13 16:24:38,883 - race_prediction.competitive_field_analyzer - INFO - Field avg horse trend: -2.347, recent perf: 6.29
2025-11-13 16:24:38,883 - race_prediction.competitive_field_analyzer - INFO - Field avg jockey trend: -0.333
2025-11-13 16:24:38,883 - race_prediction.competitive_field_analyzer - INFO - Horses with improving form: 1/16
2025-11-13 16:24:38,883 - race_prediction.competitive_field_analyzer - INFO - === HOT CONNECTIONS ANALYSIS ===
2025-11-13 16:24:38,883 - race_prediction.competitive_field_analyzer - INFO - Jockeys with wins today: 0/16
2025-11-13 16:24:38,883 - race_prediction.competitive_field_analyzer - INFO - Trainers with wins today: 0/16
2025-11-13 16:24:38,884 - race_prediction.competitive_field_analyzer - INFO - === DISTANCE COMFORT ANALYSIS ===
2025-11-13 16:24:38,884 - race_prediction.competitive_field_analyzer - INFO - Current race distance: 2000m
2025-11-13 16:24:38,884 - race_prediction.competitive_field_analyzer - INFO - Horses with similar recent distance: 11/16
2025-11-13 16:24:38,884 - race_prediction.competitive_field_analyzer - INFO - === REALISTIC COMPETITIVE SCORING ===
2025-11-13 16:24:38,884 - race_prediction.competitive_field_analyzer - INFO - üìä COMPETITIVE ANALYSIS SUMMARY:
2025-11-13 16:24:38,884 - race_prediction.competitive_field_analyzer - INFO -    Total competitive races: 139
2025-11-13 16:24:38,884 - race_prediction.competitive_field_analyzer - INFO -    Horses with historical data: 16/16
2025-11-13 16:24:38,884 - race_prediction.competitive_field_analyzer - INFO -    Average races per horse: 8.7
2025-11-13 16:24:38,918 - race_prediction.quinte_prediction_storage - INFO - Stored 16 horses for Quint√© race 1621531
